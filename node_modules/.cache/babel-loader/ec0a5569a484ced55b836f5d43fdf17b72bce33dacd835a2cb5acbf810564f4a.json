{"ast":null,"code":"import { BaseTransform, parseSize } from '@antv/g6';\n/**\n * HTML 元素的默认原点位置在左上角，而 G6 的默认原点位置在中心，所以需要调整 dx 和 dy\n */\nexport class TranslateReactNodeOrigin extends BaseTransform {\n  beforeDraw(input) {\n    const {\n      graph,\n      element\n    } = this.context;\n    const {\n      add: {\n        nodes: nodesToAdd\n      },\n      update: {\n        nodes: nodesToUpdate\n      }\n    } = input;\n    [...nodesToAdd.values(), ...nodesToUpdate.values()].forEach(datum => {\n      // @ts-expect-error private method invoke\n      element.computeElementDefaultStyle('node', {\n        graph,\n        datum\n      });\n      const style = element.getDefaultStyle(datum.id);\n      const [width, height] = parseSize(style.size);\n      if (!datum.style) datum.style = {};\n      datum.style.dx = -width / 2;\n      datum.style.dy = -height / 2;\n    });\n    return input;\n  }\n}","map":{"version":3,"names":["BaseTransform","parseSize","TranslateReactNodeOrigin","beforeDraw","input","graph","element","context","add","nodes","nodesToAdd","update","nodesToUpdate","values","forEach","datum","computeElementDefaultStyle","style","getDefaultStyle","id","width","height","size","dx","dy"],"sources":["/Users/yizelu/Desktop/mcp/frontend/node_modules/@ant-design/graphs/es/core/transform/translate-react-node-origin.js"],"sourcesContent":["import { BaseTransform, parseSize } from '@antv/g6';\n/**\n * HTML 元素的默认原点位置在左上角，而 G6 的默认原点位置在中心，所以需要调整 dx 和 dy\n */\nexport class TranslateReactNodeOrigin extends BaseTransform {\n    beforeDraw(input) {\n        const { graph, element } = this.context;\n        const { add: { nodes: nodesToAdd }, update: { nodes: nodesToUpdate }, } = input;\n        [...nodesToAdd.values(), ...nodesToUpdate.values()].forEach((datum) => {\n            // @ts-expect-error private method invoke\n            element.computeElementDefaultStyle('node', { graph, datum });\n            const style = element.getDefaultStyle(datum.id);\n            const [width, height] = parseSize(style.size);\n            if (!datum.style)\n                datum.style = {};\n            datum.style.dx = -width / 2;\n            datum.style.dy = -height / 2;\n        });\n        return input;\n    }\n}\n"],"mappings":"AAAA,SAASA,aAAa,EAAEC,SAAS,QAAQ,UAAU;AACnD;AACA;AACA;AACA,OAAO,MAAMC,wBAAwB,SAASF,aAAa,CAAC;EACxDG,UAAUA,CAACC,KAAK,EAAE;IACd,MAAM;MAAEC,KAAK;MAAEC;IAAQ,CAAC,GAAG,IAAI,CAACC,OAAO;IACvC,MAAM;MAAEC,GAAG,EAAE;QAAEC,KAAK,EAAEC;MAAW,CAAC;MAAEC,MAAM,EAAE;QAAEF,KAAK,EAAEG;MAAc;IAAG,CAAC,GAAGR,KAAK;IAC/E,CAAC,GAAGM,UAAU,CAACG,MAAM,CAAC,CAAC,EAAE,GAAGD,aAAa,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,OAAO,CAAEC,KAAK,IAAK;MACnE;MACAT,OAAO,CAACU,0BAA0B,CAAC,MAAM,EAAE;QAAEX,KAAK;QAAEU;MAAM,CAAC,CAAC;MAC5D,MAAME,KAAK,GAAGX,OAAO,CAACY,eAAe,CAACH,KAAK,CAACI,EAAE,CAAC;MAC/C,MAAM,CAACC,KAAK,EAAEC,MAAM,CAAC,GAAGpB,SAAS,CAACgB,KAAK,CAACK,IAAI,CAAC;MAC7C,IAAI,CAACP,KAAK,CAACE,KAAK,EACZF,KAAK,CAACE,KAAK,GAAG,CAAC,CAAC;MACpBF,KAAK,CAACE,KAAK,CAACM,EAAE,GAAG,CAACH,KAAK,GAAG,CAAC;MAC3BL,KAAK,CAACE,KAAK,CAACO,EAAE,GAAG,CAACH,MAAM,GAAG,CAAC;IAChC,CAAC,CAAC;IACF,OAAOjB,KAAK;EAChB;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}