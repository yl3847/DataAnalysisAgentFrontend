{"ast":null,"code":"export default function (max) {\n  var num, curr, prev;\n  var limit = max || 1;\n  function keep(key, value) {\n    if (++num > limit) {\n      prev = curr;\n      reset(1);\n      ++num;\n    }\n    curr[key] = value;\n  }\n  function reset(isPartial) {\n    num = 0;\n    curr = Object.create(null);\n    isPartial || (prev = Object.create(null));\n  }\n  reset();\n  return {\n    clear: reset,\n    has: function (key) {\n      return curr[key] !== void 0 || prev[key] !== void 0;\n    },\n    get: function (key) {\n      var val = curr[key];\n      if (val !== void 0) return val;\n      if ((val = prev[key]) !== void 0) {\n        keep(key, val);\n        return val;\n      }\n    },\n    set: function (key, value) {\n      if (curr[key] !== void 0) {\n        curr[key] = value;\n      } else {\n        keep(key, value);\n      }\n    }\n  };\n}","map":{"version":3,"names":["max","num","curr","prev","limit","keep","key","value","reset","isPartial","Object","create","clear","has","get","val","set"],"sources":["/Users/yizelu/Desktop/mcp/frontend/node_modules/flru/dist/flru.mjs"],"sourcesContent":["export default function (max) {\n\tvar num, curr, prev;\n\tvar limit = max || 1;\n\n\tfunction keep(key, value) {\n\t\tif (++num > limit) {\n\t\t\tprev = curr;\n\t\t\treset(1);\n\t\t\t++num;\n\t\t}\n\t\tcurr[key] = value;\n\t}\n\n\tfunction reset(isPartial) {\n\t\tnum = 0;\n\t\tcurr = Object.create(null);\n\t\tisPartial || (prev=Object.create(null));\n\t}\n\n\treset();\n\n\treturn {\n\t\tclear: reset,\n\t\thas: function (key) {\n\t\t\treturn curr[key] !== void 0 || prev[key] !== void 0;\n\t\t},\n\t\tget: function (key) {\n\t\t\tvar val = curr[key];\n\t\t\tif (val !== void 0) return val;\n\t\t\tif ((val=prev[key]) !== void 0) {\n\t\t\t\tkeep(key, val);\n\t\t\t\treturn val;\n\t\t\t}\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif (curr[key] !== void 0) {\n\t\t\t\tcurr[key] = value;\n\t\t\t} else {\n\t\t\t\tkeep(key, value);\n\t\t\t}\n\t\t}\n\t};\n}\n"],"mappings":"AAAA,eAAe,UAAUA,GAAG,EAAE;EAC7B,IAAIC,GAAG,EAAEC,IAAI,EAAEC,IAAI;EACnB,IAAIC,KAAK,GAAGJ,GAAG,IAAI,CAAC;EAEpB,SAASK,IAAIA,CAACC,GAAG,EAAEC,KAAK,EAAE;IACzB,IAAI,EAAEN,GAAG,GAAGG,KAAK,EAAE;MAClBD,IAAI,GAAGD,IAAI;MACXM,KAAK,CAAC,CAAC,CAAC;MACR,EAAEP,GAAG;IACN;IACAC,IAAI,CAACI,GAAG,CAAC,GAAGC,KAAK;EAClB;EAEA,SAASC,KAAKA,CAACC,SAAS,EAAE;IACzBR,GAAG,GAAG,CAAC;IACPC,IAAI,GAAGQ,MAAM,CAACC,MAAM,CAAC,IAAI,CAAC;IAC1BF,SAAS,KAAKN,IAAI,GAACO,MAAM,CAACC,MAAM,CAAC,IAAI,CAAC,CAAC;EACxC;EAEAH,KAAK,CAAC,CAAC;EAEP,OAAO;IACNI,KAAK,EAAEJ,KAAK;IACZK,GAAG,EAAE,SAAAA,CAAUP,GAAG,EAAE;MACnB,OAAOJ,IAAI,CAACI,GAAG,CAAC,KAAK,KAAK,CAAC,IAAIH,IAAI,CAACG,GAAG,CAAC,KAAK,KAAK,CAAC;IACpD,CAAC;IACDQ,GAAG,EAAE,SAAAA,CAAUR,GAAG,EAAE;MACnB,IAAIS,GAAG,GAAGb,IAAI,CAACI,GAAG,CAAC;MACnB,IAAIS,GAAG,KAAK,KAAK,CAAC,EAAE,OAAOA,GAAG;MAC9B,IAAI,CAACA,GAAG,GAACZ,IAAI,CAACG,GAAG,CAAC,MAAM,KAAK,CAAC,EAAE;QAC/BD,IAAI,CAACC,GAAG,EAAES,GAAG,CAAC;QACd,OAAOA,GAAG;MACX;IACD,CAAC;IACDC,GAAG,EAAE,SAAAA,CAAUV,GAAG,EAAEC,KAAK,EAAE;MAC1B,IAAIL,IAAI,CAACI,GAAG,CAAC,KAAK,KAAK,CAAC,EAAE;QACzBJ,IAAI,CAACI,GAAG,CAAC,GAAGC,KAAK;MAClB,CAAC,MAAM;QACNF,IAAI,CAACC,GAAG,EAAEC,KAAK,CAAC;MACjB;IACD;EACD,CAAC;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}