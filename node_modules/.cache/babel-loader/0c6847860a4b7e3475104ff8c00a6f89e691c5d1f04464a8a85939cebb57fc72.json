{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Header=()=>{const[connectionStatus,setConnectionStatus]=React.useState('connected');React.useEffect(()=>{// Check backend connection status\nconst checkConnection=async()=>{try{const lambdaUrl=process.env.REACT_APP_LAMBDA_URL;if(lambdaUrl&&!process.env.REACT_APP_USE_MOCK_DATA==='true'){// Simple health check\nconst response=await fetch(`${lambdaUrl}/health`,{method:'GET',mode:'cors'}).catch(()=>null);setConnectionStatus(response!==null&&response!==void 0&&response.ok?'connected':'disconnected');}else{setConnectionStatus('mock');}}catch(error){setConnectionStatus('disconnected');}};checkConnection();const interval=setInterval(checkConnection,30000);// Check every 30 seconds\nreturn()=>clearInterval(interval);},[]);const getStatusColor=()=>{switch(connectionStatus){case'connected':return'bg-green-500';case'mock':return'bg-yellow-500';case'disconnected':return'bg-red-500';default:return'bg-gray-500';}};const getStatusText=()=>{switch(connectionStatus){case'connected':return'Connected to AWS';case'mock':return'Using Mock Data';case'disconnected':return'Disconnected';default:return'Unknown';}};return/*#__PURE__*/_jsx(\"header\",{className:\"bg-white shadow-md border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between h-16\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-8 w-8 text-blue-600 mr-3\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-gray-900\",children:\"Data Analytics Chatbot\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500 hidden sm:inline\",children:\"Powered by AWS MCP Server\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:`h-2 w-2 rounded-full ${getStatusColor()} animate-pulse`}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:getStatusText()})]}),/*#__PURE__*/_jsx(\"button\",{className:\"p-2 rounded-lg hover:bg-gray-100 transition-colors\",onClick:()=>window.location.reload(),title:\"Refresh\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-gray-600\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"})})})]})]})})});};export default Header;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","Header","connectionStatus","setConnectionStatus","useState","useEffect","checkConnection","lambdaUrl","process","env","REACT_APP_LAMBDA_URL","REACT_APP_USE_MOCK_DATA","response","fetch","method","mode","catch","ok","error","interval","setInterval","clearInterval","getStatusColor","getStatusText","className","children","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick","window","location","reload","title"],"sources":["/Users/yizelu/Desktop/mcp/frontend/src/components/Layout/Header.jsx"],"sourcesContent":["import React from 'react';\n\nconst Header = () => {\n  const [connectionStatus, setConnectionStatus] = React.useState('connected');\n\n  React.useEffect(() => {\n    // Check backend connection status\n    const checkConnection = async () => {\n      try {\n        const lambdaUrl = process.env.REACT_APP_LAMBDA_URL;\n        if (lambdaUrl && !process.env.REACT_APP_USE_MOCK_DATA === 'true') {\n          // Simple health check\n          const response = await fetch(`${lambdaUrl}/health`, { \n            method: 'GET',\n            mode: 'cors'\n          }).catch(() => null);\n          \n          setConnectionStatus(response?.ok ? 'connected' : 'disconnected');\n        } else {\n          setConnectionStatus('mock');\n        }\n      } catch (error) {\n        setConnectionStatus('disconnected');\n      }\n    };\n\n    checkConnection();\n    const interval = setInterval(checkConnection, 30000); // Check every 30 seconds\n\n    return () => clearInterval(interval);\n  }, []);\n\n  const getStatusColor = () => {\n    switch (connectionStatus) {\n      case 'connected':\n        return 'bg-green-500';\n      case 'mock':\n        return 'bg-yellow-500';\n      case 'disconnected':\n        return 'bg-red-500';\n      default:\n        return 'bg-gray-500';\n    }\n  };\n\n  const getStatusText = () => {\n    switch (connectionStatus) {\n      case 'connected':\n        return 'Connected to AWS';\n      case 'mock':\n        return 'Using Mock Data';\n      case 'disconnected':\n        return 'Disconnected';\n      default:\n        return 'Unknown';\n    }\n  };\n\n  return (\n    <header className=\"bg-white shadow-md border-b border-gray-200\">\n      <div className=\"container mx-auto px-4\">\n        <div className=\"flex items-center justify-between h-16\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"flex items-center\">\n              <svg\n                className=\"h-8 w-8 text-blue-600 mr-3\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\n                />\n              </svg>\n              <h1 className=\"text-xl font-bold text-gray-900\">\n                Data Analytics Chatbot\n              </h1>\n            </div>\n            <span className=\"text-sm text-gray-500 hidden sm:inline\">\n              Powered by AWS MCP Server\n            </span>\n          </div>\n          \n          <div className=\"flex items-center space-x-4\">\n            <div className=\"flex items-center space-x-2\">\n              <div className={`h-2 w-2 rounded-full ${getStatusColor()} animate-pulse`}></div>\n              <span className=\"text-sm text-gray-600\">{getStatusText()}</span>\n            </div>\n            \n            <button\n              className=\"p-2 rounded-lg hover:bg-gray-100 transition-colors\"\n              onClick={() => window.location.reload()}\n              title=\"Refresh\"\n            >\n              <svg\n                className=\"h-5 w-5 text-gray-600\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n                />\n              </svg>\n            </button>\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport default Header;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}