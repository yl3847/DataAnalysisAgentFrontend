{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ChatMessage=_ref=>{let{message,onClick}=_ref;const[copied,setCopied]=useState(false);const isUser=message.type==='user';const isError=message.type==='error';const copyToClipboard=()=>{navigator.clipboard.writeText(message.content);setCopied(true);setTimeout(()=>setCopied(false),2000);};const formatTime=timestamp=>{const date=new Date(timestamp);return date.toLocaleTimeString('en-US',{hour:'2-digit',minute:'2-digit'});};return/*#__PURE__*/_jsxs(\"div\",{className:`chat-message-wrapper ${isUser?'flex-row-reverse':''} flex items-start space-x-2 ${isUser&&onClick?'cursor-pointer hover:opacity-80':''}`,onClick:onClick,children:[/*#__PURE__*/_jsx(\"div\",{className:`flex-shrink-0 ${isUser?'ml-2':'mr-2'}`,children:/*#__PURE__*/_jsx(\"div\",{className:`w-8 h-8 rounded-full flex items-center justify-center ${isUser?'bg-blue-600':isError?'bg-red-500':'bg-gray-600'}`,children:isUser?/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-white\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\",clipRule:\"evenodd\"})}):isError?/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-white\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\",clipRule:\"evenodd\"})}):/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-white\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:`flex-1 ${isUser?'flex justify-end':''}`,children:/*#__PURE__*/_jsxs(\"div\",{className:`max-w-xs ${isUser?'ml-auto':''}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:`rounded-lg px-3 py-2 ${isUser?'bg-blue-600 text-white':isError?'bg-red-50 text-red-800 border border-red-200':'bg-gray-100 text-gray-800'}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:`text-xs font-medium ${isUser?'text-blue-100':'text-gray-500'}`,children:isUser?'You':isError?'Error':'Assistant'}),/*#__PURE__*/_jsx(\"span\",{className:`text-xs ${isUser?'text-blue-100':'text-gray-400'}`,children:formatTime(message.timestamp)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm\",children:message.content}),isUser&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs mt-1 opacity-70\",children:\"Click to view analysis \\u2197\"})]}),!isUser&&!isError&&/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2 mt-1\",children:/*#__PURE__*/_jsx(\"button\",{onClick:copyToClipboard,className:\"text-xs text-gray-500 hover:text-gray-700 flex items-center space-x-1\",children:copied?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-3 h-3\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\",clipRule:\"evenodd\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Copied!\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"w-3 h-3\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\"})]}),/*#__PURE__*/_jsx(\"span\",{children:\"Copy\"})]})})})]})})]});};export default ChatMessage;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ChatMessage","_ref","message","onClick","copied","setCopied","isUser","type","isError","copyToClipboard","navigator","clipboard","writeText","content","setTimeout","formatTime","timestamp","date","Date","toLocaleTimeString","hour","minute","className","children","fill","viewBox","fillRule","d","clipRule","stroke","strokeLinecap","strokeLinejoin","strokeWidth"],"sources":["/Users/yizelu/Desktop/mcp/frontend/src/components/ChatBox/ChatMessage.jsx"],"sourcesContent":["import React, { useState } from 'react';\n\nconst ChatMessage = ({ message, onClick }) => {\n  const [copied, setCopied] = useState(false);\n  \n  const isUser = message.type === 'user';\n  const isError = message.type === 'error';\n  \n  const copyToClipboard = () => {\n    navigator.clipboard.writeText(message.content);\n    setCopied(true);\n    setTimeout(() => setCopied(false), 2000);\n  };\n\n  const formatTime = (timestamp) => {\n    const date = new Date(timestamp);\n    return date.toLocaleTimeString('en-US', { \n      hour: '2-digit', \n      minute: '2-digit' \n    });\n  };\n\n  return (\n    <div \n      className={`chat-message-wrapper ${isUser ? 'flex-row-reverse' : ''} flex items-start space-x-2 ${\n        isUser && onClick ? 'cursor-pointer hover:opacity-80' : ''\n      }`}\n      onClick={onClick}\n    >\n      {/* Avatar */}\n      <div className={`flex-shrink-0 ${isUser ? 'ml-2' : 'mr-2'}`}>\n        <div className={`w-8 h-8 rounded-full flex items-center justify-center ${\n          isUser ? 'bg-blue-600' : isError ? 'bg-red-500' : 'bg-gray-600'\n        }`}>\n          {isUser ? (\n            <svg className=\"w-5 h-5 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fillRule=\"evenodd\" d=\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\" clipRule=\"evenodd\" />\n            </svg>\n          ) : isError ? (\n            <svg className=\"w-5 h-5 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n            </svg>\n          ) : (\n            <svg className=\"w-5 h-5 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z\" />\n            </svg>\n          )}\n        </div>\n      </div>\n\n      {/* Message Content */}\n      <div className={`flex-1 ${isUser ? 'flex justify-end' : ''}`}>\n        <div className={`max-w-xs ${isUser ? 'ml-auto' : ''}`}>\n          <div className={`rounded-lg px-3 py-2 ${\n            isUser \n              ? 'bg-blue-600 text-white' \n              : isError \n                ? 'bg-red-50 text-red-800 border border-red-200'\n                : 'bg-gray-100 text-gray-800'\n          }`}>\n            {/* Message Header */}\n            <div className=\"flex items-center justify-between mb-1\">\n              <span className={`text-xs font-medium ${\n                isUser ? 'text-blue-100' : 'text-gray-500'\n              }`}>\n                {isUser ? 'You' : isError ? 'Error' : 'Assistant'}\n              </span>\n              <span className={`text-xs ${\n                isUser ? 'text-blue-100' : 'text-gray-400'\n              }`}>\n                {formatTime(message.timestamp)}\n              </span>\n            </div>\n\n            {/* Message Text */}\n            <div className=\"text-sm\">\n              {message.content}\n            </div>\n\n            {/* Click hint for user messages */}\n            {isUser && (\n              <div className=\"text-xs mt-1 opacity-70\">\n                Click to view analysis â†—\n              </div>\n            )}\n          </div>\n\n          {/* Message Actions */}\n          {!isUser && !isError && (\n            <div className=\"flex items-center space-x-2 mt-1\">\n              <button\n                onClick={copyToClipboard}\n                className=\"text-xs text-gray-500 hover:text-gray-700 flex items-center space-x-1\"\n              >\n                {copied ? (\n                  <>\n                    <svg className=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                      <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                    </svg>\n                    <span>Copied!</span>\n                  </>\n                ) : (\n                  <>\n                    <svg className=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                      <path d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" />\n                      <path d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" />\n                    </svg>\n                    <span>Copy</span>\n                  </>\n                )}\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatMessage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}