{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nimport { Graph } from '@antv/g6';\nimport { useEffect, useRef, useState } from 'react';\n/**\n * Hook for creating and managing a G6 graph instance.\n * @param props The props for the Graphin component.\n * @returns An object containing the graph instance, the container ref, and a boolean indicating whether the graph is ready.\n */\nexport default function useGraph(props) {\n  var onInit = props.onInit,\n    onReady = props.onReady,\n    onDestroy = props.onDestroy,\n    options = props.options;\n  var _a = __read(useState(false), 2),\n    isReady = _a[0],\n    setIsReady = _a[1];\n  var graphRef = useRef(null);\n  var containerRef = useRef(null);\n  useEffect(function () {\n    if (graphRef.current || !containerRef.current) return;\n    var graph = new Graph(__assign({\n      container: containerRef.current\n    }, options));\n    graphRef.current = graph;\n    setIsReady(true);\n    onInit === null || onInit === void 0 ? void 0 : onInit(graphRef.current);\n    return function () {\n      var graph = graphRef.current;\n      if (graph) {\n        graph.destroy();\n        onDestroy === null || onDestroy === void 0 ? void 0 : onDestroy();\n        graphRef.current = null;\n      }\n    };\n  }, []);\n  useEffect(function () {\n    var container = containerRef.current;\n    var graph = graphRef.current;\n    if (!options || !container || !graph || graph.destroyed) return;\n    graph.setOptions(options);\n    graph.render().then(function () {\n      return onReady === null || onReady === void 0 ? void 0 : onReady(graph);\n    });\n  }, [options]);\n  return {\n    graph: graphRef.current,\n    containerRef: containerRef,\n    isReady: isReady\n  };\n}","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__read","o","m","Symbol","iterator","r","ar","e","next","done","push","value","error","Graph","useEffect","useRef","useState","useGraph","props","onInit","onReady","onDestroy","options","_a","isReady","setIsReady","graphRef","containerRef","current","graph","container","destroy","destroyed","setOptions","render","then"],"sources":["/Users/yizelu/Desktop/mcp/frontend/node_modules/@antv/graphin/es/hooks/useGraph.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { Graph } from '@antv/g6';\nimport { useEffect, useRef, useState } from 'react';\n/**\n * Hook for creating and managing a G6 graph instance.\n * @param props The props for the Graphin component.\n * @returns An object containing the graph instance, the container ref, and a boolean indicating whether the graph is ready.\n */\nexport default function useGraph(props) {\n    var onInit = props.onInit, onReady = props.onReady, onDestroy = props.onDestroy, options = props.options;\n    var _a = __read(useState(false), 2), isReady = _a[0], setIsReady = _a[1];\n    var graphRef = useRef(null);\n    var containerRef = useRef(null);\n    useEffect(function () {\n        if (graphRef.current || !containerRef.current)\n            return;\n        var graph = new Graph(__assign({ container: containerRef.current }, options));\n        graphRef.current = graph;\n        setIsReady(true);\n        onInit === null || onInit === void 0 ? void 0 : onInit(graphRef.current);\n        return function () {\n            var graph = graphRef.current;\n            if (graph) {\n                graph.destroy();\n                onDestroy === null || onDestroy === void 0 ? void 0 : onDestroy();\n                graphRef.current = null;\n            }\n        };\n    }, []);\n    useEffect(function () {\n        var container = containerRef.current;\n        var graph = graphRef.current;\n        if (!options || !container || !graph || graph.destroyed)\n            return;\n        graph.setOptions(options);\n        graph.render().then(function () { return onReady === null || onReady === void 0 ? void 0 : onReady(graph); });\n    }, [options]);\n    return {\n        graph: graphRef.current,\n        containerRef: containerRef,\n        isReady: isReady,\n    };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}