{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { isNormalizedArray } from '../util/is-normalized-array';\nimport { paramsParser } from '../parser/params-parser';\nimport { path2Absolute } from '../convert/path-2-absolute';\nimport { normalizeSegment } from './normalize-segment';\n/**\n * @example\n * const path = 'M0 0 H50';\n * const normalizedPath = SVGPathCommander.normalizePath(path);\n * // result => [['M', 0, 0], ['L', 50, 0]]\n */\nexport function normalizePath(pathInput) {\n  if (isNormalizedArray(pathInput)) {\n    return [].concat(pathInput);\n  }\n  var path = path2Absolute(pathInput);\n  var params = __assign({}, paramsParser);\n  for (var i = 0; i < path.length; i += 1) {\n    // Save current path command\n    path[i] = normalizeSegment(path[i], params);\n    var segment = path[i];\n    var seglen = segment.length;\n    params.x1 = +segment[seglen - 2];\n    params.y1 = +segment[seglen - 1];\n    params.x2 = +segment[seglen - 4] || params.x1;\n    params.y2 = +segment[seglen - 3] || params.y1;\n  }\n  return path;\n}","map":{"version":3,"names":["isNormalizedArray","paramsParser","path2Absolute","normalizeSegment","normalizePath","pathInput","concat","path","params","__assign","i","length","segment","seglen","x1","y1","x2","y2"],"sources":["/Users/yizelu/Desktop/mcp/frontend/node_modules/@antv/util/src/path/process/normalize-path.ts"],"sourcesContent":["import { isNormalizedArray } from '../util/is-normalized-array';\nimport { paramsParser } from '../parser/params-parser';\nimport { path2Absolute } from '../convert/path-2-absolute';\nimport type { PathArray, NormalArray } from '../types';\nimport { normalizeSegment } from './normalize-segment';\n\n/**\n * @example\n * const path = 'M0 0 H50';\n * const normalizedPath = SVGPathCommander.normalizePath(path);\n * // result => [['M', 0, 0], ['L', 50, 0]]\n */\nexport function normalizePath(pathInput: string | PathArray): NormalArray {\n  if (isNormalizedArray(pathInput)) {\n    return [].concat(pathInput) as NormalArray;\n  }\n\n  const path = path2Absolute(pathInput);\n  const params = { ...paramsParser };\n\n  for (let i = 0; i < path.length; i += 1) {\n    // Save current path command\n    path[i] = normalizeSegment(path[i], params);\n\n    const segment = path[i];\n    const seglen = segment.length;\n\n    params.x1 = +segment[seglen - 2];\n    params.y1 = +segment[seglen - 1];\n    params.x2 = +segment[seglen - 4] || params.x1;\n    params.y2 = +segment[seglen - 3] || params.y1;\n  }\n\n  return path as NormalArray;\n}\n"],"mappings":";AAAA,SAASA,iBAAiB,QAAQ,6BAA6B;AAC/D,SAASC,YAAY,QAAQ,yBAAyB;AACtD,SAASC,aAAa,QAAQ,4BAA4B;AAE1D,SAASC,gBAAgB,QAAQ,qBAAqB;AAEtD;;;;;;AAMA,OAAM,SAAUC,aAAaA,CAACC,SAA6B;EACzD,IAAIL,iBAAiB,CAACK,SAAS,CAAC,EAAE;IAChC,OAAO,EAAE,CAACC,MAAM,CAACD,SAAS,CAAgB;EAC5C;EAEA,IAAME,IAAI,GAAGL,aAAa,CAACG,SAAS,CAAC;EACrC,IAAMG,MAAM,GAAAC,QAAA,KAAQR,YAAY,CAAE;EAElC,KAAK,IAAIS,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,IAAI,CAACI,MAAM,EAAED,CAAC,IAAI,CAAC,EAAE;IACvC;IACAH,IAAI,CAACG,CAAC,CAAC,GAAGP,gBAAgB,CAACI,IAAI,CAACG,CAAC,CAAC,EAAEF,MAAM,CAAC;IAE3C,IAAMI,OAAO,GAAGL,IAAI,CAACG,CAAC,CAAC;IACvB,IAAMG,MAAM,GAAGD,OAAO,CAACD,MAAM;IAE7BH,MAAM,CAACM,EAAE,GAAG,CAACF,OAAO,CAACC,MAAM,GAAG,CAAC,CAAC;IAChCL,MAAM,CAACO,EAAE,GAAG,CAACH,OAAO,CAACC,MAAM,GAAG,CAAC,CAAC;IAChCL,MAAM,CAACQ,EAAE,GAAG,CAACJ,OAAO,CAACC,MAAM,GAAG,CAAC,CAAC,IAAIL,MAAM,CAACM,EAAE;IAC7CN,MAAM,CAACS,EAAE,GAAG,CAACL,OAAO,CAACC,MAAM,GAAG,CAAC,CAAC,IAAIL,MAAM,CAACO,EAAE;EAC/C;EAEA,OAAOR,IAAmB;AAC5B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}