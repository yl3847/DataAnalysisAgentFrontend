{"ast":null,"code":"import { isNumber } from '@antv/util';\nimport { d3Ticks } from '../tick-methods/d3-ticks';\nimport { Base } from './base';\nexport class Constant extends Base {\n  /**\n   * 返回需要覆盖的默认选项\n   * @returns 需要覆盖的默认选项\n   */\n  getDefaultOptions() {\n    return {\n      range: [0],\n      domain: [0, 1],\n      unknown: undefined,\n      tickCount: 5,\n      tickMethod: d3Ticks\n    };\n  }\n  /**\n   * 输入和输出满足：y = b，其中 b 是一个常量，是 options.range 的第一个元素\n   * @param _ 输入值\n   * @returns 输出值（常量）\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  map(_) {\n    const [v] = this.options.range;\n    return v !== undefined ? v : this.options.unknown;\n  }\n  /**\n   * 如果 x 是该比例尺的常量（\bx === b），返回输入值的范围（即定义域），否者返回 []\n   * @param x 输出值 (常量）\n   * @returns 定义域\n   */\n  invert(x) {\n    const [v] = this.options.range;\n    return x === v && v !== undefined ? this.options.domain : [];\n  }\n  getTicks() {\n    const {\n      tickMethod,\n      domain,\n      tickCount\n    } = this.options;\n    const [a, b] = domain;\n    if (!isNumber(a) || !isNumber(b)) return [];\n    return tickMethod(a, b, tickCount);\n  }\n  /**\n   * 克隆 Constant Scale\n   * @returns 拥有相同选项且独立的 Constant Scale\n   */\n  clone() {\n    return new Constant(this.options);\n  }\n}","map":{"version":3,"names":["isNumber","d3Ticks","Base","Constant","getDefaultOptions","range","domain","unknown","undefined","tickCount","tickMethod","map","_","v","options","invert","x","getTicks","a","b","clone"],"sources":["scales/constant.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,QAAQ,QAAQ,YAAY;AACrC,SAASC,OAAO,QAAQ,0BAA0B;AAElD,SAASC,IAAI,QAAQ,QAAQ;AAE7B,OAAM,MAAOC,QAAS,SAAQD,IAAqB;EACjD;;;;EAIUE,iBAAiBA,CAAA;IACzB,OAAO;MACLC,KAAK,EAAE,CAAC,CAAC,CAAC;MACVC,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;MACdC,OAAO,EAAEC,SAAS;MAClBC,SAAS,EAAE,CAAC;MACZC,UAAU,EAAET;KACb;EACH;EAEA;;;;;EAKA;EACOU,GAAGA,CAACC,CAA0B;IACnC,MAAM,CAACC,CAAC,CAAC,GAAG,IAAI,CAACC,OAAO,CAACT,KAAK;IAC9B,OAAOQ,CAAC,KAAKL,SAAS,GAAGK,CAAC,GAAG,IAAI,CAACC,OAAO,CAACP,OAAO;EACnD;EAEA;;;;;EAKOQ,MAAMA,CAACC,CAAyB;IACrC,MAAM,CAACH,CAAC,CAAC,GAAG,IAAI,CAACC,OAAO,CAACT,KAAK;IAC9B,OAAOW,CAAC,KAAKH,CAAC,IAAIA,CAAC,KAAKL,SAAS,GAAG,IAAI,CAACM,OAAO,CAACR,MAAM,GAAG,EAAE;EAC9D;EAEOW,QAAQA,CAAA;IACb,MAAM;MAAEP,UAAU;MAAEJ,MAAM;MAAEG;IAAS,CAAE,GAAG,IAAI,CAACK,OAAO;IACtD,MAAM,CAACI,CAAC,EAAEC,CAAC,CAAC,GAAGb,MAAM;IACrB,IAAI,CAACN,QAAQ,CAACkB,CAAC,CAAC,IAAI,CAAClB,QAAQ,CAACmB,CAAC,CAAC,EAAE,OAAO,EAAE;IAC3C,OAAOT,UAAU,CAACQ,CAAC,EAAEC,CAAC,EAAEV,SAAS,CAAC;EACpC;EAEA;;;;EAIOW,KAAKA,CAAA;IACV,OAAO,IAAIjB,QAAQ,CAAC,IAAI,CAACW,OAAO,CAAC;EACnC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}