{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport { mark } from '../../adaptor';\nimport { flow, transformOptions, get, isArray, set, omit } from '../../utils';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n  /**\n   * @title 背景图\n   * @description 通过新增 interval 实现\n   */\n  var background = function (params) {\n    var options = params.options;\n    /**\n     * @description 解决更新问题\n     */\n    if (get(options, 'children.length') > 1) {\n      set(options, 'children', [{\n        type: 'interval'\n      }]);\n    }\n    var scale = options.scale,\n      markBackground = options.markBackground,\n      data = options.data,\n      children = options.children,\n      yField = options.yField;\n    var domain = get(scale, 'y.domain', []);\n    if (markBackground && domain.length && isArray(data)) {\n      var domainMax_1 = 'domainMax';\n      var backgroundData = data.map(function (item) {\n        var _a;\n        return __assign(__assign({\n          originData: __assign({}, item)\n        }, omit(item, yField)), (_a = {}, _a[domainMax_1] = domain[domain.length - 1], _a));\n      });\n      children.unshift(__assign({\n        type: 'interval',\n        data: backgroundData,\n        yField: domainMax_1,\n        tooltip: false,\n        style: {\n          fill: '#eee'\n        },\n        label: false\n      }, markBackground));\n    }\n    return params;\n  };\n  return flow(background, mark, transformOptions)(params);\n}","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","mark","flow","transformOptions","get","isArray","set","omit","adaptor","params","background","options","type","scale","markBackground","data","children","yField","domain","domainMax_1","backgroundData","map","item","_a","originData","unshift","tooltip","style","fill","label"],"sources":["/Users/yizelu/Desktop/mcp/frontend/node_modules/@ant-design/plots/es/core/plots/bar/adaptor.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { mark } from '../../adaptor';\nimport { flow, transformOptions, get, isArray, set, omit } from '../../utils';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    /**\n     * @title 背景图\n     * @description 通过新增 interval 实现\n     */\n    var background = function (params) {\n        var options = params.options;\n        /**\n         * @description 解决更新问题\n         */\n        if (get(options, 'children.length') > 1) {\n            set(options, 'children', [{ type: 'interval' }]);\n        }\n        var scale = options.scale, markBackground = options.markBackground, data = options.data, children = options.children, yField = options.yField;\n        var domain = get(scale, 'y.domain', []);\n        if (markBackground && domain.length && isArray(data)) {\n            var domainMax_1 = 'domainMax';\n            var backgroundData = data.map(function (item) {\n                var _a;\n                return __assign(__assign({ originData: __assign({}, item) }, omit(item, yField)), (_a = {}, _a[domainMax_1] = domain[domain.length - 1], _a));\n            });\n            children.unshift(__assign({ type: 'interval', data: backgroundData, yField: domainMax_1, tooltip: false, style: {\n                    fill: '#eee',\n                }, label: false }, markBackground));\n        }\n        return params;\n    };\n    return flow(background, mark, transformOptions)(params);\n}\n"],"mappings":"AAAA,IAAIA,QAAQ,GAAI,IAAI,IAAI,IAAI,CAACA,QAAQ,IAAK,YAAY;EAClDA,QAAQ,GAAGC,MAAM,CAACC,MAAM,IAAI,UAASC,CAAC,EAAE;IACpC,KAAK,IAAIC,CAAC,EAAEC,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAGC,SAAS,CAACC,MAAM,EAAEH,CAAC,GAAGC,CAAC,EAAED,CAAC,EAAE,EAAE;MACjDD,CAAC,GAAGG,SAAS,CAACF,CAAC,CAAC;MAChB,KAAK,IAAII,CAAC,IAAIL,CAAC,EAAE,IAAIH,MAAM,CAACS,SAAS,CAACC,cAAc,CAACC,IAAI,CAACR,CAAC,EAAEK,CAAC,CAAC,EAC3DN,CAAC,CAACM,CAAC,CAAC,GAAGL,CAAC,CAACK,CAAC,CAAC;IACnB;IACA,OAAON,CAAC;EACZ,CAAC;EACD,OAAOH,QAAQ,CAACa,KAAK,CAAC,IAAI,EAAEN,SAAS,CAAC;AAC1C,CAAC;AACD,SAASO,IAAI,QAAQ,eAAe;AACpC,SAASC,IAAI,EAAEC,gBAAgB,EAAEC,GAAG,EAAEC,OAAO,EAAEC,GAAG,EAAEC,IAAI,QAAQ,aAAa;AAC7E;AACA;AACA;AACA;AACA,OAAO,SAASC,OAAOA,CAACC,MAAM,EAAE;EAC5B;AACJ;AACA;AACA;EACI,IAAIC,UAAU,GAAG,SAAAA,CAAUD,MAAM,EAAE;IAC/B,IAAIE,OAAO,GAAGF,MAAM,CAACE,OAAO;IAC5B;AACR;AACA;IACQ,IAAIP,GAAG,CAACO,OAAO,EAAE,iBAAiB,CAAC,GAAG,CAAC,EAAE;MACrCL,GAAG,CAACK,OAAO,EAAE,UAAU,EAAE,CAAC;QAAEC,IAAI,EAAE;MAAW,CAAC,CAAC,CAAC;IACpD;IACA,IAAIC,KAAK,GAAGF,OAAO,CAACE,KAAK;MAAEC,cAAc,GAAGH,OAAO,CAACG,cAAc;MAAEC,IAAI,GAAGJ,OAAO,CAACI,IAAI;MAAEC,QAAQ,GAAGL,OAAO,CAACK,QAAQ;MAAEC,MAAM,GAAGN,OAAO,CAACM,MAAM;IAC7I,IAAIC,MAAM,GAAGd,GAAG,CAACS,KAAK,EAAE,UAAU,EAAE,EAAE,CAAC;IACvC,IAAIC,cAAc,IAAII,MAAM,CAACvB,MAAM,IAAIU,OAAO,CAACU,IAAI,CAAC,EAAE;MAClD,IAAII,WAAW,GAAG,WAAW;MAC7B,IAAIC,cAAc,GAAGL,IAAI,CAACM,GAAG,CAAC,UAAUC,IAAI,EAAE;QAC1C,IAAIC,EAAE;QACN,OAAOpC,QAAQ,CAACA,QAAQ,CAAC;UAAEqC,UAAU,EAAErC,QAAQ,CAAC,CAAC,CAAC,EAAEmC,IAAI;QAAE,CAAC,EAAEf,IAAI,CAACe,IAAI,EAAEL,MAAM,CAAC,CAAC,GAAGM,EAAE,GAAG,CAAC,CAAC,EAAEA,EAAE,CAACJ,WAAW,CAAC,GAAGD,MAAM,CAACA,MAAM,CAACvB,MAAM,GAAG,CAAC,CAAC,EAAE4B,EAAE,CAAC,CAAC;MACjJ,CAAC,CAAC;MACFP,QAAQ,CAACS,OAAO,CAACtC,QAAQ,CAAC;QAAEyB,IAAI,EAAE,UAAU;QAAEG,IAAI,EAAEK,cAAc;QAAEH,MAAM,EAAEE,WAAW;QAAEO,OAAO,EAAE,KAAK;QAAEC,KAAK,EAAE;UACxGC,IAAI,EAAE;QACV,CAAC;QAAEC,KAAK,EAAE;MAAM,CAAC,EAAEf,cAAc,CAAC,CAAC;IAC3C;IACA,OAAOL,MAAM;EACjB,CAAC;EACD,OAAOP,IAAI,CAACQ,UAAU,EAAET,IAAI,EAAEE,gBAAgB,CAAC,CAACM,MAAM,CAAC;AAC3D","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}