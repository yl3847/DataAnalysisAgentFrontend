{"ast":null,"code":"import { __extends, __read } from \"tslib\";\nimport { deepAssign, hide } from '../../util';\nimport { circle } from '../marker/symbol';\nimport { CrosshairBase } from './base';\nimport { CIRCLE_CROSSHAIR_DEFAULT_STYLE } from './constant';\nvar CircleCrosshair = /** @class */function (_super) {\n  __extends(CircleCrosshair, _super);\n  function CircleCrosshair(options) {\n    return _super.call(this, deepAssign({}, CircleCrosshair.defaultOptions, options)) || this;\n  }\n  Object.defineProperty(CircleCrosshair.prototype, \"crosshairPath\", {\n    get: function () {\n      return this.createCirclePath();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  CircleCrosshair.prototype.update = function (cfg) {\n    _super.prototype.update.call(this, cfg);\n  };\n  CircleCrosshair.prototype.setPointer = function (_a) {\n    var _b = __read(_a, 2),\n      x = _b[0],\n      y = _b[1];\n    _super.prototype.setPointer.call(this, [x, y]);\n    var _c = __read(this.localPointer, 2),\n      lx = _c[0],\n      ly = _c[1];\n    var _d = __read(this.attributes.center, 2),\n      cx = _d[0],\n      cy = _d[1];\n    var path = this.createCirclePath(Math.pow(Math.pow(lx - cx, 2) + Math.pow(ly - cy, 2), 0.5));\n    this.crosshairShape.attr({\n      d: path\n    });\n  };\n  CircleCrosshair.prototype.adjustLayout = function () {\n    hide(this.tagShape);\n  };\n  CircleCrosshair.prototype.createCirclePath = function (radius) {\n    var _a = this.attributes,\n      _b = __read(_a.center, 2),\n      x = _b[0],\n      y = _b[1],\n      defaultRadius = _a.defaultRadius;\n    return circle(x, y, radius || defaultRadius);\n  };\n  CircleCrosshair.tag = 'circle-crosshair';\n  CircleCrosshair.defaultOptions = {\n    style: CIRCLE_CROSSHAIR_DEFAULT_STYLE\n  };\n  return CircleCrosshair;\n}(CrosshairBase);\nexport { CircleCrosshair };","map":{"version":3,"names":["deepAssign","hide","circle","CrosshairBase","CIRCLE_CROSSHAIR_DEFAULT_STYLE","CircleCrosshair","_super","__extends","options","call","defaultOptions","Object","defineProperty","prototype","get","createCirclePath","update","cfg","setPointer","_a","_b","__read","x","y","_c","localPointer","lx","ly","_d","attributes","center","cx","cy","path","Math","pow","crosshairShape","attr","d","adjustLayout","tagShape","radius","defaultRadius","tag","style"],"sources":["/Users/yizelu/Desktop/mcp/frontend/node_modules/@antv/component/src/ui/crosshair/circle.ts"],"sourcesContent":["import type { Point } from '../../types';\nimport { deepAssign, hide } from '../../util';\nimport { circle } from '../marker/symbol';\nimport { CrosshairBase } from './base';\nimport { CIRCLE_CROSSHAIR_DEFAULT_STYLE } from './constant';\nimport { CircleCrosshairOptions, CircleCrosshairStyleProps } from './types';\n\nexport type { CircleCrosshairStyleProps, CircleCrosshairOptions };\n\nexport class CircleCrosshair extends CrosshairBase<Required<CircleCrosshairStyleProps>> {\n  public static tag = 'circle-crosshair';\n\n  protected static defaultOptions = {\n    style: CIRCLE_CROSSHAIR_DEFAULT_STYLE,\n  };\n\n  protected get crosshairPath() {\n    return this.createCirclePath();\n  }\n\n  constructor(options: CircleCrosshairOptions) {\n    super(deepAssign({}, CircleCrosshair.defaultOptions, options));\n  }\n\n  public update(cfg: CircleCrosshairStyleProps) {\n    super.update(cfg);\n  }\n\n  public setPointer([x, y]: Point) {\n    super.setPointer([x, y]);\n    const [lx, ly] = this.localPointer;\n    const {\n      center: [cx, cy],\n    } = this.attributes;\n\n    const path = this.createCirclePath(((lx - cx) ** 2 + (ly - cy) ** 2) ** 0.5) as any;\n    this.crosshairShape.attr({ d: path });\n  }\n\n  protected adjustLayout() {\n    hide(this.tagShape);\n  }\n\n  private createCirclePath(radius?: number) {\n    const {\n      center: [x, y],\n      defaultRadius,\n    } = this.attributes;\n    return circle(x, y, radius || defaultRadius) as any[];\n  }\n}\n"],"mappings":";AACA,SAASA,UAAU,EAAEC,IAAI,QAAQ,YAAY;AAC7C,SAASC,MAAM,QAAQ,kBAAkB;AACzC,SAASC,aAAa,QAAQ,QAAQ;AACtC,SAASC,8BAA8B,QAAQ,YAAY;AAK3D,IAAAC,eAAA,0BAAAC,MAAA;EAAqCC,SAAA,CAAAF,eAAA,EAAAC,MAAA;EAWnC,SAAAD,gBAAYG,OAA+B;IACzC,OAAAF,MAAK,CAAAG,IAAA,OAACT,UAAU,CAAC,EAAE,EAAEK,eAAe,CAACK,cAAc,EAAEF,OAAO,CAAC,CAAC;EAChE;EANAG,MAAA,CAAAC,cAAA,CAAcP,eAAA,CAAAQ,SAAA,iBAAa;SAA3B,SAAAC,CAAA;MACE,OAAO,IAAI,CAACC,gBAAgB,EAAE;IAChC,CAAC;;;;EAMMV,eAAA,CAAAQ,SAAA,CAAAG,MAAM,GAAb,UAAcC,GAA8B;IAC1CX,MAAA,CAAAO,SAAK,CAACG,MAAM,CAAAP,IAAA,OAACQ,GAAG,CAAC;EACnB,CAAC;EAEMZ,eAAA,CAAAQ,SAAA,CAAAK,UAAU,GAAjB,UAAkBC,EAAa;QAAbC,EAAA,GAAAC,MAAA,CAAAF,EAAA,IAAa;MAAZG,CAAC,GAAAF,EAAA;MAAEG,CAAC,GAAAH,EAAA;IACrBd,MAAA,CAAAO,SAAK,CAACK,UAAU,CAAAT,IAAA,OAAC,CAACa,CAAC,EAAEC,CAAC,CAAC,CAAC;IAClB,IAAAC,EAAA,GAAAH,MAAA,CAAW,IAAI,CAACI,YAAY;MAA3BC,EAAE,GAAAF,EAAA;MAAEG,EAAE,GAAAH,EAAA,GAAqB;IAEhC,IAAAI,EAAA,GAAAP,MAAA,CACE,IAAI,CAACQ,UAAU,CAAAC,MAAA,IADD;MAAPC,EAAE,GAAAH,EAAA;MAAEI,EAAE,GAAAJ,EAAA,GAAC;IAGlB,IAAMK,IAAI,GAAG,IAAI,CAAClB,gBAAgB,CAACmB,IAAA,CAAAC,GAAA,CAACD,IAAA,CAAAC,GAAA,CAACT,EAAE,GAAGK,EAAE,EAAK,CAAC,IAAGG,IAAA,CAAAC,GAAA,CAACR,EAAE,GAAGK,EAAE,EAAK,CAAC,GAAK,GAAG,EAAQ;IACnF,IAAI,CAACI,cAAc,CAACC,IAAI,CAAC;MAAEC,CAAC,EAAEL;IAAI,CAAE,CAAC;EACvC,CAAC;EAES5B,eAAA,CAAAQ,SAAA,CAAA0B,YAAY,GAAtB;IACEtC,IAAI,CAAC,IAAI,CAACuC,QAAQ,CAAC;EACrB,CAAC;EAEOnC,eAAA,CAAAQ,SAAA,CAAAE,gBAAgB,GAAxB,UAAyB0B,MAAe;IAChC,IAAAtB,EAAA,GAGF,IAAI,CAACU,UAAU;MAFjBT,EAAA,GAAAC,MAAA,CAAAF,EAAA,CAAAW,MAAA,IAAc;MAALR,CAAC,GAAAF,EAAA;MAAEG,CAAC,GAAAH,EAAA;MACbsB,aAAa,GAAAvB,EAAA,CAAAuB,aACI;IACnB,OAAOxC,MAAM,CAACoB,CAAC,EAAEC,CAAC,EAAEkB,MAAM,IAAIC,aAAa,CAAU;EACvD,CAAC;EAvCarC,eAAA,CAAAsC,GAAG,GAAG,kBAAkB;EAErBtC,eAAA,CAAAK,cAAc,GAAG;IAChCkC,KAAK,EAAExC;GACR;EAoCH,OAAAC,eAAC;CAAA,CAzCoCF,aAAa;SAArCE,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}