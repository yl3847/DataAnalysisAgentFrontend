{"ast":null,"code":"import { mat3 } from 'gl-matrix';\nfunction leftTranslate(out, a, v) {\n  var transMat = [0, 0, 0, 0, 0, 0, 0, 0, 0];\n  mat3.fromTranslation(transMat, v);\n  return mat3.multiply(out, transMat, a);\n}\nfunction leftRotate(out, a, rad) {\n  var rotateMat = [0, 0, 0, 0, 0, 0, 0, 0, 0];\n  mat3.fromRotation(rotateMat, rad);\n  return mat3.multiply(out, rotateMat, a);\n}\nfunction leftScale(out, a, v) {\n  var scaleMat = [0, 0, 0, 0, 0, 0, 0, 0, 0];\n  mat3.fromScaling(scaleMat, v);\n  return mat3.multiply(out, scaleMat, a);\n}\nfunction leftMultiply(out, a, a1) {\n  return mat3.multiply(out, a1, a);\n}\n/**\n * 根据 actions 来做 transform\n * @param m\n * @param actions\n */\nexport function transform(m, actions) {\n  var matrix = m ? [].concat(m) : [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  for (var i = 0, len = actions.length; i < len; i++) {\n    var action = actions[i];\n    switch (action[0]) {\n      case 't':\n        leftTranslate(matrix, matrix, [action[1], action[2]]);\n        break;\n      case 's':\n        leftScale(matrix, matrix, [action[1], action[2]]);\n        break;\n      case 'r':\n        leftRotate(matrix, matrix, action[1]);\n        break;\n      case 'm':\n        leftMultiply(matrix, matrix, action[1]);\n        break;\n      default:\n        break;\n    }\n  }\n  return matrix;\n}","map":{"version":3,"names":["mat3","leftTranslate","out","a","v","transMat","fromTranslation","multiply","leftRotate","rad","rotateMat","fromRotation","leftScale","scaleMat","fromScaling","leftMultiply","a1","transform","m","actions","matrix","concat","i","len","length","action"],"sources":["/Users/yizelu/Desktop/mcp/frontend/node_modules/@antv/util/src/matrix/transform.ts"],"sourcesContent":["import { mat3 } from 'gl-matrix';\n\ntype mat3Type = [number, number, number, number, number, number, number, number, number];\n\nfunction leftTranslate(out, a, v) {\n  const transMat: mat3Type = [0, 0, 0, 0, 0, 0, 0, 0, 0];\n  mat3.fromTranslation(transMat, v);\n  return mat3.multiply(out, transMat, a);\n}\n\nfunction leftRotate(out, a, rad) {\n  const rotateMat: mat3Type = [0, 0, 0, 0, 0, 0, 0, 0, 0];\n  mat3.fromRotation(rotateMat, rad);\n  return mat3.multiply(out, rotateMat, a);\n}\n\nfunction leftScale(out, a, v) {\n  const scaleMat: mat3Type = [0, 0, 0, 0, 0, 0, 0, 0, 0];\n  mat3.fromScaling(scaleMat, v);\n  return mat3.multiply(out, scaleMat, a);\n}\n\nfunction leftMultiply(out, a, a1) {\n  return mat3.multiply(out, a1, a);\n}\n/**\n * 根据 actions 来做 transform\n * @param m\n * @param actions\n */\nexport function transform(m: number[], actions: any[][]) {\n  const matrix = m ? [].concat(m) : [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n  for (let i = 0, len = actions.length; i < len; i++) {\n    const action = actions[i];\n    switch (action[0]) {\n      case 't':\n        leftTranslate(matrix, matrix, [action[1], action[2]]);\n        break;\n      case 's':\n        leftScale(matrix, matrix, [action[1], action[2]]);\n        break;\n      case 'r':\n        leftRotate(matrix, matrix, action[1]);\n        break;\n      case 'm':\n        leftMultiply(matrix, matrix, action[1]);\n        break;\n      default:\n        break;\n    }\n  }\n\n  return matrix;\n}\n"],"mappings":"AAAA,SAASA,IAAI,QAAQ,WAAW;AAIhC,SAASC,aAAaA,CAACC,GAAG,EAAEC,CAAC,EAAEC,CAAC;EAC9B,IAAMC,QAAQ,GAAa,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;EACtDL,IAAI,CAACM,eAAe,CAACD,QAAQ,EAAED,CAAC,CAAC;EACjC,OAAOJ,IAAI,CAACO,QAAQ,CAACL,GAAG,EAAEG,QAAQ,EAAEF,CAAC,CAAC;AACxC;AAEA,SAASK,UAAUA,CAACN,GAAG,EAAEC,CAAC,EAAEM,GAAG;EAC7B,IAAMC,SAAS,GAAa,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;EACvDV,IAAI,CAACW,YAAY,CAACD,SAAS,EAAED,GAAG,CAAC;EACjC,OAAOT,IAAI,CAACO,QAAQ,CAACL,GAAG,EAAEQ,SAAS,EAAEP,CAAC,CAAC;AACzC;AAEA,SAASS,SAASA,CAACV,GAAG,EAAEC,CAAC,EAAEC,CAAC;EAC1B,IAAMS,QAAQ,GAAa,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;EACtDb,IAAI,CAACc,WAAW,CAACD,QAAQ,EAAET,CAAC,CAAC;EAC7B,OAAOJ,IAAI,CAACO,QAAQ,CAACL,GAAG,EAAEW,QAAQ,EAAEV,CAAC,CAAC;AACxC;AAEA,SAASY,YAAYA,CAACb,GAAG,EAAEC,CAAC,EAAEa,EAAE;EAC9B,OAAOhB,IAAI,CAACO,QAAQ,CAACL,GAAG,EAAEc,EAAE,EAAEb,CAAC,CAAC;AAClC;AACA;;;;;AAKA,OAAM,SAAUc,SAASA,CAACC,CAAW,EAAEC,OAAgB;EACrD,IAAMC,MAAM,GAAGF,CAAC,GAAG,EAAE,CAACG,MAAM,CAACH,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;EAE7D,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEC,GAAG,GAAGJ,OAAO,CAACK,MAAM,EAAEF,CAAC,GAAGC,GAAG,EAAED,CAAC,EAAE,EAAE;IAClD,IAAMG,MAAM,GAAGN,OAAO,CAACG,CAAC,CAAC;IACzB,QAAQG,MAAM,CAAC,CAAC,CAAC;MACf,KAAK,GAAG;QACNxB,aAAa,CAACmB,MAAM,EAAEA,MAAM,EAAE,CAACK,MAAM,CAAC,CAAC,CAAC,EAAEA,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;QACrD;MACF,KAAK,GAAG;QACNb,SAAS,CAACQ,MAAM,EAAEA,MAAM,EAAE,CAACK,MAAM,CAAC,CAAC,CAAC,EAAEA,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;QACjD;MACF,KAAK,GAAG;QACNjB,UAAU,CAACY,MAAM,EAAEA,MAAM,EAAEK,MAAM,CAAC,CAAC,CAAC,CAAC;QACrC;MACF,KAAK,GAAG;QACNV,YAAY,CAACK,MAAM,EAAEA,MAAM,EAAEK,MAAM,CAAC,CAAC,CAAC,CAAC;QACvC;MACF;QACE;IACJ;EACF;EAEA,OAAOL,MAAM;AACf","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}