{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { applyStyle } from '../utils';\nimport { select } from '../../utils/selection';\nimport { p } from '../../mark/utils';\nexport const Image = (options, context) => {\n  const {\n    coordinate,\n    document\n  } = context;\n  return (points, value, defaults) => {\n    const {\n        color: defaultColor\n      } = defaults,\n      rest = __rest(defaults, [\"color\"]);\n    const {\n      color = defaultColor,\n      src = '',\n      size = 32,\n      transform = ''\n    } = value;\n    let {\n      width = size,\n      height = size\n    } = options;\n    const [[x0, y0]] = points;\n    // Support percentage width, height.\n    const [w, h] = coordinate.getSize();\n    width = typeof width === 'string' ? p(width) * w : width;\n    height = typeof height === 'string' ? p(height) * h : height;\n    const x = x0 - Number(width) / 2;\n    const y = y0 - Number(height) / 2;\n    return select(document.createElement('image', {})).call(applyStyle, rest).style('x', x).style('y', y).style('src', src).style('stroke', color).style('transform', transform).call(applyStyle, options).style('width', width).style('height', height).node();\n  };\n};\nImage.props = {\n  defaultEnterAnimation: 'fadeIn',\n  defaultUpdateAnimation: 'morphing',\n  defaultExitAnimation: 'fadeOut'\n};","map":{"version":3,"names":["applyStyle","select","p","Image","options","context","coordinate","document","points","value","defaults","color","defaultColor","rest","__rest","src","size","transform","width","height","x0","y0","w","h","getSize","x","Number","y","createElement","call","style","node","props","defaultEnterAnimation","defaultUpdateAnimation","defaultExitAnimation"],"sources":["/Users/yizelu/Desktop/mcp/frontend/node_modules/@antv/g2/src/shape/image/image.ts"],"sourcesContent":["import { ShapeComponent as SC } from '../../runtime';\nimport { applyStyle } from '../utils';\nimport { select } from '../../utils/selection';\nimport { p } from '../../mark/utils';\n\nexport type ImageOptions = Record<string, any>;\n\nexport const Image: SC<ImageOptions> = (options, context) => {\n  const { coordinate, document } = context;\n  return (points, value, defaults) => {\n    const { color: defaultColor, ...rest } = defaults;\n    const { color = defaultColor, src = '', size = 32, transform = '' } = value;\n    let { width = size, height = size } = options;\n    const [[x0, y0]] = points;\n\n    // Support percentage width, height.\n    const [w, h] = coordinate.getSize();\n    width = typeof width === 'string' ? p(width) * w : width;\n    height = typeof height === 'string' ? p(height) * h : height;\n\n    const x = x0 - Number(width) / 2;\n    const y = y0 - Number(height) / 2;\n\n    return select(document.createElement('image', {}))\n      .call(applyStyle, rest)\n      .style('x', x)\n      .style('y', y)\n      .style('src', src)\n      .style('stroke', color)\n      .style('transform', transform)\n      .call(applyStyle, options)\n      .style('width', width)\n      .style('height', height)\n      .node();\n  };\n};\n\nImage.props = {\n  defaultEnterAnimation: 'fadeIn',\n  defaultUpdateAnimation: 'morphing',\n  defaultExitAnimation: 'fadeOut',\n};\n"],"mappings":";;;;;;;;AACA,SAASA,UAAU,QAAQ,UAAU;AACrC,SAASC,MAAM,QAAQ,uBAAuB;AAC9C,SAASC,CAAC,QAAQ,kBAAkB;AAIpC,OAAO,MAAMC,KAAK,GAAqBA,CAACC,OAAO,EAAEC,OAAO,KAAI;EAC1D,MAAM;IAAEC,UAAU;IAAEC;EAAQ,CAAE,GAAGF,OAAO;EACxC,OAAO,CAACG,MAAM,EAAEC,KAAK,EAAEC,QAAQ,KAAI;IACjC,MAAM;QAAEC,KAAK,EAAEC;MAAY,IAAcF,QAAQ;MAAjBG,IAAI,GAAAC,MAAA,CAAKJ,QAAQ,EAA3C,SAAgC,CAAW;IACjD,MAAM;MAAEC,KAAK,GAAGC,YAAY;MAAEG,GAAG,GAAG,EAAE;MAAEC,IAAI,GAAG,EAAE;MAAEC,SAAS,GAAG;IAAE,CAAE,GAAGR,KAAK;IAC3E,IAAI;MAAES,KAAK,GAAGF,IAAI;MAAEG,MAAM,GAAGH;IAAI,CAAE,GAAGZ,OAAO;IAC7C,MAAM,CAAC,CAACgB,EAAE,EAAEC,EAAE,CAAC,CAAC,GAAGb,MAAM;IAEzB;IACA,MAAM,CAACc,CAAC,EAAEC,CAAC,CAAC,GAAGjB,UAAU,CAACkB,OAAO,EAAE;IACnCN,KAAK,GAAG,OAAOA,KAAK,KAAK,QAAQ,GAAGhB,CAAC,CAACgB,KAAK,CAAC,GAAGI,CAAC,GAAGJ,KAAK;IACxDC,MAAM,GAAG,OAAOA,MAAM,KAAK,QAAQ,GAAGjB,CAAC,CAACiB,MAAM,CAAC,GAAGI,CAAC,GAAGJ,MAAM;IAE5D,MAAMM,CAAC,GAAGL,EAAE,GAAGM,MAAM,CAACR,KAAK,CAAC,GAAG,CAAC;IAChC,MAAMS,CAAC,GAAGN,EAAE,GAAGK,MAAM,CAACP,MAAM,CAAC,GAAG,CAAC;IAEjC,OAAOlB,MAAM,CAACM,QAAQ,CAACqB,aAAa,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,CAC/CC,IAAI,CAAC7B,UAAU,EAAEa,IAAI,CAAC,CACtBiB,KAAK,CAAC,GAAG,EAAEL,CAAC,CAAC,CACbK,KAAK,CAAC,GAAG,EAAEH,CAAC,CAAC,CACbG,KAAK,CAAC,KAAK,EAAEf,GAAG,CAAC,CACjBe,KAAK,CAAC,QAAQ,EAAEnB,KAAK,CAAC,CACtBmB,KAAK,CAAC,WAAW,EAAEb,SAAS,CAAC,CAC7BY,IAAI,CAAC7B,UAAU,EAAEI,OAAO,CAAC,CACzB0B,KAAK,CAAC,OAAO,EAAEZ,KAAK,CAAC,CACrBY,KAAK,CAAC,QAAQ,EAAEX,MAAM,CAAC,CACvBY,IAAI,EAAE;EACX,CAAC;AACH,CAAC;AAED5B,KAAK,CAAC6B,KAAK,GAAG;EACZC,qBAAqB,EAAE,QAAQ;EAC/BC,sBAAsB,EAAE,UAAU;EAClCC,oBAAoB,EAAE;CACvB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}