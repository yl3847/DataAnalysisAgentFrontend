{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { path as d3path } from '@antv/vendor/d3-path';\nimport { applyStyle, arrowPoints } from '../utils';\nimport { select } from '../../utils/selection';\n/**\n * Connect 2 points with a single line with arrow.\n * ----->\n */\nexport const Vector = (options, context) => {\n  const {\n      arrow = true,\n      arrowSize = '40%'\n    } = options,\n    style = __rest(options, [\"arrow\", \"arrowSize\"]);\n  const {\n    document\n  } = context;\n  return (points, value, defaults) => {\n    const {\n        defaultColor\n      } = defaults,\n      rest = __rest(defaults, [\"defaultColor\"]);\n    const {\n      color = defaultColor,\n      transform\n    } = value;\n    const [from, to] = points;\n    // Draw line\n    const path = d3path();\n    path.moveTo(...from);\n    path.lineTo(...to);\n    // Draw 2 arrows.\n    if (arrow) {\n      // Calculate arrow end point.\n      const [arrow1, arrow2] = arrowPoints(from, to, {\n        arrowSize\n      });\n      path.moveTo(...arrow1);\n      path.lineTo(...to);\n      path.lineTo(...arrow2);\n    }\n    return select(document.createElement('path', {})).call(applyStyle, rest).style('d', path.toString()).style('stroke', color).style('transform', transform).call(applyStyle, style).node();\n  };\n};\nVector.props = {\n  defaultMarker: 'line',\n  defaultEnterAnimation: 'fadeIn',\n  defaultUpdateAnimation: 'morphing',\n  defaultExitAnimation: 'fadeOut'\n};","map":{"version":3,"names":["path","d3path","applyStyle","arrowPoints","select","Vector","options","context","arrow","arrowSize","style","__rest","document","points","value","defaults","defaultColor","rest","color","transform","from","to","moveTo","lineTo","arrow1","arrow2","createElement","call","toString","node","props","defaultMarker","defaultEnterAnimation","defaultUpdateAnimation","defaultExitAnimation"],"sources":["/Users/yizelu/Desktop/mcp/frontend/node_modules/@antv/g2/src/shape/vector/vector.ts"],"sourcesContent":["import { path as d3path } from '@antv/vendor/d3-path';\nimport { applyStyle, arrowPoints, ArrowOptions } from '../utils';\nimport { select } from '../../utils/selection';\nimport { ShapeComponent as SC } from '../../runtime';\n\nexport type VectorOptions = ArrowOptions;\n\n/**\n * Connect 2 points with a single line with arrow.\n * ----->\n */\nexport const Vector: SC<VectorOptions> = (options, context) => {\n  const { arrow = true, arrowSize = '40%', ...style } = options;\n  const { document } = context;\n  return (points, value, defaults) => {\n    const { defaultColor, ...rest } = defaults;\n    const { color = defaultColor, transform } = value;\n    const [from, to] = points;\n\n    // Draw line\n    const path = d3path();\n    path.moveTo(...from);\n    path.lineTo(...to);\n\n    // Draw 2 arrows.\n    if (arrow) {\n      // Calculate arrow end point.\n      const [arrow1, arrow2] = arrowPoints(from, to, { arrowSize });\n      path.moveTo(...arrow1);\n      path.lineTo(...to);\n      path.lineTo(...arrow2);\n    }\n\n    return select(document.createElement('path', {}))\n      .call(applyStyle, rest)\n      .style('d', path.toString())\n      .style('stroke', color)\n      .style('transform', transform)\n      .call(applyStyle, style)\n      .node();\n  };\n};\n\nVector.props = {\n  defaultMarker: 'line',\n  defaultEnterAnimation: 'fadeIn',\n  defaultUpdateAnimation: 'morphing',\n  defaultExitAnimation: 'fadeOut',\n};\n"],"mappings":";;;;;;;;AAAA,SAASA,IAAI,IAAIC,MAAM,QAAQ,sBAAsB;AACrD,SAASC,UAAU,EAAEC,WAAW,QAAsB,UAAU;AAChE,SAASC,MAAM,QAAQ,uBAAuB;AAK9C;;;;AAIA,OAAO,MAAMC,MAAM,GAAsBA,CAACC,OAAO,EAAEC,OAAO,KAAI;EAC5D,MAAM;MAAEC,KAAK,GAAG,IAAI;MAAEC,SAAS,GAAG;IAAK,IAAeH,OAAO;IAAjBI,KAAK,GAAAC,MAAA,CAAKL,OAAO,EAAvD,sBAA6C,CAAU;EAC7D,MAAM;IAAEM;EAAQ,CAAE,GAAGL,OAAO;EAC5B,OAAO,CAACM,MAAM,EAAEC,KAAK,EAAEC,QAAQ,KAAI;IACjC,MAAM;QAAEC;MAAY,IAAcD,QAAQ;MAAjBE,IAAI,GAAAN,MAAA,CAAKI,QAAQ,EAApC,gBAAyB,CAAW;IAC1C,MAAM;MAAEG,KAAK,GAAGF,YAAY;MAAEG;IAAS,CAAE,GAAGL,KAAK;IACjD,MAAM,CAACM,IAAI,EAAEC,EAAE,CAAC,GAAGR,MAAM;IAEzB;IACA,MAAMb,IAAI,GAAGC,MAAM,EAAE;IACrBD,IAAI,CAACsB,MAAM,CAAC,GAAGF,IAAI,CAAC;IACpBpB,IAAI,CAACuB,MAAM,CAAC,GAAGF,EAAE,CAAC;IAElB;IACA,IAAIb,KAAK,EAAE;MACT;MACA,MAAM,CAACgB,MAAM,EAAEC,MAAM,CAAC,GAAGtB,WAAW,CAACiB,IAAI,EAAEC,EAAE,EAAE;QAAEZ;MAAS,CAAE,CAAC;MAC7DT,IAAI,CAACsB,MAAM,CAAC,GAAGE,MAAM,CAAC;MACtBxB,IAAI,CAACuB,MAAM,CAAC,GAAGF,EAAE,CAAC;MAClBrB,IAAI,CAACuB,MAAM,CAAC,GAAGE,MAAM,CAAC;;IAGxB,OAAOrB,MAAM,CAACQ,QAAQ,CAACc,aAAa,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,CAC9CC,IAAI,CAACzB,UAAU,EAAEe,IAAI,CAAC,CACtBP,KAAK,CAAC,GAAG,EAAEV,IAAI,CAAC4B,QAAQ,EAAE,CAAC,CAC3BlB,KAAK,CAAC,QAAQ,EAAEQ,KAAK,CAAC,CACtBR,KAAK,CAAC,WAAW,EAAES,SAAS,CAAC,CAC7BQ,IAAI,CAACzB,UAAU,EAAEQ,KAAK,CAAC,CACvBmB,IAAI,EAAE;EACX,CAAC;AACH,CAAC;AAEDxB,MAAM,CAACyB,KAAK,GAAG;EACbC,aAAa,EAAE,MAAM;EACrBC,qBAAqB,EAAE,QAAQ;EAC/BC,sBAAsB,EAAE,UAAU;EAClCC,oBAAoB,EAAE;CACvB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}