{"ast":null,"code":"import { __extends, __read, __rest, __spreadArray } from \"tslib\";\nimport { deepMix, isString, isElement, assign, get } from '@antv/util';\nimport { Component } from '../../core';\nimport { deepAssign } from '../../util';\nimport { CLASS_NAME, POPTIP_ID, POPTIP_STYLE } from './constant';\nimport { getPositionXY, getSingleTonElement } from './utils';\n// 到处方法，可以外部使用\nexport { getPositionXY } from './utils';\nvar Poptip = /** @class */function (_super) {\n  __extends(Poptip, _super);\n  function Poptip(options) {\n    var _this = _super.call(this, deepMix({\n      style: {\n        id: POPTIP_ID\n      }\n    }, Poptip.defaultOptions, options)) || this;\n    /** 显影控制 */\n    _this.visibility = 'visible';\n    /** 所有绑定的目标对象 */\n    _this.map = new Map();\n    /** 节点样式 */\n    _this.domStyles = '';\n    _this.initShape();\n    _this.render(_this.attributes, _this);\n    return _this;\n  }\n  Object.defineProperty(Poptip.prototype, \"visible\", {\n    get: function () {\n      return this.visibility === 'visible';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Poptip.prototype.render = function (attributes, container) {\n    this.visibility = this.style.visibility;\n    this.updatePoptipElement();\n  };\n  /**\n   * poptip 组件更新\n   */\n  Poptip.prototype.update = function (cfg) {\n    this.attr(deepMix({}, this.style, cfg));\n    this.render(this.attributes, this);\n  };\n  /**\n   * 绑定元素\n   */\n  Poptip.prototype.bind = function (element, callback) {\n    var _this = this;\n    if (!element) return;\n    var defaultText = this.style.text;\n    var onmousemove = function (e) {\n      var target = element;\n      var options = _this.style;\n      var text = defaultText;\n      if (callback) {\n        var _a = typeof callback === 'function' ? callback.call(null, e) : callback,\n          html = _a.html,\n          ele = _a.target,\n          restOptions = __rest(_a, [\"html\", \"target\"]);\n        options = assign({}, _this.style, restOptions);\n        if (ele || ele === false) target = ele;\n        if (typeof html === 'string') text = html;\n      }\n      var position = options.position,\n        arrowPointAtCenter = options.arrowPointAtCenter,\n        follow = options.follow,\n        offset = options.offset;\n      if (target) {\n        var _b = e,\n          clientX = _b.clientX,\n          clientY = _b.clientY;\n        var _c = __read(getPositionXY(clientX, clientY, target, position, arrowPointAtCenter, follow), 2),\n          x = _c[0],\n          y = _c[1];\n        _this.showTip(x, y, {\n          text: text,\n          position: position,\n          offset: offset\n        });\n      } else {\n        // 没有移动到指定的目标 关闭弹框\n        _this.hideTip();\n      }\n    };\n    var onmouseleave = function () {\n      _this.hideTip();\n    };\n    element.addEventListener('mousemove', onmousemove);\n    element.addEventListener('mouseleave', onmouseleave);\n    // 存储监听\n    this.map.set(element, [onmousemove, onmouseleave]);\n  };\n  Poptip.prototype.unbind = function (element) {\n    if (this.map.has(element)) {\n      var _a = __read(this.map.get(element) || [], 2),\n        listener1 = _a[0],\n        listener2 = _a[1];\n      listener1 && element.removeEventListener('mousemove', listener1);\n      listener2 && element.removeEventListener('mouseleave', listener2);\n      this.map.delete(element);\n    }\n  };\n  /**\n   * 清空容器内容\n   */\n  Poptip.prototype.clear = function () {\n    this.container.innerHTML = '';\n  };\n  /**\n   * 清除\n   */\n  Poptip.prototype.destroy = function () {\n    var _this = this;\n    var _a;\n    __spreadArray([], __read(this.map.keys()), false).forEach(function (ele) {\n      return _this.unbind(ele);\n    });\n    (_a = this.container) === null || _a === void 0 ? void 0 : _a.remove();\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * 显示 + 改变位置\n   * @param x 可选 改变位置 x 方向\n   * @param y 可选 改变位置 y 方向\n   * @param text 文本变化\n   */\n  Poptip.prototype.showTip = function (x, y, options) {\n    var text = get(options, 'text');\n    if (text && typeof text !== 'string') return;\n    this.applyStyles();\n    // 不传入 不希望改变 x y\n    if (x && y && options) {\n      var offset = options.offset,\n        position = options.position;\n      position && this.container.setAttribute('data-position', position);\n      this.setOffsetPosition(x, y, offset);\n      if (typeof text === 'string') {\n        // do something\n        var textElement = this.container.querySelector(\".\".concat(CLASS_NAME.TEXT));\n        if (textElement) {\n          textElement.innerHTML = text;\n        }\n      }\n      this.visibility = 'visible';\n      this.container.style.visibility = 'visible';\n    }\n  };\n  /**\n   * 隐藏\n   */\n  Poptip.prototype.hideTip = function () {\n    this.visibility = 'hidden';\n    this.container.style.visibility = 'hidden';\n  };\n  /**\n   * 获取内部容器 HTMLElement\n   * @returns this.element:HTMLElement;\n   */\n  Poptip.prototype.getContainer = function () {\n    return this.container;\n  };\n  Poptip.prototype.getClassName = function () {\n    var containerClassName = this.style.containerClassName;\n    return \"\".concat(CLASS_NAME.CONTAINER).concat(containerClassName ? \" \".concat(containerClassName) : '');\n  };\n  /**\n   * 初始化容器\n   */\n  Poptip.prototype.initShape = function () {\n    var _this = this;\n    var id = this.style.id;\n    this.container = getSingleTonElement(id);\n    this.container.className = this.getClassName();\n    // 盒子添加交互\n    this.container.addEventListener('mousemove', function () {\n      return _this.showTip();\n    });\n    this.container.addEventListener('mouseleave', function () {\n      return _this.hideTip();\n    });\n  };\n  /**\n   * 更新 HTML 上的内容\n   */\n  Poptip.prototype.updatePoptipElement = function () {\n    var container = this.container;\n    this.clear();\n    var _a = this.style,\n      id = _a.id,\n      template = _a.template,\n      text = _a.text;\n    this.container.setAttribute('id', id);\n    this.container.className = this.getClassName();\n    // 增加 arrow 元素\n    var arrowNode = \"<span class=\\\"\".concat(CLASS_NAME.ARROW, \"\\\"></span>\");\n    container.innerHTML = arrowNode;\n    // 置入 text 模版\n    if (isString(template)) {\n      container.innerHTML += template;\n    } else if (template && isElement(template)) {\n      container.appendChild(template);\n    }\n    // 置入 text\n    if (text) {\n      container.getElementsByClassName(CLASS_NAME.TEXT)[0].textContent = text;\n    }\n    this.applyStyles();\n    this.container.style.visibility = this.visibility;\n  };\n  /**\n   * 应用样式表\n   */\n  Poptip.prototype.applyStyles = function () {\n    var styles = deepAssign({}, POPTIP_STYLE, this.style.domStyles);\n    var styleStr = Object.entries(styles).reduce(function (r, _a) {\n      var _b = __read(_a, 2),\n        key = _b[0],\n        value = _b[1];\n      var styleStr = Object.entries(value).reduce(function (r, _a) {\n        var _b = __read(_a, 2),\n          k = _b[0],\n          v = _b[1];\n        return \"\".concat(r).concat(k, \": \").concat(v, \";\");\n      }, '');\n      return \"\".concat(r).concat(key, \"{\").concat(styleStr, \"}\");\n    }, '');\n    if (this.domStyles !== styleStr) {\n      this.domStyles = styleStr;\n      var styleDOM = this.container.querySelector('style');\n      if (styleDOM) this.container.removeChild(styleDOM);\n      styleDOM = document.createElement('style');\n      styleDOM.innerHTML = styleStr;\n      this.container.appendChild(styleDOM);\n    }\n  };\n  /**\n   * 将相对于指针的偏移量生效到dom元素上\n   * @param x 盒子相对于页面 x 的位置\n   * @param y 盒子相对于页面 y 的位置\n   */\n  Poptip.prototype.setOffsetPosition = function (x, y, offset) {\n    if (offset === void 0) {\n      offset = this.style.offset;\n    }\n    var _a = __read(offset, 2),\n      _b = _a[0],\n      offsetX = _b === void 0 ? 0 : _b,\n      _c = _a[1],\n      offsetY = _c === void 0 ? 0 : _c;\n    this.container.style.left = \"\".concat(x + offsetX, \"px\");\n    this.container.style.top = \"\".concat(y + offsetY, \"px\");\n  };\n  Poptip.tag = 'poptip';\n  Poptip.defaultOptions = {\n    style: {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0,\n      target: null,\n      visibility: 'hidden',\n      text: '',\n      position: 'top',\n      follow: false,\n      offset: [0, 0],\n      domStyles: POPTIP_STYLE,\n      template: \"<div class=\\\"\".concat(CLASS_NAME.TEXT, \"\\\"></div>\")\n    }\n  };\n  return Poptip;\n}(Component);\nexport { Poptip };","map":{"version":3,"names":["deepMix","isString","isElement","assign","get","Component","deepAssign","CLASS_NAME","POPTIP_ID","POPTIP_STYLE","getPositionXY","getSingleTonElement","Poptip","_super","__extends","options","_this","call","style","id","defaultOptions","visibility","map","Map","domStyles","initShape","render","attributes","Object","defineProperty","prototype","container","updatePoptipElement","update","cfg","attr","bind","element","callback","defaultText","text","onmousemove","e","target","_a","html","ele","restOptions","__rest","position","arrowPointAtCenter","follow","offset","_b","clientX","clientY","_c","__read","x","y","showTip","hideTip","onmouseleave","addEventListener","set","unbind","has","listener1","listener2","removeEventListener","delete","clear","innerHTML","destroy","__spreadArray","keys","forEach","remove","applyStyles","setAttribute","setOffsetPosition","textElement","querySelector","concat","TEXT","getContainer","getClassName","containerClassName","CONTAINER","className","template","arrowNode","ARROW","appendChild","getElementsByClassName","textContent","styles","styleStr","entries","reduce","r","key","value","k","v","styleDOM","removeChild","document","createElement","offsetX","offsetY","left","top","tag","width","height"],"sources":["/Users/yizelu/Desktop/mcp/frontend/node_modules/@antv/component/src/ui/poptip/index.ts"],"sourcesContent":["import { deepMix, isString, isElement, assign, get } from '@antv/util';\nimport { DisplayObject, Group } from '../../shapes';\nimport { Component } from '../../core';\nimport { deepAssign } from '../../util';\nimport { CLASS_NAME, POPTIP_ID, POPTIP_STYLE } from './constant';\nimport { getPositionXY, getSingleTonElement } from './utils';\n\nimport type { PoptipStyleProps, PoptipOptions } from './types';\n\nexport type { PoptipStyleProps as PoptipCfg, PoptipOptions };\n\n// 到处方法，可以外部使用\nexport { getPositionXY } from './utils';\n\ntype PoptipCallbackOptions = {\n  html?: string;\n  target?: HTMLElement | DisplayObject | false;\n} & Pick<PoptipStyleProps, 'position' | 'arrowPointAtCenter' | 'follow' | 'offset'>;\n\nexport class Poptip extends Component<PoptipStyleProps> {\n  public static tag = 'poptip';\n\n  public get visible(): boolean {\n    return this.visibility === 'visible';\n  }\n\n  private static defaultOptions = {\n    style: {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0,\n      target: null,\n      visibility: 'hidden',\n      text: '',\n      position: 'top',\n      follow: false,\n      offset: [0, 0],\n      domStyles: POPTIP_STYLE,\n      template: `<div class=\"${CLASS_NAME.TEXT}\"></div>`,\n    },\n  };\n\n  /** 容器 HTML 元素节点 */\n  private container!: HTMLElement;\n\n  /** 显影控制 */\n  private visibility: 'visible' | 'hidden' = 'visible';\n\n  /** 所有绑定的目标对象 */\n  private map: Map<HTMLElement | DisplayObject, any[]> = new Map();\n\n  /** 节点样式 */\n  private domStyles: string = '';\n\n  constructor(options: PoptipOptions) {\n    super(deepMix({ style: { id: POPTIP_ID } }, Poptip.defaultOptions, options));\n    this.initShape();\n    this.render(this.attributes, this);\n  }\n\n  public render(attributes: PoptipStyleProps, container: Group) {\n    this.visibility = this.style.visibility;\n    this.updatePoptipElement();\n  }\n\n  /**\n   * poptip 组件更新\n   */\n  public update(cfg?: Partial<PoptipStyleProps>) {\n    this.attr(deepMix({}, this.style, cfg));\n    this.render(this.attributes, this);\n  }\n\n  /**\n   * 绑定元素\n   */\n  public bind(\n    element: HTMLElement | DisplayObject,\n    callback?: PoptipCallbackOptions | ((e: any) => PoptipCallbackOptions)\n  ): void {\n    if (!element) return;\n\n    const { text: defaultText } = this.style;\n\n    const onmousemove = (e: any) => {\n      let target: PoptipCallbackOptions['target'] = element;\n      let options = this.style;\n      let text = defaultText;\n      if (callback) {\n        const {\n          html,\n          target: ele,\n          ...restOptions\n        } = typeof callback === 'function' ? callback.call(null, e) : callback;\n        options = assign({} as any, this.style, restOptions);\n        if (ele || ele === false) target = ele;\n        if (typeof html === 'string') text = html;\n      }\n\n      const { position, arrowPointAtCenter, follow, offset } = options;\n\n      if (target) {\n        const { clientX, clientY } = e as MouseEvent;\n        const [x, y] = getPositionXY(clientX, clientY, target, position, arrowPointAtCenter, follow);\n        this.showTip(x, y, { text, position, offset });\n      } else {\n        // 没有移动到指定的目标 关闭弹框\n        this.hideTip();\n      }\n    };\n\n    const onmouseleave = () => {\n      this.hideTip();\n    };\n\n    element.addEventListener('mousemove', onmousemove);\n    element.addEventListener('mouseleave', onmouseleave);\n    // 存储监听\n    this.map.set(element, [onmousemove, onmouseleave]);\n  }\n\n  public unbind(element: HTMLElement | DisplayObject): void {\n    if (this.map.has(element)) {\n      const [listener1, listener2] = this.map.get(element) || [];\n      listener1 && element.removeEventListener('mousemove', listener1);\n      listener2 && element.removeEventListener('mouseleave', listener2);\n      this.map.delete(element);\n    }\n  }\n\n  /**\n   * 清空容器内容\n   */\n  public clear() {\n    this.container.innerHTML = '';\n  }\n\n  /**\n   * 清除\n   */\n  public destroy() {\n    [...this.map.keys()].forEach((ele) => this.unbind(ele));\n\n    this.container?.remove();\n    super.destroy();\n  }\n\n  /**\n   * 显示 + 改变位置\n   * @param x 可选 改变位置 x 方向\n   * @param y 可选 改变位置 y 方向\n   * @param text 文本变化\n   */\n  public showTip(x?: number, y?: number, options?: Pick<PoptipStyleProps, 'text' | 'position' | 'offset'>) {\n    const text = get(options, 'text');\n    if (text && typeof text !== 'string') return;\n\n    this.applyStyles();\n    // 不传入 不希望改变 x y\n    if (x && y && options) {\n      const { offset, position } = options;\n      position && this.container.setAttribute('data-position', position);\n\n      this.setOffsetPosition(x, y, offset);\n      if (typeof text === 'string') {\n        // do something\n        const textElement = this.container.querySelector(`.${CLASS_NAME.TEXT}`);\n        if (textElement) {\n          (textElement as HTMLDivElement).innerHTML = text;\n        }\n      }\n\n      this.visibility = 'visible';\n      this.container.style.visibility = 'visible';\n    }\n  }\n\n  /**\n   * 隐藏\n   */\n  public hideTip() {\n    this.visibility = 'hidden';\n    this.container.style.visibility = 'hidden';\n  }\n\n  /**\n   * 获取内部容器 HTMLElement\n   * @returns this.element:HTMLElement;\n   */\n  public getContainer(): HTMLElement {\n    return this.container;\n  }\n\n  public getClassName(): string {\n    const { containerClassName } = this.style;\n    return `${CLASS_NAME.CONTAINER}${containerClassName ? ` ${containerClassName}` : ''}`;\n  }\n\n  /**\n   * 初始化容器\n   */\n  private initShape() {\n    const { id } = this.style;\n\n    this.container = getSingleTonElement(id);\n    this.container.className = this.getClassName();\n\n    // 盒子添加交互\n    this.container.addEventListener('mousemove', () => this.showTip());\n    this.container.addEventListener('mouseleave', () => this.hideTip());\n  }\n\n  /**\n   * 更新 HTML 上的内容\n   */\n  private updatePoptipElement() {\n    const { container } = this;\n\n    this.clear();\n    const { id, template, text } = this.style;\n\n    this.container.setAttribute('id', id);\n    this.container.className = this.getClassName();\n\n    // 增加 arrow 元素\n    const arrowNode = `<span class=\"${CLASS_NAME.ARROW}\"></span>`;\n    container.innerHTML = arrowNode;\n\n    // 置入 text 模版\n    if (isString(template)) {\n      container.innerHTML += template;\n    } else if (template && isElement(template)) {\n      container.appendChild(template);\n    }\n\n    // 置入 text\n    if (text) {\n      container.getElementsByClassName(CLASS_NAME.TEXT)[0]!.textContent = text;\n    }\n\n    this.applyStyles();\n\n    this.container.style.visibility = this.visibility;\n  }\n\n  /**\n   * 应用样式表\n   */\n  private applyStyles() {\n    const styles = deepAssign({}, POPTIP_STYLE, this.style.domStyles) as object;\n\n    const styleStr = Object.entries(styles).reduce((r, [key, value]) => {\n      const styleStr = Object.entries(value).reduce((r, [k, v]) => `${r}${k}: ${v};`, '');\n      return `${r}${key}{${styleStr}}`;\n    }, '');\n\n    if (this.domStyles !== styleStr) {\n      this.domStyles = styleStr;\n      let styleDOM = this.container.querySelector('style') as HTMLStyleElement;\n      if (styleDOM) this.container.removeChild(styleDOM);\n      styleDOM = document.createElement('style');\n      styleDOM.innerHTML = styleStr;\n      this.container.appendChild(styleDOM);\n    }\n  }\n\n  /**\n   * 将相对于指针的偏移量生效到dom元素上\n   * @param x 盒子相对于页面 x 的位置\n   * @param y 盒子相对于页面 y 的位置\n   */\n  private setOffsetPosition(x: number, y: number, offset: number[] = this.style.offset): void {\n    const [offsetX = 0, offsetY = 0] = offset;\n\n    this.container.style.left = `${x + offsetX}px`;\n    this.container.style.top = `${y + offsetY}px`;\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}