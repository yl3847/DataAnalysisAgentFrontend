{"ast":null,"code":"var _jsxFileName = \"/Users/yizelu/Desktop/mcp/frontend/src/App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback, useEffect } from 'react';\nimport './App.css';\nimport MainLayout from './components/Layout/MainLayout';\nimport ChatBox from './components/ChatBox/ChatBox';\nimport SampleDataDisplay from './components/DataTable/SampleDataDisplay';\nimport ResponseDisplay from './components/ResponseDisplay/ResponseDisplay';\nimport { useLocalStorage } from './hooks/useLocalStorage';\nimport { useApi } from './hooks/useApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [messages, setMessages] = useLocalStorage('chat-messages', []);\n  const [analysisHistory, setAnalysisHistory] = useLocalStorage('analysis-history', []);\n  const [isLoading, setIsLoading] = useState(false);\n  const [activeView, setActiveView] = useState('data'); // 'data' or 'analysis'\n  const {\n    sendQuery\n  } = useApi();\n\n  // ============================================\n  // BACKEND INTEGRATION POINT #1: Send Message\n  // ============================================\n  const handleSendMessage = useCallback(async message => {\n    // Add user message to chat\n    const userMessage = {\n      id: Date.now(),\n      type: 'user',\n      content: message,\n      timestamp: new Date().toISOString()\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setIsLoading(true);\n\n    // Switch to analysis view when sending a message\n    setActiveView('analysis');\n    try {\n      // ============================================\n      // BACKEND INTEGRATION POINT #2: Receive Response\n      // Current: Mock response via sendQuery\n      // Future: Replace with actual Lambda/MCP call\n      // ============================================\n      const response = await sendQuery(message);\n\n      // Add assistant response\n      const assistantMessage = {\n        id: Date.now() + 1,\n        type: 'assistant',\n        content: response.message || '',\n        timestamp: new Date().toISOString()\n      };\n      setMessages(prev => [...prev, assistantMessage]);\n\n      // ============================================\n      // BACKEND INTEGRATION POINT #3: Process Charts\n      // Expected format from backend:\n      // { \n      //   markdown: \"```chart\\n{...}\\n```\",\n      //   description: \"Analysis description\"\n      // }\n      // ============================================\n      if (response.charts || response.markdown) {\n        const analysisResult = {\n          id: Date.now(),\n          query: message,\n          markdown: response.markdown || generateSampleMarkdown(),\n          description: response.description || generateSampleDescription(),\n          timestamp: new Date().toISOString()\n        };\n        setAnalysisHistory(prev => [...prev, analysisResult]);\n      }\n    } catch (error) {\n      console.error('Error sending message:', error);\n      const errorMessage = {\n        id: Date.now() + 1,\n        type: 'error',\n        content: 'Failed to get response. Please try again.',\n        timestamp: new Date().toISOString()\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [sendQuery, setMessages, setAnalysisHistory]);\n  const handleClearChat = useCallback(() => {\n    setMessages([]);\n  }, [setMessages]);\n  const handleClearAnalysis = useCallback(() => {\n    setAnalysisHistory([]);\n  }, [setAnalysisHistory]);\n\n  // Sample markdown generator (replace with backend response)\n  const generateSampleMarkdown = () => {\n    return `\n## Analysis Results\n\n### Performance Distribution\n\n\\`\\`\\`chart\n{\n  \"type\": \"bar\",\n  \"data\": [\n    {\"category\": \"Signals\", \"value\": 45.2},\n    {\"category\": \"Speed Control\", \"value\": 52.3},\n    {\"category\": \"Night Drive\", \"value\": 41.8},\n    {\"category\": \"Road Signs\", \"value\": 48.9},\n    {\"category\": \"Parking\", \"value\": 38.5}\n  ]\n}\n\\`\\`\\`\n\n### Age Group Analysis\n\n\\`\\`\\`chart\n{\n  \"type\": \"pie\",\n  \"data\": [\n    {\"type\": \"Teenager\", \"value\": 15},\n    {\"type\": \"Young Adult\", \"value\": 45},\n    {\"type\": \"Middle Age\", \"value\": 40}\n  ]\n}\n\\`\\`\\`\n\n### Qualification Rate by Training\n\n| Training Level | Qualified | Not Qualified | Total |\n|---------------|-----------|---------------|-------|\n| None          | 2         | 5             | 7     |\n| Basic         | 8         | 3             | 11    |\n| Advanced      | 12        | 1             | 13    |\n`;\n  };\n  const generateSampleDescription = () => {\n    return \"This analysis shows the distribution of performance metrics across different categories. The data indicates that speed control and road signs recognition are the strongest areas, while parking remains a challenge for most applicants.\";\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App min-h-screen bg-gradient-to-br from-gray-50 to-gray-100\",\n    children: /*#__PURE__*/_jsxDEV(MainLayout, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-auto px-4 py-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-3 gap-6 h-[calc(100vh-120px)]\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-2\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-xl shadow-lg h-full flex flex-col\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border-b px-6 py-4\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex space-x-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => setActiveView('data'),\n                      className: `px-4 py-2 text-sm font-medium rounded-lg transition-colors ${activeView === 'data' ? 'bg-blue-100 text-blue-700' : 'text-gray-600 hover:text-gray-800 hover:bg-gray-100'}`,\n                      children: \"Sample Data Overview\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 153,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => setActiveView('analysis'),\n                      className: `px-4 py-2 text-sm font-medium rounded-lg transition-colors ${activeView === 'analysis' ? 'bg-blue-100 text-blue-700' : 'text-gray-600 hover:text-gray-800 hover:bg-gray-100'}`,\n                      children: [\"Analysis Results\", analysisHistory.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"ml-2 px-2 py-0.5 text-xs bg-blue-600 text-white rounded-full\",\n                        children: analysisHistory.length\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 173,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 163,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 152,\n                    columnNumber: 21\n                  }, this), activeView === 'analysis' && analysisHistory.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: handleClearAnalysis,\n                    className: \"text-sm text-gray-500 hover:text-gray-700 transition-colors\",\n                    children: \"Clear History\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1 overflow-hidden p-6\",\n                children: activeView === 'data' ? /*#__PURE__*/_jsxDEV(SampleDataDisplay, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"h-full overflow-y-auto\",\n                  children: analysisHistory.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-col items-center justify-center h-full text-gray-400\",\n                    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                      className: \"w-16 h-16 mb-4\",\n                      fill: \"none\",\n                      viewBox: \"0 0 24 24\",\n                      stroke: \"currentColor\",\n                      children: /*#__PURE__*/_jsxDEV(\"path\", {\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        strokeWidth: 1.5,\n                        d: \"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 199,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 198,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-lg font-medium\",\n                      children: \"No analysis results yet\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 202,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm mt-2\",\n                      children: \"Send a query to see analysis results here\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 203,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-8\",\n                    children: analysisHistory.map((analysis, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"border-b pb-8 last:border-b-0\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"mb-4\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center justify-between mb-2\",\n                          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                            className: \"text-lg font-semibold text-gray-800\",\n                            children: [\"Analysis #\", analysisHistory.length - index]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 211,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"text-xs text-gray-500\",\n                            children: new Date(analysis.timestamp).toLocaleTimeString()\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 214,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 210,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-gray-600 italic\",\n                          children: [\"Query: \\\"\", analysis.query, \"\\\"\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 218,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 209,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(ResponseDisplay, {\n                        response: {\n                          content: analysis.markdown,\n                          description: analysis.description\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 222,\n                        columnNumber: 31\n                      }, this)]\n                    }, analysis.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 208,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-1\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-xl shadow-lg h-full flex flex-col\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border-b px-6 py-4 flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-xl font-semibold text-gray-800\",\n                  children: \"Analytics Chat\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleClearChat,\n                  className: \"text-sm text-gray-500 hover:text-gray-700 transition-colors\",\n                  children: \"Clear\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ChatBox, {\n                messages: messages,\n                onSendMessage: handleSendMessage,\n                isLoading: isLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 141,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"XiJPMcm4zJPl4AGnegmQY2SPkFM=\", false, function () {\n  return [useLocalStorage, useLocalStorage, useApi];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useCallback","useEffect","MainLayout","ChatBox","SampleDataDisplay","ResponseDisplay","useLocalStorage","useApi","jsxDEV","_jsxDEV","App","_s","messages","setMessages","analysisHistory","setAnalysisHistory","isLoading","setIsLoading","activeView","setActiveView","sendQuery","handleSendMessage","message","userMessage","id","Date","now","type","content","timestamp","toISOString","prev","response","assistantMessage","charts","markdown","analysisResult","query","generateSampleMarkdown","description","generateSampleDescription","error","console","errorMessage","handleClearChat","handleClearAnalysis","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","length","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","map","analysis","index","toLocaleTimeString","onSendMessage","_c","$RefreshReg$"],"sources":["/Users/yizelu/Desktop/mcp/frontend/src/App.jsx"],"sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\nimport './App.css';\nimport MainLayout from './components/Layout/MainLayout';\nimport ChatBox from './components/ChatBox/ChatBox';\nimport SampleDataDisplay from './components/DataTable/SampleDataDisplay';\nimport ResponseDisplay from './components/ResponseDisplay/ResponseDisplay';\nimport { useLocalStorage } from './hooks/useLocalStorage';\nimport { useApi } from './hooks/useApi';\n\nfunction App() {\n  const [messages, setMessages] = useLocalStorage('chat-messages', []);\n  const [analysisHistory, setAnalysisHistory] = useLocalStorage('analysis-history', []);\n  const [isLoading, setIsLoading] = useState(false);\n  const [activeView, setActiveView] = useState('data'); // 'data' or 'analysis'\n  const { sendQuery } = useApi();\n\n  // ============================================\n  // BACKEND INTEGRATION POINT #1: Send Message\n  // ============================================\n  const handleSendMessage = useCallback(async (message) => {\n    // Add user message to chat\n    const userMessage = {\n      id: Date.now(),\n      type: 'user',\n      content: message,\n      timestamp: new Date().toISOString()\n    };\n    \n    setMessages(prev => [...prev, userMessage]);\n    setIsLoading(true);\n    \n    // Switch to analysis view when sending a message\n    setActiveView('analysis');\n\n    try {\n      // ============================================\n      // BACKEND INTEGRATION POINT #2: Receive Response\n      // Current: Mock response via sendQuery\n      // Future: Replace with actual Lambda/MCP call\n      // ============================================\n      const response = await sendQuery(message);\n      \n      // Add assistant response\n      const assistantMessage = {\n        id: Date.now() + 1,\n        type: 'assistant',\n        content: response.message || '',\n        timestamp: new Date().toISOString()\n      };\n      \n      setMessages(prev => [...prev, assistantMessage]);\n      \n      // ============================================\n      // BACKEND INTEGRATION POINT #3: Process Charts\n      // Expected format from backend:\n      // { \n      //   markdown: \"```chart\\n{...}\\n```\",\n      //   description: \"Analysis description\"\n      // }\n      // ============================================\n      if (response.charts || response.markdown) {\n        const analysisResult = {\n          id: Date.now(),\n          query: message,\n          markdown: response.markdown || generateSampleMarkdown(),\n          description: response.description || generateSampleDescription(),\n          timestamp: new Date().toISOString()\n        };\n        setAnalysisHistory(prev => [...prev, analysisResult]);\n      }\n    } catch (error) {\n      console.error('Error sending message:', error);\n      const errorMessage = {\n        id: Date.now() + 1,\n        type: 'error',\n        content: 'Failed to get response. Please try again.',\n        timestamp: new Date().toISOString()\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [sendQuery, setMessages, setAnalysisHistory]);\n\n  const handleClearChat = useCallback(() => {\n    setMessages([]);\n  }, [setMessages]);\n\n  const handleClearAnalysis = useCallback(() => {\n    setAnalysisHistory([]);\n  }, [setAnalysisHistory]);\n\n  // Sample markdown generator (replace with backend response)\n  const generateSampleMarkdown = () => {\n    return `\n## Analysis Results\n\n### Performance Distribution\n\n\\`\\`\\`chart\n{\n  \"type\": \"bar\",\n  \"data\": [\n    {\"category\": \"Signals\", \"value\": 45.2},\n    {\"category\": \"Speed Control\", \"value\": 52.3},\n    {\"category\": \"Night Drive\", \"value\": 41.8},\n    {\"category\": \"Road Signs\", \"value\": 48.9},\n    {\"category\": \"Parking\", \"value\": 38.5}\n  ]\n}\n\\`\\`\\`\n\n### Age Group Analysis\n\n\\`\\`\\`chart\n{\n  \"type\": \"pie\",\n  \"data\": [\n    {\"type\": \"Teenager\", \"value\": 15},\n    {\"type\": \"Young Adult\", \"value\": 45},\n    {\"type\": \"Middle Age\", \"value\": 40}\n  ]\n}\n\\`\\`\\`\n\n### Qualification Rate by Training\n\n| Training Level | Qualified | Not Qualified | Total |\n|---------------|-----------|---------------|-------|\n| None          | 2         | 5             | 7     |\n| Basic         | 8         | 3             | 11    |\n| Advanced      | 12        | 1             | 13    |\n`;\n  };\n\n  const generateSampleDescription = () => {\n    return \"This analysis shows the distribution of performance metrics across different categories. The data indicates that speed control and road signs recognition are the strongest areas, while parking remains a challenge for most applicants.\";\n  };\n\n  return (\n    <div className=\"App min-h-screen bg-gradient-to-br from-gray-50 to-gray-100\">\n      <MainLayout>\n        <div className=\"container mx-auto px-4 py-6\">\n          <div className=\"grid grid-cols-3 gap-6 h-[calc(100vh-120px)]\">\n            \n            {/* Left Side - 2/3 of page - Data/Analysis View */}\n            <div className=\"col-span-2\">\n              <div className=\"bg-white rounded-xl shadow-lg h-full flex flex-col\">\n                {/* Tab Navigation */}\n                <div className=\"border-b px-6 py-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex space-x-1\">\n                      <button\n                        onClick={() => setActiveView('data')}\n                        className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\n                          activeView === 'data'\n                            ? 'bg-blue-100 text-blue-700'\n                            : 'text-gray-600 hover:text-gray-800 hover:bg-gray-100'\n                        }`}\n                      >\n                        Sample Data Overview\n                      </button>\n                      <button\n                        onClick={() => setActiveView('analysis')}\n                        className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\n                          activeView === 'analysis'\n                            ? 'bg-blue-100 text-blue-700'\n                            : 'text-gray-600 hover:text-gray-800 hover:bg-gray-100'\n                        }`}\n                      >\n                        Analysis Results\n                        {analysisHistory.length > 0 && (\n                          <span className=\"ml-2 px-2 py-0.5 text-xs bg-blue-600 text-white rounded-full\">\n                            {analysisHistory.length}\n                          </span>\n                        )}\n                      </button>\n                    </div>\n                    {activeView === 'analysis' && analysisHistory.length > 0 && (\n                      <button\n                        onClick={handleClearAnalysis}\n                        className=\"text-sm text-gray-500 hover:text-gray-700 transition-colors\"\n                      >\n                        Clear History\n                      </button>\n                    )}\n                  </div>\n                </div>\n\n                {/* Content Area */}\n                <div className=\"flex-1 overflow-hidden p-6\">\n                  {activeView === 'data' ? (\n                    <SampleDataDisplay />\n                  ) : (\n                    <div className=\"h-full overflow-y-auto\">\n                      {analysisHistory.length === 0 ? (\n                        <div className=\"flex flex-col items-center justify-center h-full text-gray-400\">\n                          <svg className=\"w-16 h-16 mb-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} \n                              d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                          </svg>\n                          <p className=\"text-lg font-medium\">No analysis results yet</p>\n                          <p className=\"text-sm mt-2\">Send a query to see analysis results here</p>\n                        </div>\n                      ) : (\n                        <div className=\"space-y-8\">\n                          {analysisHistory.map((analysis, index) => (\n                            <div key={analysis.id} className=\"border-b pb-8 last:border-b-0\">\n                              <div className=\"mb-4\">\n                                <div className=\"flex items-center justify-between mb-2\">\n                                  <h3 className=\"text-lg font-semibold text-gray-800\">\n                                    Analysis #{analysisHistory.length - index}\n                                  </h3>\n                                  <span className=\"text-xs text-gray-500\">\n                                    {new Date(analysis.timestamp).toLocaleTimeString()}\n                                  </span>\n                                </div>\n                                <p className=\"text-sm text-gray-600 italic\">Query: \"{analysis.query}\"</p>\n                              </div>\n                              \n                              {/* Render Markdown with Charts */}\n                              <ResponseDisplay \n                                response={{\n                                  content: analysis.markdown,\n                                  description: analysis.description\n                                }}\n                              />\n                            </div>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n            \n            {/* Right Side - 1/3 of page - Chat */}\n            <div className=\"col-span-1\">\n              <div className=\"bg-white rounded-xl shadow-lg h-full flex flex-col\">\n                <div className=\"border-b px-6 py-4 flex justify-between items-center\">\n                  <h2 className=\"text-xl font-semibold text-gray-800\">\n                    Analytics Chat\n                  </h2>\n                  <button\n                    onClick={handleClearChat}\n                    className=\"text-sm text-gray-500 hover:text-gray-700 transition-colors\"\n                  >\n                    Clear\n                  </button>\n                </div>\n                <ChatBox\n                  messages={messages}\n                  onSendMessage={handleSendMessage}\n                  isLoading={isLoading}\n                />\n              </div>\n            </div>\n            \n          </div>\n        </div>\n      </MainLayout>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,WAAW,EAAEC,SAAS,QAAQ,OAAO;AAC/D,OAAO,WAAW;AAClB,OAAOC,UAAU,MAAM,gCAAgC;AACvD,OAAOC,OAAO,MAAM,8BAA8B;AAClD,OAAOC,iBAAiB,MAAM,0CAA0C;AACxE,OAAOC,eAAe,MAAM,8CAA8C;AAC1E,SAASC,eAAe,QAAQ,yBAAyB;AACzD,SAASC,MAAM,QAAQ,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGP,eAAe,CAAC,eAAe,EAAE,EAAE,CAAC;EACpE,MAAM,CAACQ,eAAe,EAAEC,kBAAkB,CAAC,GAAGT,eAAe,CAAC,kBAAkB,EAAE,EAAE,CAAC;EACrF,MAAM,CAACU,SAAS,EAAEC,YAAY,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACmB,UAAU,EAAEC,aAAa,CAAC,GAAGpB,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;EACtD,MAAM;IAAEqB;EAAU,CAAC,GAAGb,MAAM,CAAC,CAAC;;EAE9B;EACA;EACA;EACA,MAAMc,iBAAiB,GAAGrB,WAAW,CAAC,MAAOsB,OAAO,IAAK;IACvD;IACA,MAAMC,WAAW,GAAG;MAClBC,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC;MACdC,IAAI,EAAE,MAAM;MACZC,OAAO,EAAEN,OAAO;MAChBO,SAAS,EAAE,IAAIJ,IAAI,CAAC,CAAC,CAACK,WAAW,CAAC;IACpC,CAAC;IAEDjB,WAAW,CAACkB,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAER,WAAW,CAAC,CAAC;IAC3CN,YAAY,CAAC,IAAI,CAAC;;IAElB;IACAE,aAAa,CAAC,UAAU,CAAC;IAEzB,IAAI;MACF;MACA;MACA;MACA;MACA;MACA,MAAMa,QAAQ,GAAG,MAAMZ,SAAS,CAACE,OAAO,CAAC;;MAEzC;MACA,MAAMW,gBAAgB,GAAG;QACvBT,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,CAAC;QAClBC,IAAI,EAAE,WAAW;QACjBC,OAAO,EAAEI,QAAQ,CAACV,OAAO,IAAI,EAAE;QAC/BO,SAAS,EAAE,IAAIJ,IAAI,CAAC,CAAC,CAACK,WAAW,CAAC;MACpC,CAAC;MAEDjB,WAAW,CAACkB,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEE,gBAAgB,CAAC,CAAC;;MAEhD;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA,IAAID,QAAQ,CAACE,MAAM,IAAIF,QAAQ,CAACG,QAAQ,EAAE;QACxC,MAAMC,cAAc,GAAG;UACrBZ,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC;UACdW,KAAK,EAAEf,OAAO;UACda,QAAQ,EAAEH,QAAQ,CAACG,QAAQ,IAAIG,sBAAsB,CAAC,CAAC;UACvDC,WAAW,EAAEP,QAAQ,CAACO,WAAW,IAAIC,yBAAyB,CAAC,CAAC;UAChEX,SAAS,EAAE,IAAIJ,IAAI,CAAC,CAAC,CAACK,WAAW,CAAC;QACpC,CAAC;QACDf,kBAAkB,CAACgB,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEK,cAAc,CAAC,CAAC;MACvD;IACF,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9C,MAAME,YAAY,GAAG;QACnBnB,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,CAAC;QAClBC,IAAI,EAAE,OAAO;QACbC,OAAO,EAAE,2CAA2C;QACpDC,SAAS,EAAE,IAAIJ,IAAI,CAAC,CAAC,CAACK,WAAW,CAAC;MACpC,CAAC;MACDjB,WAAW,CAACkB,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEY,YAAY,CAAC,CAAC;IAC9C,CAAC,SAAS;MACR1B,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC,EAAE,CAACG,SAAS,EAAEP,WAAW,EAAEE,kBAAkB,CAAC,CAAC;EAEhD,MAAM6B,eAAe,GAAG5C,WAAW,CAAC,MAAM;IACxCa,WAAW,CAAC,EAAE,CAAC;EACjB,CAAC,EAAE,CAACA,WAAW,CAAC,CAAC;EAEjB,MAAMgC,mBAAmB,GAAG7C,WAAW,CAAC,MAAM;IAC5Ce,kBAAkB,CAAC,EAAE,CAAC;EACxB,CAAC,EAAE,CAACA,kBAAkB,CAAC,CAAC;;EAExB;EACA,MAAMuB,sBAAsB,GAAGA,CAAA,KAAM;IACnC,OAAO;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;EACC,CAAC;EAED,MAAME,yBAAyB,GAAGA,CAAA,KAAM;IACtC,OAAO,2OAA2O;EACpP,CAAC;EAED,oBACE/B,OAAA;IAAKqC,SAAS,EAAC,6DAA6D;IAAAC,QAAA,eAC1EtC,OAAA,CAACP,UAAU;MAAA6C,QAAA,eACTtC,OAAA;QAAKqC,SAAS,EAAC,6BAA6B;QAAAC,QAAA,eAC1CtC,OAAA;UAAKqC,SAAS,EAAC,8CAA8C;UAAAC,QAAA,gBAG3DtC,OAAA;YAAKqC,SAAS,EAAC,YAAY;YAAAC,QAAA,eACzBtC,OAAA;cAAKqC,SAAS,EAAC,oDAAoD;cAAAC,QAAA,gBAEjEtC,OAAA;gBAAKqC,SAAS,EAAC,oBAAoB;gBAAAC,QAAA,eACjCtC,OAAA;kBAAKqC,SAAS,EAAC,mCAAmC;kBAAAC,QAAA,gBAChDtC,OAAA;oBAAKqC,SAAS,EAAC,gBAAgB;oBAAAC,QAAA,gBAC7BtC,OAAA;sBACEuC,OAAO,EAAEA,CAAA,KAAM7B,aAAa,CAAC,MAAM,CAAE;sBACrC2B,SAAS,EAAE,8DACT5B,UAAU,KAAK,MAAM,GACjB,2BAA2B,GAC3B,qDAAqD,EACxD;sBAAA6B,QAAA,EACJ;oBAED;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,eACT3C,OAAA;sBACEuC,OAAO,EAAEA,CAAA,KAAM7B,aAAa,CAAC,UAAU,CAAE;sBACzC2B,SAAS,EAAE,8DACT5B,UAAU,KAAK,UAAU,GACrB,2BAA2B,GAC3B,qDAAqD,EACxD;sBAAA6B,QAAA,GACJ,kBAEC,EAACjC,eAAe,CAACuC,MAAM,GAAG,CAAC,iBACzB5C,OAAA;wBAAMqC,SAAS,EAAC,8DAA8D;wBAAAC,QAAA,EAC3EjC,eAAe,CAACuC;sBAAM;wBAAAJ,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACnB,CACP;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACK,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACN,CAAC,EACLlC,UAAU,KAAK,UAAU,IAAIJ,eAAe,CAACuC,MAAM,GAAG,CAAC,iBACtD5C,OAAA;oBACEuC,OAAO,EAAEH,mBAAoB;oBAC7BC,SAAS,EAAC,6DAA6D;oBAAAC,QAAA,EACxE;kBAED;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CACT;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eAGN3C,OAAA;gBAAKqC,SAAS,EAAC,4BAA4B;gBAAAC,QAAA,EACxC7B,UAAU,KAAK,MAAM,gBACpBT,OAAA,CAACL,iBAAiB;kBAAA6C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,gBAErB3C,OAAA;kBAAKqC,SAAS,EAAC,wBAAwB;kBAAAC,QAAA,EACpCjC,eAAe,CAACuC,MAAM,KAAK,CAAC,gBAC3B5C,OAAA;oBAAKqC,SAAS,EAAC,gEAAgE;oBAAAC,QAAA,gBAC7EtC,OAAA;sBAAKqC,SAAS,EAAC,gBAAgB;sBAACQ,IAAI,EAAC,MAAM;sBAACC,OAAO,EAAC,WAAW;sBAACC,MAAM,EAAC,cAAc;sBAAAT,QAAA,eACnFtC,OAAA;wBAAMgD,aAAa,EAAC,OAAO;wBAACC,cAAc,EAAC,OAAO;wBAACC,WAAW,EAAE,GAAI;wBAClEC,CAAC,EAAC;sBAAsM;wBAAAX,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAE;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAC1M,CAAC,eACN3C,OAAA;sBAAGqC,SAAS,EAAC,qBAAqB;sBAAAC,QAAA,EAAC;oBAAuB;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAG,CAAC,eAC9D3C,OAAA;sBAAGqC,SAAS,EAAC,cAAc;sBAAAC,QAAA,EAAC;oBAAyC;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAG,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACtE,CAAC,gBAEN3C,OAAA;oBAAKqC,SAAS,EAAC,WAAW;oBAAAC,QAAA,EACvBjC,eAAe,CAAC+C,GAAG,CAAC,CAACC,QAAQ,EAAEC,KAAK,kBACnCtD,OAAA;sBAAuBqC,SAAS,EAAC,+BAA+B;sBAAAC,QAAA,gBAC9DtC,OAAA;wBAAKqC,SAAS,EAAC,MAAM;wBAAAC,QAAA,gBACnBtC,OAAA;0BAAKqC,SAAS,EAAC,wCAAwC;0BAAAC,QAAA,gBACrDtC,OAAA;4BAAIqC,SAAS,EAAC,qCAAqC;4BAAAC,QAAA,GAAC,YACxC,EAACjC,eAAe,CAACuC,MAAM,GAAGU,KAAK;0BAAA;4BAAAd,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OACvC,CAAC,eACL3C,OAAA;4BAAMqC,SAAS,EAAC,uBAAuB;4BAAAC,QAAA,EACpC,IAAItB,IAAI,CAACqC,QAAQ,CAACjC,SAAS,CAAC,CAACmC,kBAAkB,CAAC;0BAAC;4BAAAf,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OAC9C,CAAC;wBAAA;0BAAAH,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACJ,CAAC,eACN3C,OAAA;0BAAGqC,SAAS,EAAC,8BAA8B;0BAAAC,QAAA,GAAC,WAAQ,EAACe,QAAQ,CAACzB,KAAK,EAAC,IAAC;wBAAA;0BAAAY,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAG,CAAC;sBAAA;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACtE,CAAC,eAGN3C,OAAA,CAACJ,eAAe;wBACd2B,QAAQ,EAAE;0BACRJ,OAAO,EAAEkC,QAAQ,CAAC3B,QAAQ;0BAC1BI,WAAW,EAAEuB,QAAQ,CAACvB;wBACxB;sBAAE;wBAAAU,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACH,CAAC;oBAAA,GAnBMU,QAAQ,CAACtC,EAAE;sBAAAyB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAoBhB,CACN;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACC;gBACN;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACE;cACN;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAGN3C,OAAA;YAAKqC,SAAS,EAAC,YAAY;YAAAC,QAAA,eACzBtC,OAAA;cAAKqC,SAAS,EAAC,oDAAoD;cAAAC,QAAA,gBACjEtC,OAAA;gBAAKqC,SAAS,EAAC,sDAAsD;gBAAAC,QAAA,gBACnEtC,OAAA;kBAAIqC,SAAS,EAAC,qCAAqC;kBAAAC,QAAA,EAAC;gBAEpD;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACL3C,OAAA;kBACEuC,OAAO,EAAEJ,eAAgB;kBACzBE,SAAS,EAAC,6DAA6D;kBAAAC,QAAA,EACxE;gBAED;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC,eACN3C,OAAA,CAACN,OAAO;gBACNS,QAAQ,EAAEA,QAAS;gBACnBqD,aAAa,EAAE5C,iBAAkB;gBACjCL,SAAS,EAAEA;cAAU;gBAAAiC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACV,CAAC;AAEV;AAACzC,EAAA,CA/PQD,GAAG;EAAA,QACsBJ,eAAe,EACDA,eAAe,EAGvCC,MAAM;AAAA;AAAA2D,EAAA,GALrBxD,GAAG;AAiQZ,eAAeA,GAAG;AAAC,IAAAwD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}