{"ast":null,"code":"import { ICON_SIZE_RATIO } from '../../constants/element';\nimport { getPortXYByPlacement, getStarPoints, getStarPorts } from '../../utils/element';\nimport { Polygon } from '../shapes/polygon';\n/**\n * <zh/> 五角星节点\n *\n * <en/> Star node\n */\nexport class Star extends Polygon {\n  constructor(options) {\n    super(options);\n  }\n  getInnerR(attributes) {\n    return attributes.innerR || this.getOuterR(attributes) * 3 / 8;\n  }\n  getOuterR(attributes) {\n    return Math.min(...this.getSize(attributes)) / 2;\n  }\n  getPoints(attributes) {\n    return getStarPoints(this.getOuterR(attributes), this.getInnerR(attributes));\n  }\n  getIconStyle(attributes) {\n    const style = super.getIconStyle(attributes);\n    const size = this.getInnerR(attributes) * 2 * ICON_SIZE_RATIO;\n    return style ? Object.assign({\n      width: size,\n      height: size\n    }, style) : false;\n  }\n  getPortXY(attributes, style) {\n    const {\n      placement = 'top'\n    } = style;\n    const bbox = this.getShape('key').getLocalBounds();\n    const ports = getStarPorts(this.getOuterR(attributes), this.getInnerR(attributes));\n    return getPortXYByPlacement(bbox, placement, ports, false);\n  }\n}","map":{"version":3,"names":["ICON_SIZE_RATIO","getPortXYByPlacement","getStarPoints","getStarPorts","Polygon","Star","constructor","options","getInnerR","attributes","innerR","getOuterR","Math","min","getSize","getPoints","getIconStyle","style","size","Object","assign","width","height","getPortXY","placement","bbox","getShape","getLocalBounds","ports"],"sources":["/Users/yizelu/Desktop/mcp/frontend/node_modules/@antv/g6/src/elements/nodes/star.ts"],"sourcesContent":["import type { DisplayObjectConfig } from '@antv/g';\nimport { ICON_SIZE_RATIO } from '../../constants/element';\nimport type { NodePortStyleProps, Point, StarPortPlacement } from '../../types';\nimport { getPortXYByPlacement, getStarPoints, getStarPorts } from '../../utils/element';\nimport type { IconStyleProps, PolygonStyleProps } from '../shapes';\nimport { Polygon } from '../shapes/polygon';\n\n/**\n * <zh/> 五角星节点样式配置项\n *\n * <en/> Star node style props\n */\nexport interface StarStyleProps extends PolygonStyleProps {\n  /**\n   * <zh/> 内半径，默认为外半径的 3/8\n   *\n   * <en/> Inner radius, default is 3/8 of the outer radius\n   */\n  innerR?: number;\n}\n\n/**\n * <zh/> 五角星节点\n *\n * <en/> Star node\n */\nexport class Star extends Polygon<StarStyleProps> {\n  constructor(options: DisplayObjectConfig<StarStyleProps>) {\n    super(options);\n  }\n\n  private getInnerR(attributes: Required<StarStyleProps>): number {\n    return attributes.innerR || (this.getOuterR(attributes) * 3) / 8;\n  }\n\n  private getOuterR(attributes: Required<StarStyleProps>): number {\n    return Math.min(...this.getSize(attributes)) / 2;\n  }\n\n  protected getPoints(attributes: Required<StarStyleProps>): Point[] {\n    return getStarPoints(this.getOuterR(attributes), this.getInnerR(attributes));\n  }\n\n  protected getIconStyle(attributes: Required<StarStyleProps>): false | IconStyleProps {\n    const style = super.getIconStyle(attributes);\n    const size = this.getInnerR(attributes) * 2 * ICON_SIZE_RATIO;\n    return style ? ({ width: size, height: size, ...style } as IconStyleProps) : false;\n  }\n\n  protected getPortXY(attributes: Required<StarStyleProps>, style: NodePortStyleProps): Point {\n    const { placement = 'top' } = style;\n    const bbox = this.getShape('key').getLocalBounds();\n    const ports = getStarPorts(this.getOuterR(attributes), this.getInnerR(attributes));\n    return getPortXYByPlacement(bbox, placement as StarPortPlacement, ports, false);\n  }\n}\n"],"mappings":"AACA,SAASA,eAAe,QAAQ,yBAAyB;AAEzD,SAASC,oBAAoB,EAAEC,aAAa,EAAEC,YAAY,QAAQ,qBAAqB;AAEvF,SAASC,OAAO,QAAQ,mBAAmB;AAgB3C;;;;;AAKA,OAAM,MAAOC,IAAK,SAAQD,OAAuB;EAC/CE,YAAYC,OAA4C;IACtD,KAAK,CAACA,OAAO,CAAC;EAChB;EAEQC,SAASA,CAACC,UAAoC;IACpD,OAAOA,UAAU,CAACC,MAAM,IAAK,IAAI,CAACC,SAAS,CAACF,UAAU,CAAC,GAAG,CAAC,GAAI,CAAC;EAClE;EAEQE,SAASA,CAACF,UAAoC;IACpD,OAAOG,IAAI,CAACC,GAAG,CAAC,GAAG,IAAI,CAACC,OAAO,CAACL,UAAU,CAAC,CAAC,GAAG,CAAC;EAClD;EAEUM,SAASA,CAACN,UAAoC;IACtD,OAAOP,aAAa,CAAC,IAAI,CAACS,SAAS,CAACF,UAAU,CAAC,EAAE,IAAI,CAACD,SAAS,CAACC,UAAU,CAAC,CAAC;EAC9E;EAEUO,YAAYA,CAACP,UAAoC;IACzD,MAAMQ,KAAK,GAAG,KAAK,CAACD,YAAY,CAACP,UAAU,CAAC;IAC5C,MAAMS,IAAI,GAAG,IAAI,CAACV,SAAS,CAACC,UAAU,CAAC,GAAG,CAAC,GAAGT,eAAe;IAC7D,OAAOiB,KAAK,GAAIE,MAAA,CAAAC,MAAA;MAAEC,KAAK,EAAEH,IAAI;MAAEI,MAAM,EAAEJ;IAAI,GAAKD,KAAK,CAAqB,GAAG,KAAK;EACpF;EAEUM,SAASA,CAACd,UAAoC,EAAEQ,KAAyB;IACjF,MAAM;MAAEO,SAAS,GAAG;IAAK,CAAE,GAAGP,KAAK;IACnC,MAAMQ,IAAI,GAAG,IAAI,CAACC,QAAQ,CAAC,KAAK,CAAC,CAACC,cAAc,EAAE;IAClD,MAAMC,KAAK,GAAGzB,YAAY,CAAC,IAAI,CAACQ,SAAS,CAACF,UAAU,CAAC,EAAE,IAAI,CAACD,SAAS,CAACC,UAAU,CAAC,CAAC;IAClF,OAAOR,oBAAoB,CAACwB,IAAI,EAAED,SAA8B,EAAEI,KAAK,EAAE,KAAK,CAAC;EACjF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}