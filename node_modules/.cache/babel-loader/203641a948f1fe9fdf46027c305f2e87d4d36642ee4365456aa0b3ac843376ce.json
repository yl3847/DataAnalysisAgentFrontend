{"ast":null,"code":"import { Continuous } from './continuous';\nimport { createInterpolateValue, logs, pows } from '../utils';\nimport { d3Log } from '../tick-methods/d3-log';\nimport { d3LogNice } from '../utils/d3-log-nice';\n/**\n * Linear 比例尺\n *\n * 构造一个线性的对数比例尺\n */\nexport class Log extends Continuous {\n  getDefaultOptions() {\n    return {\n      domain: [1, 10],\n      range: [0, 1],\n      base: 10,\n      interpolate: createInterpolateValue,\n      tickMethod: d3Log,\n      tickCount: 5\n    };\n  }\n  chooseNice() {\n    return d3LogNice;\n  }\n  getTickMethodOptions() {\n    const {\n      domain,\n      tickCount,\n      base\n    } = this.options;\n    const min = domain[0];\n    const max = domain[domain.length - 1];\n    return [min, max, tickCount, base];\n  }\n  chooseTransforms() {\n    const {\n      base,\n      domain\n    } = this.options;\n    const shouldReflect = domain[0] < 0;\n    return [logs(base, shouldReflect), pows(base, shouldReflect)];\n  }\n  clone() {\n    return new Log(this.options);\n  }\n}","map":{"version":3,"names":["Continuous","createInterpolateValue","logs","pows","d3Log","d3LogNice","Log","getDefaultOptions","domain","range","base","interpolate","tickMethod","tickCount","chooseNice","getTickMethodOptions","options","min","max","length","chooseTransforms","shouldReflect","clone"],"sources":["scales/log.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,UAAU,QAAQ,cAAc;AAEzC,SAASC,sBAAsB,EAAEC,IAAI,EAAEC,IAAI,QAAQ,UAAU;AAC7D,SAASC,KAAK,QAAQ,wBAAwB;AAC9C,SAASC,SAAS,QAAQ,sBAAsB;AAEhD;;;;;AAKA,OAAM,MAAOC,GAAI,SAAQN,UAAsB;EACnCO,iBAAiBA,CAAA;IACzB,OAAO;MACLC,MAAM,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;MACfC,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;MACbC,IAAI,EAAE,EAAE;MACRC,WAAW,EAAEV,sBAAsB;MACnCW,UAAU,EAAER,KAAK;MACjBS,SAAS,EAAE;KACZ;EACH;EAEUC,UAAUA,CAAA;IAClB,OAAOT,SAAS;EAClB;EAEUU,oBAAoBA,CAAA;IAC5B,MAAM;MAAEP,MAAM;MAAEK,SAAS;MAAEH;IAAI,CAAE,GAAG,IAAI,CAACM,OAAO;IAChD,MAAMC,GAAG,GAAGT,MAAM,CAAC,CAAC,CAAC;IACrB,MAAMU,GAAG,GAAGV,MAAM,CAACA,MAAM,CAACW,MAAM,GAAG,CAAC,CAAC;IACrC,OAAO,CAACF,GAAG,EAAEC,GAAG,EAAEL,SAAS,EAAEH,IAAI,CAAC;EACpC;EAEUU,gBAAgBA,CAAA;IACxB,MAAM;MAAEV,IAAI;MAAEF;IAAM,CAAE,GAAG,IAAI,CAACQ,OAAO;IACrC,MAAMK,aAAa,GAAGb,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC;IACnC,OAAO,CAACN,IAAI,CAACQ,IAAI,EAAEW,aAAa,CAAC,EAAElB,IAAI,CAACO,IAAI,EAAEW,aAAa,CAAC,CAAC;EAC/D;EAEOC,KAAKA,CAAA;IACV,OAAO,IAAIhB,GAAG,CAAC,IAAI,CAACU,OAAO,CAAC;EAC9B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}