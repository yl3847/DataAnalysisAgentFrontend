{"ast":null,"code":"import { __read } from \"tslib\";\nexport function getTranslate(node, x, y) {\n  var _a = node.getBBox(),\n    width = _a.width,\n    height = _a.height;\n  var _b = __read([x, y].map(function (v, i) {\n      var _a;\n      return v.includes('%') ? parseFloat(((_a = v.match(/[+-]?([0-9]*[.])?[0-9]+/)) === null || _a === void 0 ? void 0 : _a[0]) || '0') / 100 * (i === 0 ? width : height) : v;\n    }), 2),\n    tx = _b[0],\n    ty = _b[1];\n  return [tx, ty];\n}\n/**\n * transform that support translate percent value\n */\nexport function percentTransform(node, val) {\n  if (!val) return;\n  try {\n    var reg = /translate\\(([+-]*[\\d]+[%]*),[ ]*([+-]*[\\d]+[%]*)\\)/g;\n    var computedVal = val.replace(reg, function (match, x, y) {\n      return \"translate(\".concat(getTranslate(node, x, y), \")\");\n    });\n    node.attr('transform', computedVal);\n  } catch (e) {\n    // do nothing\n  }\n}","map":{"version":3,"names":["getTranslate","node","x","y","_a","getBBox","width","height","_b","__read","map","v","i","includes","parseFloat","match","tx","ty","percentTransform","val","reg","computedVal","replace","concat","attr","e"],"sources":["/Users/yizelu/Desktop/mcp/frontend/node_modules/@antv/component/src/util/transform.ts"],"sourcesContent":["import { DisplayObject } from '../shapes';\n\nexport function getTranslate(node: DisplayObject, x: string, y: string) {\n  const { width, height } = node.getBBox();\n  const [tx, ty] = [x, y].map((v, i) => {\n    return v.includes('%')\n      ? (parseFloat(v.match(/[+-]?([0-9]*[.])?[0-9]+/)?.[0] || '0') / 100) * (i === 0 ? width : height)\n      : v;\n  });\n  return [tx, ty];\n}\n\n/**\n * transform that support translate percent value\n */\nexport function percentTransform(node: DisplayObject, val: string) {\n  if (!val) return;\n  try {\n    const reg = /translate\\(([+-]*[\\d]+[%]*),[ ]*([+-]*[\\d]+[%]*)\\)/g;\n\n    const computedVal = val.replace(reg, (match, x, y) => `translate(${getTranslate(node, x, y)})`);\n    node.attr('transform', computedVal);\n  } catch (e) {\n    // do nothing\n  }\n}\n"],"mappings":";AAEA,OAAM,SAAUA,YAAYA,CAACC,IAAmB,EAAEC,CAAS,EAAEC,CAAS;EAC9D,IAAAC,EAAA,GAAoBH,IAAI,CAACI,OAAO,EAAE;IAAhCC,KAAK,GAAAF,EAAA,CAAAE,KAAA;IAAEC,MAAM,GAAAH,EAAA,CAAAG,MAAmB;EAClC,IAAAC,EAAA,GAAAC,MAAA,CAAW,CAACP,CAAC,EAAEC,CAAC,CAAC,CAACO,GAAG,CAAC,UAACC,CAAC,EAAEC,CAAC;;MAC/B,OAAOD,CAAC,CAACE,QAAQ,CAAC,GAAG,CAAC,GACjBC,UAAU,CAAC,EAAAV,EAAA,GAAAO,CAAC,CAACI,KAAK,CAAC,yBAAyB,CAAC,cAAAX,EAAA,uBAAAA,EAAA,CAAG,CAAC,CAAC,KAAI,GAAG,CAAC,GAAG,GAAG,IAAKQ,CAAC,KAAK,CAAC,GAAGN,KAAK,GAAGC,MAAM,CAAC,GAC/FI,CAAC;IACP,CAAC,CAAC;IAJKK,EAAE,GAAAR,EAAA;IAAES,EAAE,GAAAT,EAAA,GAIX;EACF,OAAO,CAACQ,EAAE,EAAEC,EAAE,CAAC;AACjB;AAEA;;;AAGA,OAAM,SAAUC,gBAAgBA,CAACjB,IAAmB,EAAEkB,GAAW;EAC/D,IAAI,CAACA,GAAG,EAAE;EACV,IAAI;IACF,IAAMC,GAAG,GAAG,qDAAqD;IAEjE,IAAMC,WAAW,GAAGF,GAAG,CAACG,OAAO,CAACF,GAAG,EAAE,UAACL,KAAK,EAAEb,CAAC,EAAEC,CAAC;MAAK,oBAAAoB,MAAA,CAAavB,YAAY,CAACC,IAAI,EAAEC,CAAC,EAAEC,CAAC,CAAC,MAAG;IAAxC,CAAwC,CAAC;IAC/FF,IAAI,CAACuB,IAAI,CAAC,WAAW,EAAEH,WAAW,CAAC;EACrC,CAAC,CAAC,OAAOI,CAAC,EAAE;IACV;EAAA;AAEJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}