{"ast":null,"code":"import { normalizeFields } from './utils/fields';\n/**\n * Immutable data sort by specified fields.\n */\nexport const SortBy = options => {\n  const {\n    fields: F = []\n  } = options;\n  const normalizedF = normalizeFields(F, true);\n  return data => {\n    const comparator = (a, b) => normalizedF.reduce((ret, [field, order = true]) => {\n      if (ret !== 0) {\n        return ret;\n      }\n      if (order) {\n        return a[field] < b[field] ? -1 : +(a[field] !== b[field]);\n      } else {\n        return a[field] > b[field] ? -1 : +(a[field] !== b[field]);\n      }\n    }, 0);\n    return [...data].sort(comparator);\n  };\n};\nSortBy.props = {};","map":{"version":3,"names":["normalizeFields","SortBy","options","fields","F","normalizedF","data","comparator","a","b","reduce","ret","field","order","sort","props"],"sources":["/Users/yizelu/Desktop/mcp/frontend/node_modules/@antv/g2/src/data/sortBy.ts"],"sourcesContent":["import { DataComponent as DC } from '../runtime';\nimport { SortByTransform } from '../spec';\nimport { normalizeFields } from './utils/fields';\n\nexport type SortByOptions = Omit<SortByTransform, 'type'>;\n\n/**\n * Immutable data sort by specified fields.\n */\nexport const SortBy: DC<SortByOptions> = (options) => {\n  const { fields: F = [] } = options;\n\n  const normalizedF = normalizeFields(F, true);\n\n  return (data) => {\n    const comparator = (a: any, b: any) =>\n      normalizedF.reduce((ret: number, [field, order = true]) => {\n        if (ret !== 0) {\n          return ret;\n        }\n\n        if (order) {\n          return a[field] < b[field] ? -1 : +(a[field] !== b[field]);\n        } else {\n          return a[field] > b[field] ? -1 : +(a[field] !== b[field]);\n        }\n      }, 0);\n\n    return [...data].sort(comparator);\n  };\n};\n\nSortBy.props = {};\n"],"mappings":"AAEA,SAASA,eAAe,QAAQ,gBAAgB;AAIhD;;;AAGA,OAAO,MAAMC,MAAM,GAAuBC,OAAO,IAAI;EACnD,MAAM;IAAEC,MAAM,EAAEC,CAAC,GAAG;EAAE,CAAE,GAAGF,OAAO;EAElC,MAAMG,WAAW,GAAGL,eAAe,CAACI,CAAC,EAAE,IAAI,CAAC;EAE5C,OAAQE,IAAI,IAAI;IACd,MAAMC,UAAU,GAAGA,CAACC,CAAM,EAAEC,CAAM,KAChCJ,WAAW,CAACK,MAAM,CAAC,CAACC,GAAW,EAAE,CAACC,KAAK,EAAEC,KAAK,GAAG,IAAI,CAAC,KAAI;MACxD,IAAIF,GAAG,KAAK,CAAC,EAAE;QACb,OAAOA,GAAG;;MAGZ,IAAIE,KAAK,EAAE;QACT,OAAOL,CAAC,CAACI,KAAK,CAAC,GAAGH,CAAC,CAACG,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,EAAEJ,CAAC,CAACI,KAAK,CAAC,KAAKH,CAAC,CAACG,KAAK,CAAC,CAAC;OAC3D,MAAM;QACL,OAAOJ,CAAC,CAACI,KAAK,CAAC,GAAGH,CAAC,CAACG,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,EAAEJ,CAAC,CAACI,KAAK,CAAC,KAAKH,CAAC,CAACG,KAAK,CAAC,CAAC;;IAE9D,CAAC,EAAE,CAAC,CAAC;IAEP,OAAO,CAAC,GAAGN,IAAI,CAAC,CAACQ,IAAI,CAACP,UAAU,CAAC;EACnC,CAAC;AACH,CAAC;AAEDN,MAAM,CAACc,KAAK,GAAG,EAAE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}