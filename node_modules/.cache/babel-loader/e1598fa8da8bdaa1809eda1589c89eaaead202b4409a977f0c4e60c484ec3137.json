{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { mark } from '../../adaptor';\nimport { flow, transformOptions, set, isArray, get, isPlainObject } from '../../utils';\nimport { HORIZONTAL_MARGIN, AXIS_LABEL_PADDING, VERTICAL_MARGIN } from './constants';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n  /** 除了 yFiled Array 的情况 */\n  var field = function (params) {\n    var options = params.options;\n    var yField = options.yField,\n      children = options.children;\n    children.forEach(function (child, index) {\n      set(child, 'yField', yField[index]);\n    });\n    return params;\n  };\n  /** data 拆分 */\n  var data = function (params) {\n    var options = params.options;\n    var yField = options.yField,\n      children = options.children,\n      data = options.data;\n    if (isPlainObject(data)) return params;\n    var transformData = isArray(get(data, [0])) ? data : [data, data];\n    children.forEach(function (child, index) {\n      set(child, 'data', __spreadArray([], transformData[index].map(function (item) {\n        return __assign({\n          groupKey: yField[index]\n        }, item);\n      }), true));\n    });\n    return params;\n  };\n  /** 内置 Tooltip 逻辑 */\n  var tooltip = function (params) {\n    var options = params.options;\n    var _a = options.yField,\n      y1 = _a[0],\n      y2 = _a[1],\n      tooltip = options.tooltip;\n    if (!tooltip) {\n      set(options, 'tooltip', {\n        items: [{\n          field: y1,\n          value: y1\n        }, {\n          field: y2,\n          value: y2\n        }]\n      });\n    }\n    return params;\n  };\n  /** 根据 layout 调整配置 */\n  var layout = function (params) {\n    var options = params.options;\n    var children = options.children,\n      layout = options.layout,\n      transform = options.coordinate.transform,\n      _a = options.paddingBottom,\n      paddingBottom = _a === void 0 ? AXIS_LABEL_PADDING : _a,\n      _b = options.paddingLeft,\n      paddingLeft = _b === void 0 ? AXIS_LABEL_PADDING : _b,\n      axis = options.axis;\n    set(options, 'axisText', __assign(__assign({}, (axis === null || axis === void 0 ? void 0 : axis.x) || {}), {\n      layout: layout\n    }));\n    var child1 = children[0],\n      child2 = children[1];\n    if (layout === 'vertical') {\n      set(options, 'direction', 'col');\n      set(options, 'paddingLeft', paddingLeft);\n      set(options, 'coordinate.transform', transform.filter(function (item) {\n        return item.type !== 'transpose';\n      }));\n      set(child1, 'paddingBottom', HORIZONTAL_MARGIN);\n      set(child2, 'paddingTop', HORIZONTAL_MARGIN);\n      set(child2, 'axis.x.position', 'top');\n      set(child2, 'scale.y.range', [0, 1]);\n    } else {\n      set(options, 'paddingBottom', paddingBottom);\n      set(child1, 'scale.y.range', [0, 1]);\n      var _c = child1.paddingRight,\n        paddingRight = _c === void 0 ? VERTICAL_MARGIN : _c;\n      var _d = child2.paddingLeft,\n        paddingLeft_1 = _d === void 0 ? VERTICAL_MARGIN : _d;\n      set(child1, 'paddingRight', paddingRight);\n      set(child1, 'axis.x.position', 'right');\n      set(child2, 'paddingLeft', paddingLeft_1);\n    }\n    return params;\n  };\n  return flow(field, data, tooltip, layout, mark, transformOptions)(params);\n}","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__spreadArray","to","from","pack","l","ar","Array","slice","concat","mark","flow","transformOptions","set","isArray","get","isPlainObject","HORIZONTAL_MARGIN","AXIS_LABEL_PADDING","VERTICAL_MARGIN","adaptor","params","field","options","yField","children","forEach","child","index","data","transformData","map","item","groupKey","tooltip","_a","y1","y2","items","value","layout","transform","coordinate","paddingBottom","_b","paddingLeft","axis","x","child1","child2","filter","type","_c","paddingRight","_d","paddingLeft_1"],"sources":["/Users/yizelu/Desktop/mcp/frontend/node_modules/@ant-design/plots/es/core/plots/bidirectional-bar/adaptor.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { mark } from '../../adaptor';\nimport { flow, transformOptions, set, isArray, get, isPlainObject } from '../../utils';\nimport { HORIZONTAL_MARGIN, AXIS_LABEL_PADDING, VERTICAL_MARGIN } from './constants';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    /** 除了 yFiled Array 的情况 */\n    var field = function (params) {\n        var options = params.options;\n        var yField = options.yField, children = options.children;\n        children.forEach(function (child, index) {\n            set(child, 'yField', yField[index]);\n        });\n        return params;\n    };\n    /** data 拆分 */\n    var data = function (params) {\n        var options = params.options;\n        var yField = options.yField, children = options.children, data = options.data;\n        if (isPlainObject(data))\n            return params;\n        var transformData = isArray(get(data, [0])) ? data : [data, data];\n        children.forEach(function (child, index) {\n            set(child, 'data', __spreadArray([], transformData[index].map(function (item) { return (__assign({ groupKey: yField[index] }, item)); }), true));\n        });\n        return params;\n    };\n    /** 内置 Tooltip 逻辑 */\n    var tooltip = function (params) {\n        var options = params.options;\n        var _a = options.yField, y1 = _a[0], y2 = _a[1], tooltip = options.tooltip;\n        if (!tooltip) {\n            set(options, 'tooltip', {\n                items: [\n                    {\n                        field: y1,\n                        value: y1,\n                    },\n                    {\n                        field: y2,\n                        value: y2,\n                    },\n                ],\n            });\n        }\n        return params;\n    };\n    /** 根据 layout 调整配置 */\n    var layout = function (params) {\n        var options = params.options;\n        var children = options.children, layout = options.layout, transform = options.coordinate.transform, _a = options.paddingBottom, paddingBottom = _a === void 0 ? AXIS_LABEL_PADDING : _a, _b = options.paddingLeft, paddingLeft = _b === void 0 ? AXIS_LABEL_PADDING : _b, axis = options.axis;\n        set(options, 'axisText', __assign(__assign({}, ((axis === null || axis === void 0 ? void 0 : axis.x) || {})), { layout: layout }));\n        var child1 = children[0], child2 = children[1];\n        if (layout === 'vertical') {\n            set(options, 'direction', 'col');\n            set(options, 'paddingLeft', paddingLeft);\n            set(options, 'coordinate.transform', transform.filter(function (item) { return item.type !== 'transpose'; }));\n            set(child1, 'paddingBottom', HORIZONTAL_MARGIN);\n            set(child2, 'paddingTop', HORIZONTAL_MARGIN);\n            set(child2, 'axis.x.position', 'top');\n            set(child2, 'scale.y.range', [0, 1]);\n        }\n        else {\n            set(options, 'paddingBottom', paddingBottom);\n            set(child1, 'scale.y.range', [0, 1]);\n            var _c = child1.paddingRight, paddingRight = _c === void 0 ? VERTICAL_MARGIN : _c;\n            var _d = child2.paddingLeft, paddingLeft_1 = _d === void 0 ? VERTICAL_MARGIN : _d;\n            set(child1, 'paddingRight', paddingRight);\n            set(child1, 'axis.x.position', 'right');\n            set(child2, 'paddingLeft', paddingLeft_1);\n        }\n        return params;\n    };\n    return flow(field, data, tooltip, layout, mark, transformOptions)(params);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}