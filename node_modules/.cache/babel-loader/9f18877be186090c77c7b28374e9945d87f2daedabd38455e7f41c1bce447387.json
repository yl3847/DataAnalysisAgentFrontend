{"ast":null,"code":"import { isPlainObject } from 'lodash';\n/**\n * 合并多个图配置项，优先级从左到右递增\n * @param options 图配置项列表\n * @returns 最后用于渲染的配置项\n */\nexport function mergeOptions(...options) {\n  if (options.length === 0) return {};\n  const merged = {\n    ...options[0]\n  };\n  for (let i = 1; i < options.length; i++) {\n    const currentOptions = options[i];\n    for (const key in currentOptions) {\n      if (currentOptions.hasOwnProperty(key)) {\n        const currValue = currentOptions[key];\n        const prevValue = merged[key];\n        if (['component', 'data'].includes(key)) {\n          merged[key] = currValue;\n        } else if (typeof currValue === 'function') {\n          if (['plugins', 'behaviors', 'transforms'].includes(key)) {\n            merged[key] = currValue(prevValue || []);\n          } else {\n            merged[key] = function (datum) {\n              const value = currValue.call(this, datum);\n              if (isPlainObject(value)) return mergeOptions(prevValue, value);\n              return value;\n            };\n          }\n        } else if (isPlainObject(currValue) && isPlainObject(prevValue)) {\n          merged[key] = mergeOptions(prevValue, currValue);\n        } else {\n          merged[key] = currValue;\n        }\n      }\n    }\n  }\n  return merged;\n}","map":{"version":3,"names":["isPlainObject","mergeOptions","options","length","merged","i","currentOptions","key","hasOwnProperty","currValue","prevValue","includes","datum","value","call"],"sources":["/Users/yizelu/Desktop/mcp/frontend/node_modules/@ant-design/graphs/es/core/utils/options.js"],"sourcesContent":["import { isPlainObject } from 'lodash';\n/**\n * 合并多个图配置项，优先级从左到右递增\n * @param options 图配置项列表\n * @returns 最后用于渲染的配置项\n */\nexport function mergeOptions(...options) {\n    if (options.length === 0)\n        return {};\n    const merged = { ...options[0] };\n    for (let i = 1; i < options.length; i++) {\n        const currentOptions = options[i];\n        for (const key in currentOptions) {\n            if (currentOptions.hasOwnProperty(key)) {\n                const currValue = currentOptions[key];\n                const prevValue = merged[key];\n                if (['component', 'data'].includes(key)) {\n                    merged[key] = currValue;\n                }\n                else if (typeof currValue === 'function') {\n                    if (['plugins', 'behaviors', 'transforms'].includes(key)) {\n                        merged[key] = currValue(prevValue || []);\n                    }\n                    else {\n                        merged[key] = function (datum) {\n                            const value = currValue.call(this, datum);\n                            if (isPlainObject(value))\n                                return mergeOptions(prevValue, value);\n                            return value;\n                        };\n                    }\n                }\n                else if (isPlainObject(currValue) && isPlainObject(prevValue)) {\n                    merged[key] = mergeOptions(prevValue, currValue);\n                }\n                else {\n                    merged[key] = currValue;\n                }\n            }\n        }\n    }\n    return merged;\n}\n"],"mappings":"AAAA,SAASA,aAAa,QAAQ,QAAQ;AACtC;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,YAAYA,CAAC,GAAGC,OAAO,EAAE;EACrC,IAAIA,OAAO,CAACC,MAAM,KAAK,CAAC,EACpB,OAAO,CAAC,CAAC;EACb,MAAMC,MAAM,GAAG;IAAE,GAAGF,OAAO,CAAC,CAAC;EAAE,CAAC;EAChC,KAAK,IAAIG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,OAAO,CAACC,MAAM,EAAEE,CAAC,EAAE,EAAE;IACrC,MAAMC,cAAc,GAAGJ,OAAO,CAACG,CAAC,CAAC;IACjC,KAAK,MAAME,GAAG,IAAID,cAAc,EAAE;MAC9B,IAAIA,cAAc,CAACE,cAAc,CAACD,GAAG,CAAC,EAAE;QACpC,MAAME,SAAS,GAAGH,cAAc,CAACC,GAAG,CAAC;QACrC,MAAMG,SAAS,GAAGN,MAAM,CAACG,GAAG,CAAC;QAC7B,IAAI,CAAC,WAAW,EAAE,MAAM,CAAC,CAACI,QAAQ,CAACJ,GAAG,CAAC,EAAE;UACrCH,MAAM,CAACG,GAAG,CAAC,GAAGE,SAAS;QAC3B,CAAC,MACI,IAAI,OAAOA,SAAS,KAAK,UAAU,EAAE;UACtC,IAAI,CAAC,SAAS,EAAE,WAAW,EAAE,YAAY,CAAC,CAACE,QAAQ,CAACJ,GAAG,CAAC,EAAE;YACtDH,MAAM,CAACG,GAAG,CAAC,GAAGE,SAAS,CAACC,SAAS,IAAI,EAAE,CAAC;UAC5C,CAAC,MACI;YACDN,MAAM,CAACG,GAAG,CAAC,GAAG,UAAUK,KAAK,EAAE;cAC3B,MAAMC,KAAK,GAAGJ,SAAS,CAACK,IAAI,CAAC,IAAI,EAAEF,KAAK,CAAC;cACzC,IAAIZ,aAAa,CAACa,KAAK,CAAC,EACpB,OAAOZ,YAAY,CAACS,SAAS,EAAEG,KAAK,CAAC;cACzC,OAAOA,KAAK;YAChB,CAAC;UACL;QACJ,CAAC,MACI,IAAIb,aAAa,CAACS,SAAS,CAAC,IAAIT,aAAa,CAACU,SAAS,CAAC,EAAE;UAC3DN,MAAM,CAACG,GAAG,CAAC,GAAGN,YAAY,CAACS,SAAS,EAAED,SAAS,CAAC;QACpD,CAAC,MACI;UACDL,MAAM,CAACG,GAAG,CAAC,GAAGE,SAAS;QAC3B;MACJ;IACJ;EACJ;EACA,OAAOL,MAAM;AACjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}