{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { deepMix } from '@antv/util';\nimport { applyStyle } from '../shape/utils';\nimport { subObject } from '../utils/helper';\nimport { createComponent, maybeAppend } from './utils';\nfunction inferStyleByAlign(x, y, width, align) {\n  switch (align) {\n    case 'center':\n      return {\n        x: x + width / 2,\n        y,\n        textAlign: 'middle'\n      };\n    case 'right':\n      return {\n        x: x + width,\n        y,\n        textAlign: 'right'\n      };\n    default:\n      return {\n        x,\n        y,\n        textAlign: 'left'\n      };\n  }\n}\nconst Title = createComponent({\n  render(attributes, container) {\n    const {\n        width,\n        title,\n        subtitle,\n        spacing = 2,\n        align = 'left',\n        x,\n        y\n      } = attributes,\n      style = __rest(attributes, [\"width\", \"title\", \"subtitle\", \"spacing\", \"align\", \"x\", \"y\"]);\n    container.style.transform = `translate(${x}, ${y})`;\n    const titleStyle = subObject(style, 'title');\n    const subtitleStyle = subObject(style, 'subtitle');\n    const mainTitle = maybeAppend(container, '.title', 'text').attr('className', 'title').call(applyStyle, Object.assign(Object.assign(Object.assign({}, inferStyleByAlign(0, 0, width, align)), {\n      fontSize: 14,\n      textBaseline: 'top',\n      text: title\n    }), titleStyle)).node();\n    const bounds = mainTitle.getLocalBounds();\n    maybeAppend(container, '.sub-title', 'text').attr('className', 'sub-title').call(selection => {\n      if (!subtitle) return selection.node().remove();\n      selection.node().attr(Object.assign(Object.assign(Object.assign({}, inferStyleByAlign(0, bounds.max[1] + spacing, width, align)), {\n        fontSize: 12,\n        textBaseline: 'top',\n        text: subtitle\n      }), subtitleStyle));\n    });\n  }\n});\n/**\n * Title Component.\n */\nexport const TitleComponent = options => {\n  return ({\n    value,\n    theme\n  }) => {\n    const {\n      x,\n      y,\n      width,\n      height\n    } = value.bbox;\n    return new Title({\n      style: deepMix({}, theme.title, Object.assign({\n        x,\n        y,\n        width,\n        height\n      }, options))\n    });\n  };\n};\nTitleComponent.props = {\n  defaultPosition: 'top',\n  defaultOrder: 2,\n  defaultSize: 36,\n  defaultCrossPadding: [20, 20],\n  defaultPadding: [12, 12]\n};","map":{"version":3,"names":["deepMix","applyStyle","subObject","createComponent","maybeAppend","inferStyleByAlign","x","y","width","align","textAlign","Title","render","attributes","container","title","subtitle","spacing","style","__rest","transform","titleStyle","subtitleStyle","mainTitle","attr","call","Object","assign","fontSize","textBaseline","text","node","bounds","getLocalBounds","selection","remove","max","TitleComponent","options","value","theme","height","bbox","props","defaultPosition","defaultOrder","defaultSize","defaultCrossPadding","defaultPadding"],"sources":["/Users/yizelu/Desktop/mcp/frontend/node_modules/@antv/g2/src/component/title.ts"],"sourcesContent":["import { deepMix } from '@antv/util';\nimport { applyStyle } from '../shape/utils';\nimport { subObject } from '../utils/helper';\nimport { GuideComponentComponent as GCC, G2TitleOptions } from '../runtime';\nimport { createComponent, maybeAppend } from './utils';\n\nexport type TitleComponentOptions = G2TitleOptions;\n\ntype TitleStyleProps = G2TitleOptions & {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n};\n\nfunction inferStyleByAlign(\n  x: number,\n  y: number,\n  width: number,\n  align: TitleStyleProps['align'],\n) {\n  switch (align) {\n    case 'center':\n      return {\n        x: x + width / 2,\n        y,\n        textAlign: 'middle',\n      };\n    case 'right':\n      return {\n        x: x + width,\n        y,\n        textAlign: 'right',\n      };\n    default:\n      return {\n        x,\n        y,\n        textAlign: 'left',\n      };\n  }\n}\n\nconst Title = createComponent<TitleStyleProps>({\n  render(attributes, container) {\n    const {\n      width,\n      title,\n      subtitle,\n      spacing = 2,\n      align = 'left',\n      x,\n      y,\n      ...style\n    } = attributes;\n\n    container.style.transform = `translate(${x}, ${y})`;\n\n    const titleStyle = subObject(style, 'title');\n    const subtitleStyle = subObject(style, 'subtitle');\n\n    const mainTitle = maybeAppend(container, '.title', 'text')\n      .attr('className', 'title')\n      .call(applyStyle, {\n        ...inferStyleByAlign(0, 0, width, align),\n        fontSize: 14,\n        textBaseline: 'top',\n        text: title,\n        ...titleStyle,\n      })\n      .node();\n\n    const bounds = mainTitle.getLocalBounds();\n    maybeAppend(container, '.sub-title', 'text')\n      .attr('className', 'sub-title')\n      .call((selection) => {\n        if (!subtitle) return selection.node().remove();\n        selection.node().attr({\n          ...inferStyleByAlign(0, bounds.max[1] + spacing, width, align),\n          fontSize: 12,\n          textBaseline: 'top',\n          text: subtitle,\n          ...subtitleStyle,\n        });\n      });\n  },\n});\n\n/**\n * Title Component.\n */\nexport const TitleComponent: GCC<TitleComponentOptions> = (options) => {\n  return ({ value, theme }) => {\n    const { x, y, width, height } = value.bbox;\n    return new Title({\n      style: deepMix({}, theme.title, {\n        x,\n        y,\n        width,\n        height,\n        ...options,\n      }),\n    });\n  };\n};\n\nTitleComponent.props = {\n  defaultPosition: 'top',\n  defaultOrder: 2,\n  defaultSize: 36,\n  defaultCrossPadding: [20, 20],\n  defaultPadding: [12, 12],\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}