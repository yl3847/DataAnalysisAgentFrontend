{"ast":null,"code":"import { deepMix } from '@antv/util';\nimport { column, columnOf } from './utils/helper';\nimport { rangeOf, interpolate } from './jitter';\n/**\n * The JitterX transform produce dy channels for marks (especially for point)\n * with ordinal x and y dimension, say to make them jitter in their own space.\n */\nexport const JitterX = (options = {}) => {\n  const {\n    padding = 0,\n    random = Math.random\n  } = options;\n  return (I, mark) => {\n    const {\n      encode,\n      scale\n    } = mark;\n    const {\n      x: scaleX\n    } = scale;\n    const [X] = columnOf(encode, 'x');\n    const rangeX = rangeOf(X, scaleX, padding);\n    const DX = I.map(() => interpolate(random(), ...rangeX));\n    return [I, deepMix({\n      scale: {\n        x: {\n          padding: 0.5\n        }\n      }\n    }, mark, {\n      encode: {\n        dx: column(DX)\n      }\n    })];\n  };\n};\nJitterX.props = {};","map":{"version":3,"names":["deepMix","column","columnOf","rangeOf","interpolate","JitterX","options","padding","random","Math","I","mark","encode","scale","x","scaleX","X","rangeX","DX","map","dx","props"],"sources":["/Users/yizelu/Desktop/mcp/frontend/node_modules/@antv/g2/src/transform/jitterX.ts"],"sourcesContent":["import { deepMix } from '@antv/util';\nimport { TransformComponent as TC } from '../runtime';\nimport { JitterXTransform } from '../spec';\nimport { column, columnOf } from './utils/helper';\nimport { rangeOf, interpolate } from './jitter';\n\nexport type JitterXOptions = Omit<JitterXTransform, 'type'>;\n\n/**\n * The JitterX transform produce dy channels for marks (especially for point)\n * with ordinal x and y dimension, say to make them jitter in their own space.\n */\nexport const JitterX: TC<JitterXOptions> = (options = {}) => {\n  const { padding = 0, random = Math.random } = options;\n  return (I, mark) => {\n    const { encode, scale } = mark;\n    const { x: scaleX } = scale;\n    const [X] = columnOf(encode, 'x');\n    const rangeX = rangeOf(X, scaleX, padding);\n    const DX = I.map(() => interpolate(random(), ...rangeX));\n    return [\n      I,\n      deepMix({ scale: { x: { padding: 0.5 } } }, mark, {\n        encode: { dx: column(DX) },\n      }),\n    ];\n  };\n};\n\nJitterX.props = {};\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,YAAY;AAGpC,SAASC,MAAM,EAAEC,QAAQ,QAAQ,gBAAgB;AACjD,SAASC,OAAO,EAAEC,WAAW,QAAQ,UAAU;AAI/C;;;;AAIA,OAAO,MAAMC,OAAO,GAAuBA,CAACC,OAAO,GAAG,EAAE,KAAI;EAC1D,MAAM;IAAEC,OAAO,GAAG,CAAC;IAAEC,MAAM,GAAGC,IAAI,CAACD;EAAM,CAAE,GAAGF,OAAO;EACrD,OAAO,CAACI,CAAC,EAAEC,IAAI,KAAI;IACjB,MAAM;MAAEC,MAAM;MAAEC;IAAK,CAAE,GAAGF,IAAI;IAC9B,MAAM;MAAEG,CAAC,EAAEC;IAAM,CAAE,GAAGF,KAAK;IAC3B,MAAM,CAACG,CAAC,CAAC,GAAGd,QAAQ,CAACU,MAAM,EAAE,GAAG,CAAC;IACjC,MAAMK,MAAM,GAAGd,OAAO,CAACa,CAAC,EAAED,MAAM,EAAER,OAAO,CAAC;IAC1C,MAAMW,EAAE,GAAGR,CAAC,CAACS,GAAG,CAAC,MAAMf,WAAW,CAACI,MAAM,EAAE,EAAE,GAAGS,MAAM,CAAC,CAAC;IACxD,OAAO,CACLP,CAAC,EACDV,OAAO,CAAC;MAAEa,KAAK,EAAE;QAAEC,CAAC,EAAE;UAAEP,OAAO,EAAE;QAAG;MAAE;IAAE,CAAE,EAAEI,IAAI,EAAE;MAChDC,MAAM,EAAE;QAAEQ,EAAE,EAAEnB,MAAM,CAACiB,EAAE;MAAC;KACzB,CAAC,CACH;EACH,CAAC;AACH,CAAC;AAEDb,OAAO,CAACgB,KAAK,GAAG,EAAE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}