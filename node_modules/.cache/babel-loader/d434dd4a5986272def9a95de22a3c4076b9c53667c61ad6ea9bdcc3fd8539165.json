{"ast":null,"code":"export function column(value, field) {\n  if (value === null) return undefined;\n  return {\n    type: 'column',\n    value,\n    field\n  };\n}\nexport function inferredColumn(value, field) {\n  const c = column(value, field);\n  return Object.assign(Object.assign({}, c), {\n    inferred: true\n  });\n}\nexport function visualColumn(value, field) {\n  if (value === null) return undefined;\n  return {\n    type: 'column',\n    value,\n    field,\n    visual: true\n  };\n}\nexport function nonConstantColumn(value, field) {\n  const c = column(value, field);\n  return Object.assign(Object.assign({}, c), {\n    constant: false\n  });\n}\nexport function constant(I, value) {\n  const array = [];\n  for (const i of I) array[i] = value;\n  return array;\n}\nexport function columnOf(encode, key) {\n  const channel = encode[key];\n  if (!channel) return [null, null];\n  const {\n    value,\n    field = null\n  } = channel;\n  return [value, field];\n}\nexport function maybeColumnOf(encode, ...K) {\n  for (const key of K) {\n    if (typeof key === 'string') {\n      const [KV, fv] = columnOf(encode, key);\n      if (KV !== null) return [KV, fv];\n    } else {\n      return [key, null];\n    }\n  }\n  return [null, null];\n}\nexport function isObject(d) {\n  if (d instanceof Date) return false;\n  return typeof d === 'object';\n}","map":{"version":3,"names":["column","value","field","undefined","type","inferredColumn","c","Object","assign","inferred","visualColumn","visual","nonConstantColumn","constant","I","array","i","columnOf","encode","key","channel","maybeColumnOf","K","KV","fv","isObject","d","Date"],"sources":["/Users/yizelu/Desktop/mcp/frontend/node_modules/@antv/g2/src/transform/utils/helper.ts"],"sourcesContent":["import { Primitive } from '../../runtime';\n\nexport function column(value: Primitive[], field?: string) {\n  if (value === null) return undefined;\n  return { type: 'column', value, field };\n}\n\nexport function inferredColumn(value: Primitive[], field?: string) {\n  const c = column(value, field);\n  return { ...c, inferred: true };\n}\n\nexport function visualColumn(value: Primitive[], field?: string) {\n  if (value === null) return undefined;\n  return { type: 'column', value, field, visual: true };\n}\n\nexport function nonConstantColumn(value: Primitive[], field?: string) {\n  const c = column(value, field);\n  return { ...c, constant: false };\n}\n\nexport function constant(I: number[], value: any) {\n  const array = [];\n  for (const i of I) array[i] = value;\n  return array;\n}\n\nexport function columnOf(encode, key: string): [Primitive[], string] {\n  const channel = encode[key];\n  if (!channel) return [null, null];\n  const { value, field = null } = channel;\n  return [value, field];\n}\n\nexport function maybeColumnOf(\n  encode,\n  ...K: (string | Primitive[])[]\n): [Primitive[], string] {\n  for (const key of K) {\n    if (typeof key === 'string') {\n      const [KV, fv] = columnOf(encode, key);\n      if (KV !== null) return [KV, fv];\n    } else {\n      return [key, null];\n    }\n  }\n  return [null, null];\n}\n\nexport function isObject(d) {\n  if (d instanceof Date) return false;\n  return typeof d === 'object';\n}\n"],"mappings":"AAEA,OAAM,SAAUA,MAAMA,CAACC,KAAkB,EAAEC,KAAc;EACvD,IAAID,KAAK,KAAK,IAAI,EAAE,OAAOE,SAAS;EACpC,OAAO;IAAEC,IAAI,EAAE,QAAQ;IAAEH,KAAK;IAAEC;EAAK,CAAE;AACzC;AAEA,OAAM,SAAUG,cAAcA,CAACJ,KAAkB,EAAEC,KAAc;EAC/D,MAAMI,CAAC,GAAGN,MAAM,CAACC,KAAK,EAAEC,KAAK,CAAC;EAC9B,OAAAK,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAAYF,CAAC;IAAEG,QAAQ,EAAE;EAAI;AAC/B;AAEA,OAAM,SAAUC,YAAYA,CAACT,KAAkB,EAAEC,KAAc;EAC7D,IAAID,KAAK,KAAK,IAAI,EAAE,OAAOE,SAAS;EACpC,OAAO;IAAEC,IAAI,EAAE,QAAQ;IAAEH,KAAK;IAAEC,KAAK;IAAES,MAAM,EAAE;EAAI,CAAE;AACvD;AAEA,OAAM,SAAUC,iBAAiBA,CAACX,KAAkB,EAAEC,KAAc;EAClE,MAAMI,CAAC,GAAGN,MAAM,CAACC,KAAK,EAAEC,KAAK,CAAC;EAC9B,OAAAK,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAAYF,CAAC;IAAEO,QAAQ,EAAE;EAAK;AAChC;AAEA,OAAM,SAAUA,QAAQA,CAACC,CAAW,EAAEb,KAAU;EAC9C,MAAMc,KAAK,GAAG,EAAE;EAChB,KAAK,MAAMC,CAAC,IAAIF,CAAC,EAAEC,KAAK,CAACC,CAAC,CAAC,GAAGf,KAAK;EACnC,OAAOc,KAAK;AACd;AAEA,OAAM,SAAUE,QAAQA,CAACC,MAAM,EAAEC,GAAW;EAC1C,MAAMC,OAAO,GAAGF,MAAM,CAACC,GAAG,CAAC;EAC3B,IAAI,CAACC,OAAO,EAAE,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC;EACjC,MAAM;IAAEnB,KAAK;IAAEC,KAAK,GAAG;EAAI,CAAE,GAAGkB,OAAO;EACvC,OAAO,CAACnB,KAAK,EAAEC,KAAK,CAAC;AACvB;AAEA,OAAM,SAAUmB,aAAaA,CAC3BH,MAAM,EACN,GAAGI,CAA2B;EAE9B,KAAK,MAAMH,GAAG,IAAIG,CAAC,EAAE;IACnB,IAAI,OAAOH,GAAG,KAAK,QAAQ,EAAE;MAC3B,MAAM,CAACI,EAAE,EAAEC,EAAE,CAAC,GAAGP,QAAQ,CAACC,MAAM,EAAEC,GAAG,CAAC;MACtC,IAAII,EAAE,KAAK,IAAI,EAAE,OAAO,CAACA,EAAE,EAAEC,EAAE,CAAC;KACjC,MAAM;MACL,OAAO,CAACL,GAAG,EAAE,IAAI,CAAC;;;EAGtB,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC;AACrB;AAEA,OAAM,SAAUM,QAAQA,CAACC,CAAC;EACxB,IAAIA,CAAC,YAAYC,IAAI,EAAE,OAAO,KAAK;EACnC,OAAO,OAAOD,CAAC,KAAK,QAAQ;AAC9B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}