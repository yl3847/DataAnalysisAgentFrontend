{"ast":null,"code":"\"use strict\";\n\nvar _ = require(\"../lodash\");\nvar util = require(\"../util\");\nvar positionX = require(\"./bk\").positionX;\nmodule.exports = position;\nfunction position(g) {\n  g = util.asNonCompoundGraph(g);\n  positionY(g);\n  _.forEach(positionX(g), function (x, v) {\n    g.node(v).x = x;\n  });\n}\nfunction positionY(g) {\n  var layering = util.buildLayerMatrix(g);\n  var rankSep = g.graph().ranksep;\n  var prevY = 0;\n  _.forEach(layering, function (layer) {\n    var maxHeight = _.max(_.map(layer, function (v) {\n      return g.node(v).height;\n    }));\n    _.forEach(layer, function (v) {\n      g.node(v).y = prevY + maxHeight / 2;\n    });\n    prevY += maxHeight + rankSep;\n  });\n}","map":{"version":3,"names":["_","require","util","positionX","module","exports","position","g","asNonCompoundGraph","positionY","forEach","x","v","node","layering","buildLayerMatrix","rankSep","graph","ranksep","prevY","layer","maxHeight","max","map","height","y"],"sources":["/Users/yizelu/Desktop/mcp/frontend/node_modules/dagre/lib/position/index.js"],"sourcesContent":["\"use strict\";\n\nvar _ = require(\"../lodash\");\nvar util = require(\"../util\");\nvar positionX = require(\"./bk\").positionX;\n\nmodule.exports = position;\n\nfunction position(g) {\n  g = util.asNonCompoundGraph(g);\n\n  positionY(g);\n  _.forEach(positionX(g), function(x, v) {\n    g.node(v).x = x;\n  });\n}\n\nfunction positionY(g) {\n  var layering = util.buildLayerMatrix(g);\n  var rankSep = g.graph().ranksep;\n  var prevY = 0;\n  _.forEach(layering, function(layer) {\n    var maxHeight = _.max(_.map(layer, function(v) { return g.node(v).height; }));\n    _.forEach(layer, function(v) {\n      g.node(v).y = prevY + maxHeight / 2;\n    });\n    prevY += maxHeight + rankSep;\n  });\n}\n\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,CAAC,GAAGC,OAAO,CAAC,WAAW,CAAC;AAC5B,IAAIC,IAAI,GAAGD,OAAO,CAAC,SAAS,CAAC;AAC7B,IAAIE,SAAS,GAAGF,OAAO,CAAC,MAAM,CAAC,CAACE,SAAS;AAEzCC,MAAM,CAACC,OAAO,GAAGC,QAAQ;AAEzB,SAASA,QAAQA,CAACC,CAAC,EAAE;EACnBA,CAAC,GAAGL,IAAI,CAACM,kBAAkB,CAACD,CAAC,CAAC;EAE9BE,SAAS,CAACF,CAAC,CAAC;EACZP,CAAC,CAACU,OAAO,CAACP,SAAS,CAACI,CAAC,CAAC,EAAE,UAASI,CAAC,EAAEC,CAAC,EAAE;IACrCL,CAAC,CAACM,IAAI,CAACD,CAAC,CAAC,CAACD,CAAC,GAAGA,CAAC;EACjB,CAAC,CAAC;AACJ;AAEA,SAASF,SAASA,CAACF,CAAC,EAAE;EACpB,IAAIO,QAAQ,GAAGZ,IAAI,CAACa,gBAAgB,CAACR,CAAC,CAAC;EACvC,IAAIS,OAAO,GAAGT,CAAC,CAACU,KAAK,CAAC,CAAC,CAACC,OAAO;EAC/B,IAAIC,KAAK,GAAG,CAAC;EACbnB,CAAC,CAACU,OAAO,CAACI,QAAQ,EAAE,UAASM,KAAK,EAAE;IAClC,IAAIC,SAAS,GAAGrB,CAAC,CAACsB,GAAG,CAACtB,CAAC,CAACuB,GAAG,CAACH,KAAK,EAAE,UAASR,CAAC,EAAE;MAAE,OAAOL,CAAC,CAACM,IAAI,CAACD,CAAC,CAAC,CAACY,MAAM;IAAE,CAAC,CAAC,CAAC;IAC7ExB,CAAC,CAACU,OAAO,CAACU,KAAK,EAAE,UAASR,CAAC,EAAE;MAC3BL,CAAC,CAACM,IAAI,CAACD,CAAC,CAAC,CAACa,CAAC,GAAGN,KAAK,GAAGE,SAAS,GAAG,CAAC;IACrC,CAAC,CAAC;IACFF,KAAK,IAAIE,SAAS,GAAGL,OAAO;EAC9B,CAAC,CAAC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}