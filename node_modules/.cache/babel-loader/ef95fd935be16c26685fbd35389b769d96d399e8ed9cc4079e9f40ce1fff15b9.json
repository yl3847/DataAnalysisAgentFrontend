{"ast":null,"code":"import { HTML } from '@antv/g6';\nimport { render, unmount } from './render';\nexport class ReactNode extends HTML {\n  getKeyStyle(attributes) {\n    return Object.assign({}, super.getKeyStyle(attributes));\n  }\n  constructor(options) {\n    super(options);\n  }\n  update(attr) {\n    super.update(attr);\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    // this.root = createRoot(this.getDomElement());\n    const {\n      component\n    } = this.attributes;\n    // component 已经被回调机制自动创建为 ReactNode\n    // component has been automatically created as ReactNode by the callback mechanism\n    render(component, this.getDomElement());\n  }\n  attributeChangedCallback(name, oldValue, newValue) {\n    super.attributeChangedCallback(name, oldValue, newValue);\n    if (name === 'component' && oldValue !== newValue) {\n      render(this.attributes.component, this.getDomElement());\n    }\n  }\n  destroy() {\n    unmount(this.getDomElement());\n    super.destroy();\n  }\n}","map":{"version":3,"names":["HTML","render","unmount","ReactNode","getKeyStyle","attributes","Object","assign","constructor","options","update","attr","connectedCallback","component","getDomElement","attributeChangedCallback","name","oldValue","newValue","destroy"],"sources":["/Users/yizelu/Desktop/mcp/frontend/node_modules/@antv/g6-extension-react/src/react-node/node.tsx"],"sourcesContent":["import type { DisplayObjectConfig, HTMLStyleProps as GHTMLStyleProps } from '@antv/g';\nimport type { BaseNodeStyleProps, HTMLStyleProps } from '@antv/g6';\nimport { HTML } from '@antv/g6';\nimport type { FC, ReactElement } from 'react';\nimport { render, unmount } from './render';\n\nexport interface ReactNodeStyleProps extends BaseNodeStyleProps {\n  /**\n   * <zh/> React 组件\n   *\n   * <en/> React component\n   */\n  component: FC;\n}\n\nexport class ReactNode extends HTML {\n  protected getKeyStyle(attributes: Required<HTMLStyleProps>): GHTMLStyleProps {\n    return { ...super.getKeyStyle(attributes) };\n  }\n\n  constructor(options: DisplayObjectConfig<ReactNodeStyleProps>) {\n    super(options as any);\n  }\n\n  public update(attr?: Partial<ReactNodeStyleProps> | undefined): void {\n    super.update(attr);\n  }\n\n  public connectedCallback() {\n    super.connectedCallback();\n    // this.root = createRoot(this.getDomElement());\n    const { component } = this.attributes as unknown as ReactNodeStyleProps;\n    // component 已经被回调机制自动创建为 ReactNode\n    // component has been automatically created as ReactNode by the callback mechanism\n    render(component as unknown as ReactElement, this.getDomElement());\n  }\n\n  public attributeChangedCallback(name: any, oldValue: any, newValue: any) {\n    super.attributeChangedCallback(name, oldValue, newValue);\n    if (name === 'component' && oldValue !== newValue) {\n      render(\n        (this.attributes as unknown as ReactNodeStyleProps).component as unknown as ReactElement,\n        this.getDomElement(),\n      );\n    }\n  }\n\n  public destroy(): void {\n    unmount(this.getDomElement());\n    super.destroy();\n  }\n}\n"],"mappings":"AAEA,SAASA,IAAI,QAAQ,UAAU;AAE/B,SAASC,MAAM,EAAEC,OAAO,QAAQ,UAAU;AAW1C,OAAM,MAAOC,SAAU,SAAQH,IAAI;EACvBI,WAAWA,CAACC,UAAoC;IACxD,OAAAC,MAAA,CAAAC,MAAA,KAAY,KAAK,CAACH,WAAW,CAACC,UAAU,CAAC;EAC3C;EAEAG,YAAYC,OAAiD;IAC3D,KAAK,CAACA,OAAc,CAAC;EACvB;EAEOC,MAAMA,CAACC,IAA+C;IAC3D,KAAK,CAACD,MAAM,CAACC,IAAI,CAAC;EACpB;EAEOC,iBAAiBA,CAAA;IACtB,KAAK,CAACA,iBAAiB,EAAE;IACzB;IACA,MAAM;MAAEC;IAAS,CAAE,GAAG,IAAI,CAACR,UAA4C;IACvE;IACA;IACAJ,MAAM,CAACY,SAAoC,EAAE,IAAI,CAACC,aAAa,EAAE,CAAC;EACpE;EAEOC,wBAAwBA,CAACC,IAAS,EAAEC,QAAa,EAAEC,QAAa;IACrE,KAAK,CAACH,wBAAwB,CAACC,IAAI,EAAEC,QAAQ,EAAEC,QAAQ,CAAC;IACxD,IAAIF,IAAI,KAAK,WAAW,IAAIC,QAAQ,KAAKC,QAAQ,EAAE;MACjDjB,MAAM,CACH,IAAI,CAACI,UAA6C,CAACQ,SAAoC,EACxF,IAAI,CAACC,aAAa,EAAE,CACrB;IACH;EACF;EAEOK,OAAOA,CAAA;IACZjB,OAAO,CAAC,IAAI,CAACY,aAAa,EAAE,CAAC;IAC7B,KAAK,CAACK,OAAO,EAAE;EACjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}