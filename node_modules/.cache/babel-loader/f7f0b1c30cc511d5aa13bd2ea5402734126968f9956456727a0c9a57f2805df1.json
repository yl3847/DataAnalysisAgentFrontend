{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { deepMix, isNumber } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { prettyNumber } from '../utils/number';\nimport { LiquidShape } from '../shape';\nconst DEFAULT_OPTIONS = {\n  axis: {\n    x: false,\n    y: false\n  },\n  legend: false,\n  tooltip: false,\n  encode: {\n    x: 'type',\n    y: 'percent'\n  },\n  scale: {\n    y: {\n      domain: [0, 1]\n    }\n  },\n  style: {\n    shape: LiquidShape\n  },\n  animate: {\n    enter: {\n      type: 'fadeIn'\n    }\n  }\n};\nconst DEFAULT_TEXT_OPTIONS = {\n  type: 'text',\n  style: {\n    x: '50%',\n    y: '50%',\n    textAlign: 'center',\n    textBaseline: 'middle',\n    fontSize: 20,\n    fontWeight: 800,\n    fill: '#888'\n  },\n  animate: {\n    enter: {\n      type: 'fadeIn'\n    }\n  }\n};\nexport const Liquid = options => {\n  const {\n      data = {},\n      style = {},\n      animate\n    } = options,\n    resOptions = __rest(options, [\"data\", \"style\", \"animate\"]);\n  // Compatible with old data structures: { percent: number } and percent >= 0.\n  const percent = Math.max(0, isNumber(data) ? data : data === null || data === void 0 ? void 0 : data.percent);\n  const newData = [{\n    percent,\n    type: 'liquid'\n  }];\n  const contentStyle = Object.assign(Object.assign({}, subObject(style, 'text')), subObject(style, 'content'));\n  const outline = subObject(style, 'outline');\n  const wave = subObject(style, 'wave');\n  const background = subObject(style, 'background');\n  return [deepMix({}, DEFAULT_OPTIONS, Object.assign({\n    type: 'interval',\n    data: newData,\n    style: {\n      liquidOptions: {\n        percent,\n        liquidShape: style === null || style === void 0 ? void 0 : style.shape\n      },\n      styleOptions: Object.assign(Object.assign({}, style), {\n        outline,\n        wave,\n        background\n      })\n    },\n    animate\n  }, resOptions)), deepMix({}, DEFAULT_TEXT_OPTIONS, {\n    style: Object.assign({\n      text: `${prettyNumber(percent * 100)} %`\n    }, contentStyle),\n    animate\n  })];\n};\nLiquid.props = {};","map":{"version":3,"names":["deepMix","isNumber","subObject","prettyNumber","LiquidShape","DEFAULT_OPTIONS","axis","x","y","legend","tooltip","encode","scale","domain","style","shape","animate","enter","type","DEFAULT_TEXT_OPTIONS","textAlign","textBaseline","fontSize","fontWeight","fill","Liquid","options","data","resOptions","__rest","percent","Math","max","newData","contentStyle","Object","assign","outline","wave","background","liquidOptions","liquidShape","styleOptions","text","props"],"sources":["/Users/yizelu/Desktop/mcp/frontend/node_modules/@antv/g2/src/mark/liquid.ts"],"sourcesContent":["import { deepMix, isNumber } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { prettyNumber } from '../utils/number';\nimport { CompositeMarkComponent as CC } from '../runtime';\nimport { LiquidMark } from '../spec';\nimport { LiquidShape } from '../shape';\n\nconst DEFAULT_OPTIONS = {\n  axis: {\n    x: false,\n    y: false,\n  },\n  legend: false,\n  tooltip: false,\n  encode: {\n    x: 'type',\n    y: 'percent',\n  },\n  scale: {\n    y: {\n      domain: [0, 1],\n    },\n  },\n  style: {\n    shape: LiquidShape,\n  },\n  animate: {\n    enter: {\n      type: 'fadeIn',\n    },\n  },\n};\n\nconst DEFAULT_TEXT_OPTIONS = {\n  type: 'text',\n  style: {\n    x: '50%',\n    y: '50%',\n    textAlign: 'center',\n    textBaseline: 'middle',\n    fontSize: 20,\n    fontWeight: 800,\n    fill: '#888',\n  },\n  animate: {\n    enter: {\n      type: 'fadeIn',\n    },\n  },\n};\n\nexport type LiquidData =\n  | {\n      percent?: number;\n    }\n  | number;\n\nexport type LiquidOptions = Omit<LiquidMark, 'type'>;\n\nexport const Liquid: CC<LiquidOptions> = (options) => {\n  const { data = {}, style = {}, animate, ...resOptions } = options;\n  // Compatible with old data structures: { percent: number } and percent >= 0.\n  const percent = Math.max(0, isNumber(data) ? data : data?.percent);\n\n  const newData = [{ percent, type: 'liquid' }];\n\n  const contentStyle = {\n    ...subObject(style, 'text'),\n    ...subObject(style, 'content'),\n  };\n\n  const outline = subObject(style, 'outline');\n  const wave = subObject(style, 'wave');\n  const background = subObject(style, 'background');\n\n  return [\n    deepMix({}, DEFAULT_OPTIONS, {\n      type: 'interval',\n      data: newData,\n      style: {\n        liquidOptions: {\n          percent,\n          liquidShape: style?.shape,\n        },\n        styleOptions: {\n          ...style,\n          outline,\n          wave,\n          background,\n        },\n      },\n      animate,\n      ...resOptions,\n    }),\n    deepMix({}, DEFAULT_TEXT_OPTIONS, {\n      style: {\n        text: `${prettyNumber(percent * 100)} %`,\n        ...contentStyle,\n      },\n      animate,\n    }),\n  ];\n};\n\nLiquid.props = {};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}