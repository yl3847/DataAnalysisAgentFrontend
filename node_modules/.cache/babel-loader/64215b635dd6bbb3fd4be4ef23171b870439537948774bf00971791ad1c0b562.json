{"ast":null,"code":"import { deepMix } from '@antv/util';\nimport { LineXY } from '../shape';\nimport { MaybeTupleX } from '../transform';\nimport { basePostInference, baseAnnotationChannels, basePreInference, createBandOffset } from './utils';\nconst shape = {\n  line: LineXY\n};\nexport const LineX = options => {\n  return (index, scale, value, coordinate) => {\n    const {\n      x: X\n    } = value;\n    const offset = createBandOffset(scale, value, deepMix({\n      style: {\n        bandOffset: 0\n      }\n    }, options));\n    const P = Array.from(index, i => {\n      const p1 = [X[i], 1];\n      const p2 = [X[i], 0];\n      return [p1, p2].map(d => coordinate.map(offset(d, i)));\n    });\n    return [index, P];\n  };\n};\nLineX.props = {\n  defaultShape: 'line',\n  defaultLabelShape: 'label',\n  composite: false,\n  shape,\n  channels: [...baseAnnotationChannels({\n    shapes: Object.keys(shape)\n  }), {\n    name: 'x',\n    required: true\n  }],\n  preInference: [...basePreInference(), {\n    type: MaybeTupleX\n  }],\n  postInference: [...basePostInference()]\n};","map":{"version":3,"names":["deepMix","LineXY","MaybeTupleX","basePostInference","baseAnnotationChannels","basePreInference","createBandOffset","shape","line","LineX","options","index","scale","value","coordinate","x","X","offset","style","bandOffset","P","Array","from","i","p1","p2","map","d","props","defaultShape","defaultLabelShape","composite","channels","shapes","Object","keys","name","required","preInference","type","postInference"],"sources":["/Users/yizelu/Desktop/mcp/frontend/node_modules/@antv/g2/src/mark/lineX.ts"],"sourcesContent":["import { deepMix } from '@antv/util';\nimport { MarkComponent as MC, Vector2 } from '../runtime';\nimport { LineXMark } from '../spec';\nimport { LineXY } from '../shape';\nimport { MaybeTupleX } from '../transform';\nimport {\n  basePostInference,\n  baseAnnotationChannels,\n  basePreInference,\n  createBandOffset,\n} from './utils';\n\nconst shape = {\n  line: LineXY,\n};\n\nexport type LineXOptions = Omit<LineXMark, 'type'>;\n\nexport const LineX: MC<LineXOptions> = (options) => {\n  return (index, scale, value, coordinate) => {\n    const { x: X } = value;\n    const offset = createBandOffset(\n      scale,\n      value,\n      deepMix({ style: { bandOffset: 0 } }, options),\n    );\n    const P = Array.from(index, (i) => {\n      const p1 = [X[i], 1] as Vector2;\n      const p2 = [X[i], 0] as Vector2;\n      return [p1, p2].map((d) => coordinate.map(offset(d, i))) as Vector2[];\n    });\n    return [index, P];\n  };\n};\n\nLineX.props = {\n  defaultShape: 'line',\n  defaultLabelShape: 'label',\n  composite: false,\n  shape,\n  channels: [\n    ...baseAnnotationChannels({ shapes: Object.keys(shape) }),\n    { name: 'x', required: true },\n  ],\n  preInference: [...basePreInference(), { type: MaybeTupleX }],\n  postInference: [...basePostInference()],\n};\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,YAAY;AAGpC,SAASC,MAAM,QAAQ,UAAU;AACjC,SAASC,WAAW,QAAQ,cAAc;AAC1C,SACEC,iBAAiB,EACjBC,sBAAsB,EACtBC,gBAAgB,EAChBC,gBAAgB,QACX,SAAS;AAEhB,MAAMC,KAAK,GAAG;EACZC,IAAI,EAAEP;CACP;AAID,OAAO,MAAMQ,KAAK,GAAsBC,OAAO,IAAI;EACjD,OAAO,CAACC,KAAK,EAAEC,KAAK,EAAEC,KAAK,EAAEC,UAAU,KAAI;IACzC,MAAM;MAAEC,CAAC,EAAEC;IAAC,CAAE,GAAGH,KAAK;IACtB,MAAMI,MAAM,GAAGX,gBAAgB,CAC7BM,KAAK,EACLC,KAAK,EACLb,OAAO,CAAC;MAAEkB,KAAK,EAAE;QAAEC,UAAU,EAAE;MAAC;IAAE,CAAE,EAAET,OAAO,CAAC,CAC/C;IACD,MAAMU,CAAC,GAAGC,KAAK,CAACC,IAAI,CAACX,KAAK,EAAGY,CAAC,IAAI;MAChC,MAAMC,EAAE,GAAG,CAACR,CAAC,CAACO,CAAC,CAAC,EAAE,CAAC,CAAY;MAC/B,MAAME,EAAE,GAAG,CAACT,CAAC,CAACO,CAAC,CAAC,EAAE,CAAC,CAAY;MAC/B,OAAO,CAACC,EAAE,EAAEC,EAAE,CAAC,CAACC,GAAG,CAAEC,CAAC,IAAKb,UAAU,CAACY,GAAG,CAACT,MAAM,CAACU,CAAC,EAAEJ,CAAC,CAAC,CAAC,CAAc;IACvE,CAAC,CAAC;IACF,OAAO,CAACZ,KAAK,EAAES,CAAC,CAAC;EACnB,CAAC;AACH,CAAC;AAEDX,KAAK,CAACmB,KAAK,GAAG;EACZC,YAAY,EAAE,MAAM;EACpBC,iBAAiB,EAAE,OAAO;EAC1BC,SAAS,EAAE,KAAK;EAChBxB,KAAK;EACLyB,QAAQ,EAAE,CACR,GAAG5B,sBAAsB,CAAC;IAAE6B,MAAM,EAAEC,MAAM,CAACC,IAAI,CAAC5B,KAAK;EAAC,CAAE,CAAC,EACzD;IAAE6B,IAAI,EAAE,GAAG;IAAEC,QAAQ,EAAE;EAAI,CAAE,CAC9B;EACDC,YAAY,EAAE,CAAC,GAAGjC,gBAAgB,EAAE,EAAE;IAAEkC,IAAI,EAAErC;EAAW,CAAE,CAAC;EAC5DsC,aAAa,EAAE,CAAC,GAAGrC,iBAAiB,EAAE;CACvC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}