{"ast":null,"code":"import Vector from './utils/vector';\n/**\n * cosine-similarity算法 计算余弦相似度\n * @param item 元素\n * @param targetItem 目标元素\n */\nvar cosineSimilarity = function cosineSimilarity(item, targetItem) {\n  // 目标元素向量\n  var targetItemVector = new Vector(targetItem);\n  // 目标元素向量的模长\n  var targetNodeNorm2 = targetItemVector.norm2();\n  // 元素向量\n  var itemVector = new Vector(item);\n  // 元素向量的模长\n  var itemNorm2 = itemVector.norm2();\n  // 计算元素向量和目标元素向量的点积\n  var dot = targetItemVector.dot(itemVector);\n  var norm2Product = targetNodeNorm2 * itemNorm2;\n  // 计算元素向量和目标元素向量的余弦相似度\n  var cosineSimilarity = norm2Product ? dot / norm2Product : 0;\n  return cosineSimilarity;\n};\nexport default cosineSimilarity;","map":{"version":3,"names":["Vector","cosineSimilarity","item","targetItem","targetItemVector","targetNodeNorm2","norm2","itemVector","itemNorm2","dot","norm2Product"],"sources":["/Users/yizelu/Desktop/mcp/frontend/node_modules/@antv/algorithm/es/cosine-similarity.js"],"sourcesContent":["import Vector from './utils/vector';\n/**\n * cosine-similarity算法 计算余弦相似度\n * @param item 元素\n * @param targetItem 目标元素\n */\nvar cosineSimilarity = function cosineSimilarity(item, targetItem) {\n  // 目标元素向量\n  var targetItemVector = new Vector(targetItem);\n  // 目标元素向量的模长\n  var targetNodeNorm2 = targetItemVector.norm2();\n  // 元素向量\n  var itemVector = new Vector(item);\n  // 元素向量的模长\n  var itemNorm2 = itemVector.norm2();\n  // 计算元素向量和目标元素向量的点积\n  var dot = targetItemVector.dot(itemVector);\n  var norm2Product = targetNodeNorm2 * itemNorm2;\n  // 计算元素向量和目标元素向量的余弦相似度\n  var cosineSimilarity = norm2Product ? dot / norm2Product : 0;\n  return cosineSimilarity;\n};\nexport default cosineSimilarity;"],"mappings":"AAAA,OAAOA,MAAM,MAAM,gBAAgB;AACnC;AACA;AACA;AACA;AACA;AACA,IAAIC,gBAAgB,GAAG,SAASA,gBAAgBA,CAACC,IAAI,EAAEC,UAAU,EAAE;EACjE;EACA,IAAIC,gBAAgB,GAAG,IAAIJ,MAAM,CAACG,UAAU,CAAC;EAC7C;EACA,IAAIE,eAAe,GAAGD,gBAAgB,CAACE,KAAK,CAAC,CAAC;EAC9C;EACA,IAAIC,UAAU,GAAG,IAAIP,MAAM,CAACE,IAAI,CAAC;EACjC;EACA,IAAIM,SAAS,GAAGD,UAAU,CAACD,KAAK,CAAC,CAAC;EAClC;EACA,IAAIG,GAAG,GAAGL,gBAAgB,CAACK,GAAG,CAACF,UAAU,CAAC;EAC1C,IAAIG,YAAY,GAAGL,eAAe,GAAGG,SAAS;EAC9C;EACA,IAAIP,gBAAgB,GAAGS,YAAY,GAAGD,GAAG,GAAGC,YAAY,GAAG,CAAC;EAC5D,OAAOT,gBAAgB;AACzB,CAAC;AACD,eAAeA,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}