{"ast":null,"code":"import { BaseTransform } from '@antv/g6';\n/**\n * ArrangeEdgeZIndex transform, specifically for indented tree layout\n */\nexport class ArrangeEdgeZIndex extends BaseTransform {\n  beforeDraw(input) {\n    const {\n      model\n    } = this.context;\n    const {\n      nodes,\n      edges\n    } = model.getData();\n    const oneLevelNodes = nodes.filter(node => node.depth === 1);\n    const oneLevelNodeIds = oneLevelNodes.map(node => node.id);\n    edges.forEach(edge => {\n      if (oneLevelNodeIds.includes(edge.target)) {\n        edge.style ||= {};\n        edge.style.zIndex = oneLevelNodes.length - oneLevelNodes.findIndex(node => node.id === edge.target);\n      }\n    });\n    return input;\n  }\n}","map":{"version":3,"names":["BaseTransform","ArrangeEdgeZIndex","beforeDraw","input","model","context","nodes","edges","getData","oneLevelNodes","filter","node","depth","oneLevelNodeIds","map","id","forEach","edge","includes","target","style","zIndex","length","findIndex"],"sources":["/Users/yizelu/Desktop/mcp/frontend/node_modules/@ant-design/graphs/es/core/transform/arrange-edge-z-index.js"],"sourcesContent":["import { BaseTransform } from '@antv/g6';\n/**\n * ArrangeEdgeZIndex transform, specifically for indented tree layout\n */\nexport class ArrangeEdgeZIndex extends BaseTransform {\n    beforeDraw(input) {\n        const { model } = this.context;\n        const { nodes, edges } = model.getData();\n        const oneLevelNodes = nodes.filter((node) => node.depth === 1);\n        const oneLevelNodeIds = oneLevelNodes.map((node) => node.id);\n        edges.forEach((edge) => {\n            if (oneLevelNodeIds.includes(edge.target)) {\n                edge.style ||= {};\n                edge.style.zIndex = oneLevelNodes.length - oneLevelNodes.findIndex((node) => node.id === edge.target);\n            }\n        });\n        return input;\n    }\n}\n"],"mappings":"AAAA,SAASA,aAAa,QAAQ,UAAU;AACxC;AACA;AACA;AACA,OAAO,MAAMC,iBAAiB,SAASD,aAAa,CAAC;EACjDE,UAAUA,CAACC,KAAK,EAAE;IACd,MAAM;MAAEC;IAAM,CAAC,GAAG,IAAI,CAACC,OAAO;IAC9B,MAAM;MAAEC,KAAK;MAAEC;IAAM,CAAC,GAAGH,KAAK,CAACI,OAAO,CAAC,CAAC;IACxC,MAAMC,aAAa,GAAGH,KAAK,CAACI,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACC,KAAK,KAAK,CAAC,CAAC;IAC9D,MAAMC,eAAe,GAAGJ,aAAa,CAACK,GAAG,CAAEH,IAAI,IAAKA,IAAI,CAACI,EAAE,CAAC;IAC5DR,KAAK,CAACS,OAAO,CAAEC,IAAI,IAAK;MACpB,IAAIJ,eAAe,CAACK,QAAQ,CAACD,IAAI,CAACE,MAAM,CAAC,EAAE;QACvCF,IAAI,CAACG,KAAK,KAAK,CAAC,CAAC;QACjBH,IAAI,CAACG,KAAK,CAACC,MAAM,GAAGZ,aAAa,CAACa,MAAM,GAAGb,aAAa,CAACc,SAAS,CAAEZ,IAAI,IAAKA,IAAI,CAACI,EAAE,KAAKE,IAAI,CAACE,MAAM,CAAC;MACzG;IACJ,CAAC,CAAC;IACF,OAAOhB,KAAK;EAChB;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}