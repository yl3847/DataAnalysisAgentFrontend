{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { path as d3path } from '@antv/vendor/d3-path';\nimport { applyStyle } from '../utils';\nimport { select } from '../../utils/selection';\nimport { isPolar } from '../../utils/coordinate';\nimport { angle, sub, dist } from '../../utils/vector';\nfunction getPath(points, coordinate) {\n  const path = d3path();\n  if (!isPolar(coordinate)) {\n    path.moveTo(...points[0]);\n    path.lineTo(...points[1]);\n    path.moveTo(...points[2]);\n    path.lineTo(...points[3]);\n    path.moveTo(...points[4]);\n    path.lineTo(...points[5]);\n    path.lineTo(...points[6]);\n    path.lineTo(...points[7]);\n    path.closePath();\n    path.moveTo(...points[8]);\n    path.lineTo(...points[9]);\n    path.moveTo(...points[10]);\n    path.lineTo(...points[11]);\n    path.moveTo(...points[12]);\n    path.lineTo(...points[13]);\n  } else {\n    // In polar coordinate.\n    const center = coordinate.getCenter();\n    const [x, y] = center;\n    const startAngle = angle(sub(points[0], center));\n    const endAngle = angle(sub(points[1], center));\n    const radiusHigh = dist(center, points[2]);\n    const radiusQ3 = dist(center, points[3]);\n    const radiusMedian = dist(center, points[8]);\n    const radiusQ1 = dist(center, points[10]);\n    const radiusLow = dist(center, points[11]);\n    path.moveTo(...points[0]);\n    path.arc(x, y, radiusHigh, startAngle, endAngle);\n    path.arc(x, y, radiusHigh, endAngle, startAngle, true);\n    path.moveTo(...points[2]);\n    path.lineTo(...points[3]);\n    path.moveTo(...points[4]);\n    path.arc(x, y, radiusQ3, startAngle, endAngle); // 4 -> 5\n    path.lineTo(...points[6]); // 5 -> 6\n    path.arc(x, y, radiusQ1, endAngle, startAngle, true); // 6 -> 7\n    path.closePath();\n    path.moveTo(...points[8]);\n    path.arc(x, y, radiusMedian, startAngle, endAngle); // 8 -> 9\n    path.arc(x, y, radiusMedian, endAngle, startAngle, true); // 9 -> 8\n    path.moveTo(...points[10]);\n    path.lineTo(...points[11]);\n    path.moveTo(...points[12]);\n    path.arc(x, y, radiusLow, startAngle, endAngle); // 12 -> 13\n    path.arc(x, y, radiusLow, endAngle, startAngle, true); // 13 -> 12\n  }\n  return path;\n}\nexport const Box = (options, context) => {\n  const {\n    coordinate,\n    document\n  } = context;\n  return (points, value, defaults) => {\n    const {\n      color,\n      transform\n    } = value;\n    const {\n        color: defaultColor,\n        fill = defaultColor,\n        stroke = defaultColor\n      } = defaults,\n      rest = __rest(defaults, [\"color\", \"fill\", \"stroke\"]);\n    const path = getPath(points, coordinate);\n    return select(document.createElement('path', {})).call(applyStyle, rest).style('d', path.toString()).style('stroke', stroke).style('fill', color || fill).style('transform', transform).call(applyStyle, options).node();\n  };\n};\nBox.props = {\n  defaultMarker: 'point',\n  defaultEnterAnimation: 'fadeIn',\n  defaultUpdateAnimation: 'morphing',\n  defaultExitAnimation: 'fadeOut'\n};","map":{"version":3,"names":["path","d3path","applyStyle","select","isPolar","angle","sub","dist","getPath","points","coordinate","moveTo","lineTo","closePath","center","getCenter","x","y","startAngle","endAngle","radiusHigh","radiusQ3","radiusMedian","radiusQ1","radiusLow","arc","Box","options","context","document","value","defaults","color","transform","defaultColor","fill","stroke","rest","__rest","createElement","call","style","toString","node","props","defaultMarker","defaultEnterAnimation","defaultUpdateAnimation","defaultExitAnimation"],"sources":["/Users/yizelu/Desktop/mcp/frontend/node_modules/@antv/g2/src/shape/box/box.ts"],"sourcesContent":["import { path as d3path } from '@antv/vendor/d3-path';\nimport { Coordinate } from '@antv/coord';\nimport { applyStyle } from '../utils';\nimport { select } from '../../utils/selection';\nimport { ShapeComponent as SC, Vector2 } from '../../runtime';\nimport { isPolar } from '../../utils/coordinate';\nimport { angle, sub, dist } from '../../utils/vector';\n\nexport type BoxOptions = Record<string, any>;\n\nfunction getPath(points: Vector2[], coordinate: Coordinate) {\n  const path = d3path();\n\n  if (!isPolar(coordinate)) {\n    path.moveTo(...points[0]);\n    path.lineTo(...points[1]);\n\n    path.moveTo(...points[2]);\n    path.lineTo(...points[3]);\n\n    path.moveTo(...points[4]);\n    path.lineTo(...points[5]);\n    path.lineTo(...points[6]);\n    path.lineTo(...points[7]);\n    path.closePath();\n\n    path.moveTo(...points[8]);\n    path.lineTo(...points[9]);\n\n    path.moveTo(...points[10]);\n    path.lineTo(...points[11]);\n\n    path.moveTo(...points[12]);\n    path.lineTo(...points[13]);\n  } else {\n    // In polar coordinate.\n    const center = coordinate.getCenter();\n    const [x, y] = center;\n    const startAngle = angle(sub(points[0], center));\n    const endAngle = angle(sub(points[1], center));\n\n    const radiusHigh = dist(center, points[2]);\n    const radiusQ3 = dist(center, points[3]);\n    const radiusMedian = dist(center, points[8]);\n    const radiusQ1 = dist(center, points[10]);\n    const radiusLow = dist(center, points[11]);\n\n    path.moveTo(...points[0]);\n    path.arc(x, y, radiusHigh, startAngle, endAngle);\n    path.arc(x, y, radiusHigh, endAngle, startAngle, true);\n\n    path.moveTo(...points[2]);\n    path.lineTo(...points[3]);\n\n    path.moveTo(...points[4]);\n    path.arc(x, y, radiusQ3, startAngle, endAngle); // 4 -> 5\n    path.lineTo(...points[6]); // 5 -> 6\n    path.arc(x, y, radiusQ1, endAngle, startAngle, true); // 6 -> 7\n    path.closePath();\n\n    path.moveTo(...points[8]);\n    path.arc(x, y, radiusMedian, startAngle, endAngle); // 8 -> 9\n    path.arc(x, y, radiusMedian, endAngle, startAngle, true); // 9 -> 8\n\n    path.moveTo(...points[10]);\n    path.lineTo(...points[11]);\n\n    path.moveTo(...points[12]);\n    path.arc(x, y, radiusLow, startAngle, endAngle); // 12 -> 13\n    path.arc(x, y, radiusLow, endAngle, startAngle, true); // 13 -> 12\n  }\n  return path;\n}\n\nexport const Box: SC<BoxOptions> = (options, context) => {\n  const { coordinate, document } = context;\n  return (points, value, defaults) => {\n    const { color, transform } = value;\n    const {\n      color: defaultColor,\n      fill = defaultColor,\n      stroke = defaultColor,\n      ...rest\n    } = defaults;\n\n    const path = getPath(points, coordinate);\n\n    return select(document.createElement('path', {}))\n      .call(applyStyle, rest)\n      .style('d', path.toString())\n      .style('stroke', stroke)\n      .style('fill', color || fill)\n      .style('transform', transform)\n      .call(applyStyle, options)\n      .node();\n  };\n};\n\nBox.props = {\n  defaultMarker: 'point',\n  defaultEnterAnimation: 'fadeIn',\n  defaultUpdateAnimation: 'morphing',\n  defaultExitAnimation: 'fadeOut',\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}