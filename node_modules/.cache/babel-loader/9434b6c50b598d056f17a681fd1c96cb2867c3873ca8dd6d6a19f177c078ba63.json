{"ast":null,"code":"import { HoverActivate, idOf } from '@antv/g6';\n/**\n * Behavior to activate the hovered element and its chain (including nodes and edges).\n */\nexport class HoverActivateChain extends HoverActivate {\n  getActiveIds(event) {\n    const {\n      model,\n      graph\n    } = this.context;\n    const targetId = event.target.id;\n    const targetType = graph.getElementType(targetId);\n    const ids = [targetId];\n    if (targetType === 'edge') {\n      const edge = model.getEdgeDatum(targetId);\n      this.collectChainNodes(edge.source, 'in', ids);\n      this.collectChainNodes(edge.target, 'out', ids);\n    } else if (targetType === 'node') {\n      this.collectChainNodes(targetId, 'both', ids);\n    }\n    graph.frontElement(ids);\n    return ids;\n  }\n  collectChainNodes(nodeId, direction, ids) {\n    const {\n      model\n    } = this.context;\n    const edges = model.getRelatedEdgesData(nodeId, direction);\n    edges.forEach(edge => {\n      if (!ids.includes(idOf(edge))) ids.push(idOf(edge));\n      if (!ids.includes(edge.source)) {\n        ids.push(edge.source);\n        this.collectChainNodes(edge.source, 'in', ids);\n      }\n      if (!ids.includes(edge.target)) {\n        ids.push(edge.target);\n        this.collectChainNodes(edge.target, 'out', ids);\n      }\n    });\n  }\n}","map":{"version":3,"names":["HoverActivate","idOf","HoverActivateChain","getActiveIds","event","model","graph","context","targetId","target","id","targetType","getElementType","ids","edge","getEdgeDatum","collectChainNodes","source","frontElement","nodeId","direction","edges","getRelatedEdgesData","forEach","includes","push"],"sources":["/Users/yizelu/Desktop/mcp/frontend/node_modules/@ant-design/graphs/es/core/behaviors/hover-activate-chain.js"],"sourcesContent":["import { HoverActivate, idOf } from '@antv/g6';\n/**\n * Behavior to activate the hovered element and its chain (including nodes and edges).\n */\nexport class HoverActivateChain extends HoverActivate {\n    getActiveIds(event) {\n        const { model, graph } = this.context;\n        const targetId = event.target.id;\n        const targetType = graph.getElementType(targetId);\n        const ids = [targetId];\n        if (targetType === 'edge') {\n            const edge = model.getEdgeDatum(targetId);\n            this.collectChainNodes(edge.source, 'in', ids);\n            this.collectChainNodes(edge.target, 'out', ids);\n        }\n        else if (targetType === 'node') {\n            this.collectChainNodes(targetId, 'both', ids);\n        }\n        graph.frontElement(ids);\n        return ids;\n    }\n    collectChainNodes(nodeId, direction, ids) {\n        const { model } = this.context;\n        const edges = model.getRelatedEdgesData(nodeId, direction);\n        edges.forEach((edge) => {\n            if (!ids.includes(idOf(edge)))\n                ids.push(idOf(edge));\n            if (!ids.includes(edge.source)) {\n                ids.push(edge.source);\n                this.collectChainNodes(edge.source, 'in', ids);\n            }\n            if (!ids.includes(edge.target)) {\n                ids.push(edge.target);\n                this.collectChainNodes(edge.target, 'out', ids);\n            }\n        });\n    }\n}\n"],"mappings":"AAAA,SAASA,aAAa,EAAEC,IAAI,QAAQ,UAAU;AAC9C;AACA;AACA;AACA,OAAO,MAAMC,kBAAkB,SAASF,aAAa,CAAC;EAClDG,YAAYA,CAACC,KAAK,EAAE;IAChB,MAAM;MAAEC,KAAK;MAAEC;IAAM,CAAC,GAAG,IAAI,CAACC,OAAO;IACrC,MAAMC,QAAQ,GAAGJ,KAAK,CAACK,MAAM,CAACC,EAAE;IAChC,MAAMC,UAAU,GAAGL,KAAK,CAACM,cAAc,CAACJ,QAAQ,CAAC;IACjD,MAAMK,GAAG,GAAG,CAACL,QAAQ,CAAC;IACtB,IAAIG,UAAU,KAAK,MAAM,EAAE;MACvB,MAAMG,IAAI,GAAGT,KAAK,CAACU,YAAY,CAACP,QAAQ,CAAC;MACzC,IAAI,CAACQ,iBAAiB,CAACF,IAAI,CAACG,MAAM,EAAE,IAAI,EAAEJ,GAAG,CAAC;MAC9C,IAAI,CAACG,iBAAiB,CAACF,IAAI,CAACL,MAAM,EAAE,KAAK,EAAEI,GAAG,CAAC;IACnD,CAAC,MACI,IAAIF,UAAU,KAAK,MAAM,EAAE;MAC5B,IAAI,CAACK,iBAAiB,CAACR,QAAQ,EAAE,MAAM,EAAEK,GAAG,CAAC;IACjD;IACAP,KAAK,CAACY,YAAY,CAACL,GAAG,CAAC;IACvB,OAAOA,GAAG;EACd;EACAG,iBAAiBA,CAACG,MAAM,EAAEC,SAAS,EAAEP,GAAG,EAAE;IACtC,MAAM;MAAER;IAAM,CAAC,GAAG,IAAI,CAACE,OAAO;IAC9B,MAAMc,KAAK,GAAGhB,KAAK,CAACiB,mBAAmB,CAACH,MAAM,EAAEC,SAAS,CAAC;IAC1DC,KAAK,CAACE,OAAO,CAAET,IAAI,IAAK;MACpB,IAAI,CAACD,GAAG,CAACW,QAAQ,CAACvB,IAAI,CAACa,IAAI,CAAC,CAAC,EACzBD,GAAG,CAACY,IAAI,CAACxB,IAAI,CAACa,IAAI,CAAC,CAAC;MACxB,IAAI,CAACD,GAAG,CAACW,QAAQ,CAACV,IAAI,CAACG,MAAM,CAAC,EAAE;QAC5BJ,GAAG,CAACY,IAAI,CAACX,IAAI,CAACG,MAAM,CAAC;QACrB,IAAI,CAACD,iBAAiB,CAACF,IAAI,CAACG,MAAM,EAAE,IAAI,EAAEJ,GAAG,CAAC;MAClD;MACA,IAAI,CAACA,GAAG,CAACW,QAAQ,CAACV,IAAI,CAACL,MAAM,CAAC,EAAE;QAC5BI,GAAG,CAACY,IAAI,CAACX,IAAI,CAACL,MAAM,CAAC;QACrB,IAAI,CAACO,iBAAiB,CAACF,IAAI,CAACL,MAAM,EAAE,KAAK,EAAEI,GAAG,CAAC;MACnD;IACJ,CAAC,CAAC;EACN;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}