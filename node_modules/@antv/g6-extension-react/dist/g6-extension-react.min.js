!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).G6ExtensionReact={})}(this,function(e){"use strict";var t="undefined"!=typeof document?document.currentScript:null;function n(e,t){return t.forEach(function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach(function(n){if("default"!==n&&!(n in e)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}})}),Object.freeze(e)}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t);if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(g=function(){return!!e})()}function m(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e,t,n){return t=p(t),m(e,g()?Reflect.construct(t,n||[],p(e).constructor):t.apply(e,n))}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function E(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function k(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}var S={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,o),!0;case 6:return c.fn.call(c.context,t,r,i,o,a),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var h,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&u.push(s[l]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(S);var M=E(S.exports),T=1e-6,O="undefined"!=typeof Float32Array?Float32Array:Array;function C(){var e=new O(9);return O!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function N(){var e=new O(16);return O!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function P(e){var t=new O(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function A(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function R(e,t,n,r,i,o,a,s,l,u,c,d,h,f,p,g){var m=new O(16);return m[0]=e,m[1]=t,m[2]=n,m[3]=r,m[4]=i,m[5]=o,m[6]=a,m[7]=s,m[8]=l,m[9]=u,m[10]=c,m[11]=d,m[12]=h,m[13]=f,m[14]=p,m[15]=g,m}function _(e,t,n,r,i,o,a,s,l,u,c,d,h,f,p,g,m){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=l,e[8]=u,e[9]=c,e[10]=d,e[11]=h,e[12]=f,e[13]=p,e[14]=g,e[15]=m,e}function D(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function L(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function I(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],d=t[9],h=t[10],f=t[11],p=t[12],g=t[13],m=t[14],y=t[15],v=n*s-r*a,b=n*l-i*a,w=n*u-o*a,x=r*l-i*s,E=r*u-o*s,k=i*u-o*l,S=c*g-d*p,M=c*m-h*p,T=c*y-f*p,O=d*m-h*g,C=d*y-f*g,N=h*y-f*m,P=v*N-b*C+w*O+x*T-E*M+k*S;return P?(P=1/P,e[0]=(s*N-l*C+u*O)*P,e[1]=(i*C-r*N-o*O)*P,e[2]=(g*k-m*E+y*x)*P,e[3]=(h*E-d*k-f*x)*P,e[4]=(l*T-a*N-u*M)*P,e[5]=(n*N-i*T+o*M)*P,e[6]=(m*w-p*k-y*b)*P,e[7]=(c*k-h*w+f*b)*P,e[8]=(a*C-s*T+u*S)*P,e[9]=(r*T-n*C-o*S)*P,e[10]=(p*E-g*w+y*v)*P,e[11]=(d*w-c*E-f*v)*P,e[12]=(s*M-a*O-l*S)*P,e[13]=(n*O-r*M+i*S)*P,e[14]=(g*b-p*x-m*v)*P,e[15]=(c*x-d*b+h*v)*P,e):null}function z(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],d=e[10],h=e[11],f=e[12],p=e[13],g=e[14],m=e[15];return(t*a-n*o)*(d*m-h*g)-(t*s-r*o)*(c*m-h*p)+(t*l-i*o)*(c*g-d*p)+(n*s-r*a)*(u*m-h*f)-(n*l-i*a)*(u*g-d*f)+(r*l-i*s)*(u*p-c*f)}function F(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=t[8],h=t[9],f=t[10],p=t[11],g=t[12],m=t[13],y=t[14],v=t[15],b=n[0],w=n[1],x=n[2],E=n[3];return e[0]=b*r+w*s+x*d+E*g,e[1]=b*i+w*l+x*h+E*m,e[2]=b*o+w*u+x*f+E*y,e[3]=b*a+w*c+x*p+E*v,b=n[4],w=n[5],x=n[6],E=n[7],e[4]=b*r+w*s+x*d+E*g,e[5]=b*i+w*l+x*h+E*m,e[6]=b*o+w*u+x*f+E*y,e[7]=b*a+w*c+x*p+E*v,b=n[8],w=n[9],x=n[10],E=n[11],e[8]=b*r+w*s+x*d+E*g,e[9]=b*i+w*l+x*h+E*m,e[10]=b*o+w*u+x*f+E*y,e[11]=b*a+w*c+x*p+E*v,b=n[12],w=n[13],x=n[14],E=n[15],e[12]=b*r+w*s+x*d+E*g,e[13]=b*i+w*l+x*h+E*m,e[14]=b*o+w*u+x*f+E*y,e[15]=b*a+w*c+x*p+E*v,e}function j(e,t,n){var r,i,o,a,s,l,u,c,d,h,f,p,g=n[0],m=n[1],y=n[2];return t===e?(e[12]=t[0]*g+t[4]*m+t[8]*y+t[12],e[13]=t[1]*g+t[5]*m+t[9]*y+t[13],e[14]=t[2]*g+t[6]*m+t[10]*y+t[14],e[15]=t[3]*g+t[7]*m+t[11]*y+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=t[8],h=t[9],f=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=d,e[9]=h,e[10]=f,e[11]=p,e[12]=r*g+s*m+d*y+t[12],e[13]=i*g+l*m+h*y+t[13],e[14]=o*g+u*m+f*y+t[14],e[15]=a*g+c*m+p*y+t[15]),e}function B(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function H(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],d=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+u*r,e[5]=a*i+c*r,e[6]=s*i+d*r,e[7]=l*i+h*r,e[8]=u*i-o*r,e[9]=c*i-a*r,e[10]=d*i-s*r,e[11]=h*i-l*r,e}function V(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],u=t[8],c=t[9],d=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-u*r,e[1]=a*i-c*r,e[2]=s*i-d*r,e[3]=l*i-h*r,e[8]=o*r+u*i,e[9]=a*r+c*i,e[10]=s*r+d*i,e[11]=l*r+h*i,e}function U(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function W(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function G(e,t,n){var r,i,o,a=n[0],s=n[1],l=n[2],u=Math.hypot(a,s,l);return u<T?null:(a*=u=1/u,s*=u,l*=u,r=Math.sin(t),o=1-(i=Math.cos(t)),e[0]=a*a*o+i,e[1]=s*a*o+l*r,e[2]=l*a*o-s*r,e[3]=0,e[4]=a*s*o-l*r,e[5]=s*s*o+i,e[6]=l*s*o+a*r,e[7]=0,e[8]=a*l*o+s*r,e[9]=s*l*o-a*r,e[10]=l*l*o+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function $(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function q(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Y(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function X(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=r+r,l=i+i,u=o+o,c=r*s,d=r*l,h=r*u,f=i*l,p=i*u,g=o*u,m=a*s,y=a*l,v=a*u;return e[0]=1-(f+g),e[1]=d+v,e[2]=h-y,e[3]=0,e[4]=d-v,e[5]=1-(c+g),e[6]=p+m,e[7]=0,e[8]=h+y,e[9]=p-m,e[10]=1-(c+f),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function K(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function Q(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],a=t[5],s=t[6],l=t[8],u=t[9],c=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(o,a,s),e[2]=Math.hypot(l,u,c),e}function Z(e,t){var n=new O(3);Q(n,t);var r=1/n[0],i=1/n[1],o=1/n[2],a=t[0]*r,s=t[1]*i,l=t[2]*o,u=t[4]*r,c=t[5]*i,d=t[6]*o,h=t[8]*r,f=t[9]*i,p=t[10]*o,g=a+c+p,m=0;return g>0?(m=2*Math.sqrt(g+1),e[3]=.25*m,e[0]=(d-f)/m,e[1]=(h-l)/m,e[2]=(s-u)/m):a>c&&a>p?(m=2*Math.sqrt(1+a-c-p),e[3]=(d-f)/m,e[0]=.25*m,e[1]=(s+u)/m,e[2]=(h+l)/m):c>p?(m=2*Math.sqrt(1+c-a-p),e[3]=(h-l)/m,e[0]=(s+u)/m,e[1]=.25*m,e[2]=(d+f)/m):(m=2*Math.sqrt(1+p-a-c),e[3]=(s-u)/m,e[0]=(h+l)/m,e[1]=(d+f)/m,e[2]=.25*m),e}function J(e,t,n,r,i){var o=t[0],a=t[1],s=t[2],l=t[3],u=o+o,c=a+a,d=s+s,h=o*u,f=o*c,p=o*d,g=a*c,m=a*d,y=s*d,v=l*u,b=l*c,w=l*d,x=r[0],E=r[1],k=r[2],S=i[0],M=i[1],T=i[2],O=(1-(g+y))*x,C=(f+w)*x,N=(p-b)*x,P=(f-w)*E,A=(1-(h+y))*E,R=(m+v)*E,_=(p+b)*k,D=(m-v)*k,L=(1-(h+g))*k;return e[0]=O,e[1]=C,e[2]=N,e[3]=0,e[4]=P,e[5]=A,e[6]=R,e[7]=0,e[8]=_,e[9]=D,e[10]=L,e[11]=0,e[12]=n[0]+S-(O*S+P*M+_*T),e[13]=n[1]+M-(C*S+A*M+D*T),e[14]=n[2]+T-(N*S+R*M+L*T),e[15]=1,e}function ee(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,l=i+i,u=n*a,c=r*a,d=r*s,h=i*a,f=i*s,p=i*l,g=o*a,m=o*s,y=o*l;return e[0]=1-d-p,e[1]=c+y,e[2]=h-m,e[3]=0,e[4]=c-y,e[5]=1-u-p,e[6]=f+g,e[7]=0,e[8]=h+m,e[9]=f-g,e[10]=1-u-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function te(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(r-i),e[10]=(i+r)*o,e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var ne=te;function re(e,t,n,r,i,o,a){var s=1/(t-n),l=1/(r-i),u=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*l,e[14]=(a+o)*u,e[15]=1,e}var ie=re;function oe(e,t,n,r,i,o,a){var s=1/(t-n),l=1/(r-i),u=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=u,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*l,e[14]=o*u,e[15]=1,e}function ae(e,t,n,r){var i,o,a,s,l,u,c,d,h,f,p=t[0],g=t[1],m=t[2],y=r[0],v=r[1],b=r[2],w=n[0],x=n[1],E=n[2];return Math.abs(p-w)<T&&Math.abs(g-x)<T&&Math.abs(m-E)<T?D(e):(c=p-w,d=g-x,h=m-E,i=v*(h*=f=1/Math.hypot(c,d,h))-b*(d*=f),o=b*(c*=f)-y*h,a=y*d-v*c,(f=Math.hypot(i,o,a))?(i*=f=1/f,o*=f,a*=f):(i=0,o=0,a=0),s=d*a-h*o,l=h*i-c*a,u=c*o-d*i,(f=Math.hypot(s,l,u))?(s*=f=1/f,l*=f,u*=f):(s=0,l=0,u=0),e[0]=i,e[1]=s,e[2]=c,e[3]=0,e[4]=o,e[5]=l,e[6]=d,e[7]=0,e[8]=a,e[9]=u,e[10]=h,e[11]=0,e[12]=-(i*p+o*g+a*m),e[13]=-(s*p+l*g+u*m),e[14]=-(c*p+d*g+h*m),e[15]=1,e)}function se(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function le(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}var ue=F,ce=se,de=Object.freeze({__proto__:null,add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e},adjoint:function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],d=t[9],h=t[10],f=t[11],p=t[12],g=t[13],m=t[14],y=t[15];return e[0]=s*(h*y-f*m)-d*(l*y-u*m)+g*(l*f-u*h),e[1]=-(r*(h*y-f*m)-d*(i*y-o*m)+g*(i*f-o*h)),e[2]=r*(l*y-u*m)-s*(i*y-o*m)+g*(i*u-o*l),e[3]=-(r*(l*f-u*h)-s*(i*f-o*h)+d*(i*u-o*l)),e[4]=-(a*(h*y-f*m)-c*(l*y-u*m)+p*(l*f-u*h)),e[5]=n*(h*y-f*m)-c*(i*y-o*m)+p*(i*f-o*h),e[6]=-(n*(l*y-u*m)-a*(i*y-o*m)+p*(i*u-o*l)),e[7]=n*(l*f-u*h)-a*(i*f-o*h)+c*(i*u-o*l),e[8]=a*(d*y-f*g)-c*(s*y-u*g)+p*(s*f-u*d),e[9]=-(n*(d*y-f*g)-c*(r*y-o*g)+p*(r*f-o*d)),e[10]=n*(s*y-u*g)-a*(r*y-o*g)+p*(r*u-o*s),e[11]=-(n*(s*f-u*d)-a*(r*f-o*d)+c*(r*u-o*s)),e[12]=-(a*(d*m-h*g)-c*(s*m-l*g)+p*(s*h-l*d)),e[13]=n*(d*m-h*g)-c*(r*m-i*g)+p*(r*h-i*d),e[14]=-(n*(s*m-l*g)-a*(r*m-i*g)+p*(r*l-i*s)),e[15]=n*(s*h-l*d)-a*(r*h-i*d)+c*(r*l-i*s),e},clone:P,copy:A,create:N,determinant:z,equals:function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],d=e[9],h=e[10],f=e[11],p=e[12],g=e[13],m=e[14],y=e[15],v=t[0],b=t[1],w=t[2],x=t[3],E=t[4],k=t[5],S=t[6],M=t[7],O=t[8],C=t[9],N=t[10],P=t[11],A=t[12],R=t[13],_=t[14],D=t[15];return Math.abs(n-v)<=T*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(r-b)<=T*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-w)<=T*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(o-x)<=T*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(a-E)<=T*Math.max(1,Math.abs(a),Math.abs(E))&&Math.abs(s-k)<=T*Math.max(1,Math.abs(s),Math.abs(k))&&Math.abs(l-S)<=T*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(u-M)<=T*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(c-O)<=T*Math.max(1,Math.abs(c),Math.abs(O))&&Math.abs(d-C)<=T*Math.max(1,Math.abs(d),Math.abs(C))&&Math.abs(h-N)<=T*Math.max(1,Math.abs(h),Math.abs(N))&&Math.abs(f-P)<=T*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(p-A)<=T*Math.max(1,Math.abs(p),Math.abs(A))&&Math.abs(g-R)<=T*Math.max(1,Math.abs(g),Math.abs(R))&&Math.abs(m-_)<=T*Math.max(1,Math.abs(m),Math.abs(_))&&Math.abs(y-D)<=T*Math.max(1,Math.abs(y),Math.abs(D))},exactEquals:le,frob:function(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},fromQuat:ee,fromQuat2:function(e,t){var n=new O(3),r=-t[0],i=-t[1],o=-t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=r*r+i*i+o*o+a*a;return d>0?(n[0]=2*(s*a+c*r+l*o-u*i)/d,n[1]=2*(l*a+c*i+u*r-s*o)/d,n[2]=2*(u*a+c*o+s*i-l*r)/d):(n[0]=2*(s*a+c*r+l*o-u*i),n[1]=2*(l*a+c*i+u*r-s*o),n[2]=2*(u*a+c*o+s*i-l*r)),X(e,t,n),e},fromRotation:G,fromRotationTranslation:X,fromRotationTranslationScale:function(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3],l=i+i,u=o+o,c=a+a,d=i*l,h=i*u,f=i*c,p=o*u,g=o*c,m=a*c,y=s*l,v=s*u,b=s*c,w=r[0],x=r[1],E=r[2];return e[0]=(1-(p+m))*w,e[1]=(h+b)*w,e[2]=(f-v)*w,e[3]=0,e[4]=(h-b)*x,e[5]=(1-(d+m))*x,e[6]=(g+y)*x,e[7]=0,e[8]=(f+v)*E,e[9]=(g-y)*E,e[10]=(1-(d+p))*E,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},fromRotationTranslationScaleOrigin:J,fromScaling:W,fromTranslation:U,fromValues:R,fromXRotation:$,fromYRotation:q,fromZRotation:Y,frustum:function(e,t,n,r,i,o,a){var s=1/(n-t),l=1/(i-r),u=1/(o-a);return e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*l,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*l,e[10]=(a+o)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*u,e[15]=0,e},getRotation:Z,getScaling:Q,getTranslation:K,identity:D,invert:I,lookAt:ae,mul:ue,multiply:F,multiplyScalar:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e},multiplyScalarAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e},ortho:ie,orthoNO:re,orthoZO:oe,perspective:ne,perspectiveFromFieldOfView:function(e,t,n,r){var i=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),l=2/(a+s),u=2/(i+o);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-(a-s)*l*.5,e[9]=(i-o)*u*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e},perspectiveNO:te,perspectiveZO:function(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(r-i),e[10]=i*o,e[14]=i*r*o):(e[10]=-1,e[14]=-r),e},rotate:function(e,t,n,r){var i,o,a,s,l,u,c,d,h,f,p,g,m,y,v,b,w,x,E,k,S,M,O,C,N=r[0],P=r[1],A=r[2],R=Math.hypot(N,P,A);return R<T?null:(N*=R=1/R,P*=R,A*=R,i=Math.sin(n),a=1-(o=Math.cos(n)),s=t[0],l=t[1],u=t[2],c=t[3],d=t[4],h=t[5],f=t[6],p=t[7],g=t[8],m=t[9],y=t[10],v=t[11],b=N*N*a+o,w=P*N*a+A*i,x=A*N*a-P*i,E=N*P*a-A*i,k=P*P*a+o,S=A*P*a+N*i,M=N*A*a+P*i,O=P*A*a-N*i,C=A*A*a+o,e[0]=s*b+d*w+g*x,e[1]=l*b+h*w+m*x,e[2]=u*b+f*w+y*x,e[3]=c*b+p*w+v*x,e[4]=s*E+d*k+g*S,e[5]=l*E+h*k+m*S,e[6]=u*E+f*k+y*S,e[7]=c*E+p*k+v*S,e[8]=s*M+d*O+g*C,e[9]=l*M+h*O+m*C,e[10]=u*M+f*O+y*C,e[11]=c*M+p*O+v*C,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)},rotateX:H,rotateY:V,rotateZ:function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],u=t[4],c=t[5],d=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+u*r,e[1]=a*i+c*r,e[2]=s*i+d*r,e[3]=l*i+h*r,e[4]=u*i-o*r,e[5]=c*i-a*r,e[6]=d*i-s*r,e[7]=h*i-l*r,e},scale:B,set:_,str:function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},sub:ce,subtract:se,targetTo:function(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=r[0],l=r[1],u=r[2],c=i-n[0],d=o-n[1],h=a-n[2],f=c*c+d*d+h*h;f>0&&(c*=f=1/Math.sqrt(f),d*=f,h*=f);var p=l*h-u*d,g=u*c-s*h,m=s*d-l*c;return(f=p*p+g*g+m*m)>0&&(p*=f=1/Math.sqrt(f),g*=f,m*=f),e[0]=p,e[1]=g,e[2]=m,e[3]=0,e[4]=d*m-h*g,e[5]=h*p-c*m,e[6]=c*g-d*p,e[7]=0,e[8]=c,e[9]=d,e[10]=h,e[11]=0,e[12]=i,e[13]=o,e[14]=a,e[15]=1,e},translate:j,transpose:L});function he(){var e=new O(3);return O!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function fe(e){var t=new O(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function pe(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function ge(e,t,n){var r=new O(3);return r[0]=e,r[1]=t,r[2]=n,r}function me(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function ye(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function ve(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function be(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function we(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function xe(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function Ee(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function ke(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],l=n[2];return e[0]=i*l-o*s,e[1]=o*a-r*l,e[2]=r*s-i*a,e}function Se(e,t,n,r){var i=t[0],o=t[1],a=t[2];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e}function Me(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,e}function Te(e,t){var n=e[0],r=e[1],i=e[2],o=t[0],a=t[1],s=t[2];return Math.abs(n-o)<=T*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=T*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=T*Math.max(1,Math.abs(i),Math.abs(s))}var Oe=be,Ce=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.hypot(n,r,i)},Ne=pe;function Pe(){var e=new O(4);return O!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Ae(e,t,n,r){var i=new O(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function Re(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}function _e(){var e=new O(4);return O!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function De(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function Le(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],l=n[1],u=n[2],c=n[3];return e[0]=r*c+a*s+i*u-o*l,e[1]=i*c+a*l+o*s-r*u,e[2]=o*c+a*u+r*l-i*s,e[3]=a*c-r*s-i*l-o*u,e}function Ie(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-i*s,e[3]=o*s,e}function ze(e,t,n,r){var i=.5*Math.PI/180;t*=i,n*=i,r*=i;var o=Math.sin(t),a=Math.cos(t),s=Math.sin(n),l=Math.cos(n),u=Math.sin(r),c=Math.cos(r);return e[0]=o*l*c-a*s*u,e[1]=a*s*c+o*l*u,e[2]=a*l*u-o*s*c,e[3]=a*l*c+o*s*u,e}he(),function(){var e=Pe()}();var Fe=Ae,je=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},Be=function(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e},He=Le,Ve=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=r*a,e[2]=i*a,e[3]=o*a,e};function Ue(){var e=new O(2);return O!=Float32Array&&(e[0]=0,e[1]=0),e}he(),ge(1,0,0),ge(0,1,0),_e(),_e(),C(),function(){var e=Ue()}();var We=function(e){return null!==e&&"function"!=typeof e&&isFinite(e.length)},Ge=function(e,t){return void 0===t&&(t=[]),function(e,t){if(!We(e))return e;for(var n=[],r=0;r<e.length;r++){var i=e[r];t(i,r)&&n.push(i)}return n}(e,function(e){return!function(e,t){return!!We(e)&&e.indexOf(t)>-1}(t,e)})};function $e(e){return"function"==typeof e}function qe(e){return null==e}function Ye(e){return Array.isArray(e)}var Xe=function(e){var t=typeof e;return null!==e&&"object"===t||"function"===t};function Ke(e,t){if(e)if(Ye(e))for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);else if(Xe(e))for(var i in e)if(e.hasOwnProperty(i)&&!1===t(e[i],i))break}var Qe=function(e){return"object"==typeof e&&null!==e},Ze={}.toString,Je=function(e,t){return Ze.call(e)==="[object "+t+"]"},et=function(e){if(!Qe(e)||!Je(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};function tt(e){if(!Array.isArray(e))return-1/0;var t=e.length;if(!t)return-1/0;for(var n=e[0],r=1;r<t;r++)n=Math.max(n,e[r]);return n}var nt=function(e){if(Ye(e))return e.reduce(function(e,t){return Math.min(e,t)},e[0])};function rt(e){return"string"==typeof e}var it=Object.prototype.hasOwnProperty;function ot(e,t){if(!t||!Ye(e))return{};for(var n,r={},i=$e(t)?t:function(e){return e[t]},o=0;o<e.length;o++){var a=e[o];n=i(a),it.call(r,n)?r[n].push(a):r[n]=[a]}return r}var at=function(e,t,n){return e<t?t:e>n?n:e};function st(e){return"number"==typeof e}function lt(e,t,n){return void 0===n&&(n=1e-5),e===t||Math.abs(e-t)<n}var ut=function(e,t){if(Ye(e)){for(var n,r=-1/0,i=0;i<e.length;i++){var o=e[i],a=$e(t)?t(o):o[t];a>r&&(n=o,r=a)}return n}},ct=function(e,t){if(Ye(e)){for(var n,r=1/0,i=0;i<e.length;i++){var o=e[i],a=$e(t)?t(o):o[t];a<r&&(n=o,r=a)}return n}},dt=function(e,t){return(e%t+t)%t},ht=function(e){return qe(e)?"":e.toString()};var ft=function(e){var t=ht(e);return t.charAt(0).toUpperCase()+t.substring(1)},pt={}.toString,gt=function(e){return Je(e,"Boolean")};var mt=Object.prototype,yt=function(e){return void 0===e},vt=function(e){if("object"!=typeof e||null===e)return e;var t;if(Ye(e)){t=[];for(var n=0,r=e.length;n<r;n++)"object"==typeof e[n]&&null!=e[n]?t[n]=vt(e[n]):t[n]=e[n]}else for(var i in t={},e)"object"==typeof e[i]&&null!=e[i]?t[i]=vt(e[i]):t[i]=e[i];return t};function bt(e,t,n){var r;return function(){var n=this,i=arguments;clearTimeout(r),r=setTimeout(function(){r=null,e.apply(n,i)},t)}}var wt=new Map;function xt(e,t,n){void 0===n&&(n=128);return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=t?t.apply(this,r):r[0];wt.has(e)||wt.set(e,function(e){var t,n,r,i=e||1;function o(e,o){++t>i&&(r=n,a(1),++t),n[e]=o}function a(e){t=0,n=Object.create(null),e||(r=Object.create(null))}return a(),{clear:a,has:function(e){return void 0!==n[e]||void 0!==r[e]},get:function(e){var t=n[e];return void 0!==t?t:void 0!==(t=r[e])?(o(e,t),t):void 0},set:function(e,t){void 0!==n[e]?n[e]=t:o(e,t)}}}(n));var a=wt.get(e);if(a.has(o))return a.get(o);var s=e.apply(this,r);return a.set(o,s),s}}function Et(e,t){if(Object.hasOwn)return Object.hasOwn(e,t);if(null==e)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),t)}function kt(e,t,n,r){for(var i in n=n||0,r=r||5,t)if(Et(t,i)){var o=t[i];null!==o&&et(o)?(et(e[i])||(e[i]={}),n<r?kt(e[i],o,n+1,r):e[i]=t[i]):Ye(o)?(e[i]=[],e[i]=e[i].concat(o)):void 0!==o&&(e[i]=o)}}var St=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)kt(e,t[r]);return e},Mt=Object.prototype.hasOwnProperty;function Tt(e){if(qe(e))return!0;if(We(e))return!e.length;var t=function(e){return pt.call(e).replace(/^\[object /,"").replace(/]$/,"")}(e);if("Map"===t||"Set"===t)return!e.size;if(function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||mt)}(e))return!Object.keys(e).length;for(var n in e)if(Mt.call(e,n))return!1;return!0}var Ot=function(e,t){if(e===t)return!0;if(!e||!t)return!1;if(rt(e)||rt(t))return!1;if(We(e)||We(t)){if(e.length!==t.length)return!1;for(var n=!0,r=0;r<e.length&&(n=Ot(e[r],t[r]));r++);return n}if(Qe(e)||Qe(t)){var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(n=!0,r=0;r<i.length&&(n=Ot(e[i[r]],t[i[r]]));r++);return n}return!1},Ct=function(e,t,n){for(var r=0,i=rt(t)?t.split("."):t;e&&r<i.length;)e=e[i[r++]];return void 0===e||r<i.length?n:e},Nt=function(e,t,n){var r=e,i=rt(t)?t.split("."):t;return i.forEach(function(e,t){t<i.length-1?(Xe(r[e])||(r[e]=st(i[t+1])?[]:{}),r=r[e]):r[e]=n}),e},Pt=Object.prototype.hasOwnProperty,At=function(e,t){if(null===e||!et(e))return{};var n={};return Ke(t,function(t){Pt.call(e,t)&&(n[t]=e[t])}),n},Rt=function(e,t){return function(e,t,n){if(!Ye(e)&&!et(e))return e;var r=n;return Ke(e,function(e,n){r=t(r,e,n)}),r}(e,function(e,n,r){return t.includes(r)||(e[r]=n),e},{})},_t=function(e,t,n){var r,i,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:Date.now(),r=null,a=e.apply(i,o),r||(i=o=null)},u=function(){var u=Date.now();s||!1!==n.leading||(s=u);var c=t-(u-s);return i=this,o=arguments,c<=0||c>t?(r&&(clearTimeout(r),r=null),s=u,a=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(l,c)),a};return u.cancel=function(){clearTimeout(r),s=0,r=i=o=null},u},Dt={},Lt=function(){},It=function(e){return e},zt=function(e,t){return zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},zt(e,t)};function Ft(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}zt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var jt=function(){return jt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},jt.apply(this,arguments)};function Bt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Ht(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})}function Vt(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ut(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Wt(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function Gt(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}"function"==typeof SuppressedError&&SuppressedError;var $t={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function qt(e,t,n){if(e[n].length>7){e[n].shift();for(var r=e[n],i=n;r.length;)t[n]="A",e.splice(i+=1,0,["C"].concat(r.splice(0,6)));e.splice(n,1)}}var Yt={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function Xt(e){return Array.isArray(e)&&e.every(function(e){var t=e[0].toLowerCase();return Yt[t]===e.length-1&&"achlmqstvz".includes(t)})}function Kt(e){return Xt(e)&&e.every(function(e){var t=e[0];return t===t.toUpperCase()})}function Qt(e){return Kt(e)&&e.every(function(e){var t=e[0];return"ACLMQZ".includes(t)})}function Zt(e){for(var t=e.pathValue[e.segmentStart],n=t.toLowerCase(),r=e.data;r.length>=Yt[n]&&("m"===n&&r.length>2?(e.segments.push([t].concat(r.splice(0,2))),n="l",t="m"===t?"l":"L"):e.segments.push([t].concat(r.splice(0,Yt[n]))),Yt[n]););}function Jt(e){var t=e.index,n=e.pathValue,r=n.charCodeAt(t);return 48===r?(e.param=0,void(e.index+=1)):49===r?(e.param=1,void(e.index+=1)):void(e.err='[path-util]: invalid Arc flag "'.concat(n[t],'", expecting 0 or 1 at index ').concat(t))}function en(e){return e>=48&&e<=57||43===e||45===e||46===e}function tn(e){return e>=48&&e<=57}function nn(e){var t,n=e.max,r=e.pathValue,i=e.index,o=i,a=!1,s=!1,l=!1,u=!1;if(o>=n)e.err="[path-util]: Invalid path value at index ".concat(o,', "pathValue" is missing param');else if(43!==(t=r.charCodeAt(o))&&45!==t||(o+=1,t=r.charCodeAt(o)),tn(t)||46===t){if(46!==t){if(a=48===t,o+=1,t=r.charCodeAt(o),a&&o<n&&t&&tn(t))return void(e.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(r[i],'" illegal number'));for(;o<n&&tn(r.charCodeAt(o));)o+=1,s=!0;t=r.charCodeAt(o)}if(46===t){for(u=!0,o+=1;tn(r.charCodeAt(o));)o+=1,l=!0;t=r.charCodeAt(o)}if(101===t||69===t){if(u&&!s&&!l)return void(e.err="[path-util]: Invalid path value at index ".concat(o,', "').concat(r[o],'" invalid float exponent'));if(o+=1,43!==(t=r.charCodeAt(o))&&45!==t||(o+=1),!(o<n&&tn(r.charCodeAt(o))))return void(e.err="[path-util]: Invalid path value at index ".concat(o,', "').concat(r[o],'" invalid integer exponent'));for(;o<n&&tn(r.charCodeAt(o));)o+=1}e.index=o,e.param=+e.pathValue.slice(i,o)}else e.err="[path-util]: Invalid path value at index ".concat(o,', "').concat(r[o],'" is not a number')}function rn(e){return 10===e||13===e||8232===e||8233===e||32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function on(e){for(var t=e.pathValue,n=e.max;e.index<n&&rn(t.charCodeAt(e.index));)e.index+=1}function an(e){return 97==(32|e)}function sn(e){var t=e.max,n=e.pathValue,r=e.index,i=n.charCodeAt(r),o=Yt[n[r].toLowerCase()];if(e.segmentStart=r,function(e){switch(32|e){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}(i))if(e.index+=1,on(e),e.data=[],o){for(;;){for(var a=o;a>0;a-=1){if(!an(i)||3!==a&&4!==a?nn(e):Jt(e),e.err.length)return;e.data.push(e.param),on(e),e.index<t&&44===n.charCodeAt(e.index)&&(e.index+=1,on(e))}if(e.index>=e.max)break;if(!en(n.charCodeAt(e.index)))break}Zt(e)}else Zt(e);else e.err='[path-util]: Invalid path value "'.concat(n[r],'" is not a path command')}var ln=function(e){this.pathValue=e,this.segments=[],this.max=e.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""};function un(e){if(Kt(e))return[].concat(e);var t=function(e){if(Xt(e))return[].concat(e);var t=new ln(e);for(on(t);t.index<t.max&&!t.err.length;)sn(t);return t.err?t.err:t.segments}(e),n=0,r=0,i=0,o=0;return t.map(function(e){var t,a=e.slice(1).map(Number),s=e[0],l=s.toUpperCase();if("M"===s)return n=a[0],r=a[1],i=n,o=r,["M",n,r];if(s!==l)switch(l){case"A":t=[l,a[0],a[1],a[2],a[3],a[4],a[5]+n,a[6]+r];break;case"V":t=[l,a[0]+r];break;case"H":t=[l,a[0]+n];break;default:var u=a.map(function(e,t){return e+(t%2?r:n)});t=[l].concat(u)}else t=[l].concat(a);var c=t.length;switch(l){case"Z":n=i,r=o;break;case"H":n=t[1];break;case"V":r=t[1];break;default:n=t[c-2],r=t[c-1],"M"===l&&(i=n,o=r)}return t})}function cn(e,t){var n=e[0],r=t.x1,i=t.y1,o=t.x2,a=t.y2,s=e.slice(1).map(Number),l=e;if("TQ".includes(n)||(t.qx=null,t.qy=null),"H"===n)l=["L",e[1],i];else if("V"===n)l=["L",r,e[1]];else if("S"===n){var u=2*r-o,c=2*i-a;t.x1=u,t.y1=c,l=["C",u,c].concat(s)}else if("T"===n){var d=2*r-t.qx,h=2*i-t.qy;t.qx=d,t.qy=h,l=["Q",d,h].concat(s)}else if("Q"===n){var f=s[0],p=s[1];t.qx=f,t.qy=p}return l}function dn(e){if(Qt(e))return[].concat(e);for(var t=un(e),n=jt({},$t),r=0;r<t.length;r+=1){t[r]=cn(t[r],n);var i=t[r],o=i.length;n.x1=+i[o-2],n.y1=+i[o-1],n.x2=+i[o-4]||n.x1,n.y2=+i[o-3]||n.y1}return t}function hn(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}}function fn(e,t,n,r,i,o,a,s,l,u){var c,d,h,f,p,g=e,m=t,y=n,v=r,b=s,w=l,x=120*Math.PI/180,E=Math.PI/180*(+i||0),k=[];if(u)d=u[0],h=u[1],f=u[2],p=u[3];else{g=(c=hn(g,m,-E)).x,m=c.y;var S=(g-(b=(c=hn(b,w,-E)).x))/2,M=(m-(w=c.y))/2,T=S*S/(y*y)+M*M/(v*v);T>1&&(y*=T=Math.sqrt(T),v*=T);var O=y*y,C=v*v,N=(o===a?-1:1)*Math.sqrt(Math.abs((O*C-O*M*M-C*S*S)/(O*M*M+C*S*S)));f=N*y*M/v+(g+b)/2,p=N*-v*S/y+(m+w)/2,d=Math.asin(((m-p)/v*Math.pow(10,9)|0)/Math.pow(10,9)),h=Math.asin(((w-p)/v*Math.pow(10,9)|0)/Math.pow(10,9)),d=g<f?Math.PI-d:d,h=b<f?Math.PI-h:h,d<0&&(d=2*Math.PI+d),h<0&&(h=2*Math.PI+h),a&&d>h&&(d-=2*Math.PI),!a&&h>d&&(h-=2*Math.PI)}var P=h-d;if(Math.abs(P)>x){var A=h,R=b,_=w;h=d+x*(a&&h>d?1:-1),k=fn(b=f+y*Math.cos(h),w=p+v*Math.sin(h),y,v,i,0,a,R,_,[h,A,f,p])}P=h-d;var D=Math.cos(d),L=Math.sin(d),I=Math.cos(h),z=Math.sin(h),F=Math.tan(P/4),j=4/3*y*F,B=4/3*v*F,H=[g,m],V=[g+j*L,m-B*D],U=[b+j*z,w-B*I],W=[b,w];if(V[0]=2*H[0]-V[0],V[1]=2*H[1]-V[1],u)return V.concat(U,W,k);for(var G=[],$=0,q=(k=V.concat(U,W,k)).length;$<q;$+=1)G[$]=$%2?hn(k[$-1],k[$],E).y:hn(k[$],k[$+1],E).x;return G}function pn(e,t,n){var r=e[0],i=e[1];return[r+(t[0]-r)*n,i+(t[1]-i)*n]}var gn=function(e,t,n,r){return Wt(Wt([],pn([e,t],[n,r],.5),!0),[n,r,n,r],!1)};function mn(e,t){var n,r,i,o,a,s,l,u,c,d=e[0],h=e.slice(1).map(Number),f=h[0],p=h[1],g=t.x1,m=t.y1,y=t.x,v=t.y;switch("TQ".includes(d)||(t.qx=null,t.qy=null),d){case"M":return t.x=f,t.y=p,e;case"A":return n=[g,m].concat(h),["C"].concat(fn(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9]));case"Q":return t.qx=f,t.qy=p,n=[g,m].concat(h),["C"].concat((r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],[(u=1/3)*r+(c=2/3)*o,u*i+c*a,u*s+c*o,u*l+c*a,s,l]));case"L":return["C"].concat(gn(g,m,f,p));case"Z":return g===y&&m===v?["C",g,m,y,v,y,v]:["C"].concat(gn(g,m,y,v))}return e}function yn(e,t){if(void 0===t&&(t=!1),function(e){return Qt(e)&&e.every(function(e){var t=e[0];return"MC".includes(t)})}(e)){var n=[].concat(e);return t?[n,[]]:n}for(var r,i,o=dn(e),a=jt({},$t),s=[],l="",u=o.length,c=[],d=0;d<u;d+=1){o[d]&&(l=o[d][0]),s[d]=l;var h=mn(o[d],a);o[d]=h,qt(o,s,d),u=o.length,"Z"===l&&c.push(d),i=(r=o[d]).length,a.x1=+r[i-2],a.y1=+r[i-1],a.x2=+r[i-4]||a.x1,a.y2=+r[i-3]||a.y1}return t?[o,c]:o}function vn(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}function bn(e,t,n,r,i){var o=vn([e,t],[n,r]),a={x:0,y:0};if("number"==typeof i)if(i<=0)a={x:e,y:t};else if(i>=o)a={x:n,y:r};else{var s=pn([e,t],[n,r],i/o);a={x:s[0],y:s[1]}}return{length:o,point:a,min:{x:Math.min(e,n),y:Math.min(t,r)},max:{x:Math.max(e,n),y:Math.max(t,r)}}}function wn(e,t){var n=e.x,r=e.y,i=t.x,o=t.y,a=n*i+r*o,s=Math.sqrt((Math.pow(n,2)+Math.pow(r,2))*(Math.pow(i,2)+Math.pow(o,2)));return(n*o-r*i<0?-1:1)*Math.acos(a/s)}function xn(e,t,n,r,i,o,a,s,l,u){var c=Math.abs,d=Math.sin,h=Math.cos,f=Math.sqrt,p=Math.PI,g=c(n),m=c(r),y=(i%360+360)%360*(p/180);if(e===s&&t===l)return{x:e,y:t};if(0===g||0===m)return bn(e,t,s,l,u).point;var v=(e-s)/2,b=(t-l)/2,w={x:h(y)*v+d(y)*b,y:-d(y)*v+h(y)*b},x=Math.pow(w.x,2)/Math.pow(g,2)+Math.pow(w.y,2)/Math.pow(m,2);x>1&&(g*=f(x),m*=f(x));var E=(Math.pow(g,2)*Math.pow(m,2)-Math.pow(g,2)*Math.pow(w.y,2)-Math.pow(m,2)*Math.pow(w.x,2))/(Math.pow(g,2)*Math.pow(w.y,2)+Math.pow(m,2)*Math.pow(w.x,2)),k=(o!==a?1:-1)*f(E=E<0?0:E),S=k*(g*w.y/m),M=k*(-m*w.x/g),T=h(y)*S-d(y)*M+(e+s)/2,O=d(y)*S+h(y)*M+(t+l)/2,C={x:(w.x-S)/g,y:(w.y-M)/m},N=wn({x:1,y:0},C),P=wn(C,{x:(-w.x-S)/g,y:(-w.y-M)/m});!a&&P>0?P-=2*p:a&&P<0&&(P+=2*p);var A=N+(P%=2*p)*u,R=g*h(A),_=m*d(A);return{x:h(y)*R-d(y)*_+T,y:d(y)*R+h(y)*_+O}}function En(e,t,n,r,i,o,a,s,l,u,c){var d,h=c.bbox,f=void 0===h||h,p=c.length,g=void 0===p||p,m=c.sampleSize,y=void 0===m?30:m,v="number"==typeof u,b=e,w=t,x=0,E=[b,w,x],k=[b,w],S={x:0,y:0},M=[{x:b,y:w}];v&&u<=0&&(S={x:b,y:w});for(var T=0;T<=y;T+=1){if(b=(d=xn(e,t,n,r,i,o,a,s,l,T/y)).x,w=d.y,f&&M.push({x:b,y:w}),g&&(x+=vn(k,[b,w])),k=[b,w],v&&x>=u&&u>E[2]){var O=(x-u)/(x-E[2]);S={x:k[0]*(1-O)+E[0]*O,y:k[1]*(1-O)+E[1]*O}}E=[b,w,x]}return v&&u>=x&&(S={x:s,y:l}),{length:x,point:S,min:{x:Math.min.apply(null,M.map(function(e){return e.x})),y:Math.min.apply(null,M.map(function(e){return e.y}))},max:{x:Math.max.apply(null,M.map(function(e){return e.x})),y:Math.max.apply(null,M.map(function(e){return e.y}))}}}function kn(e,t,n,r,i,o,a,s,l){var u=1-l;return{x:Math.pow(u,3)*e+3*Math.pow(u,2)*l*n+3*u*Math.pow(l,2)*i+Math.pow(l,3)*a,y:Math.pow(u,3)*t+3*Math.pow(u,2)*l*r+3*u*Math.pow(l,2)*o+Math.pow(l,3)*s}}function Sn(e,t,n,r,i,o,a,s,l,u){var c,d=u.bbox,h=void 0===d||d,f=u.length,p=void 0===f||f,g=u.sampleSize,m=void 0===g?10:g,y="number"==typeof l,v=e,b=t,w=0,x=[v,b,w],E=[v,b],k={x:0,y:0},S=[{x:v,y:b}];y&&l<=0&&(k={x:v,y:b});for(var M=0;M<=m;M+=1){if(v=(c=kn(e,t,n,r,i,o,a,s,M/m)).x,b=c.y,h&&S.push({x:v,y:b}),p&&(w+=vn(E,[v,b])),E=[v,b],y&&w>=l&&l>x[2]){var T=(w-l)/(w-x[2]);k={x:E[0]*(1-T)+x[0]*T,y:E[1]*(1-T)+x[1]*T}}x=[v,b,w]}return y&&l>=w&&(k={x:a,y:s}),{length:w,point:k,min:{x:Math.min.apply(null,S.map(function(e){return e.x})),y:Math.min.apply(null,S.map(function(e){return e.y}))},max:{x:Math.max.apply(null,S.map(function(e){return e.x})),y:Math.max.apply(null,S.map(function(e){return e.y}))}}}function Mn(e,t,n,r,i,o,a){var s=1-a;return{x:Math.pow(s,2)*e+2*s*a*n+Math.pow(a,2)*i,y:Math.pow(s,2)*t+2*s*a*r+Math.pow(a,2)*o}}function Tn(e,t,n,r,i,o,a,s){var l,u=s.bbox,c=void 0===u||u,d=s.length,h=void 0===d||d,f=s.sampleSize,p=void 0===f?10:f,g="number"==typeof a,m=e,y=t,v=0,b=[m,y,v],w=[m,y],x={x:0,y:0},E=[{x:m,y:y}];g&&a<=0&&(x={x:m,y:y});for(var k=0;k<=p;k+=1){if(m=(l=Mn(e,t,n,r,i,o,k/p)).x,y=l.y,c&&E.push({x:m,y:y}),h&&(v+=vn(w,[m,y])),w=[m,y],g&&v>=a&&a>b[2]){var S=(v-a)/(v-b[2]);x={x:w[0]*(1-S)+b[0]*S,y:w[1]*(1-S)+b[1]*S}}b=[m,y,v]}return g&&a>=v&&(x={x:i,y:o}),{length:v,point:x,min:{x:Math.min.apply(null,E.map(function(e){return e.x})),y:Math.min.apply(null,E.map(function(e){return e.y}))},max:{x:Math.max.apply(null,E.map(function(e){return e.x})),y:Math.max.apply(null,E.map(function(e){return e.y}))}}}function On(e,t,n){for(var r,i,o,a,s,l,u,c,d,h=dn(e),f="number"==typeof t,p=[],g=0,m=0,y=0,v=0,b=[],w=[],x=0,E={x:0,y:0},k=E,S=E,M=E,T=0,O=0,C=h.length;O<C;O+=1)p=(u="M"===(c=(d=h[O])[0]))?p:[g,m].concat(d.slice(1)),u?(k=E={x:y=d[1],y:v=d[2]},x=0,f&&t<.001&&(M=E)):"L"===c?(x=(r=bn(p[0],p[1],p[2],p[3],(t||0)-T)).length,E=r.min,k=r.max,S=r.point):"A"===c?(x=(i=En(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],(t||0)-T,n||{})).length,E=i.min,k=i.max,S=i.point):"C"===c?(x=(o=Sn(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],(t||0)-T,n||{})).length,E=o.min,k=o.max,S=o.point):"Q"===c?(x=(a=Tn(p[0],p[1],p[2],p[3],p[4],p[5],(t||0)-T,n||{})).length,E=a.min,k=a.max,S=a.point):"Z"===c&&(x=(s=bn((p=[g,m,y,v])[0],p[1],p[2],p[3],(t||0)-T)).length,E=s.min,k=s.max,S=s.point),f&&T<t&&T+x>=t&&(M=S),w.push(k),b.push(E),T+=x,g=(l="Z"!==c?d.slice(-2):[y,v])[0],m=l[1];return f&&t>=T&&(M={x:g,y:m}),{length:T,point:M,min:{x:Math.min.apply(null,b.map(function(e){return e.x})),y:Math.min.apply(null,b.map(function(e){return e.y}))},max:{x:Math.max.apply(null,w.map(function(e){return e.x})),y:Math.max.apply(null,w.map(function(e){return e.y}))}}}function Cn(e,t){var n=e.length-1,r=[],i=0,o=function(e){var t=e.length,n=t-1;return e.map(function(r,i){return e.map(function(r,o){var a,s=i+o;return 0===o||e[s]&&"M"===e[s][0]?(a=e[s],["M"].concat(a.slice(-2))):(s>=t&&(s-=n),e[s])})})}(e);return o.forEach(function(o,a){e.slice(1).forEach(function(r,o){i+=vn(e[(a+o)%n].slice(-2),t[o%n].slice(-2))}),r[a]=i,i=0}),o[r.indexOf(Math.min.apply(null,r))]}function Nn(e){return function(e){var t=0,n=0,r=0;return yn(e).map(function(e){var i;if("M"===e[0])return t=e[1],n=e[2],0;var o=e.slice(1),a=o[0],s=o[1],l=o[2],u=o[3],c=o[4],d=o[5];return r=function(e,t,n,r,i,o,a,s){return 3*((s-t)*(n+i)-(a-e)*(r+o)+r*(e-i)-n*(t-o)+s*(i+e/3)-a*(o+t/3))/20}(t,n,a,s,l,u,c,d),i=e.slice(-2),t=i[0],n=i[1],r}).reduce(function(e,t){return e+t},0)}(e)>=0}function Pn(e){return e.map(function(e,t,n){var r=t&&n[t-1].slice(-2).concat(e.slice(1)),i=t?Sn(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],{bbox:!1}).length:0;return{s:e,ss:t?i?function(e,t){void 0===t&&(t=.5);var n=e.slice(0,2),r=e.slice(2,4),i=e.slice(4,6),o=e.slice(6,8),a=pn(n,r,t),s=pn(r,i,t),l=pn(i,o,t),u=pn(a,s,t),c=pn(s,l,t),d=pn(u,c,t);return[["C"].concat(a,u,d),["C"].concat(c,l,o)]}(r):[e,e]:[e],l:i}})}function An(e,t,n){var r=Pn(e),i=Pn(t),o=r.length,a=i.length,s=r.filter(function(e){return e.l}).length,l=i.filter(function(e){return e.l}).length,u=r.filter(function(e){return e.l}).reduce(function(e,t){return e+t.l},0)/s||0,c=i.filter(function(e){return e.l}).reduce(function(e,t){return e+t.l},0)/l||0,d=n||Math.max(o,a),h=[u,c],f=[d-o,d-a],p=0,g=[r,i].map(function(e,t){return e.l===d?e.map(function(e){return e.s}):e.map(function(e,n){return p=n&&f[t]&&e.l>=h[t],f[t]-=p?1:0,p?e.ss:[e.s]}).flat()});return g[0].length===g[1].length?g:An(g[0],g[1],d)}function Rn(e){var t=document.createElement("div");t.innerHTML=e;var n=t.childNodes[0];return n&&t.contains(n)&&t.removeChild(n),n}function _n(){return _n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},_n.apply(null,arguments)}function Dn(e,t,n,r){var i=_n(p(e.prototype),t,n);return"function"==typeof i?function(e){return i.apply(n,e)}:i}
/*!
   * @antv/g-math
   * @description Geometry util
   * @version 3.0.1
   * @date 5/9/2025, 8:18:51 AM
   * @author AntVis
   * @docs https://g.antv.antgroup.com/
   */function Ln(e,t,n,r){var i=e-n,o=t-r;return Math.sqrt(i*i+o*o)}function In(e,t){var n=Math.min.apply(Math,f(e)),r=Math.min.apply(Math,f(t));return{x:n,y:r,width:Math.max.apply(Math,f(e))-n,height:Math.max.apply(Math,f(t))-r}}function zn(e,t,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+e}function Fn(e,t,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+t}function jn(e,t,n,r,i,o,a){for(var s=function(e,t,n){return Math.atan(-t/e*Math.tan(n))}(n,r,i),l=1/0,u=-1/0,c=[o,a],d=2*-Math.PI;d<=2*Math.PI;d+=Math.PI){var h=s+d;o<a?o<h&&h<a&&c.push(h):a<h&&h<o&&c.push(h)}for(var f=0;f<c.length;f++){var p=zn(e,0,n,r,i,c[f]);p<l&&(l=p),p>u&&(u=p)}for(var g=function(e,t,n){return Math.atan(t/(e*Math.tan(n)))}(n,r,i),m=1/0,y=-1/0,v=[o,a],b=2*-Math.PI;b<=2*Math.PI;b+=Math.PI){var w=g+b;o<a?o<w&&w<a&&v.push(w):a<w&&w<o&&v.push(w)}for(var x=0;x<v.length;x++){var E=Fn(0,t,n,r,i,v[x]);E<m&&(m=E),E>y&&(y=E)}return{x:l,y:m,width:u-l,height:y-m}}function Bn(e,t,n,r,i,o){var a=-1,s=1/0,l=[n,r],u=20;o&&o>200&&(u=o/10);for(var c=1/u,d=c/10,h=0;h<=u;h++){var p=h*c,g=[i.apply(void 0,f(e.concat([p]))),i.apply(void 0,f(t.concat([p])))],m=Ln(l[0],l[1],g[0],g[1]);m<s&&(a=p,s=m)}if(0===a)return{x:e[0],y:t[0]};if(1===a){var y=e.length;return{x:e[y-1],y:t[y-1]}}s=1/0;for(var v=0;v<32&&!(d<1e-4);v++){var b=a-d,w=a+d,x=[i.apply(void 0,f(e.concat([b]))),i.apply(void 0,f(t.concat([b])))],E=Ln(l[0],l[1],x[0],x[1]);if(b>=0&&E<s)a=b,s=E;else{var k=[i.apply(void 0,f(e.concat([w]))),i.apply(void 0,f(t.concat([w])))],S=Ln(l[0],l[1],k[0],k[1]);w<=1&&S<s?(a=w,s=S):d*=.5}}return{x:i.apply(void 0,f(e.concat([a]))),y:i.apply(void 0,f(t.concat([a])))}}function Hn(e,t,n,r){return Ln(e,t,n,r)}function Vn(e,t,n,r,i){return{x:(1-i)*e+i*n,y:(1-i)*t+i*r}}function Un(e,t,n,r,i,o){var a=[n-e,r-t];if(function(e,t){return e[0]===t[0]&&e[1]===t[1]}(a,[0,0]))return Math.sqrt((i-e)*(i-e)+(o-t)*(o-t));var s=[-a[1],a[0]];!function(e,t){var n=t[0],r=t[1],i=n*n+r*r;i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i}(s,s);var l=[i-e,o-t];return Math.abs(function(e,t){return e[0]*t[0]+e[1]*t[1]}(l,s))}function Wn(e,t,n,r,i){var o=1-i;return o*o*o*e+3*t*i*o*o+3*n*i*i*o+r*i*i*i}function Gn(e,t,n,r){var i,o,a,s=-3*e+9*t-9*n+3*r,l=6*e-12*t+6*n,u=3*t-3*e,c=[];if(lt(s,0))lt(l,0)||(i=-u/l)>=0&&i<=1&&c.push(i);else{var d=l*l-4*s*u;lt(d,0)?c.push(-l/(2*s)):d>0&&(o=(-l-(a=Math.sqrt(d)))/(2*s),(i=(-l+a)/(2*s))>=0&&i<=1&&c.push(i),o>=0&&o<=1&&c.push(o))}return c}function $n(e,t,n,r,i,o,a,s){for(var l=[e,a],u=[t,s],c=Gn(e,n,i,a),d=Gn(t,r,o,s),h=0;h<c.length;h++)l.push(Wn(e,n,i,a,c[h]));for(var f=0;f<d.length;f++)u.push(Wn(t,r,o,s,d[f]));return In(l,u)}function qn(e,t,n,r,i,o,a,s,l,u,c){var d=function(e,t,n,r,i,o,a,s,l,u,c){return Bn([e,n,i,a],[t,r,o,s],l,u,Wn,c)}(e,t,n,r,i,o,a,s,l,u,c);return Ln(d.x,d.y,l,u)}function Yn(e){return function(e){if(e.length<2)return 0;for(var t=0,n=0;n<e.length-1;n++){var r=e[n],i=e[n+1];t+=Ln(r[0],r[1],i[0],i[1])}return t}(e)}function Xn(e,t,n,r){var i=1-r;return i*i*e+2*r*i*t+r*r*n}function Kn(e,t,n){var r=e+n-2*t;if(lt(r,0))return[.5];var i=(e-t)/r;return i<=1&&i>=0?[i]:[]}function Qn(e,t,n,r,i,o){var a=Kn(e,n,i)[0],s=Kn(t,r,o)[0],l=[e,i],u=[t,o];return void 0!==a&&l.push(Xn(e,n,i,a)),void 0!==s&&u.push(Xn(t,r,o,s)),In(l,u)}function Zn(e,t,n,r,i,o,a,s){var l=function(e,t,n,r,i,o,a,s){return Bn([e,n,i],[t,r,o],a,s,Xn)}(e,t,n,r,i,o,a,s);return Ln(l.x,l.y,a,s)}function Jn(e,t){this.v=e,this.k=t}function er(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}er=function(e,t,n,r){if(t)i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var o=function(t,n){er(e,t,function(e){return this._invoke(t,n,e)})};o("next",0),o("throw",1),o("return",2)}},er(e,t,n,r)}function tr(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */
var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var l=r&&r.prototype instanceof s?r:s,u=Object.create(l.prototype);return er(u,"_invoke",function(n,r,i){var o,s,l,u=0,c=i||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,s=0,l=e,h.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&u&&!i&&t<c.length;t++){var i,o=c[t],f=h.p,p=o[2];n>3?(i=p===r)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=f&&((i=n<2&&f<o[1])?(s=0,h.v=r,h.n=o[1]):f<p&&(i=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,h.n=p,s=0))}if(i||n>1)return a;throw d=!0,r}return function(i,c,p){if(u>1)throw TypeError("Generator is already running");for(d&&1===c&&f(c,p),s=c,l=p;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(u=2,o){if(s||(i="next"),t=o[i]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==a)break}catch(t){o=e,s=1,l=t}finally{u=1}}return{value:t,done:d}}}(n,i,o),!0),u}var a={};function s(){}function l(){}function u(){}t=Object.getPrototypeOf;var c=[][r]?t(t([][r]())):(er(t={},r,function(){return this}),t),d=u.prototype=s.prototype=Object.create(c);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,er(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=u,er(d,"constructor",u),er(u,"constructor",l),l.displayName="GeneratorFunction",er(u,i,"GeneratorFunction"),er(d),er(d,i,"Generator"),er(d,r,function(){return this}),er(d,"toString",function(){return"[object Generator]"}),(tr=function(){return{w:o,m:h}})()}function nr(e,t){function n(r,i,o,a){try{var s=e[r](i),l=s.value;return l instanceof Jn?t.resolve(l.v).then(function(e){n("next",e,o,a)},function(e){n("throw",e,o,a)}):t.resolve(l).then(function(e){s.value=e,o(s)},function(e){return n("throw",e,o,a)})}catch(e){a(e)}}var r;this.next||(er(nr.prototype),er(nr.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),er(this,"_invoke",function(e,i,o){function a(){return new t(function(t,r){n(e,o,t,r)})}return r=r?r.then(a,a):a()},!0)}function rr(e,t,n,r,i){return new nr(tr().w(e,t,n,r),i||Promise)}function ir(e,t,n,r,i){var o=rr(e,t,n,r,i);return o.next().then(function(e){return e.done?e.value:o.next()})}function or(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}}function ar(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(r(e)+" is not iterable")}function sr(){var e=tr(),t=e.m(sr),n=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function r(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===n||"GeneratorFunction"===(t.displayName||t.name))}var i={throw:1,return:2,break:3,continue:3};function o(e){var t,n;return function(r){t||(t={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(e,t){return n(r.a,i[e],t)},delegateYield:function(e,i,o){return t.resultName=i,n(r.d,ar(e),o)},finish:function(e){return n(r.f,e)}},n=function(e,n,i){r.p=t.prev,r.n=t.next;try{return e(n,i)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return e.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(sr=function(){return{wrap:function(t,n,r,i){return e.w(o(t),n,r,i&&i.reverse())},isGeneratorFunction:r,mark:e.m,awrap:function(e,t){return new Jn(e,t)},AsyncIterator:nr,async:function(e,t,n,i,a){return(r(t)?rr:ir)(o(e),t,n,i,a)},keys:or,values:ar}})()}function lr(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function ur(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){lr(o,r,i,a,s,"next",e)}function s(e){lr(o,r,i,a,s,"throw",e)}a(void 0)})}}function cr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=h(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function dr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}
/*!
   * @antv/g-lite
   * @description A core module for rendering engine implements DOM API.
   * @version 2.2.19
   * @date 5/9/2025, 8:18:56 AM
   * @author AntVis
   * @docs https://g.antv.antgroup.com/
   */"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var hr={exports:{}};!function(e){e.exports=function(){function e(e,n,i,o,a){t(e,n,i||0,o||e.length-1,a||r)}function t(e,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,l=r-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);t(e,r,Math.max(i,Math.floor(r-l*c/s+d)),Math.min(o,Math.floor(r+(s-l)*c/s+d)),a)}var h=e[r],f=i,p=o;for(n(e,i,r),a(e[o],h)>0&&n(e,i,o);f<p;){for(n(e,f,p),f++,p--;a(e[f],h)<0;)f++;for(;a(e[p],h)>0;)p--}0===a(e[i],h)?n(e,i,p):n(e,++p,o),p<=r&&(i=p+1),r<=p&&(o=p-1)}}function n(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function r(e,t){return e<t?-1:e>t?1:0}var i=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function a(e,t){s(e,0,e.children.length,t,e)}function s(e,t,n,r,i){i||(i=y(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=t;o<n;o++){var a=e.children[o];l(i,e.leaf?r(a):a)}return i}function l(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function u(e,t){return e.minX-t.minX}function c(e,t){return e.minY-t.minY}function d(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function h(e){return e.maxX-e.minX+(e.maxY-e.minY)}function f(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function p(e,t){var n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}function g(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function m(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function y(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(t,n,r,i,o){for(var a=[n,r];a.length;)if(!((r=a.pop())-(n=a.pop())<=i)){var s=n+Math.ceil((r-n)/i/2)*i;e(t,s,n,r,o),a.push(n,s,s,r)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(e){var t=this.data,n=[];if(!m(e,t))return n;for(var r=this.toBBox,i=[];t;){for(var o=0;o<t.children.length;o++){var a=t.children[o],s=t.leaf?r(a):a;m(e,s)&&(t.leaf?n.push(a):g(e,s)?this._all(a,n):i.push(a))}t=i.pop()}return n},i.prototype.collides=function(e){var t=this.data;if(!m(e,t))return!1;for(var n=[];t;){for(var r=0;r<t.children.length;r++){var i=t.children[r],o=t.leaf?this.toBBox(i):i;if(m(e,o)){if(t.leaf||g(e,o))return!0;n.push(i)}}t=n.pop()}return!1},i.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},i.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},i.prototype.clear=function(){return this.data=y([]),this},i.prototype.remove=function(e,t){if(!e)return this;for(var n,r,i,a=this.data,s=this.toBBox(e),l=[],u=[];a||l.length;){if(a||(a=l.pop(),r=l[l.length-1],n=u.pop(),i=!0),a.leaf){var c=o(e,a.children,t);if(-1!==c)return a.children.splice(c,1),l.push(a),this._condense(l),this}i||a.leaf||!g(a,s)?r?(n++,a=r.children[n],i=!1):a=null:(l.push(a),u.push(n),n=0,r=a,a=a.children[0])}return this},i.prototype.toBBox=function(e){return e},i.prototype.compareMinX=function(e,t){return e.minX-t.minX},i.prototype.compareMinY=function(e,t){return e.minY-t.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(e){return this.data=e,this},i.prototype._all=function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},i.prototype._build=function(e,t,n,r){var i,o=n-t+1,s=this._maxEntries;if(o<=s)return a(i=y(e.slice(t,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),(i=y([])).leaf=!1,i.height=r;var l=Math.ceil(o/s),u=l*Math.ceil(Math.sqrt(s));v(e,t,n,u,this.compareMinX);for(var c=t;c<=n;c+=u){var d=Math.min(c+u-1,n);v(e,c,d,l,this.compareMinY);for(var h=c;h<=d;h+=l){var f=Math.min(h+l-1,d);i.children.push(this._build(e,h,f,r-1))}}return a(i,this.toBBox),i},i.prototype._chooseSubtree=function(e,t,n,r){for(;r.push(t),!t.leaf&&r.length-1!==n;){for(var i=1/0,o=1/0,a=void 0,s=0;s<t.children.length;s++){var l=t.children[s],u=d(l),c=f(e,l)-u;c<o?(o=c,i=u<i?u:i,a=l):c===o&&u<i&&(i=u,a=l)}t=a||t.children[0]}return t},i.prototype._insert=function(e,t,n){var r=n?e:this.toBBox(e),i=[],o=this._chooseSubtree(r,this.data,t,i);for(o.children.push(e),l(o,r);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(r,i,t)},i.prototype._split=function(e,t){var n=e[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),s=y(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,a(n,this.toBBox),a(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)},i.prototype._splitRoot=function(e,t){this.data=y([e,t]),this.data.height=e.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(e,t,n){for(var r,i=1/0,o=1/0,a=t;a<=n-t;a++){var l=s(e,0,a,this.toBBox),u=s(e,a,n,this.toBBox),c=p(l,u),h=d(l)+d(u);c<i?(i=c,r=a,o=h<o?h:o):c===i&&h<o&&(o=h,r=a)}return r||n-t},i.prototype._chooseSplitAxis=function(e,t,n){var r=e.leaf?this.compareMinX:u,i=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)},i.prototype._allDistMargin=function(e,t,n,r){e.children.sort(r);for(var i=this.toBBox,o=s(e,0,t,i),a=s(e,n-t,n,i),u=h(o)+h(a),c=t;c<n-t;c++){var d=e.children[c];l(o,e.leaf?i(d):d),u+=h(o)}for(var f=n-t-1;f>=t;f--){var p=e.children[f];l(a,e.leaf?i(p):p),u+=h(a)}return u},i.prototype._adjustParentBBoxes=function(e,t,n){for(var r=n;r>=0;r--)l(t[r],e)},i.prototype._condense=function(e){for(var t=e.length-1,n=void 0;t>=0;t--)0===e[t].children.length?t>0?(n=e[t-1].children).splice(n.indexOf(e[t]),1):this.clear():a(e[t],this.toBBox)},i}()}(hr);var fr=hr.exports,pr=function(e){return e.GROUP="g",e.FRAGMENT="fragment",e.CIRCLE="circle",e.ELLIPSE="ellipse",e.IMAGE="image",e.RECT="rect",e.LINE="line",e.POLYLINE="polyline",e.POLYGON="polygon",e.TEXT="text",e.PATH="path",e.HTML="html",e.MESH="mesh",e}({}),gr=function(e){return e[e.ZERO=0]="ZERO",e[e.NEGATIVE_ONE=1]="NEGATIVE_ONE",e}({}),mr=function(){return c(function e(){l(this,e),this.plugins=[]},[{key:"addRenderingPlugin",value:function(e){this.plugins.push(e),this.context.renderingPlugins.push(e)}},{key:"removeAllRenderingPlugins",value:function(){var e=this;this.plugins.forEach(function(t){var n=e.context.renderingPlugins.indexOf(t);n>=0&&e.context.renderingPlugins.splice(n,1)})}}])}(),yr=function(){return c(function e(t){l(this,e),this.clipSpaceNearZ=gr.NEGATIVE_ONE,this.plugins=[],this.config=s({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1,enableSizeAttenuation:!0,enableRenderingOptimization:!1},t)},[{key:"registerPlugin",value:function(e){-1===this.plugins.findIndex(function(t){return t===e})&&this.plugins.push(e)}},{key:"unregisterPlugin",value:function(e){var t=this.plugins.findIndex(function(t){return t===e});t>-1&&this.plugins.splice(t,1)}},{key:"getPlugins",value:function(){return this.plugins}},{key:"getPlugin",value:function(e){return this.plugins.find(function(t){return t.name===e})}},{key:"getConfig",value:function(){return this.config}},{key:"setConfig",value:function(e){Object.assign(this.config,e)}}])}(),vr=ve,br=me,wr=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e},xr=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e},Er=we,kr=Oe,Sr=function(){function e(){l(this,e),this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return c(e,[{key:"update",value:function(e,t){br(this.center,e),br(this.halfExtents,t),kr(this.min,this.center,this.halfExtents),vr(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(e,t){vr(this.center,t,e),Er(this.center,this.center,.5),kr(this.halfExtents,t,e),Er(this.halfExtents,this.halfExtents,.5),br(this.min,e),br(this.max,t)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(t){if(!e.isEmpty(t))if(e.isEmpty(this))this.setMinMax(t.getMin(),t.getMax());else{var n=this.center,r=n[0],i=n[1],o=n[2],a=this.halfExtents,s=a[0],l=a[1],u=a[2],c=r-s,d=r+s,h=i-l,f=i+l,p=o-u,g=o+u,m=t.center,y=m[0],v=m[1],b=m[2],w=t.halfExtents,x=w[0],E=w[1],k=w[2],S=y-x,M=y+x,T=v-E,O=v+E,C=b-k,N=b+k;S<c&&(c=S),M>d&&(d=M),T<h&&(h=T),O>f&&(f=O),C<p&&(p=C),N>g&&(g=N),n[0]=.5*(c+d),n[1]=.5*(h+f),n[2]=.5*(p+g),a[0]=.5*(d-c),a[1]=.5*(f-h),a[2]=.5*(g-p),this.min[0]=c,this.min[1]=h,this.min[2]=p,this.max[0]=d,this.max[1]=f,this.max[2]=g}}},{key:"setFromTransformedAABB",value:function(e,t){var n=this.center,r=this.halfExtents,i=e.center,o=e.halfExtents,a=t[0],s=t[4],l=t[8],u=t[1],c=t[5],d=t[9],h=t[2],f=t[6],p=t[10],g=Math.abs(a),m=Math.abs(s),y=Math.abs(l),v=Math.abs(u),b=Math.abs(c),w=Math.abs(d),x=Math.abs(h),E=Math.abs(f),k=Math.abs(p);n[0]=t[12]+a*i[0]+s*i[1]+l*i[2],n[1]=t[13]+u*i[0]+c*i[1]+d*i[2],n[2]=t[14]+h*i[0]+f*i[1]+p*i[2],r[0]=g*o[0]+m*o[1]+y*o[2],r[1]=v*o[0]+b*o[1]+w*o[2],r[2]=x*o[0]+E*o[1]+k*o[2],kr(this.min,n,r),vr(this.max,n,r)}},{key:"intersects",value:function(e){var t=this.getMax(),n=this.getMin(),r=e.getMax(),i=e.getMin();return n[0]<=r[0]&&t[0]>=i[0]&&n[1]<=r[1]&&t[1]>=i[1]&&n[2]<=r[2]&&t[2]>=i[2]}},{key:"intersection",value:function(t){if(!this.intersects(t))return null;var n=new e,r=wr([0,0,0],this.getMin(),t.getMin()),i=xr([0,0,0],this.getMax(),t.getMax());return n.setMinMax(r,i),n}},{key:"getNegativeFarPoint",value:function(e){return 273===e.pnVertexFlag?br([0,0,0],this.min):272===e.pnVertexFlag?[this.min[0],this.min[1],this.max[2]]:257===e.pnVertexFlag?[this.min[0],this.max[1],this.min[2]]:256===e.pnVertexFlag?[this.min[0],this.max[1],this.max[2]]:17===e.pnVertexFlag?[this.max[0],this.min[1],this.min[2]]:16===e.pnVertexFlag?[this.max[0],this.min[1],this.max[2]]:1===e.pnVertexFlag?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]}},{key:"getPositiveFarPoint",value:function(e){return 273===e.pnVertexFlag?br([0,0,0],this.max):272===e.pnVertexFlag?[this.max[0],this.max[1],this.min[2]]:257===e.pnVertexFlag?[this.max[0],this.min[1],this.max[2]]:256===e.pnVertexFlag?[this.max[0],this.min[1],this.min[2]]:17===e.pnVertexFlag?[this.min[0],this.max[1],this.max[2]]:16===e.pnVertexFlag?[this.min[0],this.max[1],this.min[2]]:1===e.pnVertexFlag?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]}}],[{key:"isEmpty",value:function(e){return!e||0===e.halfExtents[0]&&0===e.halfExtents[1]&&0===e.halfExtents[2]}}])}(),Mr=function(){return c(function e(t,n){l(this,e),this.distance=t||0,this.normal=n||ge(0,1,0),this.updatePNVertexFlag()},[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(e){return Ee(e,this.normal)-this.distance}},{key:"normalize",value:function(){var e=1/Ne(this.normal);we(this.normal,this.normal,e),this.distance*=e}},{key:"intersectsLine",value:function(e,t,n){var r=this.distanceToPoint(e),i=r/(r-this.distanceToPoint(t)),o=i>=0&&i<=1;return o&&n&&Se(n,e,t,i),o}}])}(),Tr=function(e){return e[e.OUTSIDE=4294967295]="OUTSIDE",e[e.INSIDE=0]="INSIDE",e[e.INDETERMINATE=2147483647]="INDETERMINATE",e}({}),Or=function(){return c(function e(t){if(l(this,e),this.planes=[],t)this.planes=t;else for(var n=0;n<6;n++)this.planes.push(new Mr)},[{key:"extractFromVPMatrix",value:function(e){var t=w(e,16),n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],d=t[9],h=t[10],f=t[11],p=t[12],g=t[13],m=t[14],y=t[15];ye(this.planes[0].normal,o-n,u-a,f-c),this.planes[0].distance=y-p,ye(this.planes[1].normal,o+n,u+a,f+c),this.planes[1].distance=y+p,ye(this.planes[2].normal,o+r,u+s,f+d),this.planes[2].distance=y+g,ye(this.planes[3].normal,o-r,u-s,f-d),this.planes[3].distance=y-g,ye(this.planes[4].normal,o-i,u-l,f-h),this.planes[4].distance=y-m,ye(this.planes[5].normal,o+i,u+l,f+h),this.planes[5].distance=y+m,this.planes.forEach(function(e){e.normalize(),e.updatePNVertexFlag()})}}])}(),Cr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;l(this,e),this.x=0,this.y=0,this.x=t,this.y=n}return c(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"copyFrom",value:function(e){this.x=e.x,this.y=e.y}}])}(),Nr=function(){function e(t,n,r,i){l(this,e),this.x=t,this.y=n,this.width=r,this.height=i,this.left=t,this.right=t+r,this.top=n,this.bottom=n+i}return c(e,[{key:"toJSON",value:function(){}}],[{key:"fromRect",value:function(t){return new e(t.x,t.y,t.width,t.height)}},{key:"applyTransform",value:function(t,n){var r=Ae(t.x,t.y,0,1),i=Ae(t.x+t.width,t.y,0,1),o=Ae(t.x,t.y+t.height,0,1),a=Ae(t.x+t.width,t.y+t.height,0,1),s=Pe(),l=Pe(),u=Pe(),c=Pe();Re(s,r,n),Re(l,i,n),Re(u,o,n),Re(c,a,n);var d=Math.min(s[0],l[0],u[0],c[0]),h=Math.min(s[1],l[1],u[1],c[1]),f=Math.max(s[0],l[0],u[0],c[0]),p=Math.max(s[1],l[1],u[1],c[1]);return e.fromRect({x:d,y:h,width:f-d,height:p-h})}}])}(),Pr="Method not implemented.",Ar="Use document.documentElement instead.";function Rr(e){return void 0===e?0:e>360||e<-360?e%360:e}var _r=he();function Dr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return Array.isArray(e)&&3===e.length?r?fe(e):me(_r,e):st(e)?r?ge(e,t,n):ye(_r,e,t,n):r?ge(e[0],e[1]||t,e[2]||n):ye(_r,e[0],e[1]||t,e[2]||n)}var Lr=Math.PI/180;function Ir(e){return e*Lr}var zr=180/Math.PI;function Fr(e){return e*zr}var jr=Math.PI/2;function Br(e,t){return 16===t.length?function(e,t){var n,r,i=w(Q(he(),t),3),o=i[0],a=i[1],s=i[2],l=Math.asin(-t[2]/o);return l<jr?l>-jr?(n=Math.atan2(t[6]/a,t[10]/s),r=Math.atan2(t[1]/o,t[0]/o)):(r=0,n=-Math.atan2(t[4]/a,t[5]/a)):(r=0,n=Math.atan2(t[4]/a,t[5]/a)),e[0]=n,e[1]=l,e[2]=r,e}(e,t):function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=r*r,s=i*i,l=o*o,u=n*n+a+s+l,c=n*o-r*i;return c>.499995*u?(e[0]=jr,e[1]=2*Math.atan2(r,n),e[2]=0):c<-.499995*u?(e[0]=-jr,e[1]=2*Math.atan2(r,n),e[2]=0):(e[0]=Math.asin(2*(n*i-o*r)),e[1]=Math.atan2(2*(n*o+r*i),1-2*(s+l)),e[2]=Math.atan2(2*(n*r+i*o),1-2*(a+s))),e}(e,t)}function Hr(e,t,n,r,i){var o,a,s,l,u,c,d,h,f,p,g=Math.cos(e),m=Math.sin(e);return o=r*g,a=i*m,s=0,l=-r*m,u=i*g,c=0,d=t,h=n,f=1,(p=new O(9))[0]=o,p[1]=a,p[2]=s,p[3]=l,p[4]=u,p[5]=c,p[6]=d,p[7]=h,p[8]=f,p}function Vr(e){var t=e[0],n=e[1],r=e[3],i=e[4],o=Math.sqrt(t*t+n*n),a=Math.sqrt(r*r+i*i);if(t*i-n*r<0&&(t<i?o=-o:a=-a),o){var s=1/o;t*=s,n*=s}if(a){var l=1/a;r*=l,i*=l}var u=Fr(Math.atan2(n,t));return[e[6],e[7],o,a,u]}var Ur=N(),Wr=N(),Gr=Pe(),$r=[he(),he(),he()],qr=he();function Yr(e,t,n,r,i){e[0]=t[0]*r+n[0]*i,e[1]=t[1]*r+n[1]*i,e[2]=t[2]*r+n[2]*i}var Xr=function(e){return e[e.ORBITING=0]="ORBITING",e[e.EXPLORING=1]="EXPLORING",e[e.TRACKING=2]="TRACKING",e}({}),Kr=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.ROTATIONAL=1]="ROTATIONAL",e[e.TRANSLATIONAL=2]="TRANSLATIONAL",e[e.CINEMATIC=3]="CINEMATIC",e}({}),Qr=function(e){return e[e.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",e[e.PERSPECTIVE=1]="PERSPECTIVE",e}({}),Zr="updated",Jr=2e-4,ei=function(){return c(function e(){l(this,e),this.clipSpaceNearZ=gr.NEGATIVE_ONE,this.eventEmitter=new M,this.matrix=N(),this.right=ge(1,0,0),this.up=ge(0,1,0),this.forward=ge(0,0,1),this.position=ge(0,0,1),this.focalPoint=ge(0,0,0),this.distanceVector=ge(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=N(),this.projectionMatrixInverse=N(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=Xr.EXPLORING,this.trackingMode=Kr.DEFAULT,this.projectionMode=Qr.PERSPECTIVE,this.frustum=new Or,this.orthoMatrix=N()},[{key:"isOrtho",value:function(){return this.projectionMode===Qr.ORTHOGRAPHIC}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.jitteredProjectionMatrix||this.projectionMatrix}},{key:"getPerspectiveInverse",value:function(){return this.projectionMatrixInverse}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getDollyingStep",value:function(){return this.dollyingStep}},{key:"getNear",value:function(){return this.near}},{key:"getFar",value:function(){return this.far}},{key:"getZoom",value:function(){return this.zoom}},{key:"getOrthoMatrix",value:function(){return this.orthoMatrix}},{key:"getView",value:function(){return this.view}},{key:"setEnableUpdate",value:function(e){this.enableUpdate=e}},{key:"setType",value:function(e,t){return this.type=e,this.type===Xr.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===Xr.TRACKING&&void 0!==t&&this.setTrackingMode(t),this}},{key:"setProjectionMode",value:function(e){return this.projectionMode=e,this}},{key:"setTrackingMode",value:function(e){if(this.type!==Xr.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=e,this}},{key:"setWorldRotation",value:function(e){return this.rotateWorld=e,this._getAngles(),this}},{key:"getViewTransform",value:function(){return I(N(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"jitterProjectionMatrix",value:function(e,t){var n=U(N(),[e,t,0]);this.jitteredProjectionMatrix=F(N(),n,this.projectionMatrix)}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0}},{key:"setMatrix",value:function(e){return this.matrix=e,this._update(),this}},{key:"setProjectionMatrix",value:function(e){this.projectionMatrix=e}},{key:"setFov",value:function(e){return this.setPerspective(this.near,this.far,e,this.aspect),this}},{key:"setAspect",value:function(e){return this.setPerspective(this.near,this.far,this.fov,e),this}},{key:"setNear",value:function(e){return this.projectionMode===Qr.PERSPECTIVE?this.setPerspective(e,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,e,this.far),this}},{key:"setFar",value:function(e){return this.projectionMode===Qr.PERSPECTIVE?this.setPerspective(this.near,e,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,e),this}},{key:"setViewOffset",value:function(e,t,n,r,i,o){return this.aspect=e/t,void 0===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.projectionMode===Qr.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return void 0!==this.view&&(this.view.enabled=!1),this.projectionMode===Qr.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setZoom",value:function(e){return this.zoom=e,this.projectionMode===Qr.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===Qr.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this}},{key:"setZoomByViewportPoint",value:function(e,t){var n=this.canvas.viewport2Canvas({x:t[0],y:t[1]}),r=n.x,i=n.y,o=this.roll;this.rotate(0,0,-o),this.setPosition(r,i),this.setFocalPoint(r,i),this.setZoom(e),this.rotate(0,0,o);var a=this.canvas.viewport2Canvas({x:t[0],y:t[1]}),s=ge(a.x-r,a.y-i,0),l=Ee(s,this.right)/pe(this.right),u=Ee(s,this.up)/pe(this.up),c=w(this.getPosition(),2),d=c[0],h=c[1],f=w(this.getFocalPoint(),2),p=f[0],g=f[1];return this.setPosition(d-l,h-u),this.setFocalPoint(p-l,g-u),this}},{key:"setPerspective",value:function(e,t,n,r){var i;this.projectionMode=Qr.PERSPECTIVE,this.fov=n,this.near=e,this.far=t,this.aspect=r;var o=this.near*Math.tan(Ir(.5*this.fov))/this.zoom,a=2*o,s=this.aspect*a,l=-.5*s;if(null!==(i=this.view)&&void 0!==i&&i.enabled){var u=this.view.fullWidth,c=this.view.fullHeight;l+=this.view.offsetX*s/u,o-=this.view.offsetY*a/c,s*=this.view.width/u,a*=this.view.height/c}return function(e,t,n,r,i,o,a){var s,l,u=2*o,c=n-t,d=r-i,h=u/c,f=u/d,p=(n+t)/c,g=(r+i)/d,m=a-o,y=a*o;arguments.length>7&&void 0!==arguments[7]&&arguments[7]?(s=-a/m,l=-y/m):(s=-(a+o)/m,l=-2*y/m),e[0]=h,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=f,e[6]=0,e[7]=0,e[8]=p,e[9]=g,e[10]=s,e[11]=-1,e[12]=0,e[13]=0,e[14]=l,e[15]=0}(this.projectionMatrix,l,l+s,o-a,o,e,this.far,this.clipSpaceNearZ===gr.ZERO),I(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this}},{key:"setOrthographic",value:function(e,t,n,r,i,o){var a;this.projectionMode=Qr.ORTHOGRAPHIC,this.rright=t,this.left=e,this.top=n,this.bottom=r,this.near=i,this.far=o;var s=(this.rright-this.left)/(2*this.zoom),l=(this.top-this.bottom)/(2*this.zoom),u=(this.rright+this.left)/2,c=(this.top+this.bottom)/2,d=u-s,h=u+s,f=c+l,p=c-l;if(null!==(a=this.view)&&void 0!==a&&a.enabled){var g=(this.rright-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;h=(d+=g*this.view.offsetX)+g*this.view.width,p=(f-=m*this.view.offsetY)-m*this.view.height}return this.clipSpaceNearZ===gr.NEGATIVE_ONE?ie(this.projectionMatrix,d,h,f,p,i,o):oe(this.projectionMatrix,d,h,f,p,i,o),I(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this}},{key:"setPosition",value:function(e){var t=Dr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.position[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.position[2]);return this._setPosition(t),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this}},{key:"setFocalPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.focalPoint[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.focalPoint[2],r=ge(0,1,0);if(this.focalPoint=Dr(e,t,n),this.trackingMode===Kr.CINEMATIC){var i=be(he(),this.focalPoint,this.position);e=i[0],t=i[1],n=i[2];var o=pe(i),a=Fr(Math.asin(t/o)),s=90+Fr(Math.atan2(n,e)),l=N();V(l,l,Ir(s)),H(l,l,Ir(a)),r=Me(he(),[0,1,0],l)}return I(this.matrix,ae(N(),this.position,this.focalPoint,r)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this}},{key:"getDistance",value:function(){return this.distance}},{key:"getDistanceVector",value:function(){return this.distanceVector}},{key:"setDistance",value:function(e){if(this.distance===e||e<0)return this;this.distance=e,this.distance<Jr&&(this.distance=Jr),this.dollyingStep=this.distance/100;var t=he();e=this.distance;var n=this.forward,r=this.focalPoint;return t[0]=e*n[0]+r[0],t[1]=e*n[1]+r[1],t[2]=e*n[2]+r[2],this._setPosition(t),this.triggerUpdate(),this}},{key:"setMaxDistance",value:function(e){return this.maxDistance=e,this}},{key:"setMinDistance",value:function(e){return this.minDistance=e,this}},{key:"setAzimuth",value:function(e){return this.azimuth=Rr(e),this.computeMatrix(),this._getAxes(),this.type===Xr.ORBITING||this.type===Xr.EXPLORING?this._getPosition():this.type===Xr.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(e){return this.elevation=Rr(e),this.computeMatrix(),this._getAxes(),this.type===Xr.ORBITING||this.type===Xr.EXPLORING?this._getPosition():this.type===Xr.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getElevation",value:function(){return this.elevation}},{key:"setRoll",value:function(e){return this.roll=Rr(e),this.computeMatrix(),this._getAxes(),this.type===Xr.ORBITING||this.type===Xr.EXPLORING?this._getPosition():this.type===Xr.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getRoll",value:function(){return this.roll}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()}},{key:"computeMatrix",value:function(){var e=De(_e(),[0,0,1],Ir(this.roll));D(this.matrix);var t=De(_e(),[1,0,0],Ir((this.rotateWorld&&this.type!==Xr.TRACKING||this.type===Xr.TRACKING?1:-1)*this.elevation)),n=De(_e(),[0,1,0],Ir((this.rotateWorld&&this.type!==Xr.TRACKING||this.type===Xr.TRACKING?1:-1)*this.azimuth)),r=Le(_e(),n,t);r=Le(_e(),r,e);var i=ee(N(),r);this.type===Xr.ORBITING||this.type===Xr.EXPLORING?(j(this.matrix,this.matrix,this.focalPoint),F(this.matrix,this.matrix,i),j(this.matrix,this.matrix,[0,0,this.distance])):this.type===Xr.TRACKING&&(j(this.matrix,this.matrix,this.position),F(this.matrix,this.matrix,i))}},{key:"_setPosition",value:function(e,t,n){this.position=Dr(e,t,n);var r=this.matrix;r[12]=this.position[0],r[13]=this.position[1],r[14]=this.position[2],r[15]=1,this._getOrthoMatrix()}},{key:"_getAxes",value:function(){me(this.right,Dr(Re(Pe(),[1,0,0,0],this.matrix))),me(this.up,Dr(Re(Pe(),[0,1,0,0],this.matrix))),me(this.forward,Dr(Re(Pe(),[0,0,1,0],this.matrix))),xe(this.right,this.right),xe(this.up,this.up),xe(this.forward,this.forward)}},{key:"_getAngles",value:function(){var e=this.distanceVector[0],t=this.distanceVector[1],n=this.distanceVector[2],r=pe(this.distanceVector);if(0===r)return this.elevation=0,void(this.azimuth=0);this.type===Xr.TRACKING||this.rotateWorld?(this.elevation=Fr(Math.asin(t/r)),this.azimuth=Fr(Math.atan2(-e,-n))):(this.elevation=-Fr(Math.asin(t/r)),this.azimuth=-Fr(Math.atan2(-e,-n)))}},{key:"_getPosition",value:function(){me(this.position,Dr(Re(Pe(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){!function(e,t,n){var r=t[0],i=t[1],o=t[2];e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8]}(this.distanceVector,[0,0,-this.distance],function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}(C(),this.matrix)),ve(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=be(he(),this.focalPoint,this.position),this.distance=pe(this.distanceVector),this.dollyingStep=this.distance/100}},{key:"_getOrthoMatrix",value:function(){if(this.projectionMode===Qr.ORTHOGRAPHIC){var e=this.position,t=De(_e(),[0,0,1],-this.roll*Math.PI/180);J(this.orthoMatrix,t,ge((this.rright-this.left)/2-e[0],(this.top-this.bottom)/2-e[1],0),ge(this.zoom,this.zoom,1),e)}}},{key:"triggerUpdate",value:function(){if(this.enableUpdate){var e=this.getViewTransform(),t=F(N(),this.getPerspective(),e);this.getFrustum().extractFromVPMatrix(t),this.eventEmitter.emit(Zr)}}},{key:"rotate",value:function(e,t,n){throw new Error(Pr)}},{key:"pan",value:function(e,t){throw new Error(Pr)}},{key:"dolly",value:function(e){throw new Error(Pr)}},{key:"createLandmark",value:function(e,t){throw new Error(Pr)}},{key:"gotoLandmark",value:function(e,t){throw new Error(Pr)}},{key:"cancelLandmarkAnimation",value:function(){throw new Error(Pr)}}])}(),ti=function(e){return e[e.Standard=0]="Standard",e}({}),ni=function(e){return e[e.ADDED=0]="ADDED",e[e.REMOVED=1]="REMOVED",e[e.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED",e}({}),ri={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Nr(0,0,0,0)},ii=function(e){return e.COORDINATE="<coordinate>",e.COLOR="<color>",e.PAINT="<paint>",e.NUMBER="<number>",e.ANGLE="<angle>",e.OPACITY_VALUE="<opacity-value>",e.SHADOW_BLUR="<shadow-blur>",e.LENGTH="<length>",e.PERCENTAGE="<percentage>",e.LENGTH_PERCENTAGE="<length> | <percentage>",e.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",e.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",e.LIST_OF_POINTS="<list-of-points>",e.PATH="<path>",e.FILTER="<filter>",e.Z_INDEX="<z-index>",e.OFFSET_DISTANCE="<offset-distance>",e.DEFINED_PATH="<defined-path>",e.MARKER="<marker>",e.TRANSFORM="<transform>",e.TRANSFORM_ORIGIN="<transform-origin>",e.TEXT="<text>",e.TEXT_TRANSFORM="<text-transform>",e}({});function oi(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ai(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function si(){}var li=.7,ui=1/li,ci="\\s*([+-]?\\d+)\\s*",di="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fi=/^#([0-9a-f]{3,8})$/,pi=new RegExp(`^rgb\\(${ci},${ci},${ci}\\)$`),gi=new RegExp(`^rgb\\(${hi},${hi},${hi}\\)$`),mi=new RegExp(`^rgba\\(${ci},${ci},${ci},${di}\\)$`),yi=new RegExp(`^rgba\\(${hi},${hi},${hi},${di}\\)$`),vi=new RegExp(`^hsl\\(${di},${hi},${hi}\\)$`),bi=new RegExp(`^hsla\\(${di},${hi},${hi},${di}\\)$`),wi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function xi(){return this.rgb().formatHex()}function Ei(){return this.rgb().formatRgb()}function ki(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=fi.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Si(t):3===n?new Ti(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Mi(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Mi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=pi.exec(e))?new Ti(t[1],t[2],t[3],1):(t=gi.exec(e))?new Ti(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=mi.exec(e))?Mi(t[1],t[2],t[3],t[4]):(t=yi.exec(e))?Mi(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=vi.exec(e))?Ri(t[1],t[2]/100,t[3]/100,1):(t=bi.exec(e))?Ri(t[1],t[2]/100,t[3]/100,t[4]):wi.hasOwnProperty(e)?Si(wi[e]):"transparent"===e?new Ti(NaN,NaN,NaN,0):null}function Si(e){return new Ti(e>>16&255,e>>8&255,255&e,1)}function Mi(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ti(e,t,n,r)}function Ti(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Oi(){return`#${Ai(this.r)}${Ai(this.g)}${Ai(this.b)}`}function Ci(){const e=Ni(this.opacity);return`${1===e?"rgb(":"rgba("}${Pi(this.r)}, ${Pi(this.g)}, ${Pi(this.b)}${1===e?")":`, ${e})`}`}function Ni(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Pi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ai(e){return((e=Pi(e))<16?"0":"")+e.toString(16)}function Ri(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Di(e,t,n,r)}function _i(e){if(e instanceof Di)return new Di(e.h,e.s,e.l,e.opacity);if(e instanceof si||(e=ki(e)),!e)return new Di;if(e instanceof Di)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Di(a,s,l,e.opacity)}function Di(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Li(e){return(e=(e||0)%360)<0?e+360:e}function Ii(e){return Math.max(0,Math.min(1,e||0))}function zi(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Fi(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=t?t.apply(this,i):i[0],s=n.cache;if(s.has(a))return s.get(a);var l=e.apply(this,i);return n.cache=s.set(a,l)||s,l};return n.cache=new(Fi.Cache||Map),Fi.cacheList.push(n.cache),n}oi(si,ki,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xi,formatHex:xi,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return _i(this).formatHsl()},formatRgb:Ei,toString:Ei}),oi(Ti,function(e,t,n,r){return 1===arguments.length?((i=e)instanceof si||(i=ki(i)),i?new Ti((i=i.rgb()).r,i.g,i.b,i.opacity):new Ti):new Ti(e,t,n,null==r?1:r);var i},ai(si,{brighter(e){return e=null==e?ui:Math.pow(ui,e),new Ti(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?li:Math.pow(li,e),new Ti(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ti(Pi(this.r),Pi(this.g),Pi(this.b),Ni(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Oi,formatHex:Oi,formatHex8:function(){return`#${Ai(this.r)}${Ai(this.g)}${Ai(this.b)}${Ai(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ci,toString:Ci})),oi(Di,function(e,t,n,r){return 1===arguments.length?_i(e):new Di(e,t,n,null==r?1:r)},ai(si,{brighter(e){return e=null==e?ui:Math.pow(ui,e),new Di(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?li:Math.pow(li,e),new Di(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ti(zi(e>=240?e-240:e+120,i,r),zi(e,i,r),zi(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Di(Li(this.h),Ii(this.s),Ii(this.l),Ni(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ni(this.opacity);return`${1===e?"hsl(":"hsla("}${Li(this.h)}, ${100*Ii(this.s)}%, ${100*Ii(this.l)}%${1===e?")":`, ${e})`}`}})),Fi.Cache=Map,Fi.cacheList=[],Fi.clearCache=function(){Fi.cacheList.forEach(function(e){return e.clear()})};var ji=function(e){return e[e.kUnknown=0]="kUnknown",e[e.kNumber=1]="kNumber",e[e.kPercentage=2]="kPercentage",e[e.kEms=3]="kEms",e[e.kPixels=4]="kPixels",e[e.kRems=5]="kRems",e[e.kDegrees=6]="kDegrees",e[e.kRadians=7]="kRadians",e[e.kGradians=8]="kGradians",e[e.kTurns=9]="kTurns",e[e.kMilliseconds=10]="kMilliseconds",e[e.kSeconds=11]="kSeconds",e[e.kInteger=12]="kInteger",e}({}),Bi=function(e){return e[e.kUNumber=0]="kUNumber",e[e.kUPercent=1]="kUPercent",e[e.kULength=2]="kULength",e[e.kUAngle=3]="kUAngle",e[e.kUTime=4]="kUTime",e[e.kUOther=5]="kUOther",e}({}),Hi=function(e){return e[e.kYes=0]="kYes",e[e.kNo=1]="kNo",e}({}),Vi=function(e){return e[e.kYes=0]="kYes",e[e.kNo=1]="kNo",e}({}),Ui=[{name:"em",unit_type:ji.kEms},{name:"px",unit_type:ji.kPixels},{name:"deg",unit_type:ji.kDegrees},{name:"rad",unit_type:ji.kRadians},{name:"grad",unit_type:ji.kGradians},{name:"ms",unit_type:ji.kMilliseconds},{name:"s",unit_type:ji.kSeconds},{name:"rem",unit_type:ji.kRems},{name:"turn",unit_type:ji.kTurns}],Wi=function(e){return e[e.kUnknownType=0]="kUnknownType",e[e.kUnparsedType=1]="kUnparsedType",e[e.kKeywordType=2]="kKeywordType",e[e.kUnitType=3]="kUnitType",e[e.kSumType=4]="kSumType",e[e.kProductType=5]="kProductType",e[e.kNegateType=6]="kNegateType",e[e.kInvertType=7]="kInvertType",e[e.kMinType=8]="kMinType",e[e.kMaxType=9]="kMaxType",e[e.kClampType=10]="kClampType",e[e.kTransformType=11]="kTransformType",e[e.kPositionType=12]="kPositionType",e[e.kURLImageType=13]="kURLImageType",e[e.kColorType=14]="kColorType",e[e.kUnsupportedColorType=15]="kUnsupportedColorType",e}({}),Gi=function(e){return e?"number"===e?ji.kNumber:"percent"===e||"%"===e?ji.kPercentage:function(e){return Ui.find(function(t){return t.name===e}).unit_type}(e):ji.kUnknown},$i=function(e){var t=1;switch(e){case ji.kPixels:case ji.kDegrees:case ji.kSeconds:break;case ji.kMilliseconds:t=.001;break;case ji.kRadians:t=180/Math.PI;break;case ji.kGradians:t=.9;break;case ji.kTurns:t=360}return t},qi=function(e){switch(e){case ji.kNumber:case ji.kInteger:return"";case ji.kPercentage:return"%";case ji.kEms:return"em";case ji.kRems:return"rem";case ji.kPixels:return"px";case ji.kDegrees:return"deg";case ji.kRadians:return"rad";case ji.kGradians:return"grad";case ji.kMilliseconds:return"ms";case ji.kSeconds:return"s";case ji.kTurns:return"turn"}return""},Yi=function(){return c(function e(){l(this,e)},[{key:"toString",value:function(){return this.buildCSSText(Hi.kNo,Vi.kNo,"")}},{key:"isNumericValue",value:function(){return this.getType()>=Wi.kUnitType&&this.getType()<=Wi.kClampType}}],[{key:"isAngle",value:function(e){return e===ji.kDegrees||e===ji.kRadians||e===ji.kGradians||e===ji.kTurns}},{key:"isLength",value:function(e){return e>=ji.kEms&&e<ji.kDegrees}},{key:"isRelativeUnit",value:function(e){return e===ji.kPercentage||e===ji.kEms||e===ji.kRems}},{key:"isTime",value:function(e){return e===ji.kSeconds||e===ji.kMilliseconds}}])}(),Xi=function(e){function t(e){var n;return l(this,t),(n=y(this,t)).colorSpace=e,n}return b(t,e),c(t,[{key:"getType",value:function(){return Wi.kColorType}},{key:"to",value:function(e){return this}}])}(Yi),Ki=function(e){return e[e.Constant=0]="Constant",e[e.LinearGradient=1]="LinearGradient",e[e.RadialGradient=2]="RadialGradient",e}({}),Qi=function(e){function t(e,n){var r;return l(this,t),(r=y(this,t)).type=e,r.value=n,r}return b(t,e),c(t,[{key:"clone",value:function(){return new t(this.type,this.value)}},{key:"buildCSSText",value:function(e,t,n){return n}},{key:"getType",value:function(){return Wi.kColorType}}])}(Yi),Zi=function(e){function t(e){var n;return l(this,t),(n=y(this,t)).value=e,n}return b(t,e),c(t,[{key:"clone",value:function(){return new t(this.value)}},{key:"getType",value:function(){return Wi.kKeywordType}},{key:"buildCSSText",value:function(e,t,n){return n+this.value}}])}(Yi),Ji=function(e){return function(e){switch(e){case Bi.kUNumber:return ji.kNumber;case Bi.kULength:return ji.kPixels;case Bi.kUPercent:return ji.kPercentage;case Bi.kUTime:return ji.kSeconds;case Bi.kUAngle:return ji.kDegrees;default:return ji.kUnknown}}(function(e){switch(e){case ji.kNumber:case ji.kInteger:return Bi.kUNumber;case ji.kPercentage:return Bi.kUPercent;case ji.kPixels:return Bi.kULength;case ji.kMilliseconds:case ji.kSeconds:return Bi.kUTime;case ji.kDegrees:case ji.kRadians:case ji.kGradians:case ji.kTurns:return Bi.kUAngle;default:return Bi.kUOther}}(e))},eo=function(e){function t(e){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ji.kNumber;return l(this,t),n=y(this,t),r="string"==typeof i?Gi(i):i,n.unit=r,n.value=e,n}return b(t,e),c(t,[{key:"clone",value:function(){return new t(this.value,this.unit)}},{key:"equals",value:function(e){var t=e;return this.value===t.value&&this.unit===t.unit}},{key:"getType",value:function(){return Wi.kUnitType}},{key:"convertTo",value:function(e){if(this.unit===e)return new t(this.value,this.unit);var n=Ji(this.unit);if(n!==Ji(e)||n===ji.kUnknown)return null;var r=$i(this.unit)/$i(e);return new t(this.value*r,e)}},{key:"buildCSSText",value:function(e,t,n){var r;switch(this.unit){case ji.kUnknown:break;case ji.kInteger:r=Number(this.value).toFixed(0);break;case ji.kNumber:case ji.kPercentage:case ji.kEms:case ji.kRems:case ji.kPixels:case ji.kDegrees:case ji.kRadians:case ji.kGradians:case ji.kMilliseconds:case ji.kSeconds:case ji.kTurns:var i=this.value,o=qi(this.unit);if(i<-999999||i>999999){var a=qi(this.unit);r=!Number.isFinite(i)||Number.isNaN(i)?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(Number.isFinite(e)?"NaN":e>0?"infinity":"-infinity")+t}(i,a):i+(a||"")}else r="".concat(i).concat(o)}return n+=r}}])}(Yi),to=new eo(0,"px");new eo(1,"px");var no=new eo(0,"deg"),ro=function(e){function t(e,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return l(this,t),(i=y(this,t,["rgb"])).r=e,i.g=n,i.b=r,i.alpha=o,i.isNone=a,i}return b(t,e),c(t,[{key:"clone",value:function(){return new t(this.r,this.g,this.b,this.alpha)}},{key:"buildCSSText",value:function(e,t,n){return"".concat(n,"rgba(").concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")}}])}(Xi),io=new Zi("unset"),oo={"":io,unset:io,initial:new Zi("initial"),inherit:new Zi("inherit")},ao=new ro(0,0,0,0,!0),so=new ro(0,0,0,0),lo=Fi(function(e,t,n,r){return new ro(e,t,n,r)},function(e,t,n,r){return"rgba(".concat(e,",").concat(t,",").concat(n,",").concat(r,")")}),uo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ji.kNumber;return new eo(e,t)};function co(e){var t=e.type,n=e.value;return"hex"===t?"#".concat(n):"literal"===t?n:"rgb"===t?"rgb(".concat(n.join(","),")"):"rgba(".concat(n.join(","),")")}new eo(50,"%");var ho=function(){var e=/^(linear\-gradient)/i,t=/^(repeating\-linear\-gradient)/i,n=/^(radial\-gradient)/i,r=/^(repeating\-radial\-gradient)/i,i=/^(conic\-gradient)/i,o=/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,a=/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,s=/^(left|center|right|top|bottom)/i,l=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,u=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,c=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,d=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,h=/^\(/,f=/^\)/,p=/^,/,g=/^\#([0-9a-fA-F]+)/,m=/^([a-zA-Z]+)/,y=/^rgb/i,v=/^rgba/i,b=/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/,w="";function x(e){throw new Error("".concat(w,": ").concat(e))}function E(){var e=R(k);return w.length>0&&x("Invalid input not EOF"),e}function k(){return S("linear-gradient",e,T)||S("repeating-linear-gradient",t,T)||S("radial-gradient",n,O)||S("repeating-radial-gradient",r,O)||S("conic-gradient",i,O)}function S(e,t,n){return M(t,function(t){var r=n();return r&&(F(p)||x("Missing comma before color stops")),{type:e,orientation:r,colorStops:R(_)}})}function M(e,t){var n=F(e);if(n){F(h)||x("Missing (");var r=t(n);return F(f)||x("Missing )"),r}}function T(){return z("directional",o,1)||z("angular",d,1)}function O(){var e,t,n=C();return n&&((e=[]).push(n),t=w,F(p)&&((n=C())?e.push(n):w=t)),e}function C(){var e=function(){var e=z("shape",/^(circle)/i,0);e&&(e.style=I()||N());return e}()||function(){var e=z("shape",/^(ellipse)/i,0);e&&(e.style=L()||N());return e}();if(e)e.at=P();else{var t=N();if(t){e=t;var n=P();n&&(e.at=n)}else{var r=A();r&&(e={type:"default-radial",at:r})}}return e}function N(){return z("extent-keyword",a,1)}function P(){if(z("position",/^at/,0)){var e=A();return e||x("Missing positioning value"),e}}function A(){var e={x:L(),y:L()};if(e.x||e.y)return{type:"position",value:e}}function R(e){var t=e(),n=[];if(t)for(n.push(t);F(p);)(t=e())?n.push(t):x("One extra comma");return n}function _(){var e=z("hex",g,1)||M(v,function(){return{type:"rgba",value:R(D)}})||M(y,function(){return{type:"rgb",value:R(D)}})||z("literal",m,0);return e||x("Expected color definition"),e.length=L(),e}function D(){return F(b)[1]}function L(){return z("%",u,1)||z("position-keyword",s,1)||I()}function I(){return z("px",l,1)||z("em",c,1)}function z(e,t,n){var r=F(t);if(r)return{type:e,value:r[n]}}function F(e){var t=/^[\n\r\t\s]+/.exec(w);t&&j(t[0].length);var n=e.exec(w);return n&&j(n[0].length),n}function j(e){w=w.substring(e)}return function(e){return w=e,E()}}();var fo=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,po=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,go=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,mo=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;var yo={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},vo=Fi(function(e){var t;return t="angular"===e.type?Number(e.value):yo[e.value]||0,uo(t,"deg")}),bo=Fi(function(e){var t=50,n=50,r="%",i="%";if("position"===(null==e?void 0:e.type)){var o=e.value,a=o.x,s=o.y;"position-keyword"===(null==a?void 0:a.type)&&("left"===a.value?t=0:"center"===a.value?t=50:"right"===a.value?t=100:"top"===a.value?n=0:"bottom"===a.value&&(n=100)),"position-keyword"===(null==s?void 0:s.type)&&("left"===s.value?t=0:"center"===s.value?n=50:"right"===s.value?t=100:"top"===s.value?n=0:"bottom"===s.value&&(n=100)),"px"!==(null==a?void 0:a.type)&&"%"!==(null==a?void 0:a.type)&&"em"!==(null==a?void 0:a.type)||(r=null==a?void 0:a.type,t=Number(a.value)),"px"!==(null==s?void 0:s.type)&&"%"!==(null==s?void 0:s.type)&&"em"!==(null==s?void 0:s.type)||(i=null==s?void 0:s.type,n=Number(s.value))}return{cx:uo(t,r),cy:uo(n,i)}}),wo=Fi(function(e){if(e.indexOf("linear")>-1||e.indexOf("radial")>-1)return ho(e).map(function(e){var t=e.type,n=e.orientation,r=e.colorStops;!function(e){var t,n,r=e.length;e[r-1].length=null!==(t=e[r-1].length)&&void 0!==t?t:{type:"%",value:"100"},r>1&&(e[0].length=null!==(n=e[0].length)&&void 0!==n?n:{type:"%",value:"0"});for(var i=0,o=Number(e[0].length.value),a=1;a<r;a++){var s,l=null===(s=e[a].length)||void 0===s?void 0:s.value;if(!qe(l)&&!qe(o)){for(var u=1;u<a-i;u++)e[i+u].length={type:"%",value:"".concat(o+(Number(l)-o)*u/(a-i))};i=a,o=Number(l)}}}(r);var i=r.map(function(e){return{offset:uo(Number(e.length.value),"%"),color:co(e)}});if("linear-gradient"===t)return new Qi(Ki.LinearGradient,{angle:n?vo(n):no,steps:i});if("radial-gradient"===t&&(n||(n=[{type:"shape",value:"circle"}]),"shape"===n[0].type&&"circle"===n[0].value)){var o,a=bo(n[0].at),s=a.cx,l=a.cy;if(n[0].style){var u=n[0].style,c=u.type,d=u.value;o="extent-keyword"===c?function(e){return oo[e]||(oo[e]=new Zi(e)),oo[e]}(d):uo(d,c)}return new Qi(Ki.RadialGradient,{cx:s,cy:l,size:o,steps:i})}});var t=e[0];if("("===e[1]||"("===e[2])if("l"===t){var n=fo.exec(e);if(n){var r,i=(null===(r=n[2].match(mo))||void 0===r?void 0:r.map(function(e){return e.split(":")}))||[];return[new Qi(Ki.LinearGradient,{angle:uo(parseFloat(n[1]),"deg"),steps:i.map(function(e){var t=w(e,2),n=t[0],r=t[1];return{offset:uo(100*Number(n),"%"),color:r}})})]}}else if("r"===t){var o=function(e){var t=po.exec(e);if(t){var n,r=(null===(n=t[4].match(mo))||void 0===n?void 0:n.map(function(e){return e.split(":")}))||[];return{cx:uo(50,"%"),cy:uo(50,"%"),steps:r.map(function(e){var t=w(e,2),n=t[0],r=t[1];return{offset:uo(100*Number(n),"%"),color:r}})}}return null}(e);if(o){if(!rt(o))return[new Qi(Ki.RadialGradient,o)];e=o}}else if("p"===t)return function(e){var t=go.exec(e);if(t){var n=t[1],r=t[2];switch(n){case"a":n="repeat";break;case"x":n="repeat-x";break;case"y":n="repeat-y";break;default:n="no-repeat"}return{image:r,repetition:n}}return null}(e)});function xo(e){return e&&!!e.image}function Eo(e){return e&&!qe(e.r)&&!qe(e.g)&&!qe(e.b)}var ko=Fi(function(e){if(xo(e))return s({repetition:"repeat"},e);if(qe(e)&&(e=""),"transparent"===e)return so;if("currentColor"===e)e="black";else if("none"===e)return ao;var t=wo(e);if(t)return t;var n=ki(e),r=[0,0,0,0];return null!==n&&(r[0]=n.r||0,r[1]=n.g||0,r[2]=n.b||0,r[3]=n.opacity),lo.apply(void 0,r)});function So(e,t){if(Eo(e)&&Eo(t))return[[Number(e.r),Number(e.g),Number(e.b),Number(e.alpha)],[Number(t.r),Number(t.g),Number(t.b),Number(t.alpha)],function(e){var t=e.slice();if(t[3])for(var n=0;n<3;n++)t[n]=Math.round(at(t[n],0,255));return t[3]=at(t[3],0,1),"rgba(".concat(t.join(","),")")}]}function Mo(e,t){if(qe(t))return uo(0,"px");if(t="".concat(t).trim().toLowerCase(),isFinite(Number(t))){if("px".search(e)>=0)return uo(Number(t),"px");if("deg".search(e)>=0)return uo(Number(t),"deg")}var n=[];t=t.replace(e,function(e){return n.push(e),"U".concat(e)});var r="U(".concat(e.source,")");return n.map(function(e){return uo(Number(t.replace(new RegExp("U".concat(e),"g"),"").replace(new RegExp(r,"g"),"*0")),e)})[0]}var To=function(e){return Mo(new RegExp("px","g"),e)},Oo=Fi(To);Fi(function(e){return Mo(new RegExp("%","g"),e)});var Co=function(e){return st(e)||isFinite(Number(e))?uo(Number(e)||0,"px"):Mo(new RegExp("px|%|em|rem","g"),e)},No=Fi(Co),Po=function(e){return Mo(new RegExp("deg|rad|grad|turn","g"),e)},Ao=Fi(Po);function Ro(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o="",a=e.value||0,s=t.value||0,l=Ji(e.unit),u=e.convertTo(l),c=t.convertTo(l);return u&&c?(a=u.value,s=c.value,o=qi(e.unit)):(eo.isLength(e.unit)||eo.isLength(t.unit))&&(a=Lo(e,i,n),s=Lo(t,i,n),o="px"),[a,s,function(e){return e+o}]}function _o(e){var t=0;return e.unit===ji.kDegrees?t=e.value:e.unit===ji.kRadians?t=Fr(Number(e.value)):e.unit===ji.kTurns?t=360*Number(e.value):e.value&&(t=e.value),t}function Do(e,t){var n;return Array.isArray(e)?n=e.map(function(e){return Number(e)}):rt(e)?n=e.split(" ").map(function(e){return Number(e)}):st(e)&&(n=[e]),2===t?1===n.length?[n[0],n[0]]:[n[0],n[1]]:4===t?1===n.length?[n[0],n[0],n[0],n[0]]:2===n.length?[n[0],n[1],n[0],n[1]]:3===n.length?[n[0],n[1],n[2],n[1]]:[n[0],n[1],n[2],n[3]]:"even"===t&&n.length%2==1?[].concat(f(n),f(n)):n}function Lo(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e.unit===ji.kPixels)return Number(e.value);if(e.unit===ji.kPercentage&&n){var i=n.nodeName===pr.GROUP?n.getLocalBounds():n.getGeometryBounds();return(r?i.min[t]:0)+e.value/100*i.halfExtents[t]*2}return 0}var Io=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function zo(e){return e.toString()}var Fo=function(e){return"number"==typeof e?uo(e):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(e)?uo(Number(e)):uo(0)},jo=Fi(Fo);function Bo(e,t){return[e,t,zo]}function Ho(e,t){return function(n,r){return[n,r,function(n){return zo(at(n,e,t))}]}}function Vo(e,t){if(e.length===t.length)return[e,t,function(e){return e}]}function Uo(e){var t;return 0===e.parsedStyle.d.totalLength&&(e.parsedStyle.d.totalLength=On(e.parsedStyle.d.absolutePath,void 0,jt(jt({},t),{bbox:!1,length:!0})).length),e.parsedStyle.d.totalLength}function Wo(e,t){return e[0]===t[0]&&e[1]===t[1]}function Go(e,t){var n=e.prePoint,r=e.currentPoint,i=e.nextPoint,o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),a=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),l=Math.acos((o+a-s)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!l||0===Math.sin(l)||lt(l,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),c=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));return u=u>Math.PI/2?Math.PI-u:u,c=c>Math.PI/2?Math.PI-c:c,{xExtra:Math.cos(l/2-u)*(t/2*(1/Math.sin(l/2)))-t/2||0,yExtra:Math.cos(c-l/2)*(t/2*(1/Math.sin(l/2)))-t/2||0}}function $o(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}Fi(function(e){return rt(e)?e.split(" ").map(jo):e.map(jo)});var qo=function(e,t){var n=e.x*t.x+e.y*t.y,r=Math.sqrt((Math.pow(e.x,2)+Math.pow(e.y,2))*(Math.pow(t.x,2)+Math.pow(t.y,2)));return(e.x*t.y-e.y*t.x<0?-1:1)*Math.acos(n/r)},Yo=function(e,t,n,r,i,o,a,s){t=Math.abs(t),n=Math.abs(n);var l=Ir(r=dt(r,360));if(e.x===a.x&&e.y===a.y)return{x:e.x,y:e.y,ellipticalArcAngle:0};if(0===t||0===n)return{x:0,y:0,ellipticalArcAngle:0};var u=(e.x-a.x)/2,c=(e.y-a.y)/2,d={x:Math.cos(l)*u+Math.sin(l)*c,y:-Math.sin(l)*u+Math.cos(l)*c},h=Math.pow(d.x,2)/Math.pow(t,2)+Math.pow(d.y,2)/Math.pow(n,2);h>1&&(t*=Math.sqrt(h),n*=Math.sqrt(h));var f=(Math.pow(t,2)*Math.pow(n,2)-Math.pow(t,2)*Math.pow(d.y,2)-Math.pow(n,2)*Math.pow(d.x,2))/(Math.pow(t,2)*Math.pow(d.y,2)+Math.pow(n,2)*Math.pow(d.x,2));f=f<0?0:f;var p=(i!==o?1:-1)*Math.sqrt(f),g=p*(t*d.y/n),m=p*(-n*d.x/t),y={x:Math.cos(l)*g-Math.sin(l)*m+(e.x+a.x)/2,y:Math.sin(l)*g+Math.cos(l)*m+(e.y+a.y)/2},v={x:(d.x-g)/t,y:(d.y-m)/n},b=qo({x:1,y:0},v),w=qo(v,{x:(-d.x-g)/t,y:(-d.y-m)/n});!o&&w>0?w-=2*Math.PI:o&&w<0&&(w+=2*Math.PI);var x=b+(w%=2*Math.PI)*s,E=t*Math.cos(x),k=n*Math.sin(x);return{x:Math.cos(l)*E-Math.sin(l)*k+y.x,y:Math.sin(l)*E+Math.cos(l)*k+y.y,ellipticalArcStartAngle:b,ellipticalArcEndAngle:b+w,ellipticalArcAngle:x,ellipticalArcCenter:y,resultantRx:t,resultantRy:n}};function Xo(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.arcParams,i=r.rx,o=void 0===i?0:i,a=r.ry,s=void 0===a?0:a,l=r.xRotation,u=r.arcFlag,c=r.sweepFlag,d=Yo({x:e.prePoint[0],y:e.prePoint[1]},o,s,l,!!u,!!c,{x:e.currentPoint[0],y:e.currentPoint[1]},t),h=Yo({x:e.prePoint[0],y:e.prePoint[1]},o,s,l,!!u,!!c,{x:e.currentPoint[0],y:e.currentPoint[1]},n?t+.005:t-.005),f=h.x-d.x,p=h.y-d.y,g=Math.sqrt(f*f+p*p);return{x:-f/g,y:-p/g}}function Ko(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Qo(e,t){return Ko(e)*Ko(t)?(e[0]*t[0]+e[1]*t[1])/(Ko(e)*Ko(t)):1}function Zo(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(Qo(e,t))}function Jo(e,t){var n=t[1],r=t[2],i=dt(Ir(t[3]),2*Math.PI),o=t[4],a=t[5],s=e[0],l=e[1],u=t[6],c=t[7],d=Math.cos(i)*(s-u)/2+Math.sin(i)*(l-c)/2,h=-1*Math.sin(i)*(s-u)/2+Math.cos(i)*(l-c)/2,f=d*d/(n*n)+h*h/(r*r);f>1&&(n*=Math.sqrt(f),r*=Math.sqrt(f));var p=n*n*(h*h)+r*r*(d*d),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var m=r?g*n*h/r:0,y=n?g*-r*d/n:0,v=(s+u)/2+Math.cos(i)*m-Math.sin(i)*y,b=(l+c)/2+Math.sin(i)*m+Math.cos(i)*y,w=[(d-m)/n,(h-y)/r],x=[(-1*d-m)/n,(-1*h-y)/r],E=Zo([1,0],w),k=Zo(w,x);return Qo(w,x)<=-1&&(k=Math.PI),Qo(w,x)>=1&&(k=0),0===a&&k>0&&(k-=2*Math.PI),1===a&&k<0&&(k+=2*Math.PI),{cx:v,cy:b,rx:Wo(e,[u,c])?0:n,ry:Wo(e,[u,c])?0:r,startAngle:E,endAngle:E+k,xRotation:i,arcFlag:o,sweepFlag:a}}var ea=function(e){if(""===e||Array.isArray(e)&&0===e.length)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var t;try{t=dn(e)}catch(n){t=dn(""),console.error("[g]: Invalid SVG Path definition: ".concat(e))}!function(e){for(var t=0;t<e.length;t++){var n=e[t-1],r=e[t];if("M"===r[0]&&n){var i=n[0],o=[r[1],r[2]],a=void 0;"L"===i||"M"===i?a=[n[1],n[2]]:"C"!==i&&"A"!==i&&"Q"!==i||(a=[n[n.length-2],n[n.length-1]]),a&&Wo(o,a)&&(e.splice(t,1),t--)}}}(t);var n=function(e){for(var t=!1,n=e.length,r=0;r<n;r++){var i=e[r][0];if("C"===i||"A"===i||"Q"===i){t=!0;break}}return t}(t),r=function(e){for(var t=[],n=[],r=[],i=0;i<e.length;i++){var o=e[i],a=o[0];"M"===a?(r.length&&(n.push(r),r=[]),r.push([o[1],o[2]])):"Z"===a?r.length&&(t.push(r),r=[]):r.push([o[1],o[2]])}return r.length>0&&n.push(r),{polygons:t,polylines:n}}(t),i=r.polygons,o=r.polylines,a=function(e){for(var t=[],n=null,r=null,i=null,o=0,a=e.length,s=0;s<a;s++){var l=e[s];r=e[s+1];var u=l[0],c={command:u,prePoint:n,params:l,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(u){case"M":i=[l[1],l[2]],o=s;break;case"A":var d=Jo(n,l);c.arcParams=d}if("Z"===u)n=i,r=e[o+1];else{var h=l.length;n=[l[h-2],l[h-1]]}r&&"Z"===r[0]&&(r=e[o],t[o]&&(t[o].prePoint=n)),c.currentPoint=n,t[o]&&Wo(n,t[o].currentPoint)&&(t[o].prePoint=c.prePoint);var f=r?[r[r.length-2],r[r.length-1]]:null;c.nextPoint=f;var p=c.prePoint;if(["L","H","V"].includes(u))c.startTangent=[p[0]-n[0],p[1]-n[1]],c.endTangent=[n[0]-p[0],n[1]-p[1]];else if("Q"===u){var g=[l[1],l[2]];c.startTangent=[p[0]-g[0],p[1]-g[1]],c.endTangent=[n[0]-g[0],n[1]-g[1]]}else if("T"===u){var m=t[s-1],y=$o(m.currentPoint,p);"Q"===m.command?(c.command="Q",c.startTangent=[p[0]-y[0],p[1]-y[1]],c.endTangent=[n[0]-y[0],n[1]-y[1]]):(c.command="TL",c.startTangent=[p[0]-n[0],p[1]-n[1]],c.endTangent=[n[0]-p[0],n[1]-p[1]])}else if("C"===u){var v=[l[1],l[2]],b=[l[3],l[4]];c.startTangent=[p[0]-v[0],p[1]-v[1]],c.endTangent=[n[0]-b[0],n[1]-b[1]],0===c.startTangent[0]&&0===c.startTangent[1]&&(c.startTangent=[v[0]-b[0],v[1]-b[1]]),0===c.endTangent[0]&&0===c.endTangent[1]&&(c.endTangent=[b[0]-v[0],b[1]-v[1]])}else if("S"===u){var w=t[s-1],x=$o(w.currentPoint,p),E=[l[1],l[2]];"C"===w.command?(c.command="C",c.startTangent=[p[0]-x[0],p[1]-x[1]],c.endTangent=[n[0]-E[0],n[1]-E[1]]):(c.command="SQ",c.startTangent=[p[0]-E[0],p[1]-E[1]],c.endTangent=[n[0]-E[0],n[1]-E[1]])}else if("A"===u){var k=Xo(c,0),S=k.x,M=k.y,T=Xo(c,1,!1),O=T.x,C=T.y;c.startTangent=[S,M],c.endTangent=[O,C]}t.push(c)}return t}(t),s=function(e,t){for(var n=[],r=[],i=[],o=0;o<e.length;o++){var a=e[o],s=a.currentPoint,l=a.params,u=a.prePoint,c=void 0;switch(a.command){case"Q":c=Qn(u[0],u[1],l[1],l[2],l[3],l[4]);break;case"C":c=$n(u[0],u[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var d=a.arcParams;c=jn(d.cx,d.cy,d.rx,d.ry,d.xRotation,d.startAngle,d.endAngle);break;default:n.push(s[0]),r.push(s[1])}c&&(a.box=c,n.push(c.x,c.x+c.width),r.push(c.y,c.y+c.height))}n=n.filter(function(e){return!Number.isNaN(e)&&e!==1/0&&e!==-1/0}),r=r.filter(function(e){return!Number.isNaN(e)&&e!==1/0&&e!==-1/0});var h=nt(n),f=nt(r),p=tt(n),g=tt(r);if(0===i.length)return{x:h,y:f,width:p-h,height:g-f};for(var m=0;m<i.length;m++){var y=i[m],v=y.currentPoint;v[0]===h?h-=Go(y,t).xExtra:v[0]===p&&(p+=Go(y,t).xExtra),v[1]===f?f-=Go(y,t).yExtra:v[1]===g&&(g+=Go(y,t).yExtra)}return{x:h,y:f,width:p-h,height:g-f}}(a,0),l=s.x,u=s.y,c=s.width,d=s.height;return{absolutePath:t,hasArc:n,segments:a,polygons:i,polylines:o,totalLength:0,rect:{x:Number.isFinite(l)?l:0,y:Number.isFinite(u)?u:0,width:Number.isFinite(c)?c:0,height:Number.isFinite(d)?d:0}}},ta=Fi(ea);function na(e){return rt(e)?ta(e):ea(e)}function ra(e,t,n){var r=e.curve,i=t.curve;r&&0!==r.length||(r=yn(e.absolutePath,!1),e.curve=r),i&&0!==i.length||(i=yn(t.absolutePath,!1),t.curve=i);var o=[r,i];r.length!==i.length&&(o=An(r,i));var a,s,l=Nn(o[0])!==Nn(o[1])?(a=o[0],s=a.slice(1).map(function(e,t,n){return t?n[t-1].slice(-2).concat(e.slice(1)):a[0].slice(1).concat(e.slice(1))}).map(function(e){return e.map(function(t,n){return e[e.length-n-2*(1-n%2)]})}).reverse(),[["M"].concat(s[0].slice(0,2))].concat(s.map(function(e){return["C"].concat(e.slice(2))}))):o[0].map(function(e){return Array.isArray(e)?[].concat(e):e});return[l,Cn(o[1],l),function(e){return e}]}function ia(e,t){return[e.points,t.points,function(e){return e}]}var oa=null,aa=/\s*(\w+)\(([^)]*)\)/g;function sa(e){return function(t){var n=0;return e.map(function(e){return e===oa?t[n++]:e})}}function la(e){return e}var ua={matrix:["NNNNNN",[oa,oa,0,0,oa,oa,0,0,0,0,1,0,oa,oa,0,1],la],matrix3d:["NNNNNNNNNNNNNNNN",la],rotate:["A"],rotateX:["A"],rotateY:["A"],rotateZ:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",sa([oa,oa,new eo(1)]),la],scaleX:["N",sa([oa,new eo(1),new eo(1)]),sa([oa,new eo(1)])],scaleY:["N",sa([new eo(1),oa,new eo(1)]),sa([new eo(1),oa])],scaleZ:["N",sa([new eo(1),new eo(1),oa])],scale3d:["NNN",la],skew:["Aa",null,la],skewX:["A",null,sa([oa,no])],skewY:["A",null,sa([no,oa])],translate:["Tt",sa([oa,oa,to]),la],translateX:["T",sa([oa,to,to]),sa([oa,to])],translateY:["T",sa([to,oa,to]),sa([to,oa])],translateZ:["L",sa([to,to,oa])],translate3d:["TTL",la]};function ca(e){for(var t=[],n=e.length,r=0;r<n;r++){var i=e[r],o=i[0],a=i.slice(1);if("translate"===o||"skew"===o?1===a.length&&a.push(0):"scale"===o&&1===a.length&&a.push(a[0]),!ua[o])return[];var s=a.map(function(e){return uo(e)});t.push({t:o,d:s})}return t}function da(e){if(Array.isArray(e))return ca(e);if("none"===(e=(e||"none").trim()))return[];var t,n=[],r=0;for(aa.lastIndex=0;t=aa.exec(e);){if(t.index!==r)return[];r=t.index+t[0].length;var i=t[1],o=ua[i];if(!o)return[];var a=t[2].split(","),s=o[0];if(s.length<a.length)return[];for(var l=[],u=0;u<s.length;u++){var c=a[u],d=s[u],h=void 0;if(void 0===(h=c?{A:function(e){return"0"===e.trim()?no:Ao(e)},N:jo,T:No,L:Oo}[d.toUpperCase()](c):{a:no,n:l[0],t:to}[d]))return[];l.push(h)}if(n.push({t:i,d:l}),aa.lastIndex===e.length)return n}return[]}function ha(e){if(Array.isArray(e))return ca(e);if("none"===(e=(e||"none").trim()))return[];var t,n=[],r=0;for(aa.lastIndex=0;t=aa.exec(e);){if(t.index!==r)return[];r=t.index+t[0].length;var i=t[1],o=ua[i];if(!o)return[];var a=t[2].split(","),s=o[0];if(s.length<a.length)return[];for(var l=[],u=0;u<s.length;u++){var c=a[u],d=s[u],h=void 0;if(void 0===(h=c?{A:function(e){return"0"===e.trim()?no:Po(e)},N:Fo,T:Co,L:To}[d.toUpperCase()](c):{a:no,n:l[0],t:to}[d]))return[];l.push(h)}if(n.push({t:i,d:l}),aa.lastIndex===e.length)return n}return[]}function fa(e){var t,n,r,i;switch(e.t){case"rotateX":return i=Ir(_o(e.d[0])),[1,0,0,0,0,Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1];case"rotateY":return i=Ir(_o(e.d[0])),[Math.cos(i),0,-Math.sin(i),0,0,1,0,0,Math.sin(i),0,Math.cos(i),0,0,0,0,1];case"rotate":case"rotateZ":return i=Ir(_o(e.d[0])),[Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1,0,0,0,0,1];case"rotate3d":t=e.d[0].value,n=e.d[1].value,r=e.d[2].value,i=Ir(_o(e.d[3]));var o=t*t+n*n+r*r;if(0===o)t=1,n=0,r=0;else if(1!==o){var a=Math.sqrt(o);t/=a,n/=a,r/=a}var s=Math.sin(i/2),l=s*Math.cos(i/2),u=s*s;return[1-2*(n*n+r*r)*u,2*(t*n*u+r*l),2*(t*r*u-n*l),0,2*(t*n*u-r*l),1-2*(t*t+r*r)*u,2*(n*r*u+t*l),0,2*(t*r*u+n*l),2*(n*r*u-t*l),1-2*(t*t+n*n)*u,0,0,0,0,1];case"scale":return[e.d[0].value,0,0,0,0,e.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scaleX":return[e.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaleY":return[1,0,0,0,0,e.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scaleZ":return[1,0,0,0,0,1,0,0,0,0,e.d[0].value,0,0,0,0,1];case"scale3d":return[e.d[0].value,0,0,0,0,e.d[1].value,0,0,0,0,e.d[2].value,0,0,0,0,1];case"skew":var c=Ir(_o(e.d[0])),d=Ir(_o(e.d[1]));return[1,Math.tan(d),0,0,Math.tan(c),1,0,0,0,0,1,0,0,0,0,1];case"skewX":return i=Ir(_o(e.d[0])),[1,0,0,0,Math.tan(i),1,0,0,0,0,1,0,0,0,0,1];case"skewY":return i=Ir(_o(e.d[0])),[1,Math.tan(i),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return[1,0,0,0,0,1,0,0,0,0,1,0,t=Lo(e.d[0],0,null)||0,n=Lo(e.d[1],0,null)||0,0,1];case"translateX":return[1,0,0,0,0,1,0,0,0,0,1,0,t=Lo(e.d[0],0,null)||0,0,0,1];case"translateY":return[1,0,0,0,0,1,0,0,0,0,1,0,0,n=Lo(e.d[0],0,null)||0,0,1];case"translateZ":return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,r=Lo(e.d[0],0,null)||0,1];case"translate3d":return[1,0,0,0,0,1,0,0,0,0,1,0,t=Lo(e.d[0],0,null)||0,n=Lo(e.d[1],0,null)||0,r=Lo(e.d[2],0,null)||0,1];case"perspective":var h=Lo(e.d[0],0,null)||0;return[1,0,0,0,0,1,0,0,0,0,1,h?-1/h:0,0,0,0,1];case"matrix":return[e.d[0].value,e.d[1].value,0,0,e.d[2].value,e.d[3].value,0,0,0,0,1,0,e.d[4].value,e.d[5].value,0,1];case"matrix3d":return e.d.map(function(e){return e.value})}}function pa(e,t){return[e[0]*t[0]+e[4]*t[1]+e[8]*t[2]+e[12]*t[3],e[1]*t[0]+e[5]*t[1]+e[9]*t[2]+e[13]*t[3],e[2]*t[0]+e[6]*t[1]+e[10]*t[2]+e[14]*t[3],e[3]*t[0]+e[7]*t[1]+e[11]*t[2]+e[15]*t[3],e[0]*t[4]+e[4]*t[5]+e[8]*t[6]+e[12]*t[7],e[1]*t[4]+e[5]*t[5]+e[9]*t[6]+e[13]*t[7],e[2]*t[4]+e[6]*t[5]+e[10]*t[6]+e[14]*t[7],e[3]*t[4]+e[7]*t[5]+e[11]*t[6]+e[15]*t[7],e[0]*t[8]+e[4]*t[9]+e[8]*t[10]+e[12]*t[11],e[1]*t[8]+e[5]*t[9]+e[9]*t[10]+e[13]*t[11],e[2]*t[8]+e[6]*t[9]+e[10]*t[10]+e[14]*t[11],e[3]*t[8]+e[7]*t[9]+e[11]*t[10]+e[15]*t[11],e[0]*t[12]+e[4]*t[13]+e[8]*t[14]+e[12]*t[15],e[1]*t[12]+e[5]*t[13]+e[9]*t[14]+e[13]*t[15],e[2]*t[12]+e[6]*t[13]+e[10]*t[14]+e[14]*t[15],e[3]*t[12]+e[7]*t[13]+e[11]*t[14]+e[15]*t[15]]}function ga(e){var t=[0,0,0],n=[1,1,1],r=[0,0,0],i=[0,0,0,1],o=[0,0,0,1];return function(e,t,n,r,i,o){if(!function(e,t){var n=t[15];if(0===n)return!1;for(var r=1/n,i=0;i<16;i++)e[i]=t[i]*r;return!0}(Ur,e))return!1;if(A(Wr,Ur),Wr[3]=0,Wr[7]=0,Wr[11]=0,Wr[15]=1,Math.abs(z(Wr))<1e-8)return!1;var a,s,l=Ur[3],u=Ur[7],c=Ur[11],d=Ur[12],h=Ur[13],f=Ur[14],p=Ur[15];if(0!==l||0!==u||0!==c){if(Gr[0]=l,Gr[1]=u,Gr[2]=c,Gr[3]=p,!I(Wr,Wr))return!1;L(Wr,Wr),Re(i,Gr,Wr)}else i[0]=i[1]=i[2]=0,i[3]=1;if(t[0]=d,t[1]=h,t[2]=f,s=Ur,(a=$r)[0][0]=s[0],a[0][1]=s[1],a[0][2]=s[2],a[1][0]=s[4],a[1][1]=s[5],a[1][2]=s[6],a[2][0]=s[8],a[2][1]=s[9],a[2][2]=s[10],n[0]=pe($r[0]),xe($r[0],$r[0]),r[0]=Ee($r[0],$r[1]),Yr($r[1],$r[1],$r[0],1,-r[0]),n[1]=pe($r[1]),xe($r[1],$r[1]),r[0]/=n[1],r[1]=Ee($r[0],$r[2]),Yr($r[2],$r[2],$r[0],1,-r[1]),r[2]=Ee($r[1],$r[2]),Yr($r[2],$r[2],$r[1],1,-r[2]),n[2]=pe($r[2]),xe($r[2],$r[2]),r[1]/=n[2],r[2]/=n[2],ke(qr,$r[1],$r[2]),Ee($r[0],qr)<0)for(var g=0;g<3;g++)n[g]*=-1,$r[g][0]*=-1,$r[g][1]*=-1,$r[g][2]*=-1;o[0]=.5*Math.sqrt(Math.max(1+$r[0][0]-$r[1][1]-$r[2][2],0)),o[1]=.5*Math.sqrt(Math.max(1-$r[0][0]+$r[1][1]-$r[2][2],0)),o[2]=.5*Math.sqrt(Math.max(1-$r[0][0]-$r[1][1]+$r[2][2],0)),o[3]=.5*Math.sqrt(Math.max(1+$r[0][0]+$r[1][1]+$r[2][2],0)),$r[2][1]>$r[1][2]&&(o[0]=-o[0]),$r[0][2]>$r[2][0]&&(o[1]=-o[1]),$r[1][0]>$r[0][1]&&(o[2]=-o[2])}(function(e){return 0===e.length?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:e.map(fa).reduce(pa)}(e),t,n,r,i,o),[[t,n,r,o,i]]}var ma=function(){function e(e,t){for(var n=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],r=0;r<4;r++)for(var i=0;i<4;i++)for(var o=0;o<4;o++)n[r][i]+=t[r][o]*e[o][i];return n}return function(t,n,r,i,o){for(var a=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],s=0;s<4;s++)a[s][3]=o[s];for(var l=0;l<3;l++)for(var u=0;u<3;u++)a[3][l]+=t[u]*a[u][l];var c=i[0],d=i[1],h=i[2],f=i[3],p=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];p[0][0]=1-2*(d*d+h*h),p[0][1]=2*(c*d-h*f),p[0][2]=2*(c*h+d*f),p[1][0]=2*(c*d+h*f),p[1][1]=1-2*(c*c+h*h),p[1][2]=2*(d*h-c*f),p[2][0]=2*(c*h-d*f),p[2][1]=2*(d*h+c*f),p[2][2]=1-2*(c*c+d*d),a=e(a,p);var g=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];r[2]&&(g[2][1]=r[2],a=e(a,g)),r[1]&&(g[2][1]=0,g[2][0]=r[0],a=e(a,g)),r[0]&&(g[2][0]=0,g[1][0]=r[0],a=e(a,g));for(var m=0;m<3;m++)for(var y=0;y<3;y++)a[m][y]*=n[m];return function(e){return 0===e[0][2]&&0===e[0][3]&&0===e[1][2]&&0===e[1][3]&&0===e[2][0]&&0===e[2][1]&&1===e[2][2]&&0===e[2][3]&&0===e[3][2]&&1===e[3][3]}(a)?[a[0][0],a[0][1],a[1][0],a[1][1],a[3][0],a[3][1]]:a[0].concat(a[1],a[2],a[3])}}();function ya(e){return e.toFixed(6).replace(".000000","")}function va(e,t){var n,r;return e.decompositionPair!==t&&(e.decompositionPair=t,n=ga(e)),t.decompositionPair!==e&&(t.decompositionPair=e,r=ga(t)),null===n[0]||null===r[0]?[[!1],[!0],function(n){return n?t[0].d:e[0].d}]:(n[0].push(0),r[0].push(1),[n,r,function(e){var t=function(e,t,n){var r=function(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r]*t[r];return n}(e,t);r=at(r,-1,1);var i=[];if(1===r)i=e;else for(var o=Math.acos(r),a=1*Math.sin(n*o)/Math.sqrt(1-r*r),s=0;s<4;s++)i.push(e[s]*(Math.cos(n*o)-r*a)+t[s]*a);return i}(n[0][3],r[0][3],e[5]);return ma(e[0],e[1],e[2],t,e[4]).map(ya).join(",")}])}function ba(e){return e.replace(/[XY]/,"")}function wa(e){return e.replace(/(X|Y|Z|3d)?$/,"3d")}var xa=function(e,t){return"perspective"===e&&"perspective"===t||("matrix"===e||"matrix3d"===e)&&("matrix"===t||"matrix3d"===t)};function Ea(e,t,n){var r=!1;if(!e.length||!t.length){e.length||(r=!0,e=t,t=[]);for(var i=function(){var n=e[o],r=n.t,i=n.d,a="scale"===r.substring(0,5)?1:0;t.push({t:r,d:i.map(function(e){return"number"==typeof e?uo(a):uo(a,e.unit)})})},o=0;o<e.length;o++)i()}var a=[],s=[],l=[];if(e.length!==t.length){var u=va(e,t);a=[u[0]],s=[u[1]],l=[["matrix",[u[2]]]]}else for(var c=0;c<e.length;c++){var d=e[c].t,h=t[c].t,f=e[c].d,p=t[c].d,g=ua[d],m=ua[h],y=void 0;if(xa(d,h)){var v=va([e[c]],[t[c]]);a.push(v[0]),s.push(v[1]),l.push(["matrix",[v[2]]])}else{if(d===h)y=d;else if(g[2]&&m[2]&&ba(d)===ba(h))y=ba(d),f=g[2](f),p=m[2](p);else{if(!g[1]||!m[1]||wa(d)!==wa(h)){var b=va(e,t);a=[b[0]],s=[b[1]],l=[["matrix",[b[2]]]];break}y=wa(d),f=g[1](f),p=m[1](p)}for(var w=[],x=[],E=[],k=0;k<f.length;k++){var S=Ro(f[k],p[k],n,!1,k);w[k]=S[0],x[k]=S[1],E.push(S[2])}a.push(w),s.push(x),l.push([y,E])}}if(r){var M=a;a=s,s=M}return[a,s,function(e){return e.map(function(e,t){var n=e.map(function(e,n){return l[t][1][n](e)}).join(",");return"matrix"===l[t][0]&&16===n.split(",").length&&(l[t][0]="matrix3d"),"matrix3d"===l[t][0]&&6===n.split(",").length&&(l[t][0]="matrix"),"".concat(l[t][0],"(").concat(n,")")}).join(" ")}]}var ka=Fi(function(e){if(rt(e)){if("text-anchor"===e)return[uo(0,"px"),uo(0,"px")];var t=e.split(" ");return 1===t.length&&("top"===t[0]||"bottom"===t[0]?(t[1]=t[0],t[0]="center"):t[1]="center"),2!==t.length?null:[No(Sa(t[0])),No(Sa(t[1]))]}return[uo(e[0]||0,"px"),uo(e[1]||0,"px")]});function Sa(e){return"center"===e?"50%":"left"===e||"top"===e?"0%":"right"===e||"bottom"===e?"100%":e}var Ma=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:ii.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:ii.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:ii.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:ii.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:ii.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:ii.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:ii.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:ii.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:ii.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:ii.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:ii.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:ii.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:ii.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:ii.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:ii.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:ii.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:ii.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:ii.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:ii.FILTER},{n:"clipPath",syntax:ii.DEFINED_PATH},{n:"textPath",syntax:ii.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:ii.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:ii.TRANSFORM},{n:"transformOrigin",p:100,d:"0 0",l:!0,syntax:ii.TRANSFORM_ORIGIN},{n:"cx",int:!0,l:!0,d:"0",syntax:ii.COORDINATE},{n:"cy",int:!0,l:!0,d:"0",syntax:ii.COORDINATE},{n:"cz",int:!0,l:!0,d:"0",syntax:ii.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:ii.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:ii.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:ii.LENGTH_PERCENTAGE},{n:"x",int:!0,l:!0,d:"0",syntax:ii.COORDINATE},{n:"y",int:!0,l:!0,d:"0",syntax:ii.COORDINATE},{n:"z",int:!0,l:!0,d:"0",syntax:ii.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:ii.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:ii.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:ii.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:ii.COORDINATE},{n:"y1",int:!0,l:!0,syntax:ii.COORDINATE},{n:"z1",int:!0,l:!0,syntax:ii.COORDINATE},{n:"x2",int:!0,l:!0,syntax:ii.COORDINATE},{n:"y2",int:!0,l:!0,syntax:ii.COORDINATE},{n:"z2",int:!0,l:!0,syntax:ii.COORDINATE},{n:"d",int:!0,l:!0,d:"",syntax:ii.PATH,p:50},{n:"points",int:!0,l:!0,syntax:ii.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:ii.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:ii.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:ii.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:ii.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:ii.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:ii.NUMBER,d:function(e){return e===pr.PATH||e===pr.POLYGON||e===pr.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:ii.MARKER},{n:"markerEnd",syntax:ii.MARKER},{n:"markerMid",syntax:ii.MARKER},{n:"markerStartOffset",syntax:ii.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:ii.LENGTH,l:!0,int:!0,d:"0"}],Ta=new Set(Ma.filter(function(e){return!!e.l}).map(function(e){return e.n})),Oa={},Ca=function(){return c(function e(t){var n=this;l(this,e),this.runtime=t,Ma.forEach(function(e){n.registerMetadata(e)})},[{key:"registerMetadata",value:function(e){[e.n].concat(f(e.a||[])).forEach(function(t){Oa[t]=e})}},{key:"getPropertySyntax",value:function(e){return this.runtime.CSSPropertySyntaxFactory[e]}},{key:"processProperties",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{forceUpdateGeometry:!1};Object.assign(e.attributes,t);var r=e.parsedStyle.clipPath,i=e.parsedStyle.offsetPath;!function(e,t){var n=Na(e);for(var r in t)n.has(r)&&(e.parsedStyle[r]=t[r])}(e,t);var o=!!n.forceUpdateGeometry;if(!o)for(var a in t)if(Ta.has(a)){o=!0;break}var l,u,c=Na(e);c.has("fill")&&t.fill&&(e.parsedStyle.fill=ko(t.fill)),c.has("stroke")&&t.stroke&&(e.parsedStyle.stroke=ko(t.stroke)),c.has("shadowColor")&&t.shadowColor&&(e.parsedStyle.shadowColor=ko(t.shadowColor)),c.has("filter")&&t.filter&&(e.parsedStyle.filter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("none"===(e=e.toLowerCase().trim()))return[];for(var t,n=/\s*([\w-]+)\(([^)]*)\)/g,r=[],i=0;t=n.exec(e);){if(t.index!==i)return[];if(i=t.index+t[0].length,Io.indexOf(t[1])>-1&&r.push({name:t[1],params:t[2].split(" ").map(function(e){return Mo(/deg|rad|grad|turn|px|%/g,e)||ko(e)})}),n.lastIndex===e.length)return r}return[]}(t.filter)),c.has("radius")&&!qe(t.radius)&&(e.parsedStyle.radius=Do(t.radius,4)),c.has("lineDash")&&!qe(t.lineDash)&&(e.parsedStyle.lineDash=Do(t.lineDash,"even")),c.has("points")&&t.points&&(e.parsedStyle.points=(l=t.points,u=rt(l)?l.split(" ").map(function(e){var t=w(e.split(","),2),n=t[0],r=t[1];return[Number(n),Number(r)]}):l,{points:u,totalLength:0,segments:[]})),c.has("d")&&""===t.d&&(e.parsedStyle.d=s({},ri)),c.has("d")&&t.d&&(e.parsedStyle.d=na(t.d)),c.has("textTransform")&&t.textTransform&&this.runtime.CSSPropertySyntaxFactory[ii.TEXT_TRANSFORM].calculator(null,null,{value:t.textTransform},e,null),c.has("clipPath")&&!yt(t.clipPath)&&this.runtime.CSSPropertySyntaxFactory[ii.DEFINED_PATH].calculator("clipPath",r,t.clipPath,e,this.runtime),c.has("offsetPath")&&t.offsetPath&&this.runtime.CSSPropertySyntaxFactory[ii.DEFINED_PATH].calculator("offsetPath",i,t.offsetPath,e,this.runtime),c.has("transform")&&t.transform&&(e.parsedStyle.transform=da(t.transform)),c.has("transformOrigin")&&t.transformOrigin&&(e.parsedStyle.transformOrigin=ka(t.transformOrigin)),c.has("markerStart")&&t.markerStart&&(e.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory[ii.MARKER].calculator(null,t.markerStart,t.markerStart,null,null)),c.has("markerEnd")&&t.markerEnd&&(e.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory[ii.MARKER].calculator(null,t.markerEnd,t.markerEnd,null,null)),c.has("markerMid")&&t.markerMid&&(e.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory[ii.MARKER].calculator("",t.markerMid,t.markerMid,null,null)),c.has("zIndex")&&!qe(t.zIndex)&&this.runtime.CSSPropertySyntaxFactory[ii.Z_INDEX].postProcessor(e),c.has("offsetDistance")&&!qe(t.offsetDistance)&&this.runtime.CSSPropertySyntaxFactory[ii.OFFSET_DISTANCE].postProcessor(e),c.has("transform")&&t.transform&&this.runtime.CSSPropertySyntaxFactory[ii.TRANSFORM].postProcessor(e),c.has("transformOrigin")&&t.transformOrigin&&this.runtime.CSSPropertySyntaxFactory[ii.TRANSFORM_ORIGIN].postProcessor(e),o&&(e.geometry.dirty=!0,e.renderable.boundsDirty=!0,e.renderable.renderBoundsDirty=!0,n.forceUpdateGeometry||this.runtime.sceneGraphService.dirtifyToRoot(e))}},{key:"updateGeometry",value:function(e){var t=e.nodeName,n=this.runtime.geometryUpdaterFactory[t];if(n){var r=e.geometry;r.contentBounds||(r.contentBounds=new Sr),r.renderBounds||(r.renderBounds=new Sr);var i=e.parsedStyle,o=n.update(i,e),a=o.cx,s=void 0===a?0:a,l=o.cy,u=void 0===l?0:l,c=o.cz,d=void 0===c?0:c,h=o.hwidth,f=void 0===h?0:h,p=o.hheight,g=void 0===p?0:p,m=o.hdepth,y=void 0===m?0:m,v=[Math.abs(f),Math.abs(g),y],b=i.stroke,w=i.lineWidth,x=void 0===w?1:w,E=i.increasedLineWidthForHitTesting,k=void 0===E?0:E,S=i.shadowType,M=void 0===S?"outer":S,T=i.shadowColor,O=i.filter,C=void 0===O?[]:O,N=i.transformOrigin,P=[s,u,d];r.contentBounds.update(P,v);var A=t===pr.POLYLINE||t===pr.POLYGON||t===pr.PATH?Math.SQRT2:.5;if(b&&!b.isNone){var R=((x||0)+(k||0))*A;v[0]+=R,v[1]+=R}if(r.renderBounds.update(P,v),T&&M&&"inner"!==M){var _=r.renderBounds,D=_.min,L=_.max,I=i.shadowBlur||0,z=i.shadowOffsetX||0,F=i.shadowOffsetY||0,j=D[0]-I+z,B=L[0]+I+z,H=D[1]-I+F,V=L[1]+I+F;D[0]=Math.min(D[0],j),L[0]=Math.max(L[0],B),D[1]=Math.min(D[1],H),L[1]=Math.max(L[1],V),r.renderBounds.setMinMax(D,L)}C.forEach(function(e){var t=e.name,n=e.params;if("blur"===t){var i=n[0].value;r.renderBounds.update(r.renderBounds.center,ve(r.renderBounds.halfExtents,r.renderBounds.halfExtents,[i,i,0]))}else if("drop-shadow"===t){var o=n[0].value,a=n[1].value,s=n[2].value,l=r.renderBounds,u=l.min,c=l.max,d=u[0]-s+o,h=c[0]+s+o,f=u[1]-s+a,p=c[1]+s+a;u[0]=Math.min(u[0],d),c[0]=Math.max(c[0],h),u[1]=Math.min(u[1],f),c[1]=Math.max(c[1],p),r.renderBounds.setMinMax(u,c)}}),e.geometry.dirty=!1;var U=g<0,W=(f<0?-1:1)*(N?Lo(N[0],0,e,!0):0),G=(U?-1:1)*(N?Lo(N[1],1,e,!0):0);(W||G)&&e.setOrigin(W,G)}}},{key:"updateSizeAttenuation",value:function(e,t){e.style.isSizeAttenuation?(e.style.rawLineWidth||(e.style.rawLineWidth=e.style.lineWidth),e.style.lineWidth=(e.style.rawLineWidth||1)/t,e.nodeName===pr.CIRCLE&&(e.style.rawR||(e.style.rawR=e.style.r),e.style.r=(e.style.rawR||1)/t)):(e.style.rawLineWidth&&(e.style.lineWidth=e.style.rawLineWidth,delete e.style.rawLineWidth),e.nodeName===pr.CIRCLE&&e.style.rawR&&(e.style.r=e.style.rawR,delete e.style.rawR))}}])}();function Na(e){return e.constructor.PARSED_STYLE_LIST}var Pa=function(){return c(function e(){l(this,e),this.mixer=Bo},[{key:"calculator",value:function(e,t,n,r){return _o(n)}}])}(),Aa=function(){return c(function e(){l(this,e)},[{key:"calculator",value:function(e,t,n,r,i){return n instanceof Zi&&(n=null),i.sceneGraphService.updateDisplayObjectDependency(e,t,n,r),"clipPath"===e&&r.forEach(function(e){0===e.childNodes.length&&i.sceneGraphService.dirtifyToRoot(e)}),n}}])}(),Ra=function(){return c(function e(){l(this,e),this.parser=ko,this.mixer=So},[{key:"calculator",value:function(e,t,n,r){return n instanceof Zi?"none"===n.value?ao:so:n}}])}(),_a=function(){return c(function e(){l(this,e)},[{key:"calculator",value:function(e,t,n){return n instanceof Zi?[]:n}}])}();function Da(e){var t=e.parsedStyle.fontSize;return qe(t)?null:t}var La=function(){return c(function e(){l(this,e),this.mixer=Bo},[{key:"calculator",value:function(e,t,n,r,i){if(st(n))return n;if(!eo.isRelativeUnit(n.unit))return n.value;if(n.unit===ji.kPercentage)return 0;if(n.unit===ji.kEms){if(r.parentNode){var o=Da(r.parentNode);if(o)return o*=n.value}return 0}if(n.unit===ji.kRems){var a;if(null!=r&&null!==(a=r.ownerDocument)&&void 0!==a&&a.documentElement){var s=Da(r.ownerDocument.documentElement);if(s)return s*=n.value}return 0}}}])}(),Ia=function(){return c(function e(){l(this,e),this.mixer=Vo},[{key:"calculator",value:function(e,t,n){return n.map(function(e){return e.value})}}])}(),za=function(){return c(function e(){l(this,e),this.mixer=Vo},[{key:"calculator",value:function(e,t,n){return n.map(function(e){return e.value})}}])}(),Fa=function(){return c(function e(){l(this,e)},[{key:"calculator",value:function(e,t,n,r){var i;n instanceof Zi&&(n=null);var o=null===(i=n)||void 0===i?void 0:i.cloneNode(!0);return o&&(o.style.isMarker=!0),o}}])}(),ja=function(){return c(function e(){l(this,e),this.mixer=Bo},[{key:"calculator",value:function(e,t,n){return n.value}}])}(),Ba=function(){return c(function e(){l(this,e),this.mixer=Ho(0,1)},[{key:"calculator",value:function(e,t,n){return n.value}},{key:"postProcessor",value:function(e){var t=e.parsedStyle,n=t.offsetPath,r=t.offsetDistance;if(n){var i=n.nodeName;if(i===pr.LINE||i===pr.PATH||i===pr.POLYLINE){var o=n.getPoint(r);o&&e.setLocalPosition(o.x,o.y)}}}}])}(),Ha=function(){return c(function e(){l(this,e),this.mixer=Ho(0,1)},[{key:"calculator",value:function(e,t,n){return n.value}}])}(),Va=function(){return c(function e(){l(this,e),this.parser=na,this.mixer=ra},[{key:"calculator",value:function(e,t,n){return n instanceof Zi&&"unset"===n.value?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Nr(0,0,0,0)}:n}}])}(),Ua=c(function e(){l(this,e),this.mixer=ia}),Wa=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=y(this,t,[].concat(r))).mixer=Ho(0,1/0),e}return b(t,e),c(t)}(La),Ga=function(){return c(function e(){l(this,e)},[{key:"calculator",value:function(e,t,n,r){return n instanceof Zi?"unset"===n.value?"":n.value:"".concat(n)}},{key:"postProcessor",value:function(e){e.nodeValue="".concat(e.parsedStyle.text)||""}}])}(),$a=function(){return c(function e(){l(this,e)},[{key:"calculator",value:function(e,t,n,r){var i=r.getAttribute("text");if(i){var o=i;"capitalize"===n.value?o=i.charAt(0).toUpperCase()+i.slice(1):"lowercase"===n.value?o=i.toLowerCase():"uppercase"===n.value&&(o=i.toUpperCase()),r.parsedStyle.text=o}return n.value}}])}(),qa=new WeakMap;var Ya="undefined"!=typeof window&&void 0!==window.document;function Xa(e){return!!e.getAttribute}function Ka(e,t){var n=Number(e.parsedStyle.zIndex||0),r=Number(t.parsedStyle.zIndex||0);if(n===r){var i=e.parentNode;if(i){var o=i.childNodes||[];return o.indexOf(e)-o.indexOf(t)}}return n-r}function Qa(e){var t=e;do{var n;if(null===(n=t.parsedStyle)||void 0===n?void 0:n.clipPath)return t;t=t.parentElement}while(null!==t);return null}function Za(e,t){if(Ya)return document.defaultView.getComputedStyle(e,null).getPropertyValue(t)}var Ja={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},es="object"==typeof performance&&performance.now?performance:Date;function ts(e){return e.nodeName===pr.FRAGMENT||e.getRootNode().nodeName===pr.FRAGMENT}function ns(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=!1,i=!1,o=!!t&&!t.isNone,a=!!n&&!n.isNone;return"visiblepainted"===e||"painted"===e||"auto"===e?(r=o,i=a):"visiblefill"===e||"fill"===e?r=!0:"visiblestroke"===e||"stroke"===e?i=!0:"visible"!==e&&"all"!==e||(r=!0,i=!0),[r,i]}var rs=1,is="object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:{},os=Date.now(),as={},ss=Date.now(),ls=function(e){if("function"!=typeof e)throw new TypeError("".concat(e," is not a function"));var t=Date.now(),n=t-ss,r=n>16?0:16-n,i=rs++;return as[i]=e,Object.keys(as).length>1||setTimeout(function(){ss=t;var e=as;as={},Object.keys(e).forEach(function(t){return e[t](is.performance&&"function"==typeof is.performance.now?is.performance.now():Date.now()-os)})},r),i},us=function(e){delete as[e]},cs=function(e){return"string"!=typeof e?ls:""===e?is.requestAnimationFrame:is["".concat(e,"RequestAnimationFrame")]},ds=function(e,t){for(var n=0;void 0!==e[n];){if(t(e[n]))return e[n];n+=1}}(["","webkit","moz","ms","o"],function(e){return!!cs(e)}),hs=cs(ds),fs=function(e){return"string"!=typeof e?us:""===e?is.cancelAnimationFrame:is["".concat(e,"CancelAnimationFrame")]||is["".concat(e,"CancelRequestAnimationFrame")]}(ds);is.requestAnimationFrame=hs,is.cancelAnimationFrame=fs;var ps=function(){return c(function e(){l(this,e),this.callbacks=[]},[{key:"getCallbacksNum",value:function(){return this.callbacks.length}},{key:"tapPromise",value:function(e,t){this.callbacks.push(t)}},{key:"promise",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.all(this.callbacks.map(function(e){return e.apply(void 0,t)}))}}])}(),gs=function(){return c(function e(){l(this,e),this.callbacks=[]},[{key:"tapPromise",value:function(e,t){this.callbacks.push(t)}},{key:"promise",value:(e=ur(sr().mark(function e(){var t,n,r,i,o=arguments;return sr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.callbacks.length){e.next=14;break}return e.next=3,(t=this.callbacks)[0].apply(t,o);case 3:n=e.sent,r=0;case 5:if(!(r<this.callbacks.length-1)){e.next=13;break}return i=this.callbacks[r],e.next=9,i(n);case 9:n=e.sent;case 10:r++,e.next=5;break;case 13:return e.abrupt("return",n);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})}]);var e}(),ms=function(){return c(function e(){l(this,e),this.callbacks=[]},[{key:"tap",value:function(e,t){this.callbacks.push(t)}},{key:"call",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=arguments;this.callbacks.forEach(function(e){e.apply(void 0,r)})}}])}(),ys=function(){return c(function e(){l(this,e),this.callbacks=[]},[{key:"tap",value:function(e,t){this.callbacks.push(t)}},{key:"call",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this.callbacks.length){for(var r=arguments,i=this.callbacks[0].apply(void 0,r),o=0;o<this.callbacks.length-1;o++){i=(0,this.callbacks[o])(i)}return i}return null}}])}(),vs=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],bs=/([\"\'])[^\'\"]+\1/;function ws(e,t,n){return D(e),e[4]=Math.tan(t),e[1]=Math.tan(n),e}var xs=N(),Es=N(),ks={scale:function(e){W(xs,[e[0].value,e[1].value,1])},scaleX:function(e){W(xs,[e[0].value,1,1])},scaleY:function(e){W(xs,[1,e[0].value,1])},scaleZ:function(e){W(xs,[1,1,e[0].value])},scale3d:function(e){W(xs,[e[0].value,e[1].value,e[2].value])},translate:function(e){U(xs,[e[0].value,e[1].value,0])},translateX:function(e){U(xs,[e[0].value,0,0])},translateY:function(e){U(xs,[0,e[0].value,0])},translateZ:function(e){U(xs,[0,0,e[0].value])},translate3d:function(e){U(xs,[e[0].value,e[1].value,e[2].value])},rotate:function(e){Y(xs,Ir(_o(e[0])))},rotateX:function(e){$(xs,Ir(_o(e[0])))},rotateY:function(e){q(xs,Ir(_o(e[0])))},rotateZ:function(e){Y(xs,Ir(_o(e[0])))},rotate3d:function(e){G(xs,Ir(_o(e[3])),[e[0].value,e[1].value,e[2].value])},skew:function(e){ws(xs,Ir(e[0].value),Ir(e[1].value))},skewX:function(e){ws(xs,Ir(e[0].value),0)},skewY:function(e){ws(xs,0,Ir(e[0].value))},matrix:function(e){_(xs,e[0].value,e[1].value,0,0,e[2].value,e[3].value,0,0,0,0,1,0,e[4].value,e[5].value,0,1)},matrix3d:function(e){_.apply(de,[xs].concat(f(e.map(function(e){return e.value}))))}},Ss=ge(1,1,1),Ms=he(),Ts={translate:function(e,t){Al.sceneGraphService.setLocalScale(e,Ss,!1),Al.sceneGraphService.setLocalEulerAngles(e,Ms,void 0,void 0,!1),Al.sceneGraphService.setLocalPosition(e,[t[0].value,t[1].value,0],!1),Al.sceneGraphService.dirtifyLocal(e,e.transformable)}};function Os(e,t){if(e.length){if(1===e.length&&Ts[e[0].t])return void Ts[e[0].t](t,e[0].d);for(var n=D(Es),r=0;r<e.length;r++){var i=e[r],o=i.t,a=i.d,s=ks[o];s&&(s(a),ue(n,n,xs))}t.setLocalTransform(n)}else t.resetLocalTransform();return t.getLocalTransform()}var Cs=function(){return c(function e(){l(this,e),this.parser=ha,this.mixer=Ea},[{key:"calculator",value:function(e,t,n,r){return n instanceof Zi?[]:n}},{key:"postProcessor",value:function(e){Os(e.parsedStyle.transform,e)}}])}(),Ns=function(){return c(function e(){l(this,e)},[{key:"postProcessor",value:function(e){var t=e.parsedStyle.transformOrigin;t[0].unit===ji.kPixels&&t[1].unit===ji.kPixels?e.setOrigin(t[0].value,t[1].value):e.getGeometryBounds()}}])}(),Ps=function(){return c(function e(){l(this,e)},[{key:"calculator",value:function(e,t,n,r){return n.value}},{key:"postProcessor",value:function(e){if(e.parentNode){var t=e.parentNode,n=t.renderable,r=t.sortable;n&&(n.dirty=!0),r&&(r.dirty=!0,r.dirtyReason=ni.Z_INDEX_CHANGED)}}}])}(),As=function(){return c(function e(){l(this,e)},[{key:"update",value:function(e,t){var n=e.cx,r=void 0===n?0:n,i=e.cy,o=void 0===i?0:i,a=e.r,s=void 0===a?0:a;return{cx:r,cy:o,hwidth:s,hheight:s}}}])}(),Rs=function(){return c(function e(){l(this,e)},[{key:"update",value:function(e,t){var n=e.cx,r=void 0===n?0:n,i=e.cy,o=void 0===i?0:i,a=e.rx,s=void 0===a?0:a,l=e.ry;return{cx:r,cy:o,hwidth:s,hheight:void 0===l?0:l}}}])}(),_s=function(){return c(function e(){l(this,e)},[{key:"update",value:function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2,o=Math.min(t,r),a=Math.max(t,r),s=Math.min(n,i),l=(a-o)/2,u=(Math.max(n,i)-s)/2;return{cx:o+l,cy:s+u,hwidth:l,hheight:u}}}])}(),Ds=function(){return c(function e(){l(this,e)},[{key:"update",value:function(e){var t=e.d.rect,n=t.x,r=t.y,i=t.width/2,o=t.height/2;return{cx:n+i,cy:r+o,hwidth:i,hheight:o}}}])}(),Ls=function(){return c(function e(){l(this,e)},[{key:"update",value:function(e){if(e.points&&Ye(e.points.points)){var t=e.points.points,n=Math.min.apply(Math,f(t.map(function(e){return e[0]}))),r=Math.max.apply(Math,f(t.map(function(e){return e[0]}))),i=Math.min.apply(Math,f(t.map(function(e){return e[1]}))),o=Math.max.apply(Math,f(t.map(function(e){return e[1]}))),a=(r-n)/2,s=(o-i)/2;return{cx:n+a,cy:i+s,hwidth:a,hheight:s}}return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),Is=function(){return c(function e(){l(this,e)},[{key:"update",value:function(e,t){var n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=e.src,s=e.width,l=void 0===s?0:s,u=e.height,c=l,d=void 0===u?0:u;return a&&!rt(a)&&(c||(c=a.width,e.width=c),d||(d=a.height,e.height=d)),{cx:r+c/2,cy:o+d/2,hwidth:c/2,hheight:d/2}}}])}(),zs=function(){return c(function e(t){l(this,e),this.globalRuntime=t},[{key:"isReadyToMeasure",value:function(e,t){return e.text}},{key:"update",value:function(e,t){var n,r=e.text,i=e.textAlign,o=void 0===i?"start":i,a=e.lineWidth,s=void 0===a?1:a,l=e.textBaseline,u=void 0===l?"alphabetic":l,c=e.dx,d=void 0===c?0:c,h=e.dy,f=void 0===h?0:h,p=e.x,g=void 0===p?0:p,m=e.y,y=void 0===m?0:m;if(!this.isReadyToMeasure(e,t))return e.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{hwidth:0,hheight:0,cx:0,cy:0};var v=((null==t||null===(n=t.ownerDocument)||void 0===n||null===(n=n.defaultView)||void 0===n?void 0:n.getConfig())||{}).offscreenCanvas,b=this.globalRuntime.textService.measureText(r,e,v);e.metrics=b;var w=b.width/2,x=b.height/2,E=g+w;"center"===o||"middle"===o?E+=s/2-w:"right"!==o&&"end"!==o||(E+=s-2*w);var k=y-x;return"middle"===u?k+=x:"top"===u||"hanging"===u?k+=2*x:"alphabetic"===u||"bottom"!==u&&"ideographic"!==u||(k+=0),d&&(E+=d),f&&(k+=f),{cx:E,cy:k,hwidth:w,hheight:x}}}])}(),Fs=function(){return c(function e(){l(this,e)},[{key:"update",value:function(e,t){return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),js=function(){return c(function e(){l(this,e)},[{key:"update",value:function(e,t){var n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=e.width,s=void 0===a?0:a,l=e.height,u=void 0===l?0:l;return{cx:r+s/2,cy:o+u/2,hwidth:s/2,hheight:u/2}}}])}(),Bs=function(){return c(function e(t){l(this,e),this.eventPhase=e.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Cr,this.page=new Cr,this.canvas=new Cr,this.viewport=new Cr,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t},[{key:"name",get:function(){return this.type}},{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"x",get:function(){return this.canvas.x}},{key:"y",get:function(){return this.canvas.y}},{key:"canvasX",get:function(){return this.canvas.x}},{key:"canvasY",get:function(){return this.canvas.y}},{key:"viewportX",get:function(){return this.viewport.x}},{key:"viewportY",get:function(){return this.viewport.y}},{key:"composedPath",value:function(){return!this.manager||this.path&&this.path[0]===this.target||(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"propagationPath",get:function(){return this.composedPath()}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"initEvent",value:function(){}},{key:"initUIEvent",value:function(){}},{key:"clone",value:function(){throw new Error(Pr)}}])}(),Hs=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=y(this,t,[].concat(r))).client=new Cr,e.movement=new Cr,e.offset=new Cr,e.global=new Cr,e.screen=new Cr,e}return b(t,e),c(t,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getModifierState",value:function(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}},{key:"initMouseEvent",value:function(){throw new Error(Pr)}}])}(Bs),Vs=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=y(this,t,[].concat(r))).width=0,e.height=0,e.isPrimary=!1,e}return b(t,e),c(t,[{key:"getCoalescedEvents",value:function(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}},{key:"clone",value:function(){return this.manager.clonePointerEvent(this)}}])}(Hs),Us=function(e){function t(){return l(this,t),y(this,t,arguments)}return b(t,e),c(t,[{key:"clone",value:function(){return this.manager.cloneWheelEvent(this)}}])}(Hs),Ws=function(e){function t(e,n){var r;return l(this,t),(r=y(this,t,[null])).type=e,r.detail=n,Object.assign(r,n),r}return b(t,e),c(t)}(Bs),Gs=new WeakMap,$s=function(){return c(function e(){l(this,e),this.emitter=new M},[{key:"on",value:function(e,t,n){return this.addEventListener(e,t,n),this}},{key:"addEventListener",value:function(e,t,n){var r=!1,i=!1;if(gt(n))r=n;else if(n){var o=n.capture;r=void 0!==o&&o;var a=n.once;i=void 0!==a&&a}r&&(e+="capture"),t=$e(t)?t:t.handleEvent;var s=$e(t)?void 0:t;return i?this.emitter.once(e,t,s):this.emitter.on(e,t,s),this}},{key:"off",value:function(e,t,n){return e?this.removeEventListener(e,t,n):this.removeAllEventListeners(),this}},{key:"removeAllEventListeners",value:function(){var e;null===(e=this.emitter)||void 0===e||e.removeAllListeners()}},{key:"removeEventListener",value:function(e,t,n){var r;if(!this.emitter)return this;(gt(n)?n:null==n?void 0:n.capture)&&(e+="capture"),t=$e(t)?t:null===(r=t)||void 0===r?void 0:r.handleEvent;var i=$e(t)?void 0:t;return this.emitter.off(e,t,i),this}},{key:"emit",value:function(e,t){this.dispatchEvent(new Ws(e,t))}},{key:"dispatchEvent",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Gs.get(this);r||(r=this.document?this:this.defaultView?this.defaultView:null===(t=this.ownerDocument)||void 0===t?void 0:t.defaultView)&&Gs.set(this,r);if(r){if(e.manager=r.getEventService(),!e.manager)return!1;e.defaultPrevented=!1,e.path?e.path.length=0:e.page=[],n||(e.target=this),e.manager.dispatchEvent(e,e.type,n)}else this.emitter.emit(e.type,e);return!e.defaultPrevented}}])}(),qs=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=y(this,t,[].concat(r))).shadow=!1,e.ownerDocument=null,e.isConnected=!1,e.baseURI="",e.childNodes=[],e.nodeType=0,e.nodeName="",e.nodeValue=null,e.parentNode=null,e}return b(t,e),c(t,[{key:"textContent",get:function(){var e="";this.nodeName===pr.TEXT&&(e+=this.style.text);var t,n=cr(this.childNodes);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.nodeName===pr.TEXT?e+=r.nodeValue:e+=r.textContent}}catch(e){n.e(e)}finally{n.f()}return e},set:function(e){var t=this;this.childNodes.slice().forEach(function(e){t.removeChild(e)}),this.nodeName===pr.TEXT&&(this.style.text="".concat(e))}},{key:"getRootNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.parentNode?this.parentNode.getRootNode(e):e.composed&&this.host?this.host.getRootNode(e):this}},{key:"hasChildNodes",value:function(){return this.childNodes.length>0}},{key:"isDefaultNamespace",value:function(e){throw new Error(Pr)}},{key:"lookupNamespaceURI",value:function(e){throw new Error(Pr)}},{key:"lookupPrefix",value:function(e){throw new Error(Pr)}},{key:"normalize",value:function(){throw new Error(Pr)}},{key:"isEqualNode",value:function(e){return this===e}},{key:"isSameNode",value:function(e){return this.isEqualNode(e)}},{key:"parent",get:function(){return this.parentNode}},{key:"parentElement",get:function(){return null}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"firstChild",get:function(){return this.childNodes.length>0?this.childNodes[0]:null}},{key:"lastChild",get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null}},{key:"compareDocumentPosition",value:function(e){if(e===this)return 0;for(var n=e,r=this,i=[n],o=[r];null!==(a=n.parentNode)&&void 0!==a?a:r.parentNode;){var a;n=n.parentNode?(i.push(n.parentNode),n.parentNode):n,r=r.parentNode?(o.push(r.parentNode),r.parentNode):r}if(n!==r)return t.DOCUMENT_POSITION_DISCONNECTED|t.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|t.DOCUMENT_POSITION_PRECEDING;var s=i.length>o.length?i:o,l=s===i?o:i;if(s[s.length-l.length]===l[0])return s===i?t.DOCUMENT_POSITION_CONTAINED_BY|t.DOCUMENT_POSITION_FOLLOWING:t.DOCUMENT_POSITION_CONTAINS|t.DOCUMENT_POSITION_PRECEDING;for(var u=s.length-l.length,c=l.length-1;c>=0;c--){var d=l[c],h=s[u+c];if(h!==d){var f=d.parentNode.childNodes;return f.indexOf(d)<f.indexOf(h)?l===i?t.DOCUMENT_POSITION_PRECEDING:t.DOCUMENT_POSITION_FOLLOWING:s===i?t.DOCUMENT_POSITION_PRECEDING:t.DOCUMENT_POSITION_FOLLOWING}}return t.DOCUMENT_POSITION_FOLLOWING}},{key:"contain",value:function(e){return this.contains(e)}},{key:"contains",value:function(e){for(var t=e;t&&this!==t;)t=t.parentNode;return!!t}},{key:"getAncestor",value:function(e){for(var t=this;e>0&&t;)t=t.parentNode,e--;return t}},{key:"forEach",value:function(e){for(var t=[this];t.length>0;){var n=t.pop();if(!1===e(n))break;for(var r=n.childNodes.length-1;r>=0;r--)t.push(n.childNodes[r])}}}],[{key:"isNode",value:function(e){return!!e.childNodes}}])}($s);qs.DOCUMENT_POSITION_DISCONNECTED=1,qs.DOCUMENT_POSITION_PRECEDING=2,qs.DOCUMENT_POSITION_FOLLOWING=4,qs.DOCUMENT_POSITION_CONTAINS=8,qs.DOCUMENT_POSITION_CONTAINED_BY=16,qs.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;var Ys=function(){return c(function e(t,n){var r=this;l(this,e),this.nativeHTMLMap=new WeakMap,this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.tmpMatrix=N(),this.tmpVec3=he(),this.onPointerDown=function(e){var t=r.createPointerEvent(e);if(r.dispatchEvent(t,"pointerdown"),"touch"===t.pointerType)r.dispatchEvent(t,"touchstart");else if("mouse"===t.pointerType||"pen"===t.pointerType){var n=2===t.button;r.dispatchEvent(t,n?"rightdown":"mousedown")}r.trackingData(e.pointerId).pressTargetsByButton[e.button]=t.composedPath(),r.freeEvent(t)},this.onPointerUp=function(e){var t=es.now(),n=r.createPointerEvent(e,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0);if(r.dispatchEvent(n,"pointerup"),"touch"===n.pointerType)r.dispatchEvent(n,"touchend");else if("mouse"===n.pointerType||"pen"===n.pointerType){var i=2===n.button;r.dispatchEvent(n,i?"rightup":"mouseup")}var o=r.trackingData(e.pointerId),a=r.findMountedTarget(o.pressTargetsByButton[e.button]),s=a;if(a&&!n.composedPath().includes(a)){for(var l=a;l&&!n.composedPath().includes(l);){if(n.currentTarget=l,r.notifyTarget(n,"pointerupoutside"),"touch"===n.pointerType)r.notifyTarget(n,"touchendoutside");else if("mouse"===n.pointerType||"pen"===n.pointerType){var u=2===n.button;r.notifyTarget(n,u?"rightupoutside":"mouseupoutside")}qs.isNode(l)&&(l=l.parentNode)}delete o.pressTargetsByButton[e.button],s=l}if(s){var c,d=r.clonePointerEvent(n,"click");d.target=s,d.path=[],o.clicksByButton[e.button]||(o.clicksByButton[e.button]={clickCount:0,target:d.target,timeStamp:t});var h=r.context.renderingContext.root.ownerDocument.defaultView,f=o.clicksByButton[e.button];f.target===d.target&&t-f.timeStamp<h.getConfig().dblClickSpeed?++f.clickCount:f.clickCount=1,f.target=d.target,f.timeStamp=t,d.detail=f.clickCount,null!==(c=n.detail)&&void 0!==c&&c.preventClick||(r.context.config.useNativeClickEvent||"mouse"!==d.pointerType&&"touch"!==d.pointerType||r.dispatchEvent(d,"click"),r.dispatchEvent(d,"pointertap")),r.freeEvent(d)}r.freeEvent(n)},this.onPointerMove=function(e){var t=r.createPointerEvent(e,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0),n="mouse"===t.pointerType||"pen"===t.pointerType,i=r.trackingData(e.pointerId),o=r.findMountedTarget(i.overTargets);if(i.overTargets&&o!==t.target){var a="mousemove"===e.type?"mouseout":"pointerout",s=r.createPointerEvent(e,a,o||void 0);if(r.dispatchEvent(s,"pointerout"),n&&r.dispatchEvent(s,"mouseout"),!t.composedPath().includes(o)){var l=r.createPointerEvent(e,"pointerleave",o||void 0);for(l.eventPhase=l.AT_TARGET;l.target&&!t.composedPath().includes(l.target);)l.currentTarget=l.target,r.notifyTarget(l),n&&r.notifyTarget(l,"mouseleave"),qs.isNode(l.target)&&(l.target=l.target.parentNode);r.freeEvent(l)}r.freeEvent(s)}if(o!==t.target){var u="mousemove"===e.type?"mouseover":"pointerover",c=r.clonePointerEvent(t,u);r.dispatchEvent(c,"pointerover"),n&&r.dispatchEvent(c,"mouseover");for(var d=o&&qs.isNode(o)&&o.parentNode;d&&d!==(qs.isNode(r.rootTarget)&&r.rootTarget.parentNode)&&d!==t.target;)d=d.parentNode;if(!d||d===(qs.isNode(r.rootTarget)&&r.rootTarget.parentNode)){var h=r.clonePointerEvent(t,"pointerenter");for(h.eventPhase=h.AT_TARGET;h.target&&h.target!==o&&h.target!==(qs.isNode(r.rootTarget)&&r.rootTarget.parentNode);)h.currentTarget=h.target,r.notifyTarget(h),n&&r.notifyTarget(h,"mouseenter"),qs.isNode(h.target)&&(h.target=h.target.parentNode);r.freeEvent(h)}r.freeEvent(c)}r.dispatchEvent(t,"pointermove"),"touch"===t.pointerType&&r.dispatchEvent(t,"touchmove"),n&&(r.dispatchEvent(t,"mousemove"),r.cursor=r.getCursor(t.target)),i.overTargets=t.composedPath(),r.freeEvent(t)},this.onPointerOut=function(e){var t=r.trackingData(e.pointerId);if(t.overTargets){var n="mouse"===e.pointerType||"pen"===e.pointerType,i=r.findMountedTarget(t.overTargets),o=r.createPointerEvent(e,"pointerout",i||void 0);r.dispatchEvent(o),n&&r.dispatchEvent(o,"mouseout");var a=r.createPointerEvent(e,"pointerleave",i||void 0);for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==(qs.isNode(r.rootTarget)&&r.rootTarget.parentNode);)a.currentTarget=a.target,r.notifyTarget(a),n&&r.notifyTarget(a,"mouseleave"),qs.isNode(a.target)&&(a.target=a.target.parentNode);t.overTargets=null,r.freeEvent(o),r.freeEvent(a)}r.cursor=null},this.onPointerOver=function(e){var t=r.trackingData(e.pointerId),n=r.createPointerEvent(e),i="mouse"===n.pointerType||"pen"===n.pointerType;r.dispatchEvent(n,"pointerover"),i&&r.dispatchEvent(n,"mouseover"),"mouse"===n.pointerType&&(r.cursor=r.getCursor(n.target));var o=r.clonePointerEvent(n,"pointerenter");for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==(qs.isNode(r.rootTarget)&&r.rootTarget.parentNode);)o.currentTarget=o.target,r.notifyTarget(o),i&&r.notifyTarget(o,"mouseenter"),qs.isNode(o.target)&&(o.target=o.target.parentNode);t.overTargets=n.composedPath(),r.freeEvent(n),r.freeEvent(o)},this.onPointerUpOutside=function(e){var t=r.trackingData(e.pointerId),n=r.findMountedTarget(t.pressTargetsByButton[e.button]),i=r.createPointerEvent(e);if(n){for(var o=n;o;)i.currentTarget=o,r.notifyTarget(i,"pointerupoutside"),"touch"===i.pointerType||"mouse"!==i.pointerType&&"pen"!==i.pointerType||r.notifyTarget(i,2===i.button?"rightupoutside":"mouseupoutside"),qs.isNode(o)&&(o=o.parentNode);delete t.pressTargetsByButton[e.button]}r.freeEvent(i)},this.onWheel=function(e){var t=r.createWheelEvent(e);r.dispatchEvent(t),r.freeEvent(t)},this.onClick=function(e){if(r.context.config.useNativeClickEvent){var t=r.createPointerEvent(e);r.dispatchEvent(t),r.freeEvent(t)}},this.onPointerCancel=function(e){var t=r.createPointerEvent(e,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0);r.dispatchEvent(t),r.freeEvent(t)},this.globalRuntime=t,this.context=n},[{key:"init",value:function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointercancel",this.onPointerCancel),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel),this.addEventMapping("click",this.onClick)}},{key:"destroy",value:function(){this.mappingTable={},this.mappingState={},this.eventPool.clear()}},{key:"getScale",value:function(){var e=this.context.contextService.getBoundingClientRect(),t=1,n=1,r=this.context.contextService.getDomElement();if(r&&e){var i=r.offsetWidth,o=r.offsetHeight;i&&o&&(t=e.width/i,n=e.height/o)}return{scaleX:t,scaleY:n,bbox:e}}},{key:"client2Viewport",value:function(e){var t=this.getScale(),n=t.scaleX,r=t.scaleY,i=t.bbox;return new Cr((e.x-((null==i?void 0:i.left)||0))/n,(e.y-((null==i?void 0:i.top)||0))/r)}},{key:"viewport2Client",value:function(e){var t=this.getScale(),n=t.scaleX,r=t.scaleY,i=t.bbox;return new Cr((e.x+((null==i?void 0:i.left)||0))*n,(e.y+((null==i?void 0:i.top)||0))*r)}},{key:"viewport2Canvas",value:function(e){var t=e.x,n=e.y,r=this.rootTarget.defaultView.getCamera(),i=this.context.config,o=i.width,a=i.height,s=r.getPerspectiveInverse(),l=r.getWorldTransform(),u=F(this.tmpMatrix,l,s),c=ye(this.tmpVec3,t/o*2-1,2*(1-n/a)-1,0);return Me(c,c,u),new Cr(c[0],c[1])}},{key:"canvas2Viewport",value:function(e){var t=this.rootTarget.defaultView.getCamera(),n=t.getPerspective(),r=t.getViewTransform(),i=F(this.tmpMatrix,n,r),o=ye(this.tmpVec3,e.x,e.y,0);Me(this.tmpVec3,this.tmpVec3,i);var a=this.context.config,s=a.width,l=a.height;return new Cr((o[0]+1)/2*s,(1-(o[1]+1)/2)*l)}},{key:"setPickHandler",value:function(e){this.pickHandler=e}},{key:"addEventMapping",value:function(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort(function(e,t){return e.priority-t.priority})}},{key:"mapEvent",value:function(e){if(this.rootTarget){var t=this.mappingTable[e.type];if(t)for(var n=0,r=t.length;n<r;n++)t[n].fn(e);else console.warn("[EventService]: Event mapping not defined for ".concat(e.type))}}},{key:"dispatchEvent",value:function(e,t,n){if(n){e.eventPhase=e.AT_TARGET;var r=this.rootTarget.defaultView||null;e.currentTarget=r,this.notifyListeners(e,t)}else e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t)}},{key:"propagate",value:function(e,t){if(e.target){var n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(var r=n.length-1;r>=1;r--)if(e.currentTarget=n[r],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!e.propagationStopped&&!e.propagationImmediatelyStopped){var i=n.indexOf(e.currentTarget);e.eventPhase=e.BUBBLING_PHASE;for(var o=i+1;o<n.length;o++)if(e.currentTarget=n[o],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}}},{key:"propagationPath",value:function(e){var t=[e],n=this.rootTarget.defaultView||null;if(n&&n===e)return t.unshift(n.document),t;for(var r=0;r<2048&&e!==this.rootTarget;r++)qs.isNode(e)&&e.parentNode&&(t.push(e.parentNode),e=e.parentNode);return n&&t.push(n),t}},{key:"hitTest",value:function(e){var t=e.viewportX,n=e.viewportY,r=this.context.config,i=r.width,o=r.height,a=r.disableHitTesting;return t<0||n<0||t>i||n>o?null:!a&&this.pickHandler(e)||this.rootTarget||null}},{key:"isNativeEventFromCanvas",value:function(e,t){var n,r=null==t?void 0:t.target;if(null!==(n=r)&&void 0!==n&&n.shadowRoot&&(r=t.composedPath()[0]),r){if(r===e)return!0;if(e&&e.contains)return e.contains(r)}return!(null==t||!t.composedPath)&&t.composedPath().indexOf(e)>-1}},{key:"getExistedHTML",value:function(e){if(e.nativeEvent.composedPath)for(var t=0,n=e.nativeEvent.composedPath();t<n.length;t++){var r=n[t],i=this.nativeHTMLMap.get(r);if(i)return i}return null}},{key:"pickTarget",value:function(e){return this.hitTest({clientX:e.clientX,clientY:e.clientY,viewportX:e.viewportX,viewportY:e.viewportY,x:e.canvasX,y:e.canvasY})}},{key:"createPointerEvent",value:function(e,t,n,r){var i=this.allocateEvent(Vs);this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e;var o=this.getExistedHTML(i),a=this.context.contextService.getDomElement();return i.target=null!=n?n:o||this.isNativeEventFromCanvas(a,i.nativeEvent)&&this.pickTarget(i)||r,"string"==typeof t&&(i.type=t),i}},{key:"createWheelEvent",value:function(e){var t=this.allocateEvent(Us);this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e;var n=this.getExistedHTML(t),r=this.context.contextService.getDomElement();return t.target=n||this.isNativeEventFromCanvas(r,t.nativeEvent)&&this.pickTarget(t),t}},{key:"trackingData",value:function(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}},{key:"cloneWheelEvent",value:function(e){var t=this.allocateEvent(Us);return t.nativeEvent=e.nativeEvent,t.originalEvent=e.originalEvent,this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.target=e.target,t.path=e.composedPath().slice(),t.type=e.type,t}},{key:"clonePointerEvent",value:function(e,t){var n=this.allocateEvent(Vs);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=null!=t?t:n.type,n}},{key:"copyPointerData",value:function(e,t){t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist}},{key:"copyMouseData",value:function(e,t){t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.shiftKey=e.shiftKey,t.client.copyFrom(e.client),t.movement.copyFrom(e.movement),t.canvas.copyFrom(e.canvas),t.screen.copyFrom(e.screen),t.global.copyFrom(e.global),t.offset.copyFrom(e.offset)}},{key:"copyWheelData",value:function(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}},{key:"copyData",value:function(e,t){t.isTrusted=e.isTrusted,t.timeStamp=es.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.page.copyFrom(e.page),t.viewport.copyFrom(e.viewport)}},{key:"allocateEvent",value:function(e){this.eventPool.has(e)||this.eventPool.set(e,[]);var t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=[],t.target=null,t}},{key:"freeEvent",value:function(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}},{key:"notifyTarget",value:function(e,t){t=null!=t?t:e.type;var n=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?"".concat(t,"capture"):t;this.notifyListeners(e,n),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}},{key:"notifyListeners",value:function(e,t){var n=e.currentTarget.emitter,r=n._events[t];if(r)if("fn"in r)r.once&&n.removeListener(t,r.fn,void 0,!0),r.fn.call(e.currentTarget||r.context,e);else for(var i=0;i<r.length&&!e.propagationImmediatelyStopped;i++)r[i].once&&n.removeListener(t,r[i].fn,void 0,!0),r[i].fn.call(e.currentTarget||r[i].context,e)}},{key:"findMountedTarget",value:function(e){if(!e)return null;for(var t=e[e.length-1],n=e.length-2;n>=0;n--){var r=e[n];if(!(r===this.rootTarget||qs.isNode(r)&&r.parentNode===t))break;t=e[n]}return t}},{key:"getCursor",value:function(e){for(var t=e;t;){var n=Xa(t)&&t.getAttribute("cursor");if(n)return n;t=qs.isNode(t)&&t.parentNode}}}])}(),Xs=function(){return c(function e(){l(this,e)},[{key:"getOrCreateCanvas",value:function(e,t){if(this.canvas)return this.canvas;if(e||Al.offscreenCanvas)this.canvas=e||Al.offscreenCanvas,this.context=this.canvas.getContext("2d",s({willReadFrequently:!0},t));else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",s({willReadFrequently:!0},t)),this.context&&this.context.measureText||(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch(e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",s({willReadFrequently:!0},t))}return this.canvas.width=10,this.canvas.height=10,this.canvas}},{key:"getOrCreateContext",value:function(e,t){return this.context||this.getOrCreateCanvas(e,t),this.context}}],[{key:"createCanvas",value:function(){try{return new window.OffscreenCanvas(0,0)}catch(e){}try{return document.createElement("canvas")}catch(e){}return null}}])}(),Ks=function(e){return e[e.CAMERA_CHANGED=0]="CAMERA_CHANGED",e[e.DISPLAY_OBJECT_CHANGED=1]="DISPLAY_OBJECT_CHANGED",e[e.NONE=2]="NONE",e}({}),Qs=function(){return c(function e(t,n){l(this,e),this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.hooks={init:new ms,initAsync:new ps,dirtycheck:new ys,cull:new ys,beginFrame:new ms,beforeRender:new ms,render:new ms,afterRender:new ms,endFrame:new ms,destroy:new ms,pick:new gs,pickSync:new ys,pointerDown:new ms,pointerUp:new ms,pointerMove:new ms,pointerOut:new ms,pointerOver:new ms,pointerWheel:new ms,pointerCancel:new ms,click:new ms},this.globalRuntime=t,this.context=n},[{key:"init",value:function(e){var t=this,n=s(s({},this.globalRuntime),this.context);this.context.renderingPlugins.forEach(function(e){e.apply(n,t.globalRuntime)}),this.hooks.init.call(),0===this.hooks.initAsync.getCallbacksNum()?(this.inited=!0,e()):this.hooks.initAsync.promise().then(function(){t.inited=!0,e()}).catch(function(e){})}},{key:"getStats",value:function(){return this.stats}},{key:"disableDirtyRectangleRendering",value:function(){return!this.context.config.renderer.getConfig().enableDirtyRectangleRendering||this.context.renderingContext.renderReasons.has(Ks.CAMERA_CHANGED)}},{key:"render",value:function(e,t,n){var r=this;this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0;var i=this.context.renderingContext;if(this.globalRuntime.sceneGraphService.syncHierarchy(i.root),this.globalRuntime.sceneGraphService.triggerPendingEvents(),i.renderReasons.size&&this.inited){i.dirtyRectangleRenderingDisabled=this.disableDirtyRectangleRendering();var o=1===i.renderReasons.size&&i.renderReasons.has(Ks.CAMERA_CHANGED),a=!e.disableRenderHooks||!(e.disableRenderHooks&&o);a&&this.renderDisplayObject(i.root,e,i),this.hooks.beginFrame.call(t),a&&i.renderListCurrentFrame.forEach(function(e){r.hooks.beforeRender.call(e),r.hooks.render.call(e),r.hooks.afterRender.call(e)}),this.hooks.endFrame.call(t),i.renderListCurrentFrame=[],i.renderReasons.clear(),n()}}},{key:"renderDisplayObject",value:function(e,t,n){var r=this,i=t.renderer.getConfig(),o=i.enableDirtyCheck,a=i.enableCulling;function s(e){var t=e.renderable,i=e.sortable,s=o?t.dirty||n.dirtyRectangleRenderingDisabled?e:null:e;if(s){var l=a?r.hooks.cull.call(s,r.context.camera):s;l&&(r.stats.rendered+=1,n.renderListCurrentFrame.push(l))}t.dirty=!1,i.renderOrder=r.zIndexCounter,r.zIndexCounter+=1,r.stats.total+=1,i.dirty&&(r.sort(e,i),i.dirty=!1,i.dirtyChildren=[],i.dirtyReason=void 0)}for(var l=[e];l.length>0;){var u,c=l.pop();s(c);for(var d=(null===(u=c.sortable)||void 0===u||null===(u=u.sorted)||void 0===u?void 0:u.length)>0?c.sortable.sorted:c.childNodes,h=d.length-1;h>=0;h--)l.push(d[h])}}},{key:"sort",value:function(e,t){var n,r;(null==t||null===(n=t.sorted)||void 0===n?void 0:n.length)>0&&t.dirtyReason!==ni.Z_INDEX_CHANGED?t.dirtyChildren.forEach(function(n){var r=t.sorted.indexOf(n);if(r>-1&&t.sorted.splice(r,1),e.childNodes.indexOf(n)>-1)if(0===t.sorted.length)t.sorted.push(n);else{var i=function(e,t){for(var n=0,r=e.length;n<r;){var i=n+r>>>1;Ka(e[i],t)<0?n=i+1:r=i}return n}(t.sorted,n);t.sorted.splice(i,0,n)}}):t.sorted=e.childNodes.slice().sort(Ka),(null===(r=t.sorted)||void 0===r?void 0:r.length)>0&&0===e.childNodes.filter(function(e){return e.parsedStyle.zIndex}).length&&(t.sorted=[])}},{key:"destroy",value:function(){this.inited=!1,this.hooks.destroy.call(),this.globalRuntime.sceneGraphService.clearPendingEvents()}},{key:"dirtify",value:function(){this.context.renderingContext.renderReasons.add(Ks.DISPLAY_OBJECT_CHANGED)}}])}(),Zs=/\[\s*(.*)=(.*)\s*\]/,Js=function(){return c(function e(){l(this,e)},[{key:"selectOne",value:function(e,t){var n=this;if(e.startsWith("."))return t.find(function(t){return((null==t?void 0:t.classList)||[]).indexOf(n.getIdOrClassname(e))>-1});if(e.startsWith("#"))return t.find(function(t){return t.id===n.getIdOrClassname(e)});if(e.startsWith("[")){var r=this.getAttribute(e),i=r.name,o=r.value;return i?t.find(function(e){return t!==e&&("name"===i?e.name===o:n.attributeToString(e,i)===o)}):null}return t.find(function(n){return t!==n&&n.nodeName===e})}},{key:"selectAll",value:function(e,t){var n=this;if(e.startsWith("."))return t.findAll(function(r){return t!==r&&((null==r?void 0:r.classList)||[]).indexOf(n.getIdOrClassname(e))>-1});if(e.startsWith("#"))return t.findAll(function(r){return t!==r&&r.id===n.getIdOrClassname(e)});if(e.startsWith("[")){var r=this.getAttribute(e),i=r.name,o=r.value;return i?t.findAll(function(e){return t!==e&&("name"===i?e.name===o:n.attributeToString(e,i)===o)}):[]}return t.findAll(function(n){return t!==n&&n.nodeName===e})}},{key:"is",value:function(e,t){if(e.startsWith("."))return t.className===this.getIdOrClassname(e);if(e.startsWith("#"))return t.id===this.getIdOrClassname(e);if(e.startsWith("[")){var n=this.getAttribute(e),r=n.name,i=n.value;return"name"===r?t.name===i:this.attributeToString(t,r)===i}return t.nodeName===e}},{key:"getIdOrClassname",value:function(e){return e.substring(1)}},{key:"getAttribute",value:function(e){var t=e.match(Zs),n="",r="";return t&&t.length>2&&(n=t[1].replace(/"/g,""),r=t[2].replace(/"/g,"")),{name:n,value:r}}},{key:"attributeToString",value:function(e,t){if(!e.getAttribute)return"";var n=e.getAttribute(t);return qe(n)?"":n.toString?n.toString():""}}])}(),el=function(e){return e.ATTR_MODIFIED="DOMAttrModified",e.INSERTED="DOMNodeInserted",e.MOUNTED="DOMNodeInsertedIntoDocument",e.REMOVED="removed",e.UNMOUNTED="DOMNodeRemovedFromDocument",e.REPARENT="reparent",e.DESTROY="destroy",e.BOUNDS_CHANGED="bounds-changed",e.CULLED="culled",e}({}),tl=function(e){function t(e,n,r,i,o,a,s,u){var c;return l(this,t),(c=y(this,t,[null])).relatedNode=n,c.prevValue=r,c.newValue=i,c.attrName=o,c.attrChange=a,c.prevParsedValue=s,c.newParsedValue=u,c.type=e,c}return b(t,e),c(t)}(Bs);function nl(e){var t=e.renderable;t&&(t.renderBoundsDirty=!0,t.boundsDirty=!0)}tl.ADDITION=2,tl.MODIFICATION=1,tl.REMOVAL=3;var rl,il,ol,al=new tl(el.REPARENT,null,"","","",0,"",""),sl=Ue(),ll=he(),ul=ge(1,1,1),cl=N(),dl=Ue(),hl=he(),fl=N(),pl=_e(),gl=he(),ml=_e(),yl=he(),vl=he(),bl=he(),wl=N(),xl=_e(),El=_e(),kl=_e(),Sl={affectChildren:!0},Ml=function(){return c(function e(t){l(this,e),this.pendingEvents=new Map,this.boundsChangedEvent=new Ws(el.BOUNDS_CHANGED),this.displayObjectDependencyMap=new WeakMap,this.runtime=t},[{key:"matches",value:function(e,t){return this.runtime.sceneGraphSelector.is(e,t)}},{key:"querySelector",value:function(e,t){return this.runtime.sceneGraphSelector.selectOne(e,t)}},{key:"querySelectorAll",value:function(e,t){return this.runtime.sceneGraphSelector.selectAll(e,t)}},{key:"attach",value:function(e,t,n){var r,i=!1;e.parentNode&&(i=e.parentNode!==t,this.detach(e));var o=e.nodeName===pr.FRAGMENT,a=ts(t);e.parentNode=t;var s=o?e.childNodes:[e];st(n)?s.forEach(function(e){t.childNodes.splice(n,0,e),e.parentNode=t}):s.forEach(function(e){t.childNodes.push(e),e.parentNode=t});var l=t.sortable;if((null!=l&&null!==(r=l.sorted)&&void 0!==r&&r.length||l.dirty||e.parsedStyle.zIndex)&&(-1===l.dirtyChildren.indexOf(e)&&l.dirtyChildren.push(e),l.dirty=!0,l.dirtyReason=ni.ADDED),!a){if(o)this.dirtifyFragment(e);else{var u=e.transformable;u&&this.dirtifyWorld(e,u)}i&&e.dispatchEvent(al)}}},{key:"detach",value:function(e){var t,n;if(e.parentNode){var r=e.transformable,i=e.parentNode.sortable;(null!=i&&null!==(t=i.sorted)&&void 0!==t&&t.length||null!==(n=e.style)&&void 0!==n&&n.zIndex)&&(-1===i.dirtyChildren.indexOf(e)&&i.dirtyChildren.push(e),i.dirty=!0,i.dirtyReason=ni.REMOVED);var o=e.parentNode.childNodes.indexOf(e);o>-1&&e.parentNode.childNodes.splice(o,1),r&&this.dirtifyWorld(e,r),e.parentNode=null}}},{key:"getOrigin",value:function(e){return e.getGeometryBounds(),e.transformable.origin}},{key:"setOrigin",value:function(e,t){"number"==typeof t&&(t=[t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0]);var n=e.transformable;if(t[0]!==n.origin[0]||t[1]!==n.origin[1]||t[2]!==n.origin[2]){var r=n.origin;r[0]=t[0],r[1]=t[1],r[2]=t[2]||0,this.dirtifyLocal(e,n)}}},{key:"rotate",value:function(e,t){"number"==typeof t&&(t=ge(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var n=e.transformable;if(null!==e.parentNode&&e.parentNode.transformable){var r=pl;ze(r,t[0],t[1],t[2]);var i=this.getRotation(e),o=this.getRotation(e.parentNode);je(kl,o),Ie(kl,kl),Le(r,kl,r),Le(n.localRotation,r,i),Ve(n.localRotation,n.localRotation),this.dirtifyLocal(e,n)}else this.rotateLocal(e,t)}},{key:"rotateLocal",value:function(e,t){"number"==typeof t&&(t=ge(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var n=e.transformable;ze(El,t[0],t[1],t[2]),He(n.localRotation,n.localRotation,El),this.dirtifyLocal(e,n)}},{key:"setEulerAngles",value:function(e,t){"number"==typeof t&&(t=ge(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var n=e.transformable;if(null!==e.parentNode&&e.parentNode.transformable){ze(n.localRotation,t[0],t[1],t[2]);var r=this.getRotation(e.parentNode);je(xl,Ie(pl,r)),He(n.localRotation,n.localRotation,xl),this.dirtifyLocal(e,n)}else this.setLocalEulerAngles(e,t)}},{key:"setLocalEulerAngles",value:function(e,t){var n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];"number"==typeof t&&(t=ge(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var r=e.transformable;ze(r.localRotation,t[0],t[1],t[2]),n&&this.dirtifyLocal(e,r)}},{key:"translateLocal",value:function(e,t){"number"==typeof t&&(t=ge(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var n=e.transformable;Te(t,ll)||(!function(e,t,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=t[0],l=t[1],u=t[2],c=i*u-o*l,d=o*s-r*u,h=r*l-i*s,f=i*h-o*d,p=o*c-r*h,g=r*d-i*c,m=2*a;c*=m,d*=m,h*=m,f*=2,p*=2,g*=2,e[0]=s+c+f,e[1]=l+d+p,e[2]=u+h+g}(t,t,n.localRotation),ve(n.localPosition,n.localPosition,t),this.dirtifyLocal(e,n))}},{key:"setPosition",value:function(e,t){var n,r=e.transformable;if(bl[0]=t[0],bl[1]=t[1],bl[2]=null!==(n=t[2])&&void 0!==n?n:0,!Te(this.getPosition(e),bl)){if(me(r.position,bl),null!==e.parentNode&&e.parentNode.transformable){var i=e.parentNode.transformable;A(wl,i.worldTransform),I(wl,wl),Me(r.localPosition,bl,wl)}else me(r.localPosition,bl);this.dirtifyLocal(e,r)}}},{key:"setLocalPosition",value:function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=e.transformable;vl[0]=t[0],vl[1]=t[1],vl[2]=null!==(n=t[2])&&void 0!==n?n:0,Te(i.localPosition,vl)||(me(i.localPosition,vl),r&&this.dirtifyLocal(e,i))}},{key:"scaleLocal",value:function(e,t){var n,r=e.transformable;!function(e,t,n){e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2]}(r.localScale,r.localScale,ye(hl,t[0],t[1],null!==(n=t[2])&&void 0!==n?n:1)),this.dirtifyLocal(e,r)}},{key:"setLocalScale",value:function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=e.transformable;ye(hl,t[0],t[1],null!==(n=t[2])&&void 0!==n?n:i.localScale[2]),Te(hl,i.localScale)||(me(i.localScale,hl),r&&this.dirtifyLocal(e,i))}},{key:"translate",value:function(e,t){"number"==typeof t&&(t=ye(hl,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0)),Te(t,ll)||(ve(hl,this.getPosition(e),t),this.setPosition(e,hl))}},{key:"setRotation",value:function(e,t,n,r,i){var o=e.transformable;if("number"==typeof t&&(t=Fe(t,n,r,i)),null!==e.parentNode&&e.parentNode.transformable){var a=this.getRotation(e.parentNode);je(pl,a),Ie(pl,pl),Le(o.localRotation,pl,t),Ve(o.localRotation,o.localRotation),this.dirtifyLocal(e,o)}else this.setLocalRotation(e,t)}},{key:"setLocalRotation",value:function(e,t,n,r,i){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];"number"==typeof t&&(t=Be(pl,t,n,r,i));var a=e.transformable;je(a.localRotation,t),o&&this.dirtifyLocal(e,a)}},{key:"setLocalSkew",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];"number"==typeof t&&(t=function(e,t,n){return e[0]=t,e[1]=n,e}(dl,t,n));var i=e.transformable;!function(e,t){e[0]=t[0],e[1]=t[1]}(i.localSkew,t),r&&this.dirtifyLocal(e,i)}},{key:"dirtifyLocal",value:function(e,t){ts(e)||t.localDirtyFlag||(t.localDirtyFlag=!0,t.dirtyFlag||this.dirtifyWorld(e,t))}},{key:"dirtifyWorld",value:function(e,t){t.dirtyFlag||this.unfreezeParentToRoot(e),this.dirtifyWorldInternal(e,t),this.dirtifyToRoot(e,!0)}},{key:"dirtifyFragment",value:function(e){var t=e.transformable;t&&(t.frozen=!1,t.dirtyFlag=!0,t.localDirtyFlag=!0);var n=e.renderable;n&&(n.renderBoundsDirty=!0,n.boundsDirty=!0,n.dirty=!0);for(var r=e.childNodes.length,i=0;i<r;i++)this.dirtifyFragment(e.childNodes[i]);e.nodeName===pr.FRAGMENT&&this.pendingEvents.set(e,!1)}},{key:"triggerPendingEvents",value:function(){var e=this,t=new Set,n=function(n,r){n.isConnected&&!t.has(n)&&n.nodeName!==pr.FRAGMENT&&(e.boundsChangedEvent.detail=r,e.boundsChangedEvent.target=n,n.isMutationObserved?n.dispatchEvent(e.boundsChangedEvent):n.ownerDocument.defaultView.dispatchEvent(e.boundsChangedEvent,!0),t.add(n))};this.pendingEvents.forEach(function(e,t){t.nodeName!==pr.FRAGMENT&&(Sl.affectChildren=e,e?t.forEach(function(e){n(e,Sl)}):n(t,Sl))}),t.clear(),this.clearPendingEvents()}},{key:"clearPendingEvents",value:function(){this.pendingEvents.clear()}},{key:"dirtifyToRoot",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e;for(n.renderable&&(n.renderable.dirty=!0);n;)nl(n),n=n.parentNode;t&&e.forEach(function(e){nl(e)}),this.informDependentDisplayObjects(e),this.pendingEvents.set(e,t)}},{key:"updateDisplayObjectDependency",value:function(e,t,n,r){if(t&&t!==n){var i=this.displayObjectDependencyMap.get(t);if(i&&i[e]){var o=i[e].indexOf(r);i[e].splice(o,1)}}if(n){var a=this.displayObjectDependencyMap.get(n);a||(this.displayObjectDependencyMap.set(n,{}),a=this.displayObjectDependencyMap.get(n)),a[e]||(a[e]=[]),a[e].push(r)}}},{key:"informDependentDisplayObjects",value:function(e){var t=this,n=this.displayObjectDependencyMap.get(e);n&&Object.keys(n).forEach(function(e){n[e].forEach(function(n){t.dirtifyToRoot(n,!0),n.dispatchEvent(new tl(el.ATTR_MODIFIED,n,t,t,e,tl.MODIFICATION,t,t)),n.isCustomElement&&n.isConnected&&n.attributeChangedCallback&&n.attributeChangedCallback(e,t,t)})})}},{key:"getPosition",value:function(e){var t=e.transformable;return K(t.position,this.getWorldTransform(e,t))}},{key:"getRotation",value:function(e){var t=e.transformable;return Z(t.rotation,this.getWorldTransform(e,t))}},{key:"getScale",value:function(e){var t=e.transformable;return Q(t.scaling,this.getWorldTransform(e,t))}},{key:"getWorldTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transformable;return t.localDirtyFlag||t.dirtyFlag?(e.parentNode&&e.parentNode.transformable&&this.getWorldTransform(e.parentNode),this.sync(e,t),t.worldTransform):t.worldTransform}},{key:"getLocalPosition",value:function(e){return e.transformable.localPosition}},{key:"getLocalRotation",value:function(e){return e.transformable.localRotation}},{key:"getLocalScale",value:function(e){return e.transformable.localScale}},{key:"getLocalSkew",value:function(e){return e.transformable.localSkew}},{key:"calcLocalTransform",value:function(e){if(0!==e.localSkew[0]||0!==e.localSkew[1]){J(e.localTransform,e.localRotation,e.localPosition,ge(1,1,1),e.origin),0===e.localSkew[0]&&0===e.localSkew[1]||(D(fl),fl[4]=Math.tan(e.localSkew[0]),fl[1]=Math.tan(e.localSkew[1]),F(e.localTransform,e.localTransform,fl));var t=J(fl,Be(pl,0,0,0,1),ye(hl,1,1,1),e.localScale,e.origin);F(e.localTransform,e.localTransform,t)}else{var n=e.localTransform,r=e.localPosition,i=e.localRotation,o=e.localScale,a=e.origin,s=0!==r[0]||0!==r[1]||0!==r[2],l=1!==i[3]||0!==i[0]||0!==i[1]||0!==i[2],u=1!==o[0]||1!==o[1]||1!==o[2],c=0!==a[0]||0!==a[1]||0!==a[2];l||u||c?J(n,i,r,o,a):s?U(n,r):D(n)}}},{key:"getLocalTransform",value:function(e){var t=e.transformable;return t.localDirtyFlag&&(this.calcLocalTransform(t),t.localDirtyFlag=!1),t.localTransform}},{key:"setLocalTransform",value:function(e,t){var n=K(gl,t),r=Z(ml,t),i=Q(yl,t);this.setLocalScale(e,i,!1),this.setLocalPosition(e,n,!1),this.setLocalRotation(e,r,void 0,void 0,void 0,!1),this.dirtifyLocal(e,e.transformable)}},{key:"resetLocalTransform",value:function(e){this.setLocalScale(e,ul,!1),this.setLocalPosition(e,ll,!1),this.setLocalEulerAngles(e,ll,void 0,void 0,!1),this.setLocalSkew(e,sl,void 0,!1),this.dirtifyLocal(e,e.transformable)}},{key:"getTransformedGeometryBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this.getGeometryBounds(e,t);if(!Sr.isEmpty(r)){var i=n||new Sr;return i.setFromTransformedAABB(r,this.getWorldTransform(e)),i}return null}},{key:"getGeometryBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.geometry;return n.dirty&&Al.styleValueRegistry.updateGeometry(e),(t?n.renderBounds:n.contentBounds||null)||new Sr}},{key:"getBounds",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.renderable;if(!r.boundsDirty&&!n&&r.bounds)return r.bounds;if(!r.renderBoundsDirty&&n&&r.renderBounds)return r.renderBounds;var i=n?r.renderBounds:r.bounds,o=this.getTransformedGeometryBounds(e,n,i);if(e.childNodes.forEach(function(e){var r=t.getBounds(e,n);r&&(o?o.add(r):(o=i||new Sr).update(r.center,r.halfExtents))}),o||(o=new Sr),n){var a=Qa(e);if(a){var s=a.parsedStyle.clipPath.getBounds(n);o?s&&(o=s.intersection(o)):o.update(s.center,s.halfExtents)}}return n?(r.renderBounds=o,r.renderBoundsDirty=!1):(r.bounds=o,r.boundsDirty=!1),o}},{key:"getLocalBounds",value:function(e){if(e.parentNode){var t=cl;e.parentNode.transformable&&(t=I(fl,this.getWorldTransform(e.parentNode)));var n=this.getBounds(e);if(!Sr.isEmpty(n)){var r=new Sr;return r.setFromTransformedAABB(n,t),r}}return this.getBounds(e)}},{key:"getBoundingClientRect",value:function(e){var t,n,r=this.getGeometryBounds(e);Sr.isEmpty(r)||(n=new Sr).setFromTransformedAABB(r,this.getWorldTransform(e));var i=null===(t=e.ownerDocument)||void 0===t||null===(t=t.defaultView)||void 0===t?void 0:t.getContextService().getBoundingClientRect();if(n){var o=w(n.getMin(),2),a=o[0],s=o[1],l=w(n.getMax(),2),u=l[0],c=l[1];return new Nr(a+((null==i?void 0:i.left)||0),s+((null==i?void 0:i.top)||0),u-a,c-s)}return new Nr((null==i?void 0:i.left)||0,(null==i?void 0:i.top)||0,0,0)}},{key:"dirtifyWorldInternal",value:function(e,t){var n=this;if(!t.dirtyFlag){t.dirtyFlag=!0,t.frozen=!1,e.childNodes.forEach(function(e){var t=e.transformable;t.dirtyFlag||n.dirtifyWorldInternal(e,t)});var r=e.renderable;r&&(r.renderBoundsDirty=!0,r.boundsDirty=!0,r.dirty=!0)}}},{key:"syncHierarchy",value:function(e){var t=e.transformable;if(!t.frozen){t.frozen=!0,(t.localDirtyFlag||t.dirtyFlag)&&this.sync(e,t);for(var n=e.childNodes,r=0;r<n.length;r++)this.syncHierarchy(n[r])}}},{key:"sync",value:function(e,t){if(t.localDirtyFlag&&(this.calcLocalTransform(t),t.localDirtyFlag=!1),t.dirtyFlag){var n=e.parentNode,r=n&&n.transformable;null!==n&&r?F(t.worldTransform,r.worldTransform,t.localTransform):A(t.worldTransform,t.localTransform),t.dirtyFlag=!1}}},{key:"unfreezeParentToRoot",value:function(e){for(var t=e.parentNode;t;){var n=t.transformable;n&&(n.frozen=!1),t=t.parentNode}}}])}(),Tl={MetricsString:"|ÉqÅ",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},Ol=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,Cl=new RegExp("".concat(/[!%),.:;?\]}¢°·'""†‡›℃∶、。〃〆〕〗〞﹚﹜！＂％＇），．：；？！］｝～]/.source,"|").concat(/[!),.:;?\]}¢·–—'"•"、。〆〞〕〉》」︰︱︲︳﹐﹑﹒﹓﹔﹕﹖﹘﹚﹜！），．：；？︶︸︺︼︾﹀﹂﹗］｜｝､]/.source,"|").concat(/[)\]｝〕〉》」』】〙〗〟'"｠»ヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻‐゠–〜?!‼⁇⁈⁉・、:;,。.]/.source,"|").concat(/[!%),.:;?\]}¢°'"†‡℃〆〈《「『〕！％），．：；？］｝]/.source)),Nl=new RegExp("".concat(/[$(£¥·'"〈《「『【〔〖〝﹙﹛＄（．［｛￡￥]/.source,"|").concat(/[([{£¥'"‵〈《「『〔〝︴﹙﹛（｛︵︷︹︻︽︿﹁﹃﹏]/.source,"|").concat(/[([｛〔〈《「『【〘〖〝'"｟«—...‥〳〴〵]/.source,"|").concat(/[$([{£¥'"々〇〉》」〔＄（［｛｠￥￦#]/.source)),Pl=function(){return c(function e(t){var n=this;l(this,e),this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(e,t){return!n.isBreakingSpace(t)&&!(!e||!Nl.exec(t)&&!Cl.exec(e))},this.trimByKinsokuShorui=function(e){var t=f(e),n=t[t.length-2];if(!n)return e;var r=n[n.length-1];return t[t.length-2]=n.slice(0,-1),t[t.length-1]=r+t[t.length-1],t},this.runtime=t},[{key:"measureFont",value:function(e,t){if(this.fontMetricsCache[e])return this.fontMetricsCache[e];var n={ascent:0,descent:0,fontSize:0},r=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(t),i=this.runtime.offscreenCanvasCreator.getOrCreateContext(t,{willReadFrequently:!0});i.font=e;var o=Tl.MetricsString+Tl.BaselineSymbol,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(Tl.BaselineSymbol).width),l=Tl.HeightMultiplier*s;s=s*Tl.BaselineMultiplier|0,r.width=a,r.height=l,i.fillStyle="#f00",i.fillRect(0,0,a,l),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,s);var u=i.getImageData(0,0,a||1,l||1).data,c=u.length,d=4*a,h=0,f=0,p=!1;for(h=0;h<s;++h){for(var g=0;g<d;g+=4)if(255!==u[f+g]){p=!0;break}if(p)break;f+=d}for(n.ascent=s-h,f=c-d,p=!1,h=l;h>s;--h){for(var m=0;m<d;m+=4)if(255!==u[f+m]){p=!0;break}if(p)break;f-=d}return n.descent=h-s,n.fontSize=n.ascent+n.descent,this.fontMetricsCache[e]=n,n}},{key:"measureText",value:function(e,t,n){var r=t.fontSize,i=void 0===r?16:r,o=t.wordWrap,a=void 0!==o&&o,s=t.lineHeight,l=t.lineWidth,u=void 0===l?1:l,c=t.textBaseline,d=void 0===c?"alphabetic":c,h=t.textAlign,f=void 0===h?"start":h,p=t.letterSpacing,g=void 0===p?0:p,m=t.textPath;t.textPathSide,t.textPathStartOffset;var y=t.leading,v=void 0===y?0:y,b=function(e){for(var t=e.fontSize,n=void 0===t?16:t,r=e.fontFamily,i=void 0===r?"sans-serif":r,o=e.fontStyle,a=void 0===o?"normal":o,s=e.fontVariant,l=void 0===s?"normal":s,u=e.fontWeight,c=void 0===u?"normal":u,d=st(n)&&"".concat(n,"px")||"16px",h=i.split(","),f=h.length-1;f>=0;f--){var p=h[f].trim();!bs.test(p)&&vs.indexOf(p)<0&&(p='"'.concat(p,'"')),h[f]=p}return"".concat(a," ").concat(l," ").concat(c," ").concat(d," ").concat(h.join(","))}(t),w=this.measureFont(b,n);0===w.fontSize&&(w.fontSize=i,w.ascent=i);var x=this.runtime.offscreenCanvasCreator.getOrCreateContext(n);x.font=b,t.isOverflowing=!1;var E=(a?this.wordWrap(e,t,n):e).split(/(?:\r\n|\r|\n)/),k=new Array(E.length),S=0;if(!m){for(var M=0;M<E.length;M++){var T=x.measureText(E[M]).width+(E[M].length-1)*g;k[M]=T,S=Math.max(S,T)}var O=S+u,C=s||w.fontSize+u,N=Math.max(C,w.fontSize+u)+(E.length-1)*(C+v),P=0;return"middle"===d?P=-N/2:"bottom"===d||"alphabetic"===d||"ideographic"===d?P=-N:"top"!==d&&"hanging"!==d||(P=0),{font:b,width:O,height:N,lines:E,lineWidths:k,lineHeight:C+=v,maxLineWidth:S,fontProperties:w,lineMetrics:k.map(function(e,t){var n=0;return"center"===f||"middle"===f?n-=e/2:"right"!==f&&"end"!==f||(n-=e),new Nr(n-u/2,P+t*C,e+u,C)})}}m.getTotalLength();for(var A=0;A<E.length;A++)x.measureText(E[A]).width,E[A].length}},{key:"wordWrap",value:function(e,t,n){var r=this,i=this,o=t.wordWrapWidth,a=void 0===o?0:o,s=t.letterSpacing,l=void 0===s?0:s,u=t.maxLines,c=void 0===u?1/0:u,d=t.textOverflow,h=this.runtime.offscreenCanvasCreator.getOrCreateContext(n),f=a+l,p="";"ellipsis"===d?p="...":d&&"clip"!==d&&(p=d);var g=Array.from(e),m=[],y=0,v=0,b=-1,w={},x=function(e){return r.getFromCache(e,l,w,h)},E=x(p);function k(e,t,n,r){for(;x(e)<r&&t<g.length-1&&!i.isNewline(g[t+1]);)e+=g[t+=1];for(;x(e)>r&&t>=n;)t-=1,e=e.slice(0,-1);return{lineTxt:e,txtLastCharIndex:t}}function S(e,t){if(!(E<=0||E>f))if(m[e]){var n=k(m[e],t,b+1,f-E);m[e]=n.lineTxt+p}else m[e]=p}for(var M=0;M<g.length;M++){var T=g[M],O=g[M-1],C=g[M+1],N=x(T);if(this.isNewline(T)){if(y+1>=c){t.isOverflowing=!0,M<g.length-1&&S(y,M-1);break}b=M-1,v=0,m[y+=1]=""}else{if(v>0&&v+N>f){var P=k(m[y],M-1,b+1,f);if(P.txtLastCharIndex!==M-1){if(m[y]=P.lineTxt,P.txtLastCharIndex===g.length-1)break;M=P.txtLastCharIndex+1,T=g[M],O=g[M-1],C=g[M+1],N=x(T)}if(y+1>=c){t.isOverflowing=!0,S(y,M-1);break}if(b=M-1,v=0,m[y+=1]="",this.isBreakingSpace(T))continue;this.canBreakInLastChar(T)||(m=this.trimToBreakable(m),v=this.sumTextWidthByCache(m[y]||"",x)),this.shouldBreakByKinsokuShorui(T,C)&&(m=this.trimByKinsokuShorui(m),v+=x(O||""))}v+=N,m[y]=(m[y]||"")+T}}return m.join("\n")}},{key:"isBreakingSpace",value:function(e){return"string"==typeof e&&Tl.BreakingSpaces.indexOf(e.charCodeAt(0))>=0}},{key:"isNewline",value:function(e){return"string"==typeof e&&Tl.Newlines.indexOf(e.charCodeAt(0))>=0}},{key:"trimToBreakable",value:function(e){var t=f(e),n=t[t.length-2],r=this.findBreakableIndex(n);if(-1===r||!n)return t;var i=n.slice(r,r+1),o=r+1,a=r+(this.isBreakingSpace(i)?0:1);return t[t.length-1]+=n.slice(o,n.length),t[t.length-2]=n.slice(0,a),t}},{key:"canBreakInLastChar",value:function(e){return!e||!Ol.test(e)}},{key:"sumTextWidthByCache",value:function(e,t){return e.split("").reduce(function(e,n){return e+t(n)},0)}},{key:"findBreakableIndex",value:function(e){for(var t=e.length-1;t>=0;t--)if(!Ol.test(e[t]))return t;return-1}},{key:"getFromCache",value:function(e,t,n,r){var i=n[e];if("number"!=typeof i){var o=e.length*t;i=r.measureText(e).width+o,n[e]=i}return i}}])}(),Al={},Rl=(il=new Is,ol=new Ls,o(o(o(o(o(o(o(o(o(o(rl={},pr.FRAGMENT,null),pr.CIRCLE,new As),pr.ELLIPSE,new Rs),pr.RECT,il),pr.IMAGE,il),pr.GROUP,new Fs),pr.LINE,new _s),pr.TEXT,new zs(Al)),pr.POLYLINE,ol),pr.POLYGON,ol),o(o(o(rl,pr.PATH,new Ds),pr.HTML,new js),pr.MESH,null)),_l=function(e){var t=new Ra,n=new La;return o(o(o(o(o(o(o(o(o(o(e={},ii.PERCENTAGE,null),ii.NUMBER,new ja),ii.ANGLE,new Pa),ii.DEFINED_PATH,new Aa),ii.PAINT,t),ii.COLOR,t),ii.FILTER,new _a),ii.LENGTH,n),ii.LENGTH_PERCENTAGE,n),ii.LENGTH_PERCENTAGE_12,new Ia),o(o(o(o(o(o(o(o(o(o(e,ii.LENGTH_PERCENTAGE_14,new za),ii.COORDINATE,new La),ii.OFFSET_DISTANCE,new Ba),ii.OPACITY_VALUE,new Ha),ii.PATH,new Va),ii.LIST_OF_POINTS,new Ua),ii.SHADOW_BLUR,new Wa),ii.TEXT,new Ga),ii.TEXT_TRANSFORM,new $a),ii.TRANSFORM,new Cs),o(o(o(e,ii.TRANSFORM_ORIGIN,new Ns),ii.Z_INDEX,new Ps),ii.MARKER,new Fa)}();Al.CameraContribution=ei,Al.AnimationTimeline=null,Al.EasingFunction=null,Al.offscreenCanvasCreator=new Xs,Al.sceneGraphSelector=new Js,Al.sceneGraphService=new Ml(Al),Al.textService=new Pl(Al),Al.geometryUpdaterFactory=Rl,Al.CSSPropertySyntaxFactory=_l,Al.styleValueRegistry=new Ca(Al),Al.layoutRegistry=null,Al.globalThis="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},Al.enableStyleSyntax=!0,Al.enableSizeAttenuation=!1;var Dl=0,Ll=new tl(el.INSERTED,null,"","","",0,"",""),Il=new tl(el.REMOVED,null,"","","",0,"",""),zl=new Ws(el.DESTROY),Fl=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=y(this,t,[].concat(r))).entity=Dl++,e.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},e.cullable={strategy:ti.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},e.transformable={dirtyFlag:!1,localDirtyFlag:!1,frozen:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},e.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},e.geometry={contentBounds:void 0,renderBounds:void 0,dirty:!0},e.rBushNode={aabb:void 0},e.namespaceURI="g",e.scrollLeft=0,e.scrollTop=0,e.clientTop=0,e.clientLeft=0,e.destroyed=!1,e.style={},e.computedStyle={},e.parsedStyle={},e.attributes={},e}return b(t,e),c(t,[{key:"className",get:function(){return this.getAttribute("class")||""},set:function(e){this.setAttribute("class",e)}},{key:"classList",get:function(){return this.className.split(" ").filter(function(e){return""!==e})}},{key:"tagName",get:function(){return this.nodeName}},{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"parentElement",get:function(){return this.parentNode}},{key:"nextSibling",get:function(){if(this.parentNode){var e=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[e+1]||null}return null}},{key:"previousSibling",get:function(){if(this.parentNode){var e=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[e-1]||null}return null}},{key:"cloneNode",value:function(e){throw new Error(Pr)}},{key:"appendChild",value:function(e,t){var n;if(e.destroyed)throw new Error("Cannot append a destroyed element.");return Al.sceneGraphService.attach(e,this,t),null!==(n=this.ownerDocument)&&void 0!==n&&n.defaultView&&(ts(this)||e.nodeName!==pr.FRAGMENT?this.ownerDocument.defaultView.mountChildren(e):this.ownerDocument.defaultView.mountFragment(e)),this.isMutationObserved&&(Ll.relatedNode=this,e.dispatchEvent(Ll)),e}},{key:"insertBefore",value:function(e,t){if(t){e.parentElement&&e.parentElement.removeChild(e);var n=this.childNodes.indexOf(t);-1===n?this.appendChild(e):this.appendChild(e,n)}else this.appendChild(e);return e}},{key:"replaceChild",value:function(e,t){var n=this.childNodes.indexOf(t);return this.removeChild(t),this.appendChild(e,n),t}},{key:"removeChild",value:function(e){var t;return Il.relatedNode=this,e.dispatchEvent(Il),null!==(t=e.ownerDocument)&&void 0!==t&&t.defaultView&&e.ownerDocument.defaultView.unmountChildren(e),Al.sceneGraphService.detach(e),e}},{key:"removeChildren",value:function(){for(var e=this.childNodes.length-1;e>=0;e--){var t=this.childNodes[e];this.removeChild(t)}}},{key:"destroyChildren",value:function(){for(var e=this.childNodes.length-1;e>=0;e--){var t=this.childNodes[e];t.childNodes.length>0&&t.destroyChildren(),t.destroy()}}},{key:"matches",value:function(e){return Al.sceneGraphService.matches(e,this)}},{key:"getElementById",value:function(e){return Al.sceneGraphService.querySelector("#".concat(e),this)}},{key:"getElementsByName",value:function(e){return Al.sceneGraphService.querySelectorAll('[name="'.concat(e,'"]'),this)}},{key:"getElementsByClassName",value:function(e){return Al.sceneGraphService.querySelectorAll(".".concat(e),this)}},{key:"getElementsByTagName",value:function(e){return Al.sceneGraphService.querySelectorAll(e,this)}},{key:"querySelector",value:function(e){return Al.sceneGraphService.querySelector(e,this)}},{key:"querySelectorAll",value:function(e){return Al.sceneGraphService.querySelectorAll(e,this)}},{key:"closest",value:function(e){var t=this;do{if(Al.sceneGraphService.matches(e,t))return t;t=t.parentElement}while(null!==t);return null}},{key:"find",value:function(e){var t=this,n=null;return this.forEach(function(r){return r===t||!e(r)||(n=r,!1)}),n}},{key:"findAll",value:function(e){var t=this,n=[];return this.forEach(function(r){r!==t&&e(r)&&n.push(r)}),n}},{key:"after",value:function(){var e=this;if(this.parentNode){for(var t=this.parentNode.childNodes.indexOf(this),n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];r.forEach(function(n,r){var i;return null===(i=e.parentNode)||void 0===i?void 0:i.appendChild(n,t+r+1)})}}},{key:"before",value:function(){if(this.parentNode){for(var e,t=this.parentNode.childNodes.indexOf(this),n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r[0],a=r.slice(1);this.parentNode.appendChild(o,t),(e=o).after.apply(e,f(a))}}},{key:"replaceWith",value:function(){this.after.apply(this,arguments),this.remove()}},{key:"append",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(function(t){return e.appendChild(t)})}},{key:"prepend",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(function(t,n){return e.appendChild(t,n)})}},{key:"replaceChildren",value:function(){for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,arguments)}},{key:"remove",value:function(){return this.parentNode?this.parentNode.removeChild(this):this}},{key:"destroy",value:function(){this.destroyChildren(),this.dispatchEvent(zl),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0}},{key:"getGeometryBounds",value:function(){return Al.sceneGraphService.getGeometryBounds(this)}},{key:"getRenderBounds",value:function(){return Al.sceneGraphService.getBounds(this,!0)}},{key:"getBounds",value:function(){return Al.sceneGraphService.getBounds(this)}},{key:"getLocalBounds",value:function(){return Al.sceneGraphService.getLocalBounds(this)}},{key:"getBoundingClientRect",value:function(){return Al.sceneGraphService.getBoundingClientRect(this)}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"computedStyleMap",value:function(){return new Map(Object.entries(this.computedStyle))}},{key:"getAttributeNames",value:function(){return Object.keys(this.attributes)}},{key:"getAttribute",value:function(e){if("symbol"!=typeof e){var t=this.attributes[e];return t}}},{key:"hasAttribute",value:function(e){return this.getAttributeNames().includes(e)}},{key:"hasAttributes",value:function(){return!!this.getAttributeNames().length}},{key:"removeAttribute",value:function(e){this.setAttribute(e,null),delete this.attributes[e]}},{key:"setAttribute",value:function(e,t,n,r){this.attributes[e]=t}},{key:"getAttributeNS",value:function(e,t){throw new Error(Pr)}},{key:"getAttributeNode",value:function(e){throw new Error(Pr)}},{key:"getAttributeNodeNS",value:function(e,t){throw new Error(Pr)}},{key:"hasAttributeNS",value:function(e,t){throw new Error(Pr)}},{key:"removeAttributeNS",value:function(e,t){throw new Error(Pr)}},{key:"removeAttributeNode",value:function(e){throw new Error(Pr)}},{key:"setAttributeNS",value:function(e,t,n){throw new Error(Pr)}},{key:"setAttributeNode",value:function(e){throw new Error(Pr)}},{key:"setAttributeNodeNS",value:function(e){throw new Error(Pr)}},{key:"toggleAttribute",value:function(e,t){throw new Error(Pr)}}])}(qs);function jl(e){return!(null==e||!e.nodeName)}var Bl=Al.globalThis.Proxy?Al.globalThis.Proxy:function(){},Hl=new tl(el.ATTR_MODIFIED,null,null,null,null,tl.MODIFICATION,null,null),Vl=he(),Ul=_e(),Wl=function(e){function t(e){var n;return l(this,t),(n=y(this,t)).isCustomElement=!1,n.isMutationObserved=!1,n.activeAnimations=[],n.config=e,n.id=e.id||"",n.name=e.name||"",(e.className||e.class)&&(n.className=e.className||e.class),n.nodeName=e.type||pr.GROUP,e.initialParsedStyle&&Object.assign(n.parsedStyle,e.initialParsedStyle),n.initAttributes(e.style),Al.enableStyleSyntax&&(n.style=new Bl({setProperty:function(e,t){n.setAttribute(e,t)},getPropertyValue:function(e){return n.getAttribute(e)},removeProperty:function(e){n.removeAttribute(e)},item:function(){return""}},{get:function(e,t){return void 0!==e[t]?e[t]:n.getAttribute(t)},set:function(e,t,r){return n.setAttribute(t,r),!0}})),n}return b(t,e),c(t,[{key:"destroy",value:function(){Dn(t,"destroy",this)([]),this.getAnimations().forEach(function(e){e.cancel()})}},{key:"cloneNode",value:function(e,t){var n=s({},this.attributes);for(var r in n){var i=n[r];jl(i)&&"clipPath"!==r&&"offsetPath"!==r&&"textPath"!==r&&(n[r]=i.cloneNode(e)),t&&(n[r]=t(r,i))}var o=new this.constructor(s(s({},this.config),{},{style:n}));return o.setLocalTransform(this.getLocalTransform()),e&&this.children.forEach(function(t){if(!t.style.isMarker){var n=t.cloneNode(e);o.appendChild(n)}}),o}},{key:"initAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Al.styleValueRegistry.processProperties(this,e,{forceUpdateGeometry:!0}),this.renderable.dirty=!0}},{key:"setAttribute",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];yt(n)||(r||n!==this.attributes[e])&&(this.internalSetAttribute(e,n,{memoize:i}),Dn(t,"setAttribute",this)([e,n]))}},{key:"internalSetAttribute",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.renderable,i=this.attributes[e],a=this.parsedStyle[e];Al.styleValueRegistry.processProperties(this,o({},e,t),n),r.dirty=!0;var s,l=this.parsedStyle[e];(this.isConnected&&(Hl.relatedNode=this,Hl.prevValue=i,Hl.newValue=t,Hl.attrName=e,Hl.prevParsedValue=a,Hl.newParsedValue=l,this.isMutationObserved?this.dispatchEvent(Hl):(Hl.target=this,this.ownerDocument.defaultView.dispatchEvent(Hl,!0))),this.isCustomElement&&this.isConnected||!this.isCustomElement)&&(null===(s=this.attributeChangedCallback)||void 0===s||s.call(this,e,i,t,a,l))}},{key:"getBBox",value:function(){var e=this.getBounds(),t=w(e.getMin(),2),n=t[0],r=t[1],i=w(e.getMax(),2),o=i[0],a=i[1];return new Nr(n,r,o-n,a-r)}},{key:"setOrigin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Al.sceneGraphService.setOrigin(this,Dr(e,t,n,!1)),this}},{key:"getOrigin",value:function(){return Al.sceneGraphService.getOrigin(this)}},{key:"setPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Al.sceneGraphService.setPosition(this,Dr(e,t,n,!1)),this}},{key:"setLocalPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Al.sceneGraphService.setLocalPosition(this,Dr(e,t,n,!1)),this}},{key:"translate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Al.sceneGraphService.translate(this,Dr(e,t,n,!1)),this}},{key:"translateLocal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Al.sceneGraphService.translateLocal(this,Dr(e,t,n,!1)),this}},{key:"getPosition",value:function(){return Al.sceneGraphService.getPosition(this)}},{key:"getLocalPosition",value:function(){return Al.sceneGraphService.getLocalPosition(this)}},{key:"scale",value:function(e,t,n){return this.scaleLocal(e,t,n)}},{key:"scaleLocal",value:function(e,t,n){return"number"==typeof e&&(e=Dr(e,t=t||e,n=n||e,!1)),Al.sceneGraphService.scaleLocal(this,e),this}},{key:"setLocalScale",value:function(e,t,n){return"number"==typeof e&&(e=Dr(e,t=t||e,n=n||e,!1)),Al.sceneGraphService.setLocalScale(this,e),this}},{key:"getLocalScale",value:function(){return Al.sceneGraphService.getLocalScale(this)}},{key:"getScale",value:function(){return Al.sceneGraphService.getScale(this)}},{key:"getEulerAngles",value:function(){return Fr(w(Br(Vl,Al.sceneGraphService.getWorldTransform(this)),3)[2])}},{key:"getLocalEulerAngles",value:function(){return Fr(w(Br(Vl,Al.sceneGraphService.getLocalRotation(this)),3)[2])}},{key:"setEulerAngles",value:function(e){return Al.sceneGraphService.setEulerAngles(this,0,0,e),this}},{key:"setLocalEulerAngles",value:function(e){return Al.sceneGraphService.setLocalEulerAngles(this,0,0,e),this}},{key:"rotateLocal",value:function(e,t,n){return qe(t)&&qe(n)?Al.sceneGraphService.rotateLocal(this,0,0,e):Al.sceneGraphService.rotateLocal(this,e,t,n),this}},{key:"rotate",value:function(e,t,n){return qe(t)&&qe(n)?Al.sceneGraphService.rotate(this,0,0,e):Al.sceneGraphService.rotate(this,e,t,n),this}},{key:"setRotation",value:function(e,t,n,r){return Al.sceneGraphService.setRotation(this,e,t,n,r),this}},{key:"setLocalRotation",value:function(e,t,n,r){return Al.sceneGraphService.setLocalRotation(this,e,t,n,r),this}},{key:"setLocalSkew",value:function(e,t){return Al.sceneGraphService.setLocalSkew(this,e,t),this}},{key:"getRotation",value:function(){return Al.sceneGraphService.getRotation(this)}},{key:"getLocalRotation",value:function(){return Al.sceneGraphService.getLocalRotation(this)}},{key:"getLocalSkew",value:function(){return Al.sceneGraphService.getLocalSkew(this)}},{key:"getLocalTransform",value:function(){return Al.sceneGraphService.getLocalTransform(this)}},{key:"getWorldTransform",value:function(){return Al.sceneGraphService.getWorldTransform(this)}},{key:"setLocalTransform",value:function(e){return Al.sceneGraphService.setLocalTransform(this,e),this}},{key:"resetLocalTransform",value:function(){Al.sceneGraphService.resetLocalTransform(this)}},{key:"getAnimations",value:function(){return this.activeAnimations}},{key:"animate",value:function(e,t){var n,r=null===(n=this.ownerDocument)||void 0===n?void 0:n.timeline;return r?r.play(this,e,t):null}},{key:"isVisible",value:function(){var e;return"hidden"!==(null===(e=this.parsedStyle)||void 0===e?void 0:e.visibility)}},{key:"interactive",get:function(){return this.isInteractive()},set:function(e){this.style.pointerEvents=e?"auto":"none"}},{key:"isInteractive",value:function(){var e;return"none"!==(null===(e=this.parsedStyle)||void 0===e?void 0:e.pointerEvents)}},{key:"isCulled",value:function(){return!(!this.cullable||!this.cullable.enable||this.cullable.visible)}},{key:"toFront",value:function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,f(this.parentNode.children.map(function(e){return Number(e.style.zIndex)})))+1),this}},{key:"toBack",value:function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,f(this.parentNode.children.map(function(e){return Number(e.style.zIndex)})))-1),this}},{key:"getConfig",value:function(){return this.config}},{key:"attr",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],o=n[1];return i?Xe(i)?(Object.keys(i).forEach(function(t){e.setAttribute(t,i[t])}),this):2===n.length?(this.setAttribute(i,o),this):this.attributes[i]:this.attributes}},{key:"getMatrix",value:function(e){var t=e||this.getWorldTransform(),n=w(K(Vl,t),2),r=n[0],i=n[1],o=w(Q(Vl,t),2),a=o[0],s=o[1],l=Z(Ul,t),u=w(Br(Vl,l),3),c=u[0],d=u[2];return Hr(c||d,r,i,a,s)}},{key:"getLocalMatrix",value:function(){return this.getMatrix(this.getLocalTransform())}},{key:"setMatrix",value:function(e){var t=w(Vr(e),5),n=t[0],r=t[1],i=t[2],o=t[3],a=t[4];this.setEulerAngles(a).setPosition(n,r).setLocalScale(i,o)}},{key:"setLocalMatrix",value:function(e){var t=w(Vr(e),5),n=t[0],r=t[1],i=t[2],o=t[3],a=t[4];this.setLocalEulerAngles(a).setLocalPosition(n,r).setLocalScale(i,o)}},{key:"show",value:function(){this.forEach(function(e){e.style.visibility="visible"})}},{key:"hide",value:function(){this.forEach(function(e){e.style.visibility="hidden"})}},{key:"getCount",value:function(){return this.childElementCount}},{key:"getParent",value:function(){return this.parentElement}},{key:"getChildren",value:function(){return this.children}},{key:"getFirst",value:function(){return this.firstElementChild}},{key:"getLast",value:function(){return this.lastElementChild}},{key:"getChildByIndex",value:function(e){return this.children[e]||null}},{key:"add",value:function(e,t){return this.appendChild(e,t)}},{key:"set",value:function(e,t){this.config[e]=t}},{key:"get",value:function(e){return this.config[e]}},{key:"moveTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.setPosition(e,t,n),this}},{key:"move",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.setPosition(e,t,n),this}},{key:"setZIndex",value:function(e){return this.style.zIndex=e,this}}])}(Fl);Wl.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","display","draggable","droppable","fill","fillOpacity","fillRule","filter","increasedLineWidthForHitTesting","lineCap","lineDash","lineDashOffset","lineJoin","lineWidth","miterLimit","hitArea","offsetDistance","offsetPath","offsetX","offsetY","opacity","pointerEvents","shadowColor","shadowType","shadowBlur","shadowOffsetX","shadowOffsetY","stroke","strokeOpacity","strokeWidth","strokeLinecap","strokeLineJoin","strokeDasharray","strokeDashoffset","transform","transformOrigin","textTransform","visibility","zIndex"]);var Gl=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(this,t),y(this,t,[s({type:pr.CIRCLE},e)])}return b(t,e),c(t)}(Wl);Gl.PARSED_STYLE_LIST=new Set([].concat(f(Wl.PARSED_STYLE_LIST),["cx","cy","cz","r","isBillboard","isSizeAttenuation"]));var $l=["style"],ql=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.style,i=dr(n,$l);return l(this,t),(e=y(this,t,[s({style:r},i)])).isCustomElement=!0,e}return b(t,e),c(t)}(Wl);ql.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var Yl=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(this,t),y(this,t,[s({type:pr.ELLIPSE},e)])}return b(t,e),c(t)}(Wl);Yl.PARSED_STYLE_LIST=new Set([].concat(f(Wl.PARSED_STYLE_LIST),["cx","cy","cz","rx","ry","isBillboard","isSizeAttenuation"])),(function(e){function t(){return l(this,t),y(this,t,[{type:pr.FRAGMENT}])}return b(t,e),c(t)}(Wl)).PARSED_STYLE_LIST=new Set(["class","className"]);var Xl=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(this,t),y(this,t,[s({type:pr.GROUP},e)])}return b(t,e),c(t)}(Wl);Xl.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var Kl=["style"],Ql=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.style,i=dr(n,Kl);return l(this,t),(e=y(this,t,[s({type:pr.HTML,style:r},i)])).cullable.enable=!1,e}return b(t,e),c(t,[{key:"getDomElement",value:function(){return this.parsedStyle.$el}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"getLocalBounds",value:function(){if(this.parentNode){var e=I(N(),this.parentNode.getWorldTransform()),t=this.getBounds();if(!Sr.isEmpty(t)){var n=new Sr;return n.setFromTransformedAABB(t,e),n}}return this.getBounds()}}])}(Wl);Ql.PARSED_STYLE_LIST=new Set([].concat(f(Wl.PARSED_STYLE_LIST),["x","y","$el","innerHTML","width","height"]));var Zl=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(this,t),y(this,t,[s({type:pr.IMAGE},e)])}return b(t,e),c(t)}(Wl);Zl.PARSED_STYLE_LIST=new Set([].concat(f(Wl.PARSED_STYLE_LIST),["x","y","z","src","width","height","isBillboard","billboardRotation","isSizeAttenuation","keepAspectRatio"]));var Jl=["style"],eu=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.style,i=dr(n,Jl);l(this,t),(e=y(this,t,[s({type:pr.LINE,style:s({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0},r)},i)])).markerStartAngle=0,e.markerEndAngle=0;var o=e.parsedStyle,a=o.markerStart,u=o.markerEnd;return a&&jl(a)&&(e.markerStartAngle=a.getLocalEulerAngles(),e.appendChild(a)),u&&jl(u)&&(e.markerEndAngle=u.getLocalEulerAngles(),e.appendChild(u)),e.transformMarker(!0),e.transformMarker(!1),e}return b(t,e),c(t,[{key:"attributeChangedCallback",value:function(e,t,n,r,i){"x1"===e||"y1"===e||"x2"===e||"y2"===e||"markerStartOffset"===e||"markerEndOffset"===e?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===e?(r&&jl(r)&&(this.markerStartAngle=0,r.remove()),i&&jl(i)&&(this.markerStartAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!0))):"markerEnd"===e&&(r&&jl(r)&&(this.markerEndAngle=0,r.remove()),i&&jl(i)&&(this.markerEndAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!1)))}},{key:"transformMarker",value:function(e){var t=this.parsedStyle,n=t.markerStart,r=t.markerEnd,i=t.markerStartOffset,o=t.markerEndOffset,a=t.x1,s=t.x2,l=t.y1,u=t.y2,c=e?n:r;if(c&&jl(c)){var d,h,f,p,g,m,y;e?(p=a,g=l,h=s-a,f=u-l,m=i||0,y=this.markerStartAngle):(p=s,g=u,h=a-s,f=l-u,m=o||0,y=this.markerEndAngle),d=Math.atan2(f,h),c.setLocalEulerAngles(180*d/Math.PI+y),c.setLocalPosition(p+Math.cos(d)*m,g+Math.sin(d)*m)}}},{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.parsedStyle,r=Vn(n.x1,n.y1,n.x2,n.y2,e),i=r.x,o=r.y,a=Me(he(),ge(i,o,0),t?this.getWorldTransform():this.getLocalTransform());return new Cr(a[0],a[1])}},{key:"getPointAtLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getPoint(e/this.getTotalLength(),t)}},{key:"getTotalLength",value:function(){var e=this.parsedStyle;return Hn(e.x1,e.y1,e.x2,e.y2)}}])}(Wl);eu.PARSED_STYLE_LIST=new Set([].concat(f(Wl.PARSED_STYLE_LIST),["x1","y1","x2","y2","z1","z2","isBillboard","isSizeAttenuation","markerStart","markerEnd","markerStartOffset","markerEndOffset"]));var tu=["style"],nu=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.style,i=dr(n,tu);l(this,t),(e=y(this,t,[s({type:pr.PATH,style:r,initialParsedStyle:{miterLimit:4,d:s({},ri)}},i)])).markerStartAngle=0,e.markerEndAngle=0,e.markerMidList=[];var o=e.parsedStyle,a=o.markerStart,u=o.markerEnd,c=o.markerMid;return a&&jl(a)&&(e.markerStartAngle=a.getLocalEulerAngles(),e.appendChild(a)),c&&jl(c)&&e.placeMarkerMid(c),u&&jl(u)&&(e.markerEndAngle=u.getLocalEulerAngles(),e.appendChild(u)),e.transformMarker(!0),e.transformMarker(!1),e}return b(t,e),c(t,[{key:"attributeChangedCallback",value:function(e,t,n,r,i){"d"===e?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):"markerStartOffset"===e||"markerEndOffset"===e?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===e?(r&&jl(r)&&(this.markerStartAngle=0,r.remove()),i&&jl(i)&&(this.markerStartAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!0))):"markerEnd"===e?(r&&jl(r)&&(this.markerEndAngle=0,r.remove()),i&&jl(i)&&(this.markerEndAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!1))):"markerMid"===e&&this.placeMarkerMid(i)}},{key:"transformMarker",value:function(e){var t=this.parsedStyle,n=t.markerStart,r=t.markerEnd,i=t.markerStartOffset,o=t.markerEndOffset,a=e?n:r;if(a&&jl(a)){var s,l,u,c,d,h,f;if(e){var p=w(this.getStartTangent(),2),g=p[0],m=p[1];c=m[0],d=m[1],l=g[0]-m[0],u=g[1]-m[1],h=i||0,f=this.markerStartAngle}else{var y=w(this.getEndTangent(),2),v=y[0],b=y[1];c=b[0],d=b[1],l=v[0]-b[0],u=v[1]-b[1],h=o||0,f=this.markerEndAngle}s=Math.atan2(u,l),a.setLocalEulerAngles(180*s/Math.PI+f),a.setLocalPosition(c+Math.cos(s)*h,d+Math.sin(s)*h)}}},{key:"placeMarkerMid",value:function(e){var t=this.parsedStyle.d.segments;if(this.markerMidList.forEach(function(e){e.remove()}),e&&jl(e))for(var n=1;n<t.length-1;n++){var r=w(t[n].currentPoint,2),i=r[0],o=r[1],a=1===n?e:e.cloneNode(!0);this.markerMidList.push(a),this.appendChild(a),a.setLocalPosition(i,o)}}},{key:"getTotalLength",value:function(){return Uo(this)}},{key:"getPointAtLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(e,t,n){return On(e,t,jt(jt({},n),{bbox:!1,length:!0})).point}(this.parsedStyle.d.absolutePath,e),r=n.x,i=n.y,o=Me(he(),ge(r,i,0),t?this.getWorldTransform():this.getLocalTransform());return new Cr(o[0],o[1])}},{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getPointAtLength(e*Uo(this),t)}},{key:"getStartTangent",value:function(){var e=this.parsedStyle.d.segments,t=[];if(e.length>1){var n=e[0].currentPoint,r=e[1].currentPoint,i=e[1].startTangent;t=[],i?(t.push([n[0]-i[0],n[1]-i[1]]),t.push([n[0],n[1]])):(t.push([r[0],r[1]]),t.push([n[0],n[1]]))}return t}},{key:"getEndTangent",value:function(){var e=this.parsedStyle.d.segments,t=e.length,n=[];if(t>1){var r=e[t-2].currentPoint,i=e[t-1].currentPoint,o=e[t-1].endTangent;n=[],o?(n.push([i[0]-o[0],i[1]-o[1]]),n.push([i[0],i[1]])):(n.push([r[0],r[1]]),n.push([i[0],i[1]]))}return n}}])}(Wl);nu.PARSED_STYLE_LIST=new Set([].concat(f(Wl.PARSED_STYLE_LIST),["d","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard","isSizeAttenuation"]));var ru=["style"],iu=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.style,i=dr(n,ru);l(this,t),(e=y(this,t,[s({type:pr.POLYGON,style:r,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},i)])).markerStartAngle=0,e.markerEndAngle=0,e.markerMidList=[];var o=e.parsedStyle,a=o.markerStart,u=o.markerEnd,c=o.markerMid;return a&&jl(a)&&(e.markerStartAngle=a.getLocalEulerAngles(),e.appendChild(a)),c&&jl(c)&&e.placeMarkerMid(c),u&&jl(u)&&(e.markerEndAngle=u.getLocalEulerAngles(),e.appendChild(u)),e.transformMarker(!0),e.transformMarker(!1),e}return b(t,e),c(t,[{key:"attributeChangedCallback",value:function(e,t,n,r,i){"points"===e?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):"markerStartOffset"===e||"markerEndOffset"===e?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===e?(r&&jl(r)&&(this.markerStartAngle=0,r.remove()),i&&jl(i)&&(this.markerStartAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!0))):"markerEnd"===e?(r&&jl(r)&&(this.markerEndAngle=0,r.remove()),i&&jl(i)&&(this.markerEndAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!1))):"markerMid"===e&&this.placeMarkerMid(i)}},{key:"transformMarker",value:function(e){var t=this.parsedStyle,n=t.markerStart,r=t.markerEnd,i=t.markerStartOffset,o=t.markerEndOffset,a=(t.points||{}).points,s=e?n:r;if(s&&jl(s)&&a){var l,u,c,d,h,f,p;if(d=a[0][0],h=a[0][1],e)u=a[1][0]-a[0][0],c=a[1][1]-a[0][1],f=i||0,p=this.markerStartAngle;else{var g=a.length;this.parsedStyle.isClosed?(u=a[g-1][0]-a[0][0],c=a[g-1][1]-a[0][1]):(d=a[g-1][0],h=a[g-1][1],u=a[g-2][0]-a[g-1][0],c=a[g-2][1]-a[g-1][1]),f=o||0,p=this.markerEndAngle}l=Math.atan2(c,u),s.setLocalEulerAngles(180*l/Math.PI+p),s.setLocalPosition(d+Math.cos(l)*f,h+Math.sin(l)*f)}}},{key:"placeMarkerMid",value:function(e){var t=(this.parsedStyle.points||{}).points;if(this.markerMidList.forEach(function(e){e.remove()}),this.markerMidList=[],e&&jl(e)&&t)for(var n=1;n<(this.parsedStyle.isClosed?t.length:t.length-1);n++){var r=t[n][0],i=t[n][1],o=1===n?e:e.cloneNode(!0);this.markerMidList.push(o),this.appendChild(o),o.setLocalPosition(r,i)}}}])}(Wl);iu.PARSED_STYLE_LIST=new Set([].concat(f(Wl.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isClosed","isBillboard","isSizeAttenuation"]));var ou=["style"],au=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.style,r=dr(e,ou);return l(this,t),y(this,t,[s({type:pr.POLYLINE,style:n,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},r)])}return b(t,e),c(t,[{key:"getTotalLength",value:function(){return 0===(e=this).parsedStyle.points.totalLength&&(e.parsedStyle.points.totalLength=Yn(e.parsedStyle.points.points)),e.parsedStyle.points.totalLength;var e}},{key:"getPointAtLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getPoint(e/this.getTotalLength(),t)}},{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.parsedStyle.points.points;if(0===this.parsedStyle.points.segments.length){var r,i,o=[],a=0,s=this.getTotalLength();n.forEach(function(e,t){n[t+1]&&((r=[0,0])[0]=a/s,i=Hn(e[0],e[1],n[t+1][0],n[t+1][1]),a+=i,r[1]=a/s,o.push(r))}),this.parsedStyle.points.segments=o}var l=0,u=0;this.parsedStyle.points.segments.forEach(function(t,n){e>=t[0]&&e<=t[1]&&(l=(e-t[0])/(t[1]-t[0]),u=n)});var c=Vn(n[u][0],n[u][1],n[u+1][0],n[u+1][1],l),d=c.x,h=c.y,f=Me(he(),ge(d,h,0),t?this.getWorldTransform():this.getLocalTransform());return new Cr(f[0],f[1])}},{key:"getStartTangent",value:function(){var e=this.parsedStyle.points.points,t=[];return t.push([e[1][0],e[1][1]]),t.push([e[0][0],e[0][1]]),t}},{key:"getEndTangent",value:function(){var e=this.parsedStyle.points.points,t=e.length-1,n=[];return n.push([e[t-1][0],e[t-1][1]]),n.push([e[t][0],e[t][1]]),n}}])}(iu);au.PARSED_STYLE_LIST=new Set([].concat(f(iu.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard"]));var su=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(this,t),y(this,t,[s({type:pr.RECT},e)])}return b(t,e),c(t)}(Wl);su.PARSED_STYLE_LIST=new Set([].concat(f(Wl.PARSED_STYLE_LIST),["x","y","z","width","height","isBillboard","isSizeAttenuation","radius"]));var lu=["style"],uu=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.style,r=dr(e,lu);return l(this,t),y(this,t,[s({type:pr.TEXT,style:s({fill:"black"},n)},r)])}return b(t,e),c(t,[{key:"getComputedTextLength",value:function(){var e;return this.getGeometryBounds(),(null===(e=this.parsedStyle.metrics)||void 0===e?void 0:e.maxLineWidth)||0}},{key:"getLineBoundingRects",value:function(){var e;return this.getGeometryBounds(),(null===(e=this.parsedStyle.metrics)||void 0===e?void 0:e.lineMetrics)||[]}},{key:"isOverflowing",value:function(){return this.getGeometryBounds(),!!this.parsedStyle.isOverflowing}}])}(Wl);uu.PARSED_STYLE_LIST=new Set([].concat(f(Wl.PARSED_STYLE_LIST),["x","y","z","isBillboard","billboardRotation","isSizeAttenuation","text","textAlign","textBaseline","fontStyle","fontSize","fontFamily","fontWeight","fontVariant","lineHeight","letterSpacing","leading","wordWrap","wordWrapWidth","maxLines","textOverflow","isOverflowing","textPath","textDecorationLine","textDecorationColor","textDecorationStyle","textPathSide","textPathStartOffset","metrics","dx","dy"]));var cu=function(){return c(function e(){l(this,e),this.registry={},this.define(pr.CIRCLE,Gl),this.define(pr.ELLIPSE,Yl),this.define(pr.RECT,su),this.define(pr.IMAGE,Zl),this.define(pr.LINE,eu),this.define(pr.GROUP,Xl),this.define(pr.PATH,nu),this.define(pr.POLYGON,iu),this.define(pr.POLYLINE,au),this.define(pr.TEXT,uu),this.define(pr.HTML,Ql)},[{key:"define",value:function(e,t){this.registry[e]=t}},{key:"get",value:function(e){return this.registry[e]}}])}(),du=function(e){function t(){var e;l(this,t),(e=y(this,t)).defaultView=null,e.ownerDocument=null,e.nodeName="document";try{e.timeline=new Al.AnimationTimeline(e)}catch(e){}var n={};return Ma.forEach(function(e){var t=e.n,r=e.inh,i=e.d;r&&i&&(n[t]=$e(i)?i(pr.GROUP):i)}),e.documentElement=new Xl({id:"g-root",style:n}),e.documentElement.ownerDocument=e,e.documentElement.parentNode=e,e.childNodes=[e.documentElement],e}return b(t,e),c(t,[{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"createElement",value:function(e,t){if("svg"===e)return this.documentElement;var n=this.defaultView.customElements.get(e);n||(console.warn("Unsupported tagName: ",e),n="tspan"===e?uu:Xl);var r=new n(t);return r.ownerDocument=this,r}},{key:"createElementNS",value:function(e,t,n){return this.createElement(t,n)}},{key:"cloneNode",value:function(e){throw new Error(Pr)}},{key:"destroy",value:function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch(e){}}},{key:"elementsFromBBox",value:function(e,t,n,r){var i=this.defaultView.context.rBushRoot.search({minX:e,minY:t,maxX:n,maxY:r}),o=[];return i.forEach(function(e){var t=e.displayObject,n=t.parsedStyle.pointerEvents,r=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(void 0===n?"auto":n);(!r||r&&t.isVisible())&&!t.isCulled()&&t.isInteractive()&&o.push(t)}),o.sort(function(e,t){return t.sortable.renderOrder-e.sortable.renderOrder}),o}},{key:"elementFromPointSync",value:function(e,t){var n=this.defaultView.canvas2Viewport({x:e,y:t}),r=n.x,i=n.y,o=this.defaultView.getConfig(),a=o.width,s=o.height;if(r<0||i<0||r>a||i>s)return null;var l=this.defaultView.viewport2Client({x:r,y:i}),u=l.x,c=l.y,d=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x:e,y:t,viewportX:r,viewportY:i,clientX:u,clientY:c},picked:[]}).picked;return d&&d[0]||this.documentElement}},{key:"elementFromPoint",value:(r=ur(sr().mark(function e(t,n){var r,i,o,a,s,l,u,c,d,h,f;return sr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.defaultView.canvas2Viewport({x:t,y:n}),i=r.x,o=r.y,a=this.defaultView.getConfig(),s=a.width,l=a.height,!(i<0||o<0||i>s||o>l)){e.next=4;break}return e.abrupt("return",null);case 4:return u=this.defaultView.viewport2Client({x:i,y:o}),c=u.x,d=u.y,e.next=7,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:t,y:n,viewportX:i,viewportY:o,clientX:c,clientY:d},picked:[]});case 7:return h=e.sent,f=h.picked,e.abrupt("return",f&&f[0]||this.documentElement);case 10:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"elementsFromPointSync",value:function(e,t){var n=this.defaultView.canvas2Viewport({x:e,y:t}),r=n.x,i=n.y,o=this.defaultView.getConfig(),a=o.width,s=o.height;if(r<0||i<0||r>a||i>s)return[];var l=this.defaultView.viewport2Client({x:r,y:i}),u=l.x,c=l.y,d=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x:e,y:t,viewportX:r,viewportY:i,clientX:u,clientY:c},picked:[]}).picked;return d[d.length-1]!==this.documentElement&&d.push(this.documentElement),d}},{key:"elementsFromPoint",value:(n=ur(sr().mark(function e(t,n){var r,i,o,a,s,l,u,c,d,h,f;return sr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.defaultView.canvas2Viewport({x:t,y:n}),i=r.x,o=r.y,a=this.defaultView.getConfig(),s=a.width,l=a.height,!(i<0||o<0||i>s||o>l)){e.next=4;break}return e.abrupt("return",[]);case 4:return u=this.defaultView.viewport2Client({x:i,y:o}),c=u.x,d=u.y,e.next=7,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:t,y:n,viewportX:i,viewportY:o,clientX:c,clientY:d},picked:[]});case 7:return h=e.sent,(f=h.picked)[f.length-1]!==this.documentElement&&f.push(this.documentElement),e.abrupt("return",f);case 11:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"appendChild",value:function(e,t){throw new Error(Ar)}},{key:"insertBefore",value:function(e,t){throw new Error(Ar)}},{key:"removeChild",value:function(e,t){throw new Error(Ar)}},{key:"replaceChild",value:function(e,t,n){throw new Error(Ar)}},{key:"append",value:function(){throw new Error(Ar)}},{key:"prepend",value:function(){throw new Error(Ar)}},{key:"getElementById",value:function(e){return this.documentElement.getElementById(e)}},{key:"getElementsByName",value:function(e){return this.documentElement.getElementsByName(e)}},{key:"getElementsByTagName",value:function(e){return this.documentElement.getElementsByTagName(e)}},{key:"getElementsByClassName",value:function(e){return this.documentElement.getElementsByClassName(e)}},{key:"querySelector",value:function(e){return this.documentElement.querySelector(e)}},{key:"querySelectorAll",value:function(e){return this.documentElement.querySelectorAll(e)}},{key:"find",value:function(e){return this.documentElement.find(e)}},{key:"findAll",value:function(e){return this.documentElement.findAll(e)}}]);var n,r}(qs),hu=function(){function e(t){l(this,e),this.strategies=t}return c(e,[{key:"apply",value:function(t){var n=t.camera,r=t.renderingService,i=t.renderingContext,o=this.strategies;r.hooks.cull.tap(e.tag,function(e){if(e){var t=e.cullable;return 0===o.length?t.visible=i.unculledEntities.indexOf(e.entity)>-1:t.visible=o.every(function(t){return t.isVisible(n,e)}),!e.isCulled()&&e.isVisible()?e:(e.dispatchEvent(new Ws(el.CULLED)),null)}return e}),r.hooks.afterRender.tap(e.tag,function(e){e.cullable.visibilityPlaneMask=-1})}}])}();hu.tag="Culling";var fu=function(){function e(){var t=this;l(this,e),this.autoPreventDefault=!1,this.rootPointerEvent=new Vs(null),this.rootWheelEvent=new Us(null),this.onPointerMove=function(e){var n,r=null===(n=t.context.renderingContext.root)||void 0===n||null===(n=n.ownerDocument)||void 0===n?void 0:n.defaultView;if(!r.supportsTouchEvents||"touch"!==e.pointerType){var i,o=cr(t.normalizeToPointerEvent(e,r));try{for(o.s();!(i=o.n()).done;){var a=i.value,s=t.bootstrapEvent(t.rootPointerEvent,a,r,e);t.context.eventService.mapEvent(s)}}catch(e){o.e(e)}finally{o.f()}t.setCursor(t.context.eventService.cursor)}},this.onClick=function(e){var n,r,i=null===(n=t.context.renderingContext.root)||void 0===n||null===(n=n.ownerDocument)||void 0===n?void 0:n.defaultView,o=cr(t.normalizeToPointerEvent(e,i));try{for(o.s();!(r=o.n()).done;){var a=r.value,s=t.bootstrapEvent(t.rootPointerEvent,a,i,e);t.context.eventService.mapEvent(s)}}catch(e){o.e(e)}finally{o.f()}t.setCursor(t.context.eventService.cursor)}}return c(e,[{key:"apply",value:function(t){var n=this;this.context=t;var r=t.renderingService,i=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler(function(e){return n.context.renderingService.hooks.pickSync.call({position:e,picked:[],topmost:!0}).picked[0]||null}),r.hooks.pointerWheel.tap(e.tag,function(e){var t=n.normalizeWheelEvent(e);n.context.eventService.mapEvent(t)}),r.hooks.pointerDown.tap(e.tag,function(e){if(!i.supportsTouchEvents||"touch"!==e.pointerType){var t=n.normalizeToPointerEvent(e,i);if(n.autoPreventDefault&&t[0].isNormalized)(e.cancelable||!("cancelable"in e))&&e.preventDefault();var r,o=cr(t);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=n.bootstrapEvent(n.rootPointerEvent,a,i,e);n.context.eventService.mapEvent(s)}}catch(e){o.e(e)}finally{o.f()}n.setCursor(n.context.eventService.cursor)}}),r.hooks.pointerUp.tap(e.tag,function(e){if(!i.supportsTouchEvents||"touch"!==e.pointerType){var t,r=n.context.contextService.getDomElement(),o=n.context.eventService.isNativeEventFromCanvas(r,e)?"":"outside",a=cr(n.normalizeToPointerEvent(e,i));try{for(a.s();!(t=a.n()).done;){var s=t.value,l=n.bootstrapEvent(n.rootPointerEvent,s,i,e);l.type+=o,n.context.eventService.mapEvent(l)}}catch(e){a.e(e)}finally{a.f()}n.setCursor(n.context.eventService.cursor)}}),r.hooks.pointerMove.tap(e.tag,this.onPointerMove),r.hooks.pointerOver.tap(e.tag,this.onPointerMove),r.hooks.pointerOut.tap(e.tag,this.onPointerMove),r.hooks.click.tap(e.tag,this.onClick),r.hooks.pointerCancel.tap(e.tag,function(e){var t,r=cr(n.normalizeToPointerEvent(e,i));try{for(r.s();!(t=r.n()).done;){var o=t.value,a=n.bootstrapEvent(n.rootPointerEvent,o,i,e);n.context.eventService.mapEvent(a)}}catch(e){r.e(e)}finally{r.f()}n.setCursor(n.context.eventService.cursor)})}},{key:"bootstrapEvent",value:function(e,t,n,r){e.view=n,e.originalEvent=null,e.nativeEvent=r,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t);var i=this.context.eventService.client2Viewport({x:t.clientX,y:t.clientY}),o=i.x,a=i.y;e.viewport.x=o,e.viewport.y=a;var s=this.context.eventService.viewport2Canvas(e.viewport),l=s.x,u=s.y;return e.canvas.x=l,e.canvas.y=u,e.global.copyFrom(e.canvas),e.offset.copyFrom(e.canvas),e.isTrusted=r.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=Ja[e.type]||e.type),e}},{key:"normalizeWheelEvent",value:function(e){var t=this.rootWheelEvent;this.transferMouseData(t,e),t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ;var n=this.context.eventService.client2Viewport({x:e.clientX,y:e.clientY}),r=n.x,i=n.y;t.viewport.x=r,t.viewport.y=i;var o=this.context.eventService.viewport2Canvas(t.viewport),a=o.x,s=o.y;return t.canvas.x=a,t.canvas.y=s,t.global.copyFrom(t.canvas),t.offset.copyFrom(t.canvas),t.nativeEvent=e,t.type=e.type,t}},{key:"transferMouseData",value:function(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=es.now(),e.type=t.type,e.altKey=t.altKey,e.metaKey=t.metaKey,e.shiftKey=t.shiftKey,e.ctrlKey=t.ctrlKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.screen.x=t.screenX,e.screen.y=t.screenY,e.relatedTarget=null}},{key:"setCursor",value:function(e){this.context.contextService.applyCursorStyle(e||this.context.config.cursor||"default")}},{key:"normalizeToPointerEvent",value:function(e,t){var n=[];if(t.isTouchEvent(e))for(var r=0;r<e.changedTouches.length;r++){var i=e.changedTouches[r];yt(i.button)&&(i.button=0),yt(i.buttons)&&(i.buttons=1),yt(i.isPrimary)&&(i.isPrimary=1===e.touches.length&&"touchstart"===e.type),yt(i.width)&&(i.width=i.radiusX||1),yt(i.height)&&(i.height=i.radiusY||1),yt(i.tiltX)&&(i.tiltX=0),yt(i.tiltY)&&(i.tiltY=0),yt(i.pointerType)&&(i.pointerType="touch"),yt(i.pointerId)&&(i.pointerId=i.identifier||0),yt(i.pressure)&&(i.pressure=i.force||.5),yt(i.twist)&&(i.twist=0),yt(i.tangentialPressure)&&(i.tangentialPressure=0),i.isNormalized=!0,i.type=e.type,n.push(i)}else if(t.isMouseEvent(e)){var o=e;yt(o.isPrimary)&&(o.isPrimary=!0),yt(o.width)&&(o.width=1),yt(o.height)&&(o.height=1),yt(o.tiltX)&&(o.tiltX=0),yt(o.tiltY)&&(o.tiltY=0),yt(o.pointerType)&&(o.pointerType="mouse"),yt(o.pointerId)&&(o.pointerId=1),yt(o.pressure)&&(o.pressure=.5),yt(o.twist)&&(o.twist=0),yt(o.tangentialPressure)&&(o.tangentialPressure=0),o.isNormalized=!0,n.push(o)}else n.push(e);return n}}])}();fu.tag="Event";var pu=[pr.CIRCLE,pr.ELLIPSE,pr.IMAGE,pr.RECT,pr.LINE,pr.POLYLINE,pr.POLYGON,pr.TEXT,pr.PATH,pr.HTML],gu=function(){return c(function e(){l(this,e)},[{key:"isVisible",value:function(e,t){var n,r=t.cullable;if(!r.enable)return!0;var i=t.getRenderBounds();if(Sr.isEmpty(i))return!1;var o=e.getFrustum(),a=null===(n=t.parentNode)||void 0===n||null===(n=n.cullable)||void 0===n?void 0:n.visibilityPlaneMask;return r.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(t,i,a||Tr.INDETERMINATE,o.planes),r.visible=r.visibilityPlaneMask!==Tr.OUTSIDE,r.visible}},{key:"computeVisibilityWithPlaneMask",value:function(e,t,n,r){if(n===Tr.OUTSIDE||n===Tr.INSIDE)return n;for(var i=Tr.INSIDE,o=pu.indexOf(e.nodeName)>-1,a=0,s=r.length;a<s;++a){var l=1<<a;if(0!==(n&l)&&(!o||4!==a&&5!==a)){var u=r[a],c=u.normal,d=u.distance;if(Ee(c,t.getPositiveFarPoint(r[a]))+d<0)return Tr.OUTSIDE;Ee(c,t.getNegativeFarPoint(r[a]))+d<0&&(i|=l)}}return i}}])}(),mu=function(){function e(){l(this,e),this.syncTasks=new Map,this.isFirstTimeRendering=!0,this.syncing=!1,this.isFirstTimeRenderingFinished=!1}return c(e,[{key:"apply",value:function(t){var n,r=this,i=t.renderingService,o=t.renderingContext,a=t.rBushRoot,s=o.root.ownerDocument.defaultView;this.rBush=a;var l=function(e){e.target.renderable.dirty=!0,i.dirtify()},u=function(e){r.syncTasks.set(e.target,e.detail.affectChildren),i.dirtify()},c=function(e){var t=e.target;Al.enableSizeAttenuation&&Al.styleValueRegistry.updateSizeAttenuation(t,s.getCamera().getZoom())},d=function(e){var t=e.target,n=t.rBushNode;n.aabb&&r.rBush.remove(n.aabb),r.syncTasks.delete(t),Al.sceneGraphService.dirtifyToRoot(t),i.dirtify()};i.hooks.init.tap(e.tag,function(){s.addEventListener(el.MOUNTED,c),s.addEventListener(el.UNMOUNTED,d),s.addEventListener(el.ATTR_MODIFIED,l),s.addEventListener(el.BOUNDS_CHANGED,u)}),i.hooks.destroy.tap(e.tag,function(){s.removeEventListener(el.MOUNTED,c),s.removeEventListener(el.UNMOUNTED,d),s.removeEventListener(el.ATTR_MODIFIED,l),s.removeEventListener(el.BOUNDS_CHANGED,u),r.syncTasks.clear()});var h=null!==(n=Al.globalThis.requestIdleCallback)&&void 0!==n?n:hs.bind(Al.globalThis);i.hooks.endFrame.tap(e.tag,function(){r.isFirstTimeRendering?(r.isFirstTimeRendering=!1,r.syncing=!0,h(function(){r.syncRTree(!0),r.isFirstTimeRenderingFinished=!0})):r.syncRTree()})}},{key:"syncNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.isConnected){var n=e.rBushNode;n.aabb&&this.rBush.remove(n.aabb);var r=e.getRenderBounds();if(r){var i=e.renderable;t&&(i.dirtyRenderBounds||(i.dirtyRenderBounds=new Sr),i.dirtyRenderBounds.update(r.center,r.halfExtents));var o=w(r.getMin(),2),a=o[0],s=o[1],l=w(r.getMax(),2),u=l[0],c=l[1];n.aabb||(n.aabb={}),n.aabb.displayObject=e,n.aabb.minX=a,n.aabb.minY=s,n.aabb.maxX=u,n.aabb.maxY=c}return n.aabb&&!(isNaN(n.aabb.maxX)||isNaN(n.aabb.maxX)||isNaN(n.aabb.minX)||isNaN(n.aabb.minY))?n.aabb:void 0}}},{key:"syncRTree",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t||!this.syncing&&0!==this.syncTasks.size){this.syncing=!0;var n=[],r=new Set,i=function(i){if(!r.has(i)&&i.renderable){var o=e.syncNode(i,t);o&&(n.push(o),r.add(i))}};this.syncTasks.forEach(function(e,t){e&&t.forEach(i);for(var n=t;n;)i(n),n=n.parentElement}),this.rBush.load(n),n.length=0,this.syncing=!1}}}])}();mu.tag="Prepare";var yu=function(e){return e.READY="ready",e.BEFORE_RENDER="beforerender",e.RERENDER="rerender",e.AFTER_RENDER="afterrender",e.BEFORE_DESTROY="beforedestroy",e.AFTER_DESTROY="afterdestroy",e.RESIZE="resize",e.DIRTY_RECTANGLE="dirtyrectangle",e.RENDERER_CHANGED="rendererchanged",e}({}),vu=new Ws(el.MOUNTED),bu=new Ws(el.UNMOUNTED),wu=new Ws(yu.BEFORE_RENDER),xu=new Ws(yu.RERENDER),Eu=new Ws(yu.AFTER_RENDER),ku=function(e){function t(e){var n;l(this,t),(n=y(this,t)).Element=Wl,n.inited=!1,n.context={};var r=e.container,i=e.canvas,o=e.renderer,a=e.width,u=e.height,c=e.background,d=e.cursor,h=e.supportsMutipleCanvasesInOneContainer,f=e.cleanUpOnDestroy,p=void 0===f||f,g=e.offscreenCanvas,m=e.devicePixelRatio,v=e.requestAnimationFrame,b=e.cancelAnimationFrame,w=e.createImage,x=e.supportsTouchEvents,E=e.supportsPointerEvents,k=e.isTouchEvent,S=e.isMouseEvent,M=e.dblClickSpeed,T=a,O=u,C=m||Ya&&window.devicePixelRatio||1;return C=C>=1?Math.ceil(C):1,i&&(T=a||function(e){var t=Za(e,"width");return"auto"===t?e.offsetWidth:parseFloat(t)}(i)||i.width/C,O=u||function(e){var t=Za(e,"height");return"auto"===t?e.offsetHeight:parseFloat(t)}(i)||i.height/C),n.customElements=new cu,n.devicePixelRatio=C,n.requestAnimationFrame=null!=v?v:hs.bind(Al.globalThis),n.cancelAnimationFrame=null!=b?b:fs.bind(Al.globalThis),n.supportsTouchEvents=null!=x?x:"ontouchstart"in Al.globalThis,n.supportsPointerEvents=null!=E?E:!!Al.globalThis.PointerEvent,n.isTouchEvent=null!=k?k:function(e){return n.supportsTouchEvents&&e instanceof Al.globalThis.TouchEvent},n.isMouseEvent=null!=S?S:function(e){return!Al.globalThis.MouseEvent||e instanceof Al.globalThis.MouseEvent&&(!n.supportsPointerEvents||!(e instanceof Al.globalThis.PointerEvent))},g&&(Al.offscreenCanvas=g),n.document=new du,n.document.defaultView=n,h||function(e,t,n){if(e){var r="string"==typeof e?document.getElementById(e):e;qa.has(r)&&qa.get(r).destroy(n),qa.set(r,t)}}(r,n,p),n.initRenderingContext(s(s({},e),{},{width:T,height:O,background:null!=c?c:"transparent",cursor:null!=d?d:"default",cleanUpOnDestroy:p,devicePixelRatio:C,requestAnimationFrame:n.requestAnimationFrame,cancelAnimationFrame:n.cancelAnimationFrame,supportsTouchEvents:n.supportsTouchEvents,supportsPointerEvents:n.supportsPointerEvents,isTouchEvent:n.isTouchEvent,isMouseEvent:n.isMouseEvent,dblClickSpeed:null!=M?M:200,createImage:null!=w?w:function(){return new window.Image}})),n.initDefaultCamera(T,O,o.clipSpaceNearZ),n.initRenderer(o,!0),n}return b(t,e),c(t,[{key:"initRenderingContext",value:function(e){this.context.config=e,this.context.renderingContext={root:this.document.documentElement,renderListCurrentFrame:[],unculledEntities:[],renderReasons:new Set,force:!1,dirty:!1}}},{key:"initDefaultCamera",value:function(e,t,n){var r=this,i=new Al.CameraContribution;i.clipSpaceNearZ=n,i.setType(Xr.EXPLORING,Kr.DEFAULT).setPosition(e/2,t/2,500).setFocalPoint(e/2,t/2,0).setOrthographic(e/-2,e/2,t/2,t/-2,.1,1e3),i.canvas=this,i.eventEmitter.on(Zr,function(){r.context.renderingContext.renderReasons.add(Ks.CAMERA_CHANGED),Al.enableSizeAttenuation&&r.getConfig().renderer.getConfig().enableSizeAttenuation&&r.updateSizeAttenuation()}),this.context.camera=i}},{key:"updateSizeAttenuation",value:function(){var e=this.getCamera().getZoom();this.document.documentElement.forEach(function(t){Al.styleValueRegistry.updateSizeAttenuation(t,e)})}},{key:"getConfig",value:function(){return this.context.config}},{key:"getRoot",value:function(){return this.document.documentElement}},{key:"getCamera",value:function(){return this.context.camera}},{key:"getContextService",value:function(){return this.context.contextService}},{key:"getEventService",value:function(){return this.context.eventService}},{key:"getRenderingService",value:function(){return this.context.renderingService}},{key:"getRenderingContext",value:function(){return this.context.renderingContext}},{key:"getStats",value:function(){return this.getRenderingService().getStats()}},{key:"ready",get:function(){var e=this;return this.readyPromise||(this.readyPromise=new Promise(function(t){e.resolveReadyPromise=function(){t(e)}}),this.inited&&this.resolveReadyPromise()),this.readyPromise}},{key:"destroy",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;Fi.clearCache(),t||this.dispatchEvent(new Ws(yu.BEFORE_DESTROY)),this.frameId&&this.cancelAnimationFrame(this.frameId);var n=this.getRoot();e&&(this.unmountChildren(n),this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),this.context.rBushRoot&&this.context.rBushRoot.clear(),t||this.dispatchEvent(new Ws(yu.AFTER_DESTROY));var r=function(e){e.currentTarget=null,e.manager=null,e.target=null,e.relatedNode=null};r(vu),r(bu),r(wu),r(xu),r(Eu),r(Hl),r(Ll),r(Il),r(zl)}},{key:"changeSize",value:function(e,t){this.resize(e,t)}},{key:"resize",value:function(e,t){var n=this.context.config;n.width=e,n.height=t,this.getContextService().resize(e,t);var r=this.context.camera,i=r.getProjectionMode();r.setPosition(e/2,t/2,500).setFocalPoint(e/2,t/2,0),i===Qr.ORTHOGRAPHIC?r.setOrthographic(e/-2,e/2,t/2,t/-2,r.getNear(),r.getFar()):r.setAspect(e/t),this.dispatchEvent(new Ws(yu.RESIZE,{width:e,height:t}))}},{key:"appendChild",value:function(e,t){return this.document.documentElement.appendChild(e,t)}},{key:"insertBefore",value:function(e,t){return this.document.documentElement.insertBefore(e,t)}},{key:"removeChild",value:function(e){return this.document.documentElement.removeChild(e)}},{key:"removeChildren",value:function(){this.document.documentElement.removeChildren()}},{key:"destroyChildren",value:function(){this.document.documentElement.destroyChildren()}},{key:"render",value:function(e){var t=this;e&&(wu.detail=e,Eu.detail=e),this.dispatchEvent(wu),this.getRenderingService().render(this.getConfig(),e,function(){t.dispatchEvent(xu)}),this.dispatchEvent(Eu)}},{key:"run",value:function(){var e=this,t=function(n,r){e.render(r),e.frameId=e.requestAnimationFrame(t)};t()}},{key:"initRenderer",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)throw new Error("Renderer is required.");this.inited=!1,this.readyPromise=void 0,this.context.rBushRoot=new fr,this.context.renderingPlugins=[],this.context.renderingPlugins.push(new fu,new mu,new hu([new gu])),this.loadRendererContainerModule(e),this.context.contextService=new this.context.ContextService(s(s({},Al),this.context)),this.context.renderingService=new Qs(Al,this.context),this.context.eventService=new Ys(Al,this.context),this.context.eventService.init(),this.context.contextService.init?(this.context.contextService.init(),this.initRenderingService(e,n,!0)):this.context.contextService.initAsync().then(function(){t.initRenderingService(e,n)}).catch(function(e){console.error(e)})}},{key:"initRenderingService",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.context.renderingService.init(function(){t.inited=!0,n?r?t.requestAnimationFrame(function(){t.dispatchEvent(new Ws(yu.READY))}):t.dispatchEvent(new Ws(yu.READY)):t.dispatchEvent(new Ws(yu.RENDERER_CHANGED)),t.readyPromise&&t.resolveReadyPromise(),n||t.getRoot().forEach(function(e){var t=e.renderable;t&&(t.renderBoundsDirty=!0,t.boundsDirty=!0,t.dirty=!0)}),t.mountChildren(t.getRoot()),e.getConfig().enableAutoRendering&&t.run()})}},{key:"loadRendererContainerModule",value:function(e){var t=this;e.getPlugins().forEach(function(e){e.context=t.context,e.init(Al)})}},{key:"setRenderer",value:function(e){var t=this.getConfig();if(t.renderer!==e){var n=t.renderer;t.renderer=e,this.destroy(!1,!0),f((null==n?void 0:n.getPlugins())||[]).reverse().forEach(function(e){e.destroy(Al)}),this.initRenderer(e)}}},{key:"setCursor",value:function(e){this.getConfig().cursor=e,this.getContextService().applyCursorStyle(e)}},{key:"unmountChildren",value:function(e){var t=this;e.childNodes.forEach(function(e){t.unmountChildren(e)}),this.inited&&(e.isMutationObserved?e.dispatchEvent(bu):(bu.target=e,this.dispatchEvent(bu,!0)),e!==this.document.documentElement&&(e.ownerDocument=null),e.isConnected=!1),e.isCustomElement&&e.disconnectedCallback&&e.disconnectedCallback()}},{key:"mountChildren",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ts(e);this.inited?e.isConnected||(e.ownerDocument=this.document,e.isConnected=!0,n||(e.isMutationObserved?e.dispatchEvent(vu):(vu.target=e,this.dispatchEvent(vu,!0)))):console.warn("[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.","appended child: ",e.nodeName),e.childNodes.forEach(function(e){t.mountChildren(e,n)}),e.isCustomElement&&e.connectedCallback&&e.connectedCallback()}},{key:"mountFragment",value:function(e){this.mountChildren(e,!1)}},{key:"client2Viewport",value:function(e){return this.getEventService().client2Viewport(e)}},{key:"viewport2Client",value:function(e){return this.getEventService().viewport2Client(e)}},{key:"viewport2Canvas",value:function(e){return this.getEventService().viewport2Canvas(e)}},{key:"canvas2Viewport",value:function(e){return this.getEventService().canvas2Viewport(e)}},{key:"getPointByClient",value:function(e,t){return this.client2Viewport({x:e,y:t})}},{key:"getClientByPoint",value:function(e,t){return this.viewport2Client({x:e,y:t})}}])}($s),Su=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=y(this,t,[].concat(r))).landmarks=[],e}return b(t,e),c(t,[{key:"rotate",value:function(e,t,n){if(this.relElevation=Rr(t),this.relAzimuth=Rr(e),this.relRoll=Rr(n),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===Xr.EXPLORING){var r=De(_e(),[1,0,0],Ir((this.rotateWorld?1:-1)*this.relElevation)),i=De(_e(),[0,1,0],Ir((this.rotateWorld?1:-1)*this.relAzimuth)),o=De(_e(),[0,0,1],Ir(this.relRoll)),a=Le(_e(),i,r);a=Le(_e(),a,o);var s=ee(N(),a);j(this.matrix,this.matrix,[0,0,-this.distance]),F(this.matrix,this.matrix,s),j(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===Xr.ORBITING||this.type===Xr.EXPLORING?this._getPosition():this.type===Xr.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(e,t){var n=Dr(e,t,0),r=fe(this.position);return ve(r,r,we(he(),this.right,n[0])),ve(r,r,we(he(),this.up,n[1])),this._setPosition(r),this.triggerUpdate(),this}},{key:"dolly",value:function(e){var t=this.forward,n=fe(this.position),r=this.dollyingStep,i=this.distance+e*this.dollyingStep;return r=Math.max(Math.min(i,this.maxDistance),this.minDistance)-this.distance,n[0]+=r*t[0],n[1]+=r*t[1],n[2]+=r*t[2],this._setPosition(n),this.type===Xr.ORBITING||this.type===Xr.EXPLORING?this._getDistance():this.type===Xr.TRACKING&&ve(this.focalPoint,n,this.distanceVector),this.triggerUpdate(),this}},{key:"cancelLandmarkAnimation",value:function(){void 0!==this.landmarkAnimationID&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)}},{key:"createLandmark",value:function(e){var t,n,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.position,s=void 0===a?this.position:a,l=o.focalPoint,u=void 0===l?this.focalPoint:l,c=o.roll,d=o.zoom,h=new Al.CameraContribution;h.setType(this.type,void 0),h.setPosition(s[0],null!==(t=s[1])&&void 0!==t?t:this.position[1],null!==(n=s[2])&&void 0!==n?n:this.position[2]),h.setFocalPoint(u[0],null!==(r=u[1])&&void 0!==r?r:this.focalPoint[1],null!==(i=u[2])&&void 0!==i?i:this.focalPoint[2]),h.setRoll(null!=c?c:this.roll),h.setZoom(null!=d?d:this.zoom);var f={name:e,matrix:P(h.getWorldTransform()),right:fe(h.right),up:fe(h.up),forward:fe(h.forward),position:fe(h.getPosition()),focalPoint:fe(h.getFocalPoint()),distanceVector:fe(h.getDistanceVector()),distance:h.getDistance(),dollyingStep:h.getDollyingStep(),azimuth:h.getAzimuth(),elevation:h.getElevation(),roll:h.getRoll(),relAzimuth:h.relAzimuth,relElevation:h.relElevation,relRoll:h.relRoll,zoom:h.getZoom()};return this.landmarks.push(f),f}},{key:"gotoLandmark",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=rt(e)?this.landmarks.find(function(t){return t.name===e}):e;if(r){var i=st(n)?{duration:n}:n,o=i.easing,a=void 0===o?"linear":o,s=i.duration,l=void 0===s?100:s,u=i.easingFunction,c=void 0===u?void 0:u,d=i.onfinish,h=void 0===d?void 0:d,f=i.onframe,p=void 0===f?void 0:f;this.cancelLandmarkAnimation();var g,m=r.position,y=r.focalPoint,v=r.zoom,b=r.roll,w=c||Al.EasingFunction(a),x=function(){t.setFocalPoint(y),t.setPosition(m),t.setRoll(b),t.setZoom(v),t.computeMatrix(),t.triggerUpdate(),null==h||h()};if(0===l)return x();var E=function(e){void 0===g&&(g=e);var n=e-g;if(n>=l)x();else{var r,i,o=w(n/l),a=he(),s=he();if(Se(a,t.focalPoint,y,o),Se(s,t.position,m,o),i=t.roll*(1-o)+b*o,r=t.zoom*(1-o)+v*o,t.setFocalPoint(a),t.setPosition(s),t.setRoll(i),t.setZoom(r),Ce(a,y)+Ce(s,m)<=.01&&void 0===v&&void 0===b)return x();t.computeMatrix(),t.triggerUpdate(),n<l&&(null==p||p(o),t.landmarkAnimationID=t.canvas.requestAnimationFrame(E))}};this.canvas.requestAnimationFrame(E)}}}])}(ei);Al.CameraContribution=Su;
/*!
   * @antv/g-web-animations-api
   * @description A simple implementation of Web Animations API.
   * @version 2.1.25
   * @date 5/23/2025, 7:01:32 AM
   * @author AntVis
   * @docs https://g.antv.antgroup.com/
   */
var Mu=function(e){function t(e,n,r,i){var o;return l(this,t),(o=y(this,t,[e])).currentTime=r,o.timelineTime=i,o.target=n,o.type="finish",o.bubbles=!1,o.currentTarget=n,o.defaultPrevented=!1,o.eventPhase=o.AT_TARGET,o.timeStamp=Date.now(),o.currentTime=r,o.timelineTime=i,o}return b(t,e),c(t)}(Bs),Tu=0,Ou=function(){return c(function e(t,n){var r;l(this,e),this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=t,t.animation=this,this.timeline=n,this.id="".concat(Tu++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number(null===(r=this.effect)||void 0===r?void 0:r.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()},[{key:"pending",get:function(){return null===this._startTime&&!this._paused&&0!==this.playbackRate||this.currentTimePending}},{key:"playState",get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"}},{key:"ready",get:function(){var e=this;return this.readyPromise||(-1===this.timeline.animationsWithPromises.indexOf(this)&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise(function(t,n){e.resolveReadyPromise=function(){t(e)},e.rejectReadyPromise=function(){n(new Error)}}),this.pending||this.resolveReadyPromise()),this.readyPromise}},{key:"finished",get:function(){var e=this;return this.finishedPromise||(-1===this.timeline.animationsWithPromises.indexOf(this)&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise(function(t,n){e.resolveFinishedPromise=function(){t(e)},e.rejectFinishedPromise=function(){n(new Error)}}),"finished"===this.playState&&this.resolveFinishedPromise()),this.finishedPromise}},{key:"currentTime",get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(e){if(e=Number(e),!isNaN(e)){var t;if(this.timeline.restart(),!this._paused&&null!==this._startTime)this._startTime=Number(null===(t=this.timeline)||void 0===t?void 0:t.currentTime)-e/this.playbackRate;this.currentTimePending=!1,this._currentTime!==e&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(e,!0),this.timeline.applyDirtiedAnimation(this))}}},{key:"startTime",get:function(){return this._startTime},set:function(e){if(null!==e){if(this.updatePromises(),e=Number(e),isNaN(e))return;if(this._paused||this._idle)return;this._startTime=e,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}}},{key:"playbackRate",get:function(){return this._playbackRate},set:function(e){if(e!==this._playbackRate){this.updatePromises();var t=this.currentTime;this._playbackRate=e,this.startTime=null,"paused"!==this.playState&&"idle"!==this.playState&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),null!==t&&(this.currentTime=t),this.updatePromises()}}},{key:"_isFinished",get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)}},{key:"totalDuration",get:function(){return this._totalDuration}},{key:"_needsTick",get:function(){return this.pending||"running"===this.playState||!this._finishedFlag}},{key:"updatePromises",value:function(){var e;if(null!==(e=this.effect.target)&&void 0!==e&&e.destroyed)return this.readyPromise=void 0,this.finishedPromise=void 0,!1;var t=this.oldPlayState,n=this.pending?"pending":this.playState;return this.readyPromise&&n!==t&&("idle"===n?(this.rejectReadyPromise(),this.readyPromise=void 0):"pending"===t?this.resolveReadyPromise():"pending"===n&&(this.readyPromise=void 0)),this.finishedPromise&&n!==t&&("idle"===n?(this.rejectFinishedPromise(),this.finishedPromise=void 0):"finished"===n?this.resolveFinishedPromise():"finished"===t&&(this.finishedPromise=void 0)),this.oldPlayState=n,this.readyPromise||this.finishedPromise}},{key:"play",value:function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),-1===this.timeline.animations.indexOf(this)&&this.timeline.animations.push(this),this.updatePromises()}},{key:"pause",value:function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),this._isFinished||this._paused||this._idle?this._idle&&(this.rewind(),this._idle=!1):this.currentTimePending=!0,this._startTime=null,this._paused=!0,this.updatePromises()}},{key:"finish",value:function(){this.updatePromises(),this._idle||(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())}},{key:"cancel",value:function(){var e=this;if(this.updatePromises(),this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var t=new Mu(null,this,this.currentTime,null);setTimeout(function(){e.oncancel(t)})}}},{key:"reverse",value:function(){this.updatePromises();var e=this.currentTime;this.playbackRate*=-1,this.play(),null!==e&&(this.currentTime=e),this.updatePromises()}},{key:"updatePlaybackRate",value:function(e){this.playbackRate=e}},{key:"targetAnimations",value:function(){var e;return(null===(e=this.effect)||void 0===e?void 0:e.target).getAnimations()}},{key:"markTarget",value:function(){var e=this.targetAnimations();-1===e.indexOf(this)&&e.push(this)}},{key:"unmarkTarget",value:function(){var e=this.targetAnimations(),t=e.indexOf(this);-1!==t&&e.splice(t,1)}},{key:"tick",value:function(e,t){this._idle||this._paused||(null===this._startTime?t&&(this.startTime=e-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((e-this._startTime)*this.playbackRate)),t&&(this.currentTimePending=!1,this.fireEvents(e))}},{key:"rewind",value:function(){if(this.playbackRate>=0)this.currentTime=0;else{if(!(this._totalDuration<1/0))throw new Error("Unable to rewind negative playback rate animation with infinite duration");this.currentTime=this._totalDuration}}},{key:"persist",value:function(){throw new Error(Pr)}},{key:"addEventListener",value:function(e,t,n){throw new Error(Pr)}},{key:"removeEventListener",value:function(e,t,n){throw new Error(Pr)}},{key:"dispatchEvent",value:function(e){throw new Error(Pr)}},{key:"commitStyles",value:function(){throw new Error(Pr)}},{key:"ensureAlive",value:function(){var e,t;this.playbackRate<0&&0===this.currentTime?this._inEffect=!(null===(e=this.effect)||void 0===e||!e.update(-1)):this._inEffect=!(null===(t=this.effect)||void 0===t||!t.update(this.currentTime));this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,this.timeline.animations.push(this))}},{key:"tickCurrentTime",value:function(e,t){e!==this._currentTime&&(this._currentTime=e,this._isFinished&&!t&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())}},{key:"fireEvents",value:function(e){var t=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var n=new Mu(null,this,this.currentTime,e);setTimeout(function(){t.onfinish&&t.onfinish(n)})}this._finishedFlag=!0}}else{if(this.onframe&&"running"===this.playState){var r=new Mu(null,this,this.currentTime,e);this.onframe(r)}this._finishedFlag=!1}}}])}(),Cu=.1,Nu="function"==typeof Float32Array,Pu=function(e,t){return 1-3*t+3*e},Au=function(e,t){return 3*t-6*e},Ru=function(e){return 3*e},_u=function(e,t,n){return((Pu(t,n)*e+Au(t,n))*e+Ru(t))*e},Du=function(e,t,n){return 3*Pu(t,n)*e*e+2*Au(t,n)*e+Ru(t)},Lu=function(e,t,n,r){if(!(e>=0&&e<=1&&n>=0&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&n===r)return function(e){return e};for(var i=Nu?new Float32Array(11):new Array(11),o=0;o<11;++o)i[o]=_u(o*Cu,e,n);var a=function(t){for(var r=0,o=1;10!==o&&i[o]<=t;++o)r+=Cu;--o;var a=r+(t-i[o])/(i[o+1]-i[o])*Cu,s=Du(a,e,n);return s>=.001?function(e,t,n,r){for(var i=0;i<4;++i){var o=Du(t,n,r);if(0===o)return t;t-=(_u(t,n,r)-e)/o}return t}(t,a,e,n):0===s?a:function(e,t,n,r,i){var o,a,s=0;do{(o=_u(a=t+(n-t)/2,r,i)-e)>0?n=a:t=a}while(Math.abs(o)>1e-7&&++s<10);return a}(t,r,r+Cu,e,n)};return function(e){return 0===e||1===e?e:_u(a(e),t,r)}},Iu=function(e){return Math.pow(e,2)},zu=function(e){return Math.pow(e,3)},Fu=function(e){return Math.pow(e,4)},ju=function(e){return Math.pow(e,5)},Bu=function(e){return Math.pow(e,6)},Hu=function(e){return 1-Math.cos(e*Math.PI/2)},Vu=function(e){return 1-Math.sqrt(1-e*e)},Uu=function(e){return e*e*(3*e-2)},Wu=function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)},Gu=function(e){var t=w(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],2),n=t[0],r=void 0===n?1:n,i=t[1],o=void 0===i?.5:i,a=at(Number(r),1,10),s=at(Number(o),.1,2);return 0===e||1===e?e:-a*Math.pow(2,10*(e-1))*Math.sin((e-1-s/(2*Math.PI)*Math.asin(1/a))*(2*Math.PI)/s)},$u=function(e){var t=arguments.length>2?arguments[2]:void 0,n=w(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],4),r=n[0],i=void 0===r?1:r,o=n[1],a=void 0===o?100:o,s=n[2],l=void 0===s?10:s,u=n[3],c=void 0===u?0:u;i=at(i,.1,1e3),a=at(a,.1,1e3),l=at(l,.1,1e3),c=at(c,.1,1e3);var d=Math.sqrt(a/i),h=l/(2*Math.sqrt(a*i)),f=h<1?d*Math.sqrt(1-h*h):0,p=h<1?(h*d-c)/f:-c+d,g=t?t*e/1e3:e;return g=h<1?Math.exp(-g*h*d)*(1*Math.cos(f*g)+p*Math.sin(f*g)):(1+p*g)*Math.exp(-g*d),0===e||1===e?e:1-g},qu=function(e){var t=w(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],2),n=t[0],r=void 0===n?10:n;return("start"===t[1]?Math.ceil:Math.floor)(at(e,0,1)*r)/r},Yu=function(e){var t=w(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],4),n=t[0],r=t[1],i=t[2],o=t[3];return Lu(n,r,i,o)(e)},Xu=Lu(.42,0,1,1),Ku=function(e){return function(t){return 1-e(1-t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],arguments.length>2?arguments[2]:void 0)}},Qu=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return t<.5?e(2*t,n,r)/2:1-e(-2*t+2,n,r)/2}},Zu=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return t<.5?(1-e(1-2*t,n,r))/2:(e(2*t-1,n,r)+1)/2}},Ju={steps:qu,"step-start":function(e){return qu(e,[1,"start"])},"step-end":function(e){return qu(e,[1,"end"])},linear:function(e){return e},"cubic-bezier":Yu,ease:function(e){return Yu(e,[.25,.1,.25,1])},in:Xu,out:Ku(Xu),"in-out":Qu(Xu),"out-in":Zu(Xu),"in-quad":Iu,"out-quad":Ku(Iu),"in-out-quad":Qu(Iu),"out-in-quad":Zu(Iu),"in-cubic":zu,"out-cubic":Ku(zu),"in-out-cubic":Qu(zu),"out-in-cubic":Zu(zu),"in-quart":Fu,"out-quart":Ku(Fu),"in-out-quart":Qu(Fu),"out-in-quart":Zu(Fu),"in-quint":ju,"out-quint":Ku(ju),"in-out-quint":Qu(ju),"out-in-quint":Zu(ju),"in-expo":Bu,"out-expo":Ku(Bu),"in-out-expo":Qu(Bu),"out-in-expo":Zu(Bu),"in-sine":Hu,"out-sine":Ku(Hu),"in-out-sine":Qu(Hu),"out-in-sine":Zu(Hu),"in-circ":Vu,"out-circ":Ku(Vu),"in-out-circ":Qu(Vu),"out-in-circ":Zu(Vu),"in-back":Uu,"out-back":Ku(Uu),"in-out-back":Qu(Uu),"out-in-back":Zu(Uu),"in-bounce":Wu,"out-bounce":Ku(Wu),"in-out-bounce":Qu(Wu),"out-in-bounce":Zu(Wu),"in-elastic":Gu,"out-elastic":Ku(Gu),"in-out-elastic":Qu(Gu),"out-in-elastic":Zu(Gu),spring:$u,"spring-in":$u,"spring-out":Ku($u),"spring-in-out":Qu($u),"spring-out-in":Zu($u)},ec=function(e){return e};function tc(e,t){return function(n){if(n>=1)return 1;var r=1/e;return(n+=t*r)-n%r}}var nc="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",rc=new RegExp("cubic-bezier\\(".concat(nc,",").concat(nc,",").concat(nc,",").concat(nc,"\\)")),ic=/steps\(\s*(\d+)\s*\)/,oc=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function ac(e){var t=rc.exec(e);if(t)return Lu.apply(void 0,f(t.slice(1).map(Number)));var n=ic.exec(e);if(n)return tc(Number(n[1]),0);var r=oc.exec(e);return r?tc(Number(r[1]),{start:1,middle:.5,end:0}[r[2]]):Ju[function(e){return function(e){return"-"===(e=e.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())})).charAt(0)?e.substring(1):e}(e).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()}(e)]||Ju.linear}function sc(e){return Math.abs(function(e){var t;if(0===e.duration||0===e.iterations)return 0;return("auto"===e.duration?0:Number(e.duration))*(null!==(t=e.iterations)&&void 0!==t?t:1)}(e)/(e.playbackRate||1))}function lc(e,t,n){var r=function(e,t,n){if(null===t)return 0;var r=n.endTime;return t<Math.min(n.delay,r)?1:t>=Math.min(n.delay+e+n.endDelay,r)?2:3}(e,t,n),i=function(e,t,n,r,i){switch(r){case 1:return"backwards"===t||"both"===t?0:null;case 3:return n-i;case 2:return"forwards"===t||"both"===t?e:null;case 0:return null}}(e,n.fill,t,r,n.delay);if(null===i)return null;var o="auto"===n.duration?0:n.duration,a=function(e,t,n,r,i){var o=i;return 0===e?1!==t&&(o+=n):o+=r/e,o}(o,r,n.iterations,i,n.iterationStart),s=function(e,t,n,r,i,o){var a=e===1/0?t%1:e%1;return 0!==a||2!==n||0===r||0===i&&0!==o||(a=1),a}(a,n.iterationStart,r,n.iterations,i,o),l=function(e,t,n,r){return 2===e&&t===1/0?1/0:1===n?Math.floor(r)-1:Math.floor(r)}(r,n.iterations,s,a),u=function(e,t,n){var r=e;if("normal"!==e&&"reverse"!==e){var i=t;"alternate-reverse"===e&&(i+=1),r="normal",i!==1/0&&i%2!=0&&(r="reverse")}return"normal"===r?n:1-n}(n.direction,l,s);return n.currentIteration=l,n.progress=u,n.easingFunction(u)}function uc(e,t,n){var r=function(e,t){for(var n={},r=0;r<e.length;r++)for(var i in e[r])if(cc(i)){var o={offset:e[r].offset,computedOffset:e[r].computedOffset,easing:e[r].easing,easingFunction:ac(e[r].easing)||t.easingFunction,value:e[r][i]};n[i]=n[i]||[],n[i].push(o)}return n}(e,t),i=function(e,t){var n=[];for(var r in e)for(var i=e[r],o=0;o<i.length-1;o++){var a=o,s=o+1,l=i[a].computedOffset,u=i[s].computedOffset,c=l,d=u;0===o&&(c=-1/0,0===u&&(s=a)),o===i.length-2&&(d=1/0,1===l&&(a=s)),n.push({applyFrom:c,applyTo:d,startOffset:i[a].computedOffset,endOffset:i[s].computedOffset,easingFunction:i[a].easingFunction,property:r,interpolation:hc(r,i[a].value,i[s].value,t)})}return n.sort(function(e,t){return e.startOffset-t.startOffset}),n}(r,n);return function(e,t){if(null!==t)i.filter(function(e){return t>=e.applyFrom&&t<e.applyTo}).forEach(function(n){var r=t-n.startOffset,i=n.endOffset-n.startOffset,o=0===i?0:r/i;e.setAttribute(n.property,n.interpolation(o),!1,!1)});else for(var n in r)cc(n)&&e.setAttribute(n,null)}}function cc(e){return"offset"!==e&&"easing"!==e&&"composite"!==e&&"computedOffset"!==e}var dc=function(e,t,n){return function(r){var i=fc(e,t,r);return st(i)?i:n(i)}};function hc(e,t,n,r){var i=Oa[e];if(i&&i.syntax&&i.int){var o=Al.styleValueRegistry.getPropertySyntax(i.syntax);if(o){var a=o.parser,s=a?a(t,r):t,l=a?a(n,r):n,u=o.mixer(s,l,r);if(u){var c=dc.apply(void 0,f(u));return function(e){return 0===e?t:1===e?n:c(e)}}}}return dc(!1,!0,function(e){return e?n:t})}function fc(e,t,n){if("number"==typeof e&&"number"==typeof t)return e*(1-n)+t*n;if("boolean"==typeof e&&"boolean"==typeof t||"string"==typeof e&&"string"==typeof t)return n<.5?e:t;if(Array.isArray(e)&&Array.isArray(t)){for(var r=e.length,i=t.length,o=Math.max(r,i),a=[],s=0;s<o;s++)a.push(fc(e[s<r?s:r-1],t[s<i?s:i-1],n));return a}throw new Error("Mismatched interpolation arguments ".concat(e,":").concat(t))}var pc=function(){return c(function e(){l(this,e),this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=ec,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null},[{key:"easing",get:function(){return this._easing},set:function(e){this.easingFunction=ac(e),this._easing=e}}])}();function gc(e,t){if(null===e)return[];Array.isArray(e)||(e=function(e){var t=[];for(var n in e)if(!(n in["easing","offset","composite"])){var r=e[n];Array.isArray(r)||(r=[r]);for(var i=r.length,o=0;o<i;o++){if(!t[o]){var a={};"offset"in e&&(a.offset=Number(e.offset)),"easing"in e&&(a.easing=e.easing),"composite"in e&&(a.composite=e.composite),t[o]=a}void 0!==r[o]&&null!==r[o]&&(t[o][n]=r[o])}}return t.sort(function(e,t){return(e.computedOffset||0)-(t.computedOffset||0)}),t}(e));for(var n=e.map(function(e){var n={};for(var r in null!=t&&t.composite&&(n.composite="auto"),e){var i=e[r];if("offset"===r){if(null!==i){if(i=Number(i),!isFinite(i))throw new Error("Keyframe offsets must be numbers.");if(i<0||i>1)throw new Error("Keyframe offsets must be between 0 and 1.");n.computedOffset=i}}else if("composite"===r&&-1===["replace","add","accumulate","auto"].indexOf(i))throw new Error("".concat(i," compositing is not supported"));n[r]=i}return void 0===n.offset&&(n.offset=null),void 0===n.easing&&(n.easing=(null==t?void 0:t.easing)||"linear"),void 0===n.composite&&(n.composite="auto"),n}),r=!0,i=-1/0,o=0;o<n.length;o++){var a=n[o].offset;if(qe(a))r=!1;else{if(a<i)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");i=a}}return n=n.filter(function(e){return Number(e.offset)>=0&&Number(e.offset)<=1}),r||function(){var e,t,r=n.length;n[r-1].computedOffset=Number(null!==(e=n[r-1].offset)&&void 0!==e?e:1),r>1&&(n[0].computedOffset=Number(null!==(t=n[0].offset)&&void 0!==t?t:0));for(var i=0,o=Number(n[0].computedOffset),a=1;a<r;a++){var s=n[a].computedOffset;if(!qe(s)&&!qe(o)){for(var l=1;l<a-i;l++)n[i+l].computedOffset=o+(Number(s)-o)*l/(a-i);i=a,o=Number(s)}}}(),n}var mc="backwards|forwards|both|none".split("|"),yc="reverse|alternate|alternate-reverse".split("|");function vc(e,t){return function(e){var t=new pc;return"number"!=typeof e||isNaN(e)?void 0!==e&&Object.keys(e).forEach(function(n){if(void 0!==e[n]&&null!==e[n]&&"auto"!==e[n]){if(("number"==typeof t[n]||"duration"===n)&&("number"!=typeof e[n]||isNaN(e[n])))return;if("fill"===n&&-1===mc.indexOf(e[n]))return;if("direction"===n&&-1===yc.indexOf(e[n]))return;t[n]=e[n]}}):t.duration=e,t}(e=function(e){"number"==typeof e&&(e=isNaN(e)?{duration:"auto"}:{duration:e});return e}(null!=e?e:{duration:"auto"}))}var bc=function(){return c(function e(t,n,r){var i=this;l(this,e),this.composite="replace",this.iterationComposite="replace",this.target=t,this.timing=vc(r),this.timing.effect=this,this.timing.activeDuration=sc(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=gc(n,this.timing),this.interpolations=uc(this.normalizedKeyframes,this.timing,this.target);var o=Al.globalThis.Proxy;this.computedTiming=o?new o(this.timing,{get:function(e,t){return"duration"===t?"auto"===e.duration?0:e.duration:"fill"===t?"auto"===e.fill?"none":e.fill:"localTime"===t?i.animation&&i.animation.currentTime||null:"currentIteration"===t?i.animation&&"running"===i.animation.playState?e.currentIteration||0:null:"progress"===t?i.animation&&"running"===i.animation.playState?e.progress||0:null:e[t]},set:function(){return!0}}):this.timing},[{key:"applyInterpolations",value:function(){this.interpolations(this.target,Number(this.timeFraction))}},{key:"update",value:function(e){return null!==e&&(this.timeFraction=lc(this.timing.activeDuration,e,this.timing),null!==this.timeFraction)}},{key:"getKeyframes",value:function(){return this.normalizedKeyframes}},{key:"setKeyframes",value:function(e){this.normalizedKeyframes=gc(e)}},{key:"getComputedTiming",value:function(){return this.computedTiming}},{key:"getTiming",value:function(){return this.timing}},{key:"updateTiming",value:function(e){var t=this;Object.keys(e||{}).forEach(function(n){t.timing[n]=e[n]})}}])}();function wc(e,t){return Number(e.id)-Number(t.id)}var xc=function(){return c(function e(t){var n=this;l(this,e),this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(e){n.currentTime=e,n.discardAnimations(),0===n.animations.length?n.timelineTicking=!1:n.requestAnimationFrame(n.webAnimationsNextTick)},this.processRafCallbacks=function(e){var t=n.rafCallbacks;n.rafCallbacks=[],e<Number(n.currentTime)&&(e=Number(n.currentTime)),n.animations.sort(wc),n.animations=n.tick(e,!0,n.animations)[0],t.forEach(function(t){t[1](e)}),n.applyPendingEffects()},this.document=t},[{key:"getAnimations",value:function(){return this.discardAnimations(),this.animations.slice()}},{key:"isTicking",value:function(){return this.inTick}},{key:"play",value:function(e,t,n){var r=new bc(e,t,n),i=new Ou(r,this);return this.animations.push(i),this.restartWebAnimationsNextTick(),i.updatePromises(),i.play(),i.updatePromises(),i}},{key:"applyDirtiedAnimation",value:function(e){var t=this;if(!this.inTick){e.markTarget();var n=e.targetAnimations();n.sort(wc),this.tick(Number(this.currentTime),!1,n.slice())[1].forEach(function(e){var n=t.animations.indexOf(e);-1!==n&&t.animations.splice(n,1)}),this.applyPendingEffects()}}},{key:"restart",value:function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame(function(){}),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame}},{key:"destroy",value:function(){this.document.defaultView.cancelAnimationFrame(this.frameId)}},{key:"applyPendingEffects",value:function(){this.pendingEffects.forEach(function(e){null==e||e.applyInterpolations()}),this.pendingEffects=[]}},{key:"updateAnimationsPromises",value:function(){this.animationsWithPromises=this.animationsWithPromises.filter(function(e){return e.updatePromises()})}},{key:"discardAnimations",value:function(){this.updateAnimationsPromises(),this.animations=this.animations.filter(function(e){return"finished"!==e.playState&&"idle"!==e.playState})}},{key:"restartWebAnimationsNextTick",value:function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))}},{key:"rAF",value:function(e){var t=this.rafId++;return 0===this.rafCallbacks.length&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([t,e]),t}},{key:"requestAnimationFrame",value:function(e){var t=this;return this.rAF(function(n){t.updateAnimationsPromises(),e(n),t.updateAnimationsPromises()})}},{key:"tick",value:function(e,t,n){var r,i,o=this;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=e,this.ticking=!1;var a=[],s=[],l=[],u=[];return n.forEach(function(n){n.tick(e,t),n._inEffect?(s.push(n.effect),n.markTarget()):(a.push(n.effect),n.unmarkTarget()),n._needsTick&&(o.ticking=!0);var r=n._inEffect||n._needsTick;n._inTimeline=r,r?l.push(n):u.push(n)}),(r=this.pendingEffects).push.apply(r,a),(i=this.pendingEffects).push.apply(i,s),this.ticking&&this.requestAnimationFrame(function(){}),this.inTick=!1,[l,u]}}])}();Al.EasingFunction=ac,Al.AnimationTimeline=xc;const Ec={duration:500},kc={duration:1e3,easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",iterations:1,fill:"both"};var Sc,Mc,Tc,Oc,Cc,Nc,Pc,Ac,Rc,_c;!function(e){e.NodeAdded="NodeAdded",e.NodeUpdated="NodeUpdated",e.NodeRemoved="NodeRemoved",e.EdgeAdded="EdgeAdded",e.EdgeUpdated="EdgeUpdated",e.EdgeRemoved="EdgeRemoved",e.ComboAdded="ComboAdded",e.ComboUpdated="ComboUpdated",e.ComboRemoved="ComboRemoved"}(Sc||(Sc={})),function(e){e.DRAW="draw",e.COLLAPSE="collapse",e.EXPAND="expand",e.TRANSFORM="transform"}(Mc||(Mc={})),function(e){e.CLICK="canvas:click",e.DBLCLICK="canvas:dblclick",e.POINTER_OVER="canvas:pointerover",e.POINTER_LEAVE="canvas:pointerleave",e.POINTER_ENTER="canvas:pointerenter",e.POINTER_MOVE="canvas:pointermove",e.POINTER_OUT="canvas:pointerout",e.POINTER_DOWN="canvas:pointerdown",e.POINTER_UP="canvas:pointerup",e.CONTEXT_MENU="canvas:contextmenu",e.DRAG_START="canvas:dragstart",e.DRAG="canvas:drag",e.DRAG_END="canvas:dragend",e.DRAG_ENTER="canvas:dragenter",e.DRAG_OVER="canvas:dragover",e.DRAG_LEAVE="canvas:dragleave",e.DROP="canvas:drop",e.WHEEL="canvas:wheel"}(Tc||(Tc={})),function(e){e.CLICK="combo:click",e.DBLCLICK="combo:dblclick",e.POINTER_OVER="combo:pointerover",e.POINTER_LEAVE="combo:pointerleave",e.POINTER_ENTER="combo:pointerenter",e.POINTER_MOVE="combo:pointermove",e.POINTER_OUT="combo:pointerout",e.POINTER_DOWN="combo:pointerdown",e.POINTER_UP="combo:pointerup",e.CONTEXT_MENU="combo:contextmenu",e.DRAG_START="combo:dragstart",e.DRAG="combo:drag",e.DRAG_END="combo:dragend",e.DRAG_ENTER="combo:dragenter",e.DRAG_OVER="combo:dragover",e.DRAG_LEAVE="combo:dragleave",e.DROP="combo:drop"}(Oc||(Oc={})),function(e){e.CLICK="click",e.DBLCLICK="dblclick",e.POINTER_OVER="pointerover",e.POINTER_LEAVE="pointerleave",e.POINTER_ENTER="pointerenter",e.POINTER_MOVE="pointermove",e.POINTER_OUT="pointerout",e.POINTER_DOWN="pointerdown",e.POINTER_UP="pointerup",e.CONTEXT_MENU="contextmenu",e.DRAG_START="dragstart",e.DRAG="drag",e.DRAG_END="dragend",e.DRAG_ENTER="dragenter",e.DRAG_OVER="dragover",e.DRAG_LEAVE="dragleave",e.DROP="drop",e.KEY_DOWN="keydown",e.KEY_UP="keyup",e.WHEEL="wheel",e.PINCH="pinch"}(Cc||(Cc={})),function(e){e.KEY_DOWN="keydown",e.KEY_UP="keyup"}(Nc||(Nc={})),function(e){e.CLICK="edge:click",e.DBLCLICK="edge:dblclick",e.POINTER_OVER="edge:pointerover",e.POINTER_LEAVE="edge:pointerleave",e.POINTER_ENTER="edge:pointerenter",e.POINTER_MOVE="edge:pointermove",e.POINTER_OUT="edge:pointerout",e.POINTER_DOWN="edge:pointerdown",e.POINTER_UP="edge:pointerup",e.CONTEXT_MENU="edge:contextmenu",e.DRAG_ENTER="edge:dragenter",e.DRAG_OVER="edge:dragover",e.DRAG_LEAVE="edge:dragleave",e.DROP="edge:drop"}(Pc||(Pc={})),function(e){e.BEFORE_CANVAS_INIT="beforecanvasinit",e.AFTER_CANVAS_INIT="aftercanvasinit",e.BEFORE_SIZE_CHANGE="beforesizechange",e.AFTER_SIZE_CHANGE="aftersizechange",e.BEFORE_ELEMENT_CREATE="beforeelementcreate",e.AFTER_ELEMENT_CREATE="afterelementcreate",e.BEFORE_ELEMENT_UPDATE="beforeelementupdate",e.AFTER_ELEMENT_UPDATE="afterelementupdate",e.BEFORE_ELEMENT_DESTROY="beforeelementdestroy",e.AFTER_ELEMENT_DESTROY="afterelementdestroy",e.BEFORE_ELEMENT_TRANSLATE="beforeelementtranslate",e.AFTER_ELEMENT_TRANSLATE="afterelementtranslate",e.BEFORE_DRAW="beforedraw",e.AFTER_DRAW="afterdraw",e.BEFORE_RENDER="beforerender",e.AFTER_RENDER="afterrender",e.BEFORE_ANIMATE="beforeanimate",e.AFTER_ANIMATE="afteranimate",e.BEFORE_LAYOUT="beforelayout",e.AFTER_LAYOUT="afterlayout",e.BEFORE_STAGE_LAYOUT="beforestagelayout",e.AFTER_STAGE_LAYOUT="afterstagelayout",e.BEFORE_TRANSFORM="beforetransform",e.AFTER_TRANSFORM="aftertransform",e.BATCH_START="batchstart",e.BATCH_END="batchend",e.BEFORE_DESTROY="beforedestroy",e.AFTER_DESTROY="afterdestroy",e.BEFORE_RENDERER_CHANGE="beforerendererchange",e.AFTER_RENDERER_CHANGE="afterrendererchange"}(Ac||(Ac={})),function(e){e.UNDO="undo",e.REDO="redo",e.CANCEL="cancel",e.ADD="add",e.CLEAR="clear",e.CHANGE="change"}(Rc||(Rc={})),function(e){e.CLICK="node:click",e.DBLCLICK="node:dblclick",e.POINTER_OVER="node:pointerover",e.POINTER_LEAVE="node:pointerleave",e.POINTER_ENTER="node:pointerenter",e.POINTER_MOVE="node:pointermove",e.POINTER_OUT="node:pointerout",e.POINTER_DOWN="node:pointerdown",e.POINTER_UP="node:pointerup",e.CONTEXT_MENU="node:contextmenu",e.DRAG_START="node:dragstart",e.DRAG="node:drag",e.DRAG_END="node:dragend",e.DRAG_ENTER="node:dragenter",e.DRAG_OVER="node:dragover",e.DRAG_LEAVE="node:dragleave",e.DROP="node:drop"}(_c||(_c={}));const Dc="combo",Lc="tree";var Ic;!function(e){e.NODE="node",e.EDGE="edge",e.COMBO="combo",e.THEME="theme",e.PALETTE="palette",e.LAYOUT="layout",e.BEHAVIOR="behavior",e.PLUGIN="plugin",e.ANIMATION="animation",e.TRANSFORM="transform",e.SHAPE="shape"}(Ic||(Ic={}));const zc={animation:{},behavior:{},combo:{},edge:{},layout:{},node:{},palette:{},theme:{},plugin:{},transform:{},shape:{}};function Fc(e,t){var n;const r=null===(n=zc[e])||void 0===n?void 0:n[t];if(r)return r}function jc(e){return`[G6 v5.0.49] ${e}`}const Bc=e=>{console.warn(jc(e))};function Hc(e){const{theme:t}=e;if(!t)return{};const n=Fc(Ic.THEME,t);return n||(Bc(`The theme of ${t} is not registered.`),{})}function Vc(e,t){if(Array.isArray(e)&&0===e.length)return null;const n=Array.isArray(e)?e[0]:e,r=Array.isArray(e)?e.slice(1):t||[];return new Proxy(n,{get:(e,t)=>"function"!=typeof e[t]||["onframe","onfinish"].includes(t)?"finished"===t?Promise.all([n.finished,...r.map(e=>e.finished)]):Reflect.get(e,t):(...n)=>{e[t](...n),r.forEach(e=>{var r;return null===(r=e[t])||void 0===r?void 0:r.call(e,...n)})},set:(e,t,n)=>(["onframe","onfinish"].includes(t)||r.forEach(e=>{e[t]=n}),Reflect.set(e,t,n))})}function Uc(e){const t=e.reduce((e,t)=>(Object.entries(t).forEach(([t,n])=>{void 0===e[t]?e[t]=[n]:e[t].push(n)}),e),{});Object.entries(t).forEach(([n,r])=>{(r.length!==e.length||r.some(e=>qe(e))||r.every(e=>!["sourceNode","targetNode","childrenNode"].includes(n)&&Ot(e,r[0])))&&delete t[n]});const n=Object.entries(t).reduce((e,[t,n])=>(n.forEach((n,r)=>{e[r]?e[r][t]=n:e[r]={[t]:n}}),e),[]);return 0!==e.length&&0===n.length&&n.push({_:0},{_:0}),n}function Wc(e){switch(e){case"opacity":return 1;case"x":case"y":case"z":case"zIndex":return 0;case"visibility":return"visible";case"collapsed":return!1;case"states":return[];default:return}}function Gc(e,t){const{animation:n}=e;if(!1===n||!1===t)return!1;const r=Object.assign({},Ec);return Xe(n)&&Object.assign(r,n),Xe(t)&&Object.assign(r,t),r}function $c(e,t,n,r){var i,o;const{animation:a}=e;if(!1===a||!1===r)return[];const s=null===(i=null==e?void 0:e[t])||void 0===i?void 0:i.animation;if(!1===s)return[];const l=null==s?void 0:s[n];if(!1===l)return[];const u=null===(o=Hc(e)[t])||void 0===o?void 0:o.animation,c=(e=[])=>function(e){if("string"==typeof e){return Fc(Ic.ANIMATION,e)||(Bc(`The animation of ${e} is not registered.`),[])}return e}(e).map(e=>Object.assign(Object.assign(Object.assign(Object.assign({},kc),Xe(a)&&a),e),Xe(r)&&r));if(l)return c(l);if(!u)return[];const d=u[n];return!1===d?[]:c(d)}function qc(e,t,n,r=[]){if(!r&&0===e&&0===t&&0===n)return null;if(Array.isArray(r)){let i=-1;const o=[];for(let a=0;a<r.length;a++){const s=r[a];if("translate"===s[0]){if(s[1]===e&&s[2]===t)return null;i=a,o.push(["translate",e,t])}else if("translate3d"===s[0]){if(s[1]===e&&s[2]===t&&s[3]===n)return null;i=a,o.push(["translate3d",e,t,null!=n?n:0])}else o.push(s)}return-1===i&&o.splice(0,0,st(n)?["translate3d",e,t,null!=n?n:0]:["translate",e,t]),0===o.length?null:o}const i=r?r.replace(/translate(3d)?\([^)]*\)/g,""):"";return 0===n?`translate(${e}, ${t})${i}`:`translate3d(${e}, ${t}, ${n})${i}`}var Yc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const Xc=(e,t,n)=>{if(!n.length)return null;const[r,i]=t;let o;const a=n.map(t=>{var{fields:n,shape:a,states:s}=t,l=Yc(t,["fields","shape","states"]);const u=(t=>{var n;if(t){const o=e.getShape(t);if(!o)return null;const a=`get${ft(t)}Style`,s=(null===(n=null==e?void 0:e[a])||void 0===n?void 0:n.bind(e))||(e=>e);return{shape:o,fromStyle:(null==s?void 0:s(r))||{},toStyle:(null==s?void 0:s(i))||{}}}return{shape:e,fromStyle:r,toStyle:i}})(a);if(!u)return null;const{shape:c,fromStyle:d,toStyle:h}=u,f=[{},{}];if(n.forEach(e=>{var t,n;Object.assign(f[0],{[e]:null!==(t=d[e])&&void 0!==t?t:Wc(e)}),Object.assign(f[1],{[e]:null!==(n=h[e])&&void 0!==n?n:Wc(e)})}),f.some(e=>Object.keys(e).some(e=>["x","y","z"].includes(e)))){const{x:e=0,y:t=0,z:n,transform:r=""}=c.attributes||{};f.forEach(i=>{var o,a,s;i.transform=qc(null!==(o=i.x)&&void 0!==o?o:e,null!==(a=i.y)&&void 0!==a?a:t,null!==(s=i.z)&&void 0!==s?s:n,r)})}const p=c.animate(Uc(f),l);return void 0===a&&(o=p),p}).filter(Boolean),s=o||(null==a?void 0:a[0]);return s?Vc(s,a.filter(e=>e!=e)):null},Kc=[{fields:["x","y"]}],Qc=Kc,Zc=[{fields:["sourceNode","targetNode"]}],Jc=Zc,ed=[{fields:["childrenNode","x","y"]}],td=ed;function nd(e){return e instanceof Float32Array||!(!Array.isArray(e)||2!==e.length&&3!==e.length)&&e.every(e=>"number"==typeof e)}function rd(e,t,n){return e>=t&&e<=n}function id(e=0){if(Array.isArray(e)){const[t=0,n=t,r=t,i=n]=e;return[t,n,r,i]}return[e,e,e,e]}function od(e=0){const t=id(e);return t[0]+t[2]}function ad(e){return e.max[0]-e.min[0]}function sd(e){return e.max[1]-e.min[1]}function ld(e){return[ad(e),sd(e)]}function ud(e,t){const n=nd(e)?cd(e):e.getShape("key").getBounds();return t?dd(n,t):n}function cd(e){const[t,n,r=0]=e,i=new Sr;return i.setMinMax([t,n,r],[t,n,r]),i}function dd(e,t){const[n,r,i,o]=id(t),[a,s,l]=e.min,[u,c,d]=e.max,h=new Sr;return h.setMinMax([a-o,s-n,l],[u+r,c+i,d]),h}function hd(e){if(0===e.length)return new Sr;if(1===e.length)return e[0];const t=new Sr;t.setMinMax(e[0].min,e[0].max);for(let n=1;n<e.length;n++){const r=e[n];t.setMinMax([Math.min(t.min[0],r.min[0]),Math.min(t.min[1],r.min[1]),Math.min(t.min[2],r.min[2])],[Math.max(t.max[0],r.max[0]),Math.max(t.max[1],r.max[1]),Math.max(t.max[2],r.max[2])])}return t}function fd(e,t){return rd(e[0],t.min[0],t.max[0])&&rd(e[1],t.min[1],t.max[1])}function pd(e,t,n=!1){const{min:[r,i],max:[o,a]}=t,s=(e[1]===i||e[1]===a)&&(n||rd(e[0],r,o)),l=(e[0]===r||e[0]===o)&&(n||rd(e[1],i,a));return s||l}function gd(e,t){const{center:n}=t;return e[0]===n[0]&&e[1]===n[1]}function md(e,t){const[n,r]=e,[i,o]=t.min,[a,s]=t.max,l=n-i,u=a-n,c=r-o,d=s-r,h=Math.min(l,u,c,d);return h===l?"left":h===u?"right":h===c?"top":h===d?"bottom":"left"}function yd(e,t){const n=vt(e);if(fd(e,t)){switch(md(e,t)){case"left":n[0]=t.min[0];break;case"right":n[0]=t.max[0];break;case"top":n[1]=t.min[1];break;case"bottom":n[1]=t.max[1]}}else{const[r,i]=e,[o,a]=t.min,[s,l]=t.max;n[0]=rd(r,o,s)?r:r<o?o:s,n[1]=rd(i,a,l)?i:i<a?a:l}return n}var vd=function(e,t){return e===t},bd=function(){function e(e,t){void 0===t&&(t=null),this.value=e,this.next=t}return e.prototype.toString=function(e){return e?e(this.value):"".concat(this.value)},e}(),wd=function(){function e(e){void 0===e&&(e=vd),this.head=null,this.tail=null,this.compare=e}return e.prototype.prepend=function(e){var t=new bd(e,this.head);return this.head=t,this.tail||(this.tail=t),this},e.prototype.append=function(e){var t=new bd(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},e.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,e);)t=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare(n.next.value,e)?(t=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,e)&&(this.tail=n),t},e.prototype.find=function(e){var t=e.value,n=void 0===t?void 0:t,r=e.callback,i=void 0===r?void 0:r;if(!this.head)return null;for(var o=this.head;o;){if(i&&i(o.value))return o;if(void 0!==n&&this.compare(o.value,n))return o;o=o.next}return null},e.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},e.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},e.prototype.fromArray=function(e){var t=this;return e.forEach(function(e){return t.append(e)}),this},e.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},e.prototype.reverse=function(){for(var e=this.head,t=null,n=null;e;)n=e.next,e.next=t,t=e,e=n;this.tail=this.head,this.head=t},e.prototype.toString=function(e){return void 0===e&&(e=void 0),this.toArray().map(function(t){return t.toString(e)}).toString()},e}(),xd=function(e,t,n){void 0===t&&(t=[]);var r=t.filter(function(t){return t.source===e||t.target===e});if("target"===n){return r.filter(function(t){return t.source===e}).map(function(e){return e.target})}if("source"===n){return r.filter(function(t){return t.target===e}).map(function(e){return e.source})}return r.map(function(t){return t.source===e?t.target:t.source})},Ed={}.toString,kd=function(e,t){return Ed.call(e)==="[object "+t+"]"},Sd=function(e){return kd(e,"Function")},Md=function(e){return Array.isArray?Array.isArray(e):kd(e,"Array")};var Td,Od=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return function(e,t){var n,r;if(e)if(Md(e))for(var i=0,o=e.length;i<o&&!1!==t(e[i],i);i++);else if(r=typeof(n=e),null!==n&&"object"===r||"function"===r)for(var a in e)if(e.hasOwnProperty(a)&&!1===t(e[a],a))break}(e,function(n,r){Sd(e)&&"prototype"===r||t.push(n)}),t};!function(e,t){if(!Sd(e))throw new TypeError("Expected a function");var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=e.apply(this,r);return a.set(o,s),s};n.cache=new Map}(function(e,t){void 0===t&&(t={});var n=t.fontSize,r=t.fontFamily,i=t.fontWeight,o=t.fontStyle,a=t.fontVariant;return Td||(Td=document.createElement("canvas").getContext("2d")),Td.font=[o,a,i,n+"px",r].join(" "),Td.measureText(function(e){return kd(e,"String")}(e)?e:"").width},function(e,t){return void 0===t&&(t={}),function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}([e],Od(t)).join("")});function Cd(e,t,n,r){if(e===t)return[e];if(r[t])return r[t];for(var i=[],o=0,a=n[t];o<a.length;o++){var s=Cd(e,a[o],n,r);if(!s)return;for(var l=0,u=s;l<u.length;l++){var c=u[l];Md(c)?i.push(Wt(Wt([],c,!0),[t],!1)):i.push([c,t])}}return r[t]=i,r[t]}var Nd,Pd=function(e,t,n,r,i){var o=function(e,t,n,r){var i=e.nodes,o=void 0===i?[]:i,a=e.edges,s=void 0===a?[]:a,l={},u={},c={};o.forEach(function(e,n){var r=e.id;u[r]=1/0,r===t&&(u[r]=0)});for(var d=o.length,h=function(e){var t=function(e,t,n){for(var r,i=1/0,o=0;o<t.length;o++){var a=t[o].id;!n[a]&&e[a]<=i&&(i=e[a],r=t[o])}return r}(u,o,l),i=t.id;if(l[i]=!0,u[i]===1/0)return"continue";var a=[];a=n?function(e,t){return t.filter(function(t){return t.source===e})}(i,s):function(e,t){return t.filter(function(t){return t.source===e||t.target===e})}(i,s),a.forEach(function(e){var n=e.target,o=e.source,a=n===i?o:n,s=r&&e[r]?e[r]:1;u[a]>u[t.id]+s?(u[a]=u[t.id]+s,c[a]=[t.id]):u[a]===u[t.id]+s&&c[a].push(t.id)})},f=0;f<d;f++)h();c[t]=[t];var p={};for(var g in u)u[g]!==1/0&&Cd(t,g,c,p);var m={};for(var g in p)m[g]=p[g][0];return{length:u,path:m,allPath:p}}(e,t,r,i),a=o.length,s=o.path,l=o.allPath;return{length:a[n],path:s[n],allPath:l[n]}};!function(e){e.EuclideanDistance="euclideanDistance"}(Nd||(Nd={}));function Ad(e){if(void 0!==e.id)return e.id;if(void 0!==e.source&&void 0!==e.target)return`${e.source}-${e.target}`;throw new Error(jc("The datum does not have available id."))}function Rd(e){return e.combo}function _d(e,t){const n={nodes:(e.nodes||[]).map(Ad),edges:(e.edges||[]).map(Ad),combos:(e.combos||[]).map(Ad)};return t?Object.values(n).flat():n}!function(){function e(e){void 0===e&&(e=10),this.linkedList=new wd,this.maxStep=e}Object.defineProperty(e.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},e.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},e.prototype.push=function(e){this.linkedList.prepend(e),this.length>this.maxStep&&this.linkedList.deleteTail()},e.prototype.pop=function(){var e=this.linkedList.deleteHead();return e?e.value:null},e.prototype.toArray=function(){return this.linkedList.toArray().map(function(e){return e.value})},e.prototype.clear=function(){for(;!this.isEmpty();)this.pop()}}();const Dd=(e,t,n)=>{var r;switch(n.type){case"degree":{const i=new Map;return null===(r=e.nodes)||void 0===r||r.forEach(e=>{const r=t(Ad(e),n.direction).length;i.set(Ad(e),r)}),i}case"betweenness":return Id(e,n.directed,n.weightPropertyName);case"closeness":return zd(e,n.directed,n.weightPropertyName);case"eigenvector":return jd(e,n.directed);case"pagerank":return Fd(e,n.epsilon,n.linkProb);default:return Ld(e)}},Ld=e=>{var t;const n=new Map;return null===(t=e.nodes)||void 0===t||t.forEach(e=>{n.set(Ad(e),0)}),n},Id=(e,t,n)=>{const r=Ld(e),{nodes:i=[]}=e;return i.forEach(o=>{i.forEach(i=>{if(o!==i){const{allPath:a}=Pd(e,Ad(o),Ad(i),t,n),s=a.length;a.flat().forEach(e=>{e!==Ad(o)&&e!==Ad(i)&&r.set(e,r.get(e)+1/s)})}})}),r},zd=(e,t,n)=>{const r=new Map,{nodes:i=[]}=e;return i.forEach(o=>{const a=i.reduce((r,i)=>{if(o!==i){const{length:a}=Pd(e,Ad(o),Ad(i),t,n);r+=a}return r},0);r.set(Ad(o),1/a)}),r},Fd=(e,t,n)=>{var r;const i=new Map,o=function(e,t,n){"number"!=typeof t&&(t=1e-6),"number"!=typeof n&&(n=.85);for(var r,i=1,o=0,a=1e3,s=e.nodes,l=void 0===s?[]:s,u=e.edges,c=void 0===u?[]:u,d=l.length,h={},f={},p=0;p<d;++p)h[m=(x=l[p]).id]=1/d,f[m]=1/d;for(var g=function(e){var t={},n=e.nodes,r=void 0===n?[]:n,i=e.edges,o=void 0===i?[]:i;return r.forEach(function(e){t[e.id]={degree:0,inDegree:0,outDegree:0}}),o.forEach(function(e){t[e.source].degree++,t[e.source].outDegree++,t[e.target].degree++,t[e.target].inDegree++}),t}(e);a>0&&i>t;){for(o=0,p=0;p<d;++p){var m=(x=l[p]).id;if(r=0,0===g[x.id].inDegree)h[m]=0;else{for(var y=xd(m,c,"source"),v=0;v<y.length;++v){var b=y[v],w=g[b].outDegree;w>0&&(r+=f[b]/w)}h[m]=n*r,o+=h[m]}}for(o=(1-o)/d,i=0,p=0;p<d;++p){var x;r=h[m=(x=l[p]).id]+o,i+=Math.abs(r-f[m]),f[m]=r}a-=1}return f}(e,t,n);return null===(r=e.nodes)||void 0===r||r.forEach(e=>{i.set(Ad(e),o[Ad(e)])}),i},jd=(e,t)=>{const{nodes:n=[]}=e,r=Bd(e,t),i=Hd(r,n.length),o=new Map;return n.forEach((e,t)=>{o.set(Ad(e),i[t])}),o},Bd=(e,t)=>{const{nodes:n=[],edges:r=[]}=e,i=Array(n.length).fill(null).map(()=>Array(n.length).fill(0));return r.forEach(({source:e,target:r})=>{const o=n.findIndex(t=>Ad(t)===e),a=n.findIndex(e=>Ad(e)===r);t?i[o][a]=1:(i[o][a]=1,i[a][o]=1)}),i},Hd=(e,t,n=100,r=1e-6)=>{let i=Array(t).fill(1),o=1/0;for(let a=0;a<n&&o>r;a++){const n=Array(t).fill(0);for(let r=0;r<t;r++)for(let o=0;o<t;o++)n[r]+=e[r][o]*i[o];const r=Math.sqrt(n.reduce((e,t)=>e+t*t,0));for(let e=0;e<t;e++)n[e]/=r;o=Math.sqrt(n.reduce((e,t,n)=>e+(t-i[n])*t,0)),i=n}return i};function Vd(e,t,n,r=Ot){const i=new Map(e.map(e=>[n(e),e])),o=new Map(t.map(e=>[n(e),e])),a=new Set(i.keys()),s=new Set(o.keys()),l=[],u=[],c=[],d=[];return s.forEach(e=>{a.has(e)?r(i.get(e),o.get(e))?d.push(o.get(e)):u.push(o.get(e)):l.push(o.get(e))}),a.forEach(e=>{s.has(e)||c.push(i.get(e))}),{enter:l,exit:c,keep:d,update:u}}function Ud(e,t,n){e.forEach(e=>{(e=>{n&&!n(e)||(e.style.visibility=t)})(e)})}class Wd{constructor(e){this.extensions=[],this.extensionMap={},this.context=e}setExtensions(e){const t=function(e,t,n){const r={},i=e=>(e in r||(r[e]=0),`${t}-${e}-${r[e]++}`);return n.map(t=>"string"==typeof t?{type:t,key:i(t)}:"function"==typeof t?t.call(e):t.key?t:Object.assign(Object.assign({},t),{key:i(t.type)}))}(this.context.graph,this.category,e),{enter:n,update:r,exit:i,keep:o}=Vd(this.extensions,t,e=>e.key);this.createExtensions(n),this.updateExtensions([...r,...o]),this.destroyExtensions(i),this.extensions=t}createExtension(e){const{category:t}=this,{key:n,type:r}=e,i=Fc(t,r);if(!i)return Bc(`The extension ${r} of ${t} is not registered.`);const o=new i(this.context,e);o.initialized=!0,this.extensionMap[n]=o}createExtensions(e){e.forEach(e=>this.createExtension(e))}updateExtension(e){const{key:t}=e,n=this.extensionMap[t];n&&n.update(e)}updateExtensions(e){e.forEach(e=>this.updateExtension(e))}destroyExtension(e){const t=this.extensionMap[e];t&&(t.initialized&&!t.destroyed&&t.destroy(),delete this.extensionMap[e])}destroyExtensions(e){e.forEach(({key:e})=>this.destroyExtension(e))}destroy(){this.destroyExtensions(this.extensions),this.context={},this.extensions=[],this.extensionMap={}}}class Gd{constructor(e,t){this.events=[],this.initialized=!1,this.destroyed=!1,this.context=e,this.options=t}update(e){this.options=Object.assign(this.options,e)}destroy(){this.context={},this.options={},this.destroyed=!0}}class $d extends Gd{}class qd extends $d{constructor(e,t){super(e,Object.assign({},qd.defaultOptions,t)),this.isOverlapping=(e,t)=>t.some(t=>e.intersects(t)),this.occupiedBounds=[],this.detectLabelCollision=e=>{const t=this.context.viewport,n={show:[],hide:[]};return this.occupiedBounds=[],e.forEach(e=>{const r=e.getShape("label").getRenderBounds();t.isInViewport(r,!0)&&!this.isOverlapping(r,this.occupiedBounds)?(n.show.push(e),this.occupiedBounds.push(dd(r,this.options.padding))):n.hide.push(e)}),n},this.hideLabelIfExceedViewport=(e,t)=>{const{exit:n}=Vd(e,t,e=>e.id);null==n||n.forEach(this.hideLabel)},this.nodeCentralities=new Map,this.sortNodesByCentrality=(e,t)=>{const{model:n}=this.context,r=n.getData(),i=n.getRelatedEdgesData.bind(n);return e.map(e=>(this.nodeCentralities.has(e.id)||(this.nodeCentralities=Dd(r,i,t)),{node:e,centrality:this.nodeCentralities.get(e.id)})).sort((e,t)=>t.centrality-e.centrality).map(e=>e.node)},this.sortLabelElementsInView=e=>{const{sort:t,sortNode:n,sortCombo:r,sortEdge:i}=this.options,{model:o}=this.context;if($e(t))return e.sort((e,n)=>t(o.getElementDataById(e.id),o.getElementDataById(n.id)));const{node:a=[],edge:s=[],combo:l=[]}=ot(e,e=>e.type),u=$e(r)?l.sort((e,t)=>r(...o.getComboData([e.id,t.id]))):l,c=$e(n)?a.sort((e,t)=>n(...o.getNodeData([e.id,t.id]))):this.sortNodesByCentrality(a,n),d=$e(i)?s.sort((e,t)=>i(...o.getEdgeData([e.id,t.id]))):s;return[...u,...c,...d]},this.labelElementsInView=[],this.isFirstRender=!0,this.onToggleVisibility=e=>{var t;if("zIndex"===(null===(t=e.data)||void 0===t?void 0:t.stage))return;if(!this.validate(e))return void(this.hiddenElements.size>0&&(this.hiddenElements.forEach(this.showLabel),this.hiddenElements.clear()));const n=this.isFirstRender?this.getLabelElements():this.getLabelElementsInView();this.hideLabelIfExceedViewport(this.labelElementsInView,n),this.labelElementsInView=n;const r=this.sortLabelElementsInView(this.labelElementsInView),{show:i,hide:o}=this.detectLabelCollision(r);for(let e=i.length-1;e>=0;e--)this.showLabel(i[e]);o.forEach(this.hideLabel)},this.hiddenElements=new Map,this.hideLabel=e=>{const t=e.getShape("label");t&&Ud(t,"hidden"),this.hiddenElements.set(e.id,e)},this.showLabel=e=>{const t=e.getShape("label");t&&Ud(t,"visible"),e.toFront(),this.hiddenElements.delete(e.id)},this.onTransform=_t(this.onToggleVisibility,this.options.throttle,{leading:!0}),this.enableToggle=!0,this.toggle=e=>{this.enableToggle&&this.onToggleVisibility(e)},this.onBeforeRender=()=>{this.enableToggle=!1},this.onAfterRender=e=>{this.onToggleVisibility(e),this.enableToggle=!0},this.bindEvents()}update(e){this.unbindEvents(),super.update(e),this.bindEvents(),this.onToggleVisibility({})}getLabelElements(){const{elementMap:e}=this.context.element,t=[];for(const n in e){const r=e[n];r.isVisible()&&r.getShape("label")&&t.push(r)}return t}getLabelElementsInView(){const e=this.context.viewport;return this.getLabelElements().filter(t=>e.isInViewport(t.getShape("key").getRenderBounds()))}bindEvents(){const{graph:e}=this.context;e.on(Ac.BEFORE_RENDER,this.onBeforeRender),e.on(Ac.AFTER_RENDER,this.onAfterRender),e.on(Ac.AFTER_DRAW,this.toggle),e.on(Ac.AFTER_LAYOUT,this.toggle),e.on(Ac.AFTER_TRANSFORM,this.onTransform)}unbindEvents(){const{graph:e}=this.context;e.off(Ac.BEFORE_RENDER,this.onBeforeRender),e.off(Ac.AFTER_RENDER,this.onAfterRender),e.off(Ac.AFTER_DRAW,this.toggle),e.off(Ac.AFTER_LAYOUT,this.toggle),e.off(Ac.AFTER_TRANSFORM,this.onTransform)}validate(e){if(this.destroyed)return!1;const{enable:t}=this.options;return $e(t)?t(e):!!t}destroy(){this.unbindEvents(),super.destroy()}}qd.defaultOptions={enable:!0,throttle:100,padding:0,sortNode:{type:"degree"}};const Yd=[0,0,0];function Xd(e,t){return e.map((e,n)=>e+t[n])}function Kd(e,t){return e.map((e,n)=>e-t[n])}function Qd(e,t){return"number"==typeof t?e.map(e=>e*t):e.map((e,n)=>e*t[n])}function Zd(e,t){return"number"==typeof t?e.map(e=>e/t):e.map((e,n)=>e/t[n])}function Jd(e,t){return e.map(e=>e*t)}function eh(e,t){return Math.sqrt(e.reduce((e,n,r)=>e+Math.pow(n-t[r]||0,2),0))}function th(e,t){return e.reduce((e,n,r)=>e+Math.abs(n-t[r]),0)}function nh(e){const t=e.reduce((e,t)=>e+Math.pow(t,2),0);return e.map(e=>e/Math.sqrt(t))}function rh(e,t,n=!1){const r=e[0]*t[1]-e[1]*t[0];let i=Math.acos(Qd(e,t).reduce((e,t)=>e+t,0)/(eh(e,Yd)*eh(t,Yd)));return n&&r<0&&(i=2*Math.PI-i),i}function ih(e,t=!0){return t?[-e[1],e[0]]:[e[1],-e[0]]}function oh(e,t){return e.map(e=>e%t)}function ah(e){return[e[0],e[1]]}function sh(e){return 2===e.length?[e[0],e[1],0]:e}function lh(e){const[t,n]=e;return t||n?Math.atan2(n,t):0}function uh(e,t){const[n,r]=e,[i,o]=t;return function(e,t){const n=sh(e),r=sh(t);return[n[1]*r[2]-n[2]*r[1],n[2]*r[0]-n[0]*r[2],n[0]*r[1]-n[1]*r[0]]}(Kd(n,r),Kd(i,o)).every(e=>0===e)}function ch(e,t,n=!1){if(uh(e,t))return;const[r,i]=e,[o,a]=t,s=((r[0]-o[0])*(o[1]-a[1])-(r[1]-o[1])*(o[0]-a[0]))/((r[0]-i[0])*(o[1]-a[1])-(r[1]-i[1])*(o[0]-a[0])),l=a[0]-o[0]?(r[0]-o[0]+s*(i[0]-r[0]))/(a[0]-o[0]):(r[1]-o[1]+s*(i[1]-r[1]))/(a[1]-o[1]);return n||rd(s,0,1)&&rd(l,0,1)?[r[0]+s*(i[0]-r[0]),r[1]+s*(i[1]-r[1])]:void 0}function dh(e){if(Array.isArray(e))return rd(e[0],0,1)&&rd(e[1],0,1)?e:[.5,.5];const t=e.split("-");return[t.includes("left")?0:t.includes("right")?1:.5,t.includes("top")?0:t.includes("bottom")?1:.5]}function hh(e){const{x:t=0,y:n=0,z:r=0}=e.style||{};return[+t,+n,+r]}function fh(e){const{x:t,y:n,z:r}=e.style||{};return void 0!==t||void 0!==n||void 0!==r}function ph(e,t="center"){return function(e,t){const[n,r]=t,{min:i,max:o}=e;return[i[0]+n*(o[0]-i[0]),i[1]+r*(o[1]-i[1])]}(e,dh(t))}function gh(e){var t;return[e.x,e.y,null!==(t=e.z)&&void 0!==t?t:0]}function mh(e){var t;return{x:e[0],y:e[1],z:null!==(t=e[2])&&void 0!==t?t:0}}function yh(e,t=0){return e.map(e=>parseFloat(e.toFixed(t)))}function vh(e,t,n,r=!1){if(Ot(e,t))return e;const i=nh(r?Kd(e,t):Kd(t,e)),o=[i[0]*n,i[1]*n];return Xd(ah(e),o)}function bh(e,t){return e[1]===t[1]}function wh(e,t){return bh(e,t)||function(e,t){return e[0]===t[0]}(e,t)}function xh(e,t,n){return uh([e,t],[t,n])}function Eh(e,t){return[2*t[0]-e[0],2*t[1]-e[1]]}function kh(e,t,n,r=!0,i=!1){for(let o=0;o<n.length;o++){let a=n[o],s=n[(o+1)%n.length];r&&(a=Xd(t,a),s=Xd(t,s));const l=ch([t,i?Eh(e,t):e],[a,s]);if(l)return{point:l,line:[a,s]}}return{point:t,line:void 0}}function Sh(e,t,n=!1){const r=t.center,i=Kd(n?Eh(e,r):e,t.center),o=Math.atan2(i[1],i[0]);if(isNaN(o))return r;const a=ad(t)/2,s=sd(t)/2;return[r[0]+a*Math.cos(o),r[1]+s*Math.sin(o)]}function Mh(e,t){let n=1/0,r=[[0,0],[0,0]];return t.forEach(t=>{const i=function(e,t){const n=Th(e,t);return eh(e,n)}(e,t);i<n&&(n=i,r=t)}),r}function Th(e,t){const[n,r]=t[0],[i,o]=t[1],[a,s]=e,l=i-n,u=o-r;if(0===l&&0===u)return[n,r];let c=((a-n)*l+(s-r)*u)/(l*l+u*u);c>1?c=1:c<0&&(c=0);return[n+c*l,r+c*u]}function Oh(e,t=!0){const n=function(e){return Zd(e.reduce((e,t)=>Xd(e,t),[0,0]),e.length)}(e);return e.sort(([e,r],[i,o])=>{const a=Math.atan2(r-n[1],e-n[0]),s=Math.atan2(o-n[1],i-n[0]);return t?s-a:a-s})}function Ch(e,t){return[e,[e[0],t[1]],t,[t[0],e[1]]]}class Nh{constructor(e,t,n){if(this.phase=t,this.pointerByTouch=[],this.initialDistance=null,this.emitter=e,Nh.instance)return Nh.callbacks[this.phase].push(n),Nh.instance;this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.bindEvents(),Nh.instance=this,Nh.callbacks[this.phase].push(n)}bindEvents(){const{emitter:e}=this;e.on(Cc.POINTER_DOWN,this.onPointerDown),e.on(Cc.POINTER_MOVE,this.onPointerMove),e.on(Cc.POINTER_UP,this.onPointerUp)}updatePointerPosition(e,t,n){const r=this.pointerByTouch.findIndex(t=>t.pointerId===e);r>=0&&(this.pointerByTouch[r]={x:t,y:n,pointerId:e})}onPointerDown(e){const{x:t,y:n}=e.client||{};if(void 0!==t&&void 0!==n&&(this.pointerByTouch.push({x:t,y:n,pointerId:e.pointerId}),"touch"===e.pointerType&&2===this.pointerByTouch.length)){Nh.isPinching=!0;const t=this.pointerByTouch[0].x-this.pointerByTouch[1].x,n=this.pointerByTouch[0].y-this.pointerByTouch[1].y;this.initialDistance=Math.sqrt(t*t+n*n),Nh.callbacks.pinchstart.forEach(t=>t(e,{scale:0}))}}onPointerMove(e){if(2!==this.pointerByTouch.length||null===this.initialDistance)return;const{x:t,y:n}=e.client||{};if(void 0===t||void 0===n)return;this.updatePointerPosition(e.pointerId,t,n);const r=this.pointerByTouch[0].x-this.pointerByTouch[1].x,i=this.pointerByTouch[0].y-this.pointerByTouch[1].y,o=Math.sqrt(r*r+i*i)/this.initialDistance;Nh.callbacks.pinchmove.forEach(t=>t(e,{scale:5*(o-1)}))}onPointerUp(e){var t;Nh.callbacks.pinchend.forEach(t=>t(e,{scale:0})),Nh.isPinching=!1,this.initialDistance=null,this.pointerByTouch=[],null===(t=Nh.instance)||void 0===t||t.tryDestroy()}destroy(){this.emitter.off(Cc.POINTER_DOWN,this.onPointerDown),this.emitter.off(Cc.POINTER_MOVE,this.onPointerMove),this.emitter.off(Cc.POINTER_UP,this.onPointerUp),Nh.instance=null}off(e,t){const n=Nh.callbacks[e].indexOf(t);n>-1&&Nh.callbacks[e].splice(n,1),this.tryDestroy()}tryDestroy(){Object.values(Nh.callbacks).every(e=>0===e.length)&&this.destroy()}}Nh.isPinching=!1,Nh.instance=null,Nh.callbacks={pinchstart:[],pinchmove:[],pinchend:[]};const Ph=e=>e.map(e=>rt(e)?e.toLocaleLowerCase():e);class Ah{constructor(e){this.map=new Map,this.boundHandlePinch=()=>{},this.recordKey=new Set,this.onKeyDown=e=>{(null==e?void 0:e.key)&&(this.recordKey.add(e.key),this.trigger(e))},this.onKeyUp=e=>{(null==e?void 0:e.key)&&this.recordKey.delete(e.key)},this.onWheel=e=>{this.triggerExtendKey(Cc.WHEEL,e)},this.onDrag=e=>{this.triggerExtendKey(Cc.DRAG,e)},this.handlePinch=(e,t)=>{this.triggerExtendKey(Cc.PINCH,Object.assign(Object.assign({},e),t))},this.onFocus=()=>{this.recordKey.clear()},this.emitter=e,this.bindEvents()}bind(e,t){0!==e.length&&(e.includes(Cc.PINCH)&&!this.pinchHandler&&(this.boundHandlePinch=this.handlePinch.bind(this),this.pinchHandler=new Nh(this.emitter,"pinchmove",this.boundHandlePinch)),this.map.set(e,t))}unbind(e,t){this.map.forEach((n,r)=>{Ot(r,e)&&(t&&t!==n||this.map.delete(r))})}unbindAll(){this.map.clear()}match(e){const t=Ph(Array.from(this.recordKey)).sort(),n=Ph(e).sort();return Ot(t,n)}bindEvents(){var e;const{emitter:t}=this;t.on(Cc.KEY_DOWN,this.onKeyDown),t.on(Cc.KEY_UP,this.onKeyUp),t.on(Cc.WHEEL,this.onWheel),t.on(Cc.DRAG,this.onDrag),null===(e=globalThis.addEventListener)||void 0===e||e.call(globalThis,"focus",this.onFocus)}trigger(e){this.map.forEach((t,n)=>{this.match(n)&&t(e)})}triggerExtendKey(e,t){this.map.forEach((n,r)=>{r.includes(e)&&Ot(Array.from(this.recordKey),r.filter(t=>t!==e))&&n(t)})}destroy(){var e,t;this.unbindAll(),this.emitter.off(Cc.KEY_DOWN,this.onKeyDown),this.emitter.off(Cc.KEY_UP,this.onKeyUp),this.emitter.off(Cc.WHEEL,this.onWheel),this.emitter.off(Cc.DRAG,this.onDrag),null===(e=this.pinchHandler)||void 0===e||e.off("pinchmove",this.boundHandlePinch),null===(t=globalThis.removeEventListener)||void 0===t||t.call(globalThis,"blur",this.onFocus)}}class Rh extends $d{constructor(e,t){super(e,St({},Rh.defaultOptions,t)),this.shortcut=new Ah(e.graph),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.clearStates=this.clearStates.bind(this),this.bindEvents()}onPointerDown(e){if(!this.validate(e)||!this.isKeydown()||this.startPoint)return;const{canvas:t,graph:n}=this.context,r=Object.assign({},this.options.style);this.options.style.lineWidth&&(r.lineWidth=+this.options.style.lineWidth/n.getZoom()),this.rectShape=new su({id:"g6-brush-select",style:r}),t.appendChild(this.rectShape),this.startPoint=[e.canvas.x,e.canvas.y]}onPointerMove(e){var t;if(!this.startPoint)return;const{immediately:n,mode:r}=this.options;this.endPoint=_h(e),null===(t=this.rectShape)||void 0===t||t.attr({x:Math.min(this.endPoint[0],this.startPoint[0]),y:Math.min(this.endPoint[1],this.startPoint[1]),width:Math.abs(this.endPoint[0]-this.startPoint[0]),height:Math.abs(this.endPoint[1]-this.startPoint[1])}),n&&"default"===r&&this.updateElementsStates(Ch(this.startPoint,this.endPoint))}onPointerUp(e){this.startPoint&&(this.endPoint?(this.endPoint=_h(e),this.updateElementsStates(Ch(this.startPoint,this.endPoint)),this.clearBrush()):this.clearBrush())}clearStates(){this.endPoint||this.clearElementsStates()}clearElementsStates(){const{graph:e}=this.context,t=Object.values(e.getData()).reduce((e,t)=>Object.assign({},e,t.reduce((e,t)=>{var n;const r=null===(n=t.states||[])||void 0===n?void 0:n.filter(e=>e!==this.options.state);return e[Ad(t)]=r,e},{})),{});e.setElementState(t,this.options.animation)}updateElementsStates(e){const{graph:t}=this.context,{enableElements:n,state:r,mode:i,onSelect:o}=this.options,a=this.selector(t,e,n);let s={};switch(i){case"union":a.forEach(e=>{s[e]=[...t.getElementState(e),r]});break;case"diff":a.forEach(e=>{const n=t.getElementState(e);s[e]=n.includes(r)?n.filter(e=>e!==r):[...n,r]});break;case"intersect":a.forEach(e=>{const n=t.getElementState(e);s[e]=n.includes(r)?[r]:[]});break;default:a.forEach(e=>{s[e]=[r]})}$e(o)&&(s=o(s)),t.setElementState(s,this.options.animation)}selector(e,t,n){if(!n||0===n.length)return[];const r=[],i=e.getData();if(n.forEach(n=>{i[`${n}s`].forEach(n=>{const i=Ad(n);"hidden"!==e.getElementVisibility(i)&&function(e,t,n,r){const i=e[0],o=e[1];let a=!1;void 0===n&&(n=0),void 0===r&&(r=t.length);const s=r-n;for(let e=0,r=s-1;e<s;r=e++){const s=t[e+n][0],l=t[e+n][1],u=t[r+n][0],c=t[r+n][1];l>o!=c>o&&i<(u-s)*(o-l)/(c-l)+s&&(a=!a)}return a}(e.getElementPosition(i),t)&&r.push(i)})}),n.includes("edge")){const e=i.edges;null==e||e.forEach(e=>{const{source:t,target:n}=e;r.includes(t)&&r.includes(n)&&r.push(Ad(e))})}return r}clearBrush(){var e;null===(e=this.rectShape)||void 0===e||e.remove(),this.rectShape=void 0,this.startPoint=void 0,this.endPoint=void 0}isKeydown(){const{trigger:e}=this.options,t=Array.isArray(e)?e:[e];return this.shortcut.match(t.filter(e=>"drag"!==e))}validate(e){if(this.destroyed)return!1;const{enable:t}=this.options;return $e(t)?t(e):!!t}bindEvents(){const{graph:e}=this.context;e.on(Cc.POINTER_DOWN,this.onPointerDown),e.on(Cc.POINTER_MOVE,this.onPointerMove),e.on(Cc.POINTER_UP,this.onPointerUp),e.on(Tc.CLICK,this.clearStates)}unbindEvents(){const{graph:e}=this.context;e.off(Cc.POINTER_DOWN,this.onPointerDown),e.off(Cc.POINTER_MOVE,this.onPointerMove),e.off(Cc.POINTER_UP,this.onPointerUp),e.off(Tc.CLICK,this.clearStates)}update(e){this.unbindEvents(),this.options=St(this.options,e),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}}Rh.defaultOptions={animation:!1,enable:!0,enableElements:["node","combo","edge"],immediately:!1,mode:"default",state:"selected",trigger:["shift"],style:{width:0,height:0,lineWidth:1,fill:"#1677FF",stroke:"#1677FF",fillOpacity:.1,zIndex:2,pointerEvents:"none"}};const _h=e=>[e.canvas.x,e.canvas.y],Dh=.8,Lh=["node","edge","combo"];function Ih(e,t,n,r,i=0){"TB"===r&&t(e,i);const o=n(e);if(o)for(const e of o)Ih(e,t,n,r,i+1);"BT"===r&&t(e,i)}function zh(e,t,n,r,i="both"){if("combo"===t||"node"===t)return Fh(e,n,r,i);const o=e.getEdgeData(n);if(!o)return[];const a=Fh(e,o.source,r-1,i),s=Fh(e,o.target,r-1,i);return Array.from(new Set([...a,...s,n]))}function Fh(e,t,n,r="both"){const i=new Set,o=new Set,a=new Set;return function(e,t,n){const r=[[e,0]];for(;r.length;){const[e,i]=r.shift();t(e,i);const o=n(e);if(o)for(const e of o)r.push([e,i+1])}}(t,(t,i)=>{i>n||(a.add(t),e.getRelatedEdgesData(t,r).forEach(e=>{const t=Ad(e);!o.has(t)&&i<n&&(a.add(t),o.add(t))}))},t=>e.getRelatedEdgesData(t,r).map(e=>e.source===t?e.target:e.source).filter(e=>!i.has(e)&&(i.add(e),!0))),Array.from(a)}function jh(e){return e.states||[]}var Bh=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class Hh extends $d{constructor(e,t){super(e,Object.assign({},Hh.defaultOptions,t)),this.onClickSelect=e=>Bh(this,void 0,void 0,function*(){var t,n;this.validate(e)&&(yield this.updateState(e),null===(n=(t=this.options).onClick)||void 0===n||n.call(t,e))}),this.onClickCanvas=e=>Bh(this,void 0,void 0,function*(){var t,n;this.validate(e)&&(yield this.clearState(),null===(n=(t=this.options).onClick)||void 0===n||n.call(t,e))}),this.shortcut=new Ah(e.graph),this.bindEvents()}bindEvents(){const{graph:e}=this.context;this.unbindEvents(),Lh.forEach(t=>{e.on(`${t}:${Cc.CLICK}`,this.onClickSelect)}),e.on(Tc.CLICK,this.onClickCanvas)}get isMultipleSelect(){const{multiple:e,trigger:t}=this.options;return e&&this.shortcut.match(t)}getNeighborIds(e){const{target:t,targetType:n}=e,{graph:r}=this.context,{degree:i}=this.options;return zh(r,n,t.id,"function"==typeof i?i(e):i).filter(e=>e!==t.id)}updateState(e){return Bh(this,void 0,void 0,function*(){const{state:t,unselectedState:n,neighborState:r,animation:i}=this.options;if(!t&&!r&&!n)return;const{target:o}=e,{graph:a}=this.context,s=jh(a.getElementData(o.id)).includes(t)?"unselect":"select",l={},u=this.isMultipleSelect,c=[o.id],d=this.getNeighborIds(e);if(u)if(Object.assign(l,this.getDataStates()),"select"===s){const e=(e,t)=>{e.forEach(e=>{const r=new Set(a.getElementState(e));r.add(t),r.delete(n),l[e]=Array.from(r)})};e(c,t),e(d,r),n&&Object.keys(l).forEach(e=>{const i=l[e];i.includes(t)||i.includes(r)||i.includes(n)||l[e].push(n)})}else{const e=l[o.id];l[o.id]=e.filter(e=>e!==t&&e!==r),e.includes(n)||l[o.id].push(n),d.forEach(e=>{l[e]=l[e].filter(e=>e!==r),l[e].includes(t)||l[e].push(n)})}else if("select"===s){Object.assign(l,this.getClearStates(!!n));const e=(e,t)=>{e.forEach(e=>{l[e]||(l[e]=a.getElementState(e)),l[e].push(t)})};e(c,t),e(d,r),n&&Object.keys(l).forEach(e=>{c.includes(e)||d.includes(e)||l[e].push(n)})}else Object.assign(l,this.getClearStates());yield a.setElementState(l,i)})}getDataStates(){const{graph:e}=this.context,{nodes:t,edges:n,combos:r}=e.getData(),i={};return[...t,...n,...r].forEach(e=>{i[Ad(e)]=jh(e)}),i}getClearStates(e=!1){const{graph:t}=this.context,{state:n,unselectedState:r,neighborState:i}=this.options,o=new Set([n,r,i]),{nodes:a,edges:s,combos:l}=t.getData(),u={};return[...a,...s,...l].forEach(t=>{const n=jh(t),r=n.filter(e=>!o.has(e));(e||r.length!==n.length)&&(u[Ad(t)]=r)}),u}clearState(){return Bh(this,void 0,void 0,function*(){const{graph:e}=this.context;yield e.setElementState(this.getClearStates(),this.options.animation)})}validate(e){if(this.destroyed)return!1;const{enable:t}=this.options;return $e(t)?t(e):!!t}unbindEvents(){const{graph:e}=this.context;Lh.forEach(t=>{e.off(`${t}:${Cc.CLICK}`,this.onClickSelect)}),e.off(Tc.CLICK,this.onClickCanvas)}destroy(){this.unbindEvents(),super.destroy()}}function Vh(e){var t;return!!(null===(t=e.style)||void 0===t?void 0:t.collapsed)}function Uh(e,t){if(!e.startsWith(t))return!1;const n=e[t.length];return n>="A"&&n<="Z"}function Wh(e,t,n=!0){if(!t)return e;if(!Uh(e,t))return e;const r=e.slice(t.length);return n?function(e){var t=ht(e);return t.charAt(0).toLowerCase()+t.substring(1)}(r):r}function Gh(e,t){const n=Object.entries(e).reduce((e,[n,r])=>("className"===n||"class"===n||Uh(n,t)&&Object.assign(e,{[Wh(n,t)]:r}),e),{});if("opacity"in e){const r=function(e,t){return`${t}${ft(e)}`}("opacity",t),i=e.opacity;if(r in e){const t=e[r];Object.assign(n,{opacity:i*t})}else Object.assign(n,{opacity:i})}return n}function $h(e,t){const n=t.length;return Object.keys(e).reduce((r,i)=>{if(i.startsWith(t)){r[i.slice(n)]=e[i]}return r},{})}function qh(e,t){const n="string"==typeof t?[t]:t,r={};return Object.keys(e).forEach(t=>{n.find(e=>t.startsWith(e))||(r[t]=e[t])}),r}function Yh(e=0){if("number"==typeof e)return[e,e,e];const[t,n=t,r=t]=e;return[t,n,r]}Hh.defaultOptions={animation:!0,enable:!0,multiple:!1,trigger:["shift"],state:"selected",neighborState:"selected",unselectedState:void 0,degree:0};var Xh=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Kh(e,t){const{datum:n,graph:r}=t;return"function"==typeof e?e.call(r,n):Object.fromEntries(Object.entries(e).map(([e,t])=>"function"==typeof t?[e,t.call(r,n)]:[e,t]))}function Qh(e,t){const n=(null==e?void 0:e.style)||{},r=(null==t?void 0:t.style)||{};for(const e in n)e in r||(r[e]=n[e]);return Object.assign({},e,t,{style:r})}function Zh(e){if(e)return"string"==typeof e||"function"==typeof e||Array.isArray(e)?{type:"group",field:e=>e.id,color:e,invert:!1}:e}function Jh(e){const t="string"==typeof e?Fc("palette",e):e;if("function"!=typeof t)return t}function ef(e,t){let n=2*e;return"string"==typeof t?n=e*Number(t.replace("%",""))/100:"number"==typeof t&&(n=t),isNaN(n)&&(n=2*e),n}function tf(e,t,n=1,r=!1){const i=r?n:1;return ef((e.max[0]-e.min[0])*i,t)}class nf extends ql{constructor(e){of(e.style),super(e),this.shapeMap={},this.animateMap={},this.render(this.attributes,this),this.setVisibility(),this.bindEvents()}get parsedAttributes(){return this.attributes}upsert(e,t,n,r,i){var o,a,s,l,u,c,d,h;const f=this.shapeMap[e];if(!1===n)return void(f&&(null===(o=null==i?void 0:i.beforeDestroy)||void 0===o||o.call(i,f),r.removeChild(f),delete this.shapeMap[e],null===(a=null==i?void 0:i.afterDestroy)||void 0===a||a.call(i,f)));const p="string"==typeof t?Fc(Ic.SHAPE,t):t;if(!p)throw new Error(jc(`Shape ${t} not found`));if(!f||f.destroyed||!(f instanceof p)){f&&(null===(s=null==i?void 0:i.beforeDestroy)||void 0===s||s.call(i,f),null==f||f.destroy(),null===(l=null==i?void 0:i.afterDestroy)||void 0===l||l.call(i,f)),null===(u=null==i?void 0:i.beforeCreate)||void 0===u||u.call(i);const t=new p({className:e,style:n});return r.appendChild(t),this.shapeMap[e]=t,null===(c=null==i?void 0:i.afterCreate)||void 0===c||c.call(i,t),t}return null===(d=null==i?void 0:i.beforeUpdate)||void 0===d||d.call(i,f),tm(f,n),null===(h=null==i?void 0:i.afterUpdate)||void 0===h||h.call(i,f),f}update(e={}){const t=Object.assign({},this.attributes,e);of(t),function(e,t){const{zIndex:n,transform:r,transformOrigin:i,visibility:o,cursor:a,clipPath:s,component:l}=t,u=Bg(t,["zIndex","transform","transformOrigin","visibility","cursor","clipPath","component"]);Object.assign(e.attributes,u),r&&e.setAttribute("transform",r);st(n)&&e.setAttribute("zIndex",n);i&&e.setAttribute("transformOrigin",i);o&&e.setAttribute("visibility",o);a&&e.setAttribute("cursor",a);s&&e.setAttribute("clipPath",s);l&&e.setAttribute("component",l)}(this,t),this.render(t,this),this.setVisibility()}bindEvents(){}getGraphicStyle(e){return function(e){const{x:t,y:n,z:r,class:i,className:o,transform:a,transformOrigin:s,zIndex:l,visibility:u}=e;return Xh(e,["x","y","z","class","className","transform","transformOrigin","zIndex","visibility"])}(e)}get compositeShapes(){return[["badges","badge-"],["ports","port-"]]}animate(e,t){if(0===e.length)return null;const n=[];if(void 0!==e[0].x||void 0!==e[0].y||void 0!==e[0].z){const{x:t=0,y:n=0,z:r=0}=this.attributes;e.forEach(e=>{const{x:i=t,y:o=n,z:a=r}=e;Object.assign(e,{transform:a?[["translate3d",i,o,a]]:[["translate",i,o]]})})}const r=super.animate(e,t);if(r&&(rf(this,r),n.push(r)),Array.isArray(e)&&e.length>0){const r=["transform","transformOrigin","x","y","z","zIndex"];if(Object.keys(e[0]).some(e=>!r.includes(e))){Object.entries(this.shapeMap).forEach(([r,i])=>{const o=this[`get${ft(r)}Style`];if($e(o)){const r=e.map(e=>o.call(this,Object.assign(Object.assign({},this.attributes),e))),a=i.animate(Uc(r),t);a&&(rf(i,a),n.push(a))}});const r=(r,i)=>{if(!Tt(r)){const o=this[`get${ft(i)}Style`];if($e(o)){const i=e.map(e=>o.call(this,Object.assign(Object.assign({},this.attributes),e)));Object.entries(i[0]).map(([e])=>{const o=i.map(t=>t[e]),a=r[e];if(a){const e=a.animate(Uc(o),t);e&&(rf(a,e),n.push(e))}})}}};this.compositeShapes.forEach(([e,t])=>{const n=$h(this.shapeMap,t);r(n,e)})}}return Vc(n)}getShape(e){return this.shapeMap[e]}setVisibility(){const{visibility:e}=this.attributes;Ud(this,e)}destroy(){this.shapeMap={},this.animateMap={},super.destroy()}}function rf(e,t){null==t||t.finished.then(()=>{const n=e.activeAnimations.findIndex(e=>e===t);n>-1&&e.activeAnimations.splice(n,1)})}function of(e){if(!e)return{};if("x"in e||"y"in e||"z"in e){const{x:t=0,y:n=0,z:r,transform:i}=e,o=qc(t,n,r,i);o&&(e.transform=o)}return e}var af=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class sf extends nf{constructor(e){super(Qh({style:sf.defaultStyleProps},e))}isTextStyle(e){return Uh(e,"label")}isBackgroundStyle(e){return Uh(e,"background")}getTextStyle(e){const t=this.getGraphicStyle(e),{padding:n}=t;return qh(af(t,["padding"]),"background")}getBackgroundStyle(e){if(!1===e.background)return!1;const t=this.getGraphicStyle(e),{wordWrap:n,wordWrapWidth:r,padding:i}=t,o=Gh(t,"background"),{min:[a,s],center:[l,u],halfExtents:[c,d]}=this.shapeMap.text.getGeometryBounds(),[h,f,p,g]=id(i),m=2*c+g+f,{width:y,height:v}=o;y&&v?Object.assign(o,{x:l-Number(y)/2,y:u-Number(v)/2}):Object.assign(o,{x:a-g,y:s-h,width:n?Math.min(m,r+g+f):m,height:2*d+h+p});const{radius:b}=o;if("string"==typeof b&&b.endsWith("%")){const e=Number(b.replace("%",""))/100;o.radius=Math.min(+o.width,+o.height)*e}return o}render(e=this.parsedAttributes,t=this){this.upsert("text",uu,this.getTextStyle(e),t),this.upsert("background",su,this.getBackgroundStyle(e),t)}getGeometryBounds(){return(this.getShape("background")||this.getShape("text")).getGeometryBounds()}}sf.defaultStyleProps={padding:0,fontSize:12,fontFamily:"system-ui, sans-serif",wordWrap:!0,maxLines:1,wordWrapWidth:128,textOverflow:"...",textBaseline:"middle",backgroundOpacity:.75,backgroundZIndex:-1,backgroundLineWidth:0};class lf extends nf{constructor(e){super(Qh({style:lf.defaultStyleProps},e))}getBadgeStyle(e){return this.getGraphicStyle(e)}render(e=this.parsedAttributes,t=this){this.upsert("label",sf,this.getBadgeStyle(e),t)}getGeometryBounds(){const e=this.getShape("label");return(e.getShape("background")||e.getShape("text")).getGeometryBounds()}}lf.defaultStyleProps={padding:[2,4,2,4],fontSize:10,wordWrap:!1,backgroundRadius:"50%",backgroundOpacity:1};const uf={M:["x","y"],m:["dx","dy"],H:["x"],h:["dx"],V:["y"],v:["dy"],L:["x","y"],l:["dx","dy"],Z:[],z:[],C:["x1","y1","x2","y2","x","y"],c:["dx1","dy1","dx2","dy2","dx","dy"],S:["x2","y2","x","y"],s:["dx2","dy2","dx","dy"],Q:["x1","y1","x","y"],q:["dx1","dy1","dx","dy"],T:["x","y"],t:["dx","dy"],A:["rx","ry","rotation","large-arc","sweep","x","y"],a:["rx","ry","rotation","large-arc","sweep","dx","dy"]};function cf(e){const t=[],n="string"==typeof e?function(e){const t=e.replace(/[\n\r]/g,"").replace(/-/g," -").replace(/(\d*\.)(\d+)(?=\.)/g,"$1$2 ").trim().split(/\s*,|\s+/),n=[];let r="",i={};for(;t.length>0;){let e=t.shift();e in uf?r=e:t.unshift(e),i={type:r},uf[r].forEach(n=>{e=t.shift(),i[n]=e}),"M"===r?r="L":"m"===r&&(r="l");const[o,...a]=Object.values(i);n.push([o,...a.map(Number)])}return n}(e):e;return n.forEach(e=>{const n=e[0];if("Z"!==n)if("A"!==n)for(let n=1;n<e.length;n+=2)t.push([e[n],e[n+1],0]);else{const n=e.length;t.push([e[n-2],e[n-1],0])}else t.push(t[0])}),t}const df=e=>{if(e.length<2)return[["M",0,0],["L",0,0]];const t=e[0],n=e[1],r=e[e.length-1],i=e[e.length-2];e.unshift(i,r),e.push(t,n);const o=[["M",r[0],r[1]]];for(let t=1;t<e.length-2;t+=1){const[n,r]=e[t-1],[i,a]=e[t],[s,l]=e[t+1],[u,c]=t!==e.length-2?e[t+2]:[s,l],d=i+(s-n)/6,h=a+(l-r)/6,f=s-(u-i)/6,p=l-(c-a)/6;o.push(["C",d,h,f,p,s,l])}return o};var hf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class ff extends nf{constructor(e){super(Qh({style:ff.defaultStyleProps},e))}getLabelStyle(e){if(!e.label||!e.d||0===e.d.length)return!1;const t=Gh(this.getGraphicStyle(e),"label"),{maxWidth:n,offsetX:r,offsetY:i,autoRotate:o,placement:a,closeToPath:s}=t,l=hf(t,["maxWidth","offsetX","offsetY","autoRotate","placement","closeToPath"]),u=this.shapeMap.key,c=null==u?void 0:u.getRenderBounds();return Object.assign(function(e,t,n,r,i,o,a){const[s,l]=ph(e,t),u={textAlign:"left"===t?"right":"right"===t?"left":"center",textBaseline:"top"===t?"bottom":"bottom"===t?"top":"middle",transform:[["translate",s+n,l+r]]};if("center"===t||!i)return u;const c=cf(o);if(!c||c.length<=3)return u;const d=c.map((e,t)=>{const n=e,r=c[(t+1)%c.length];return Ot(n,r)?null:[n,r]}).filter(Boolean),h=Mh([s,l],d),f=Th([s,l],h);if(f&&h&&(u.transform=[["translate",f[0]+n,f[1]+r]],a)){const e=Math.atan((h[0][1]-h[1][1])/(h[0][0]-h[1][0]));u.transform.push(["rotate",e/Math.PI*180]),u.textAlign="center","right"!==t&&"left"!==t||(u.textBaseline=e>0?"right"===t?"bottom":"top":"right"===t?"top":"bottom")}return u}(c,a,r,i,s,e.d,o),{wordWrapWidth:tf(c,n)},l)}getKeyStyle(e){return this.getGraphicStyle(e)}render(e,t){this.upsert("key",nu,this.getKeyStyle(e),t),this.upsert("label",sf,this.getLabelStyle(e),t)}}ff.defaultStyleProps={label:!0,labelPlacement:"bottom",labelCloseToPath:!0,labelAutoRotate:!0,labelOffsetX:0,labelOffsetY:0};let pf=class extends Zl{constructor(e){super(e),this.onMounted=()=>{this.handleRadius()},this.onAttrModified=()=>{this.handleRadius()},mf=this,this.isMutationObserved=!0,this.addEventListener(el.MOUNTED,this.onMounted),this.addEventListener(el.ATTR_MODIFIED,this.onAttrModified)}handleRadius(){const{radius:e,clipPath:t,width:n=0,height:r=0}=this.attributes;if(e&&n&&r){const[i,o]=this.getBounds().min,a={x:i,y:o,radius:e,width:n,height:r};if(t)Object.assign(this.parsedStyle.clipPath.style,a);else{const e=new su({style:a});this.style.clipPath=e}}else t&&(this.style.clipPath=null)}};const gf=new WeakMap;let mf=null;const yf=e=>{if(mf&&function(e){const t=[];let n=e.parentNode;for(;n;)t.push(n),n=n.parentNode;return t}(mf).includes(e)){const t=gf.get(e);t?t.includes(mf)||t.push(mf):gf.set(e,[mf])}},vf=e=>{const t=gf.get(e);t&&t.forEach(e=>e.handleRadius())};class bf extends nf{constructor(e){super(e)}isImage(){const{src:e}=this.attributes;return!!e}getIconStyle(e=this.attributes){const{width:t=0,height:n=0}=e,r=this.getGraphicStyle(e);return this.isImage()?Object.assign({x:-t/2,y:-n/2},r):Object.assign({textBaseline:"middle",textAlign:"center"},r)}render(e=this.attributes,t=this){this.upsert("icon",this.isImage()?pf:uu,this.getIconStyle(e),t)}}class wf extends nf{get context(){return this.config.context}get parsedAttributes(){return this.attributes}onframe(){}animate(e,t){const n=super.animate(e,t);return n&&(n.onframe=()=>this.onframe(),n.finished.then(()=>this.onframe())),n}}var xf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class Ef extends wf{constructor(e){super(Qh({style:Ef.defaultStyleProps},e)),this.type="node"}getSize(e=this.attributes){const{size:t}=e;return Yh(t)}getKeyStyle(e){const t=this.getGraphicStyle(e);return Object.assign(qh(t,["label","halo","icon","badge","port"]))}getLabelStyle(e){if(!1===e.label||!e.labelText)return!1;const t=Gh(this.getGraphicStyle(e),"label"),{placement:n,maxWidth:r,offsetX:i,offsetY:o}=t,a=xf(t,["placement","maxWidth","offsetX","offsetY"]),s=this.getShape("key").getLocalBounds();return Object.assign(Jg(s,n,i,o),{wordWrapWidth:tf(s,r)},a)}getHaloStyle(e){if(!1===e.halo)return!1;const t=this.getKeyStyle(e),{fill:n}=t,r=xf(t,["fill"]),i=Gh(this.getGraphicStyle(e),"halo");return Object.assign(Object.assign(Object.assign({},r),{stroke:n}),i)}getIconStyle(e){if(!1===e.icon||!e.iconText&&!e.iconSrc)return!1;const t=Gh(this.getGraphicStyle(e),"icon");return Object.assign(function(e,t){const n=Yh(e);let r={};return t.text&&!t.fontSize&&(r={fontSize:.5*Math.min(...n)}),!t.src||t.width&&t.height||(r={width:.5*n[0],height:.5*n[1]}),r}(e.size,t),t)}getBadgesStyle(e){var t;const n=$h(this.shapeMap,"badge-"),r={};if(Object.keys(n).forEach(e=>{r[e]=!1}),!1===e.badge||!(null===(t=e.badges)||void 0===t?void 0:t.length))return r;const{badges:i=[],badgePalette:o,opacity:a=1}=e,s=xf(e,["badges","badgePalette","opacity"]),l=Jh(o),u=Gh(this.getGraphicStyle(s),"badge");return i.forEach((e,t)=>{r[t]=Object.assign(Object.assign({backgroundFill:l?l[t%(null==l?void 0:l.length)]:void 0,opacity:a},u),this.getBadgeStyle(e))}),r}getBadgeStyle(e){const t=this.getShape("key"),{placement:n="top",offsetX:r,offsetY:i}=e,o=xf(e,["placement","offsetX","offsetY"]),a=Jg(t.getLocalBounds(),n,r,i,!0);return Object.assign(Object.assign({},a),o)}getPortsStyle(e){var t;const n=this.getPorts(),r={};if(Object.keys(n).forEach(e=>{r[e]=!1}),!1===e.port||!(null===(t=e.ports)||void 0===t?void 0:t.length))return r;const i=Gh(this.getGraphicStyle(e),"port"),{ports:o=[]}=e;return o.forEach((t,n)=>{const o=t.key||n,a=Object.assign(Object.assign({},i),t);if(qg(a))r[o]=!1;else{const[n,i]=this.getPortXY(e,t);r[o]=Object.assign({transform:[["translate",n,i]]},a)}}),r}getPortXY(e,t){const{placement:n="left"}=t,r=this.getShape("key");return Gg(function(e,t){if(!e)return t.getLocalBounds();const n=e.canvas.getLayer(),r=t.cloneNode();Ud(r,"hidden"),n.appendChild(r);const i=r.getLocalBounds();return r.destroy(),i}(this.context,r),n)}getPorts(){return $h(this.shapeMap,"port-")}getCenter(){return this.getShape("key").getBounds().center}getIntersectPoint(e,t=!1){return function(e,t,n=!1){return kh(e,ph(t,"center"),[ph(t,"left-top"),ph(t,"right-top"),ph(t,"right-bottom"),ph(t,"left-bottom")],!1,n).point}(e,this.getShape("key").getBounds(),t)}drawHaloShape(e,t){const n=this.getHaloStyle(e),r=this.getShape("key");this.upsert("halo",r.constructor,n,t)}drawIconShape(e,t){const n=this.getIconStyle(e);this.upsert("icon",bf,n,t),yf(this)}drawBadgeShapes(e,t){const n=this.getBadgesStyle(e);Object.keys(n).forEach(e=>{const r=n[e];this.upsert(`badge-${e}`,lf,r,t)})}drawPortShapes(e,t){const n=this.getPortsStyle(e);Object.keys(n).forEach(e=>{const r=n[e],i=`port-${e}`;this.upsert(i,Gl,r,t)})}drawLabelShape(e,t){const n=this.getLabelStyle(e);this.upsert("label",sf,n,t)}_drawKeyShape(e,t){return this.drawKeyShape(e,t)}render(e=this.parsedAttributes,t=this){this._drawKeyShape(e,t),this.getShape("key")&&(this.drawHaloShape(e,t),this.drawIconShape(e,t),this.drawBadgeShapes(e,t),this.drawLabelShape(e,t),this.drawPortShapes(e,t))}update(e){super.update(e),e&&("x"in e||"y"in e||"z"in e)&&vf(this)}onframe(){this.drawBadgeShapes(this.parsedAttributes,this),this.drawLabelShape(this.parsedAttributes,this)}}Ef.defaultStyleProps={x:0,y:0,size:32,droppable:!0,draggable:!0,port:!0,ports:[],portZIndex:2,portLinkToCenter:!1,badge:!0,badges:[],badgeZIndex:3,halo:!1,haloDroppable:!1,haloLineDash:0,haloLineWidth:12,haloStrokeOpacity:.25,haloPointerEvents:"none",haloZIndex:-1,icon:!0,iconZIndex:1,label:!0,labelIsBillboard:!0,labelMaxWidth:"200%",labelPlacement:"bottom",labelWordWrap:!1,labelZIndex:0};let kf=class e extends Ef{constructor(t){super(Qh({style:e.defaultStyleProps},t))}drawKeyShape(e,t){return this.upsert("key",Gl,this.getKeyStyle(e),t)}getKeyStyle(e){const t=super.getKeyStyle(e);return Object.assign(Object.assign({},t),{r:Math.min(...this.getSize(e))/2})}getIconStyle(e){const t=super.getIconStyle(e),{r:n}=this.getShape("key").attributes,r=2*n*Dh;return!!t&&Object.assign({width:r,height:r},t)}getIntersectPoint(e,t=!1){return Sh(e,this.getShape("key").getBounds(),t)}};kf.defaultStyleProps={size:32};class Sf extends Ef{constructor(e){super(e)}get parsedAttributes(){return this.attributes}drawKeyShape(e,t){return this.upsert("key",iu,this.getKeyStyle(e),t)}getKeyStyle(e){const t=super.getKeyStyle(e);return Object.assign(Object.assign({},t),{points:this.getPoints(e)})}getIntersectPoint(e,t=!1){var n,r;const{points:i}=this.getShape("key").attributes;return kh(e,[+((null===(n=this.attributes)||void 0===n?void 0:n.x)||0),+((null===(r=this.attributes)||void 0===r?void 0:r.y)||0)],i,!0,t).point}}var Mf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class Tf extends kf{constructor(e){super(Qh({style:Tf.defaultStyleProps},e))}parseOuterR(){const{size:e}=this.parsedAttributes;return Math.min(...Yh(e))/2}parseInnerR(){const{innerR:e}=this.parsedAttributes;return rt(e)?parseInt(e)/100*this.parseOuterR():e}drawDonutShape(e,t){const{donuts:n}=e;if(!(null==n?void 0:n.length))return;const r=n.map(e=>st(e)?{value:e}:e),i=Gh(this.getGraphicStyle(e),"donut"),o=Jh(e.donutPalette);if(!o)return;const a=r.reduce((e,t)=>{var n;return e+(null!==(n=t.value)&&void 0!==n?n:0)},0),s=this.parseOuterR(),l=this.parseInnerR();let u=0;r.forEach((e,n)=>{const{value:c=0,color:d=o[n%o.length]}=e,h=Mf(e,["value","color"]),f=360*(0===a?1/r.length:c/a);this.upsert(`round${n}`,nu,Object.assign(Object.assign(Object.assign({},i),{d:Cf(s,l,u,u+f),fill:d}),h),t),u+=f})}render(e,t=this){super.render(e,t),this.drawDonutShape(e,t)}}Tf.defaultStyleProps={innerR:"50%",donuts:[],donutPalette:"tableau"};const Of=(e,t,n,r)=>[e+Math.sin(r)*n,t-Math.cos(r)*n],Cf=(e=0,t=0,n,r)=>{const[i,o]=[0,0];return Math.abs(n-r)%360<1e-6?((e,t,n,r)=>r<=0||n<=r?[["M",e-n,t],["A",n,n,0,1,1,e+n,t],["A",n,n,0,1,1,e-n,t],["Z"]]:[["M",e-n,t],["A",n,n,0,1,1,e+n,t],["A",n,n,0,1,1,e-n,t],["Z"],["M",e+r,t],["A",r,r,0,1,0,e-r,t],["A",r,r,0,1,0,e+r,t],["Z"]])(i,o,e,t):((e,t,n,r,i,o)=>{const[a,s]=[i/360*2*Math.PI,o/360*2*Math.PI],l=[Of(e,t,r,a),Of(e,t,n,a),Of(e,t,n,s),Of(e,t,r,s)],u=s-a>Math.PI?1:0;return[["M",l[0][0],l[0][1]],["L",l[1][0],l[1][1]],["A",n,n,0,u,1,l[2][0],l[2][1]],["L",l[3][0],l[3][1]],["A",r,r,0,u,0,l[0][0],l[0][1]],["Z"]]})(i,o,e,t,n,r)};class Nf extends Ef{constructor(e){super(Qh({style:Nf.defaultStyleProps},e))}drawKeyShape(e,t){return this.upsert("key",Yl,this.getKeyStyle(e),t)}getKeyStyle(e){const t=super.getKeyStyle(e),[n,r]=this.getSize(e);return Object.assign(Object.assign({},t),{rx:n/2,ry:r/2})}getIconStyle(e){const t=super.getIconStyle(e),{rx:n,ry:r}=this.getShape("key").attributes,i=2*Math.min(+n,+r)*Dh;return!!t&&Object.assign({width:i,height:i},t)}getIntersectPoint(e,t=!1){return Sh(e,this.getShape("key").getBounds(),t)}}Nf.defaultStyleProps={size:[45,35]};
/*!
   * @antv/g-plugin-canvas-path-generator
   * @description A G plugin of path generator with Canvas2D API
   * @version 2.1.19
   * @date 5/9/2025, 8:19:59 AM
   * @author AntVis
   * @docs https://g.antv.antgroup.com/
   */
function Pf(e,t){var n=t.cx,r=void 0===n?0:n,i=t.cy,o=void 0===i?0:i,a=t.r;e.arc(r,o,a,0,2*Math.PI,!1)}function Af(e,t){var n=t.cx,r=void 0===n?0:n,i=t.cy,o=void 0===i?0:i,a=t.rx,s=t.ry;if(e.ellipse)e.ellipse(r,o,a,s,0,0,2*Math.PI,!1);else{var l=a>s?a:s,u=a>s?1:a/s,c=a>s?s/a:1;e.save(),e.scale(u,c),e.arc(r,o,l,0,2*Math.PI)}}function Rf(e,t){var n,r,i=t.x1,o=t.y1,a=t.x2,s=t.y2,l=t.markerStart,u=t.markerEnd,c=t.markerStartOffset,d=t.markerEndOffset,h=0,f=0,p=0,g=0,m=0;l&&jl(l)&&c&&(n=a-i,r=s-o,m=Math.atan2(r,n),h=Math.cos(m)*(c||0),f=Math.sin(m)*(c||0)),u&&jl(u)&&d&&(n=i-a,r=o-s,m=Math.atan2(r,n),p=Math.cos(m)*(d||0),g=Math.sin(m)*(d||0)),e.moveTo(i+h,o+f),e.lineTo(a+p,s+g)}function _f(e,t){var n,r,i=t.markerStart,o=t.markerEnd,a=t.markerStartOffset,s=t.markerEndOffset,l=t.d,u=l.absolutePath,c=l.segments,d=0,h=0,f=0,p=0,g=0;if(i&&jl(i)&&a){var m=w(i.parentNode.getStartTangent(),2),y=m[0],v=m[1];n=y[0]-v[0],r=y[1]-v[1],g=Math.atan2(r,n),d=Math.cos(g)*(a||0),h=Math.sin(g)*(a||0)}if(o&&jl(o)&&s){var b=w(o.parentNode.getEndTangent(),2),x=b[0],E=b[1];n=x[0]-E[0],r=x[1]-E[1],g=Math.atan2(r,n),f=Math.cos(g)*(s||0),p=Math.sin(g)*(s||0)}for(var k=0;k<u.length;k++){var S=u[k],M=S[0],T=u[k+1],O=0===k&&(0!==d||0!==h),C=(k===u.length-1||T&&("M"===T[0]||"Z"===T[0]))&&0!==f&&0!==p,N=w(O?[d,h]:[0,0],2),P=N[0],A=N[1],R=w(C?[f,p]:[0,0],2),_=R[0],D=R[1];switch(M){case"M":e.moveTo(S[1]+P,S[2]+A);break;case"L":e.lineTo(S[1]+_,S[2]+D);break;case"Q":e.quadraticCurveTo(S[1],S[2],S[3]+_,S[4]+D);break;case"C":e.bezierCurveTo(S[1],S[2],S[3],S[4],S[5]+_,S[6]+D);break;case"A":var L=c[k].arcParams,I=L.cx,z=L.cy,F=L.rx,j=L.ry,B=L.startAngle,H=L.endAngle,V=L.xRotation,U=L.sweepFlag;if(e.ellipse)e.ellipse(I,z,F,j,V,B,H,!!(1-U));else{var W=F>j?F:j,G=F>j?1:F/j,$=F>j?j/F:1;e.translate(I,z),e.rotate(V),e.scale(G,$),e.arc(0,0,W,B,H,!!(1-U)),e.scale(1/G,1/$),e.rotate(-V),e.translate(-I,-z)}C&&e.lineTo(S[6]+f,S[7]+p);break;case"Z":e.closePath()}}}function Df(e,t){var n,r,i=t.markerStart,o=t.markerEnd,a=t.markerStartOffset,s=t.markerEndOffset,l=t.points.points,u=l.length,c=l[0][0],d=l[0][1],h=l[u-1][0],f=l[u-1][1],p=0,g=0,m=0,y=0,v=0;i&&jl(i)&&a&&(n=l[1][0]-l[0][0],r=l[1][1]-l[0][1],v=Math.atan2(r,n),p=Math.cos(v)*(a||0),g=Math.sin(v)*(a||0)),o&&jl(o)&&s&&(n=l[u-1][0]-l[0][0],r=l[u-1][1]-l[0][1],v=Math.atan2(r,n),m=Math.cos(v)*(s||0),y=Math.sin(v)*(s||0)),e.moveTo(c+(p||m),d+(g||y));for(var b=1;b<u-1;b++){var w=l[b];e.lineTo(w[0],w[1])}e.lineTo(h,f)}function Lf(e,t){var n,r,i=t.markerStart,o=t.markerEnd,a=t.markerStartOffset,s=t.markerEndOffset,l=t.points.points,u=l.length,c=l[0][0],d=l[0][1],h=l[u-1][0],f=l[u-1][1],p=0,g=0,m=0,y=0,v=0;i&&jl(i)&&a&&(n=l[1][0]-l[0][0],r=l[1][1]-l[0][1],v=Math.atan2(r,n),p=Math.cos(v)*(a||0),g=Math.sin(v)*(a||0)),o&&jl(o)&&s&&(n=l[u-2][0]-l[u-1][0],r=l[u-2][1]-l[u-1][1],v=Math.atan2(r,n),m=Math.cos(v)*(s||0),y=Math.sin(v)*(s||0)),e.moveTo(c+p,d+g);for(var b=1;b<u-1;b++){var w=l[b];e.lineTo(w[0],w[1])}e.lineTo(h+m,f+y)}function If(e,t){var n=t.x,r=void 0===n?0:n,i=t.y,o=void 0===i?0:i,a=t.radius,s=t.width,l=t.height,u=s,c=l;if(a&&a.some(function(e){return 0!==e})){var d=s>0?1:-1,h=l>0?1:-1,f=d+h===0,p=w(a.map(function(e){return at(e,0,Math.min(Math.abs(u)/2,Math.abs(c)/2))}),4),g=p[0],m=p[1],y=p[2],v=p[3];e.moveTo(d*g+r,o),e.lineTo(u-d*m+r,o),0!==m&&e.arc(u-d*m+r,h*m+o,m,-h*Math.PI/2,d>0?0:Math.PI,f),e.lineTo(u+r,c-h*y+o),0!==y&&e.arc(u-d*y+r,c-h*y+o,y,d>0?0:Math.PI,h>0?Math.PI/2:1.5*Math.PI,f),e.lineTo(d*v+r,c+o),0!==v&&e.arc(d*v+r,c-h*v+o,v,h>0?Math.PI/2:-Math.PI/2,d>0?Math.PI:0,f),e.lineTo(r,h*g+o),0!==g&&e.arc(d*g+r,h*g+o,g,d>0?Math.PI:0,h>0?1.5*Math.PI:Math.PI/2,f)}else e.rect(r,o,u,c)}var zf=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=y(this,t,[].concat(r))).name="canvas-path-generator",e}return b(t,e),c(t,[{key:"init",value:function(){var e,t=(o(o(o(o(o(o(o(o(o(o(e={},pr.CIRCLE,Pf),pr.ELLIPSE,Af),pr.RECT,If),pr.LINE,Rf),pr.POLYLINE,Lf),pr.POLYGON,Df),pr.PATH,_f),pr.TEXT,void 0),pr.GROUP,void 0),pr.IMAGE,void 0),o(o(o(e,pr.HTML,void 0),pr.MESH,void 0),pr.FRAGMENT,void 0));this.context.pathGeneratorFactory=t}},{key:"destroy",value:function(){delete this.context.pathGeneratorFactory}}])}(mr),Ff=he(),jf=he(),Bf=he(),Hf=N(),Vf=function(){function e(){var t=this;l(this,e),this.isHit=function(e,n,r,i){var o=t.context.pointInPathPickerFactory[e.nodeName];if(o){var a=I(Hf,r),s=Me(jf,ye(Bf,n[0],n[1],0),a);if(o(e,new Cr(s[0],s[1]),i,t.isPointInPath,t.context,t.runtime))return!0}return!1},this.isPointInPath=function(e,n){var r=t.runtime.offscreenCanvasCreator.getOrCreateContext(t.context.config.offscreenCanvas),i=t.context.pathGeneratorFactory[e.nodeName];return i&&(r.beginPath(),i(r,e.parsedStyle),r.closePath()),r.isPointInPath(n.x,n.y)}}return c(e,[{key:"apply",value:function(t,n){var r,i=this,o=t.renderingService,a=t.renderingContext;this.context=t,this.runtime=n;var s=null===(r=a.root)||void 0===r?void 0:r.ownerDocument;o.hooks.pick.tapPromise(e.tag,function(){var e=ur(sr().mark(function e(t){return sr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.pick(s,t));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),o.hooks.pickSync.tap(e.tag,function(e){return i.pick(s,e)})}},{key:"pick",value:function(e,t){var n,r=t.topmost,i=t.position,o=i.x,a=i.y,s=ye(Ff,o,a,0),l=[],u=cr(e.elementsFromBBox(s[0],s[1],s[0],s[1]));try{for(u.s();!(n=u.n()).done;){var c=n.value,d=c.getWorldTransform();if(this.isHit(c,s,d,!1)){var h=Qa(c);if(h){var f=h.parsedStyle.clipPath;if(this.isHit(f,s,f.getWorldTransform(),!0)){if(r)return t.picked=[c],t;l.push(c)}}else{if(r)return t.picked=[c],t;l.push(c)}}}}catch(e){u.e(e)}finally{u.f()}return t.picked=l,t}}])}();
/*!
   * @antv/g-plugin-canvas-picker
   * @description A G plugin for picking in canvas
   * @version 2.1.23
   * @date 5/30/2025, 2:56:22 AM
   * @author AntVis
   * @docs https://g.antv.antgroup.com/
   */function Uf(e,t,n){var r=e.parsedStyle,i=r.cx,o=void 0===i?0:i,a=r.cy,s=void 0===a?0:a,l=r.r,u=r.fill,c=r.stroke,d=r.lineWidth,h=void 0===d?1:d,f=r.increasedLineWidthForHitTesting,p=void 0===f?0:f,g=r.pointerEvents,m=void 0===g?"auto":g,y=(h+p)/2,v=Ln(o,s,t.x,t.y),b=w(ns(m,u,c),2),x=b[0],E=b[1];return x&&E||n?v<=l+y:x?v<=l:!!E&&(v>=l-y&&v<=l+y)}function Wf(e,t,n,r){return e/(n*n)+t/(r*r)}function Gf(e,t,n){var r=e.parsedStyle,i=r.cx,o=void 0===i?0:i,a=r.cy,s=void 0===a?0:a,l=r.rx,u=r.ry,c=r.fill,d=r.stroke,h=r.lineWidth,f=void 0===h?1:h,p=r.increasedLineWidthForHitTesting,g=void 0===p?0:p,m=r.pointerEvents,y=void 0===m?"auto":m,v=t.x,b=t.y,x=w(ns(y,c,d),2),E=x[0],k=x[1],S=(f+g)/2,M=(v-o)*(v-o),T=(b-s)*(b-s);return E&&k||n?Wf(M,T,l+S,u+S)<=1:E?Wf(M,T,l,u)<=1:!!k&&(Wf(M,T,l-S,u-S)>=1&&Wf(M,T,l+S,u+S)<=1)}function $f(e,t,n,r,i,o){return i>=e&&i<=e+n&&o>=t&&o<=t+r}function qf(e,t,n,r,i,o,a,s){var l=(Math.atan2(s-t,a-e)+2*Math.PI)%(2*Math.PI),u={x:e+n*Math.cos(l),y:t+n*Math.sin(l)};return Ln(u.x,u.y,a,s)<=o/2}function Yf(e,t,n,r,i,o,a){var s=Math.min(e,n),l=Math.max(e,n),u=Math.min(t,r),c=Math.max(t,r),d=i/2;return o>=s-d&&o<=l+d&&a>=u-d&&a<=c+d&&Un(e,t,n,r,o,a)<=i/2}function Xf(e,t,n,r,i){var o=e.length;if(o<2)return!1;for(var a=0;a<o-1;a++){if(Yf(e[a][0],e[a][1],e[a+1][0],e[a+1][1],t,n,r))return!0}if(i){var s=e[0],l=e[o-1];if(Yf(s[0],s[1],l[0],l[1],t,n,r))return!0}return!1}Vf.tag="CanvasPicker";function Kf(e){return Math.abs(e)<1e-6?0:e<0?-1:1}function Qf(e,t,n){return(n[0]-e[0])*(t[1]-e[1])===(t[0]-e[0])*(n[1]-e[1])&&Math.min(e[0],t[0])<=n[0]&&n[0]<=Math.max(e[0],t[0])&&Math.min(e[1],t[1])<=n[1]&&n[1]<=Math.max(e[1],t[1])}function Zf(e,t,n){var r=!1,i=e.length;if(i<=2)return!1;for(var o=0;o<i;o++){var a=e[o],s=e[(o+1)%i];if(Qf(a,s,[t,n]))return!0;Kf(a[1]-n)>0!=Kf(s[1]-n)>0&&Kf(t-(n-a[1])*(a[0]-s[0])/(a[1]-s[1])-a[0])<0&&(r=!r)}return r}function Jf(e,t,n){for(var r=!1,i=0;i<e.length;i++){if(r=Zf(e[i],t,n))break}return r}function ep(e,t,n){var r=e.parsedStyle,i=r.x1,o=r.y1,a=r.x2,s=r.y2,l=r.lineWidth,u=void 0===l?1:l,c=r.increasedLineWidthForHitTesting,d=void 0===c?0:c,h=r.pointerEvents;return!(!w(ns(void 0===h?"auto":h,r.fill,r.stroke),2)[1]&&!n||!u)&&Yf(i,o,a,s,u+d,t.x,t.y)}function tp(e,t,n,r,i,o){var a=e.parsedStyle,s=a.lineWidth,l=void 0===s?1:s,u=a.increasedLineWidthForHitTesting,c=void 0===u?0:u,d=a.stroke,h=a.fill,f=a.d,p=a.pointerEvents,g=void 0===p?"auto":p,m=f.segments,y=f.hasArc,v=f.polylines,b=f.polygons,x=w(ns(g,(null==b?void 0:b.length)&&h,d),2),E=x[0],k=x[1],S=Uo(e),M=!1;return E||n?M=y?r(e,t):Jf(b,t.x,t.y)||Jf(v,t.x,t.y):((k||n)&&(M=function(e,t,n,r,i){for(var o=!1,a=t/2,s=0;s<e.length;s++){var l=e[s],u=l.currentPoint,c=l.params,d=l.prePoint,h=l.box;if(!h||$f(h.x-a,h.y-a,h.width+t,h.height+t,n,r))switch(l.command){case"L":case"Z":if(o=Yf(d[0],d[1],u[0],u[1],t,n,r))return!0;break;case"Q":if(o=Zn(d[0],d[1],c[1],c[2],c[3],c[4],n,r)<=t/2)return!0;break;case"C":if(o=qn(d[0],d[1],c[1],c[2],c[3],c[4],c[5],c[6],n,r,i)<=t/2)return!0;break;case"A":l.cubicParams||(l.cubicParams=fn(d[0],d[1],c[1],c[2],c[3],c[4],c[5],c[6],c[7],void 0));for(var f=l.cubicParams,p=d,g=0;g<f.length;g+=6){var m=qn(p[0],p[1],f[g],f[g+1],f[g+2],f[g+3],f[g+4],f[g+5],n,r,i);if(p=[f[g+4],f[g+5]],o=m<=t/2)return!0}}}return o}(m,l+c,t.x,t.y,S)),M)}function np(e,t,n){var r=e.parsedStyle,i=r.stroke,o=r.fill,a=r.lineWidth,s=void 0===a?1:a,l=r.increasedLineWidthForHitTesting,u=void 0===l?0:l,c=r.points,d=r.pointerEvents,h=w(ns(void 0===d?"auto":d,o,i),2),f=h[0],p=!1;return(h[1]||n)&&(p=Xf(c.points,s+u,t.x,t.y,!0)),p||!f&&!n||(p=Zf(c.points,t.x,t.y)),p}function rp(e,t,n){var r=e.parsedStyle,i=r.lineWidth,o=void 0===i?1:i,a=r.increasedLineWidthForHitTesting,s=void 0===a?0:a,l=r.points,u=r.pointerEvents;return!(!w(ns(void 0===u?"auto":u,r.fill,r.stroke),2)[1]&&!n||!o)&&Xf(l.points,o+s,t.x,t.y,!1)}function ip(e,t,n,r,i){var o=e.parsedStyle,a=o.radius,s=o.fill,l=o.stroke,u=o.lineWidth,c=void 0===u?1:u,d=o.increasedLineWidthForHitTesting,h=void 0===d?0:d,f=o.x,p=void 0===f?0:f,g=o.y,m=void 0===g?0:g,y=o.width,v=o.height,b=o.pointerEvents,x=w(ns(void 0===b?"auto":b,s,l),2),E=x[0],k=x[1],S=c+h;if(a&&a.some(function(e){return 0!==e})){var M=!1;return(k||n)&&(M=function(e,t,n,r,i,o,a,s){var l=w(i,4),u=l[0],c=l[1],d=l[2],h=l[3];return Yf(e+u,t,e+n-c,t,o,a,s)||Yf(e+n,t+c,e+n,t+r-d,o,a,s)||Yf(e+n-d,t+r,e+h,t+r,o,a,s)||Yf(e,t+r-h,e,t+u,o,a,s)||qf(e+n-c,t+c,c,Math.PI,Math.PI,o,a,s)||qf(e+n-d,t+r-d,d,0,Math.PI,o,a,s)||qf(e+h,t+r-h,h,Math.PI,Math.PI,o,a,s)||qf(e+u,t+u,u,Math.PI,Math.PI,o,a,s)}(p,m,y,v,a.map(function(e){return at(e,0,Math.min(Math.abs(y)/2,Math.abs(v)/2))}),S,t.x,t.y)),M||!E&&!n||(M=r(e,t)),M}var T=S/2;return E&&k||n?$f(p-T,m-T,y+T,v+T,t.x,t.y):E?$f(p,m,y,v,t.x,t.y):!!k&&function(e,t,n,r,i,o,a){var s=i/2;return $f(e-s,t-s,n,i,o,a)||$f(e+n-s,t-s,i,r,o,a)||$f(e+s,t+r-s,n,i,o,a)||$f(e-s,t+s,i,r,o,a)}(p,m,y,v,S,t.x,t.y)}function op(e,t,n,r,i,o){var a=e.parsedStyle,l=a.pointerEvents,u=void 0===l?"auto":l,c=a.x,d=void 0===c?0:c,h=a.y,f=void 0===h?0:h,p=a.width,g=a.height;if("non-transparent-pixel"===u){var m=i.config.offscreenCanvas,y=o.offscreenCanvasCreator.getOrCreateCanvas(m),v=o.offscreenCanvasCreator.getOrCreateContext(m,{willReadFrequently:!0});return y.width=p,y.height=g,i.defaultStyleRendererFactory[pr.IMAGE].render(v,s(s({},e.parsedStyle),{},{x:0,y:0}),e,void 0,void 0,void 0),v.getImageData(t.x-d,t.y-f,1,1).data.every(function(e){return 0!==e})}return!0}function ap(e,t,n,r){var i=e.getGeometryBounds();return t.x>=i.min[0]&&t.y>=i.min[1]&&t.x<=i.max[0]&&t.y<=i.max[1]}var sp=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=y(this,t,[].concat(r))).name="canvas-picker",e}return b(t,e),c(t,[{key:"init",value:function(){var e,t=(o(o(o(o(o(o(o(o(o(o(e={},pr.CIRCLE,Uf),pr.ELLIPSE,Gf),pr.RECT,ip),pr.LINE,ep),pr.POLYLINE,rp),pr.POLYGON,np),pr.PATH,tp),pr.TEXT,ap),pr.GROUP,null),pr.IMAGE,op),o(o(e,pr.HTML,null),pr.MESH,null));this.context.pointInPathPickerFactory=t,this.addRenderingPlugin(new Vf)}},{key:"destroy",value:function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()}}])}(mr);function lp(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var up=0;function cp(e){return"__private_"+up+++"_"+e}
/*!
   * @antv/g-plugin-image-loader
   * @description A G plugin for loading image
   * @version 2.1.23
   * @date 5/30/2025, 2:54:46 AM
   * @author AntVis
   * @docs https://g.antv.antgroup.com/
   */var dp=function(){return c(function e(){l(this,e),this.cacheStore=new Map},[{key:"onRefAdded",value:function(e){}},{key:"has",value:function(e){return this.cacheStore.has(e)}},{key:"put",value:function(e,t,n){return!this.cacheStore.has(e)&&(this.cacheStore.set(e,{value:t,counter:new Set([n.entity])}),this.onRefAdded(n),!0)}},{key:"get",value:function(e,t){var n=this.cacheStore.get(e);return n?(n.counter.has(t.entity)||(n.counter.add(t.entity),this.onRefAdded(t)),n.value):null}},{key:"update",value:function(e,t,n){var r=this.cacheStore.get(e);return!!r&&(r.value=s(s({},r.value),t),r.counter.has(n.entity)||(r.counter.add(n.entity),this.onRefAdded(n)),!0)}},{key:"release",value:function(e,t){var n=this.cacheStore.get(e);return!!n&&(n.counter.delete(t.entity),n.counter.size<=0&&this.cacheStore.delete(e),!0)}},{key:"releaseRef",value:function(e){var t=this;Array.from(this.cacheStore.keys()).forEach(function(n){t.release(n,e)})}},{key:"getSize",value:function(){return this.cacheStore.size}},{key:"clear",value:function(){this.cacheStore.clear()}}])}(),hp=[],fp=[],pp=function(){function e(){l(this,e)}return c(e,null,[{key:"stop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.api;e.rafId&&(t.cancelAnimationFrame(e.rafId),e.rafId=null)}},{key:"executeTask",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.api;hp.length<=0&&fp.length<=0||(fp.forEach(function(e){return e()}),fp=hp.splice(0,e.TASK_NUM_PER_FRAME),e.rafId=t.requestAnimationFrame(function(){e.executeTask(t)}))}},{key:"sliceImage",value:function(t,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.api,s=t.naturalWidth||t.width,l=t.naturalHeight||t.height,u=n-o,c=r-o,d=Math.ceil(s/u),h=Math.ceil(l/c),f={tileSize:[n,r],gridSize:[h,d],tiles:Array(h).fill(null).map(function(){return Array(d).fill(null)})},p=function(e){for(var o=function(o){hp.push(function(){var d=o*u,h=e*c,p=[Math.min(n,s-d),Math.min(r,l-h)],g=p[0],m=p[1],y=a.createCanvas();y.width=n,y.height=r,y.getContext("2d").drawImage(t,d,h,g,m,0,0,g,m),f.tiles[e][o]={x:d,y:h,tileX:o,tileY:e,data:y},i()})},h=0;h<d;h++)o(h)},g=0;g<h;g++)p(g);return e.stop(),e.executeTask(),f}}])}();pp.TASK_NUM_PER_FRAME=10;var gp=new dp;gp.onRefAdded=function(e){var t=this;e.addEventListener(el.DESTROY,function(){t.releaseRef(e)},{once:!0})};var mp=function(){return c(function e(t,n){l(this,e),this.gradientCache={},this.patternCache={},this.context=t,this.runtime=n},[{key:"getImageSync",value:function(e,t,n){var r=rt(e)?e:e.src;if(gp.has(r)){var i=gp.get(r,t);if(i.img.complete)return null==n||n(i),i}return this.getOrCreateImage(e,t).then(function(e){null==n||n(e)}).catch(function(e){console.error(e)}),null}},{key:"getOrCreateImage",value:function(e,t){var n=this,r=rt(e)?e:e.src;if(!rt(e)&&!gp.has(r)){var i={img:e,size:[e.naturalWidth||e.width,e.naturalHeight||e.height],tileSize:yp(e)};gp.put(r,i,t)}if(gp.has(r)){var o=gp.get(r,t);return o.img.complete?Promise.resolve(o):new Promise(function(e,t){o.img.addEventListener("load",function(){o.size=[o.img.naturalWidth||o.img.width,o.img.naturalHeight||o.img.height],o.tileSize=yp(o.img),e(o)}),o.img.addEventListener("error",function(e){t(e)})})}return new Promise(function(e,i){var o=n.context.config.createImage();if(o){var a={img:o,size:[0,0],tileSize:yp(o)};gp.put(r,a,t),o.onload=function(){a.size=[o.naturalWidth||o.width,o.naturalHeight||o.height],a.tileSize=yp(a.img),e(a)},o.onerror=function(e){i(e)},o.crossOrigin="Anonymous",o.src=r}})}},{key:"createDownSampledImage",value:(t=ur(sr().mark(function e(t,n){var r,i,o,a,l,u,c,d,h,f,p,g,m,y;return sr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrCreateImage(t,n);case 2:if(void 0===(r=e.sent).downSamplingRate){e.next=5;break}return e.abrupt("return",r);case 5:if(i=this.context.config.enableLargeImageOptimization,a=(o="boolean"==typeof i?{}:i).maxDownSampledImageSize,l=void 0===a?2048:a,u=o.downSamplingRateThreshold,c=void 0===u?.5:u,d=this.runtime.globalThis.createImageBitmap,h=w(r.size,2),f=h[0],p=h[1],g=r.img,m=Math.min((l+l)/(f+p),Math.max(.01,Math.min(c,.5))),y=s(s({},r),{},{downSamplingRate:m}),gp.update(r.img.src,y,n),!d){e.next=25;break}return e.prev=14,e.next=17,d(r.img,{resizeWidth:f*m,resizeHeight:p*m});case 17:g=e.sent,e.next=23;break;case 20:e.prev=20,e.t0=e.catch(14),m=1;case 23:e.next=26;break;case 25:m=1;case 26:return y=s(s({},this.getImageSync(t,n)),{},{downSampled:g,downSamplingRate:m}),gp.update(r.img.src,y,n),e.abrupt("return",y);case 29:case"end":return e.stop()}},e,this,[[14,20]])})),function(e,n){return t.apply(this,arguments)})},{key:"createImageTiles",value:(e=ur(sr().mark(function e(t,n,r,i){var o,a,l,u,c;return sr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrCreateImage(t,i);case 2:return o=e.sent,a=i.ownerDocument.defaultView,l=a.requestAnimationFrame,u=a.cancelAnimationFrame,pp.api={requestAnimationFrame:l,cancelAnimationFrame:u,createCanvas:function(){return Xs.createCanvas()}},c=s(s({},o),pp.sliceImage(o.img,o.tileSize[0],o.tileSize[0],r)),gp.update(o.img.src,c,i),e.abrupt("return",c);case 8:case"end":return e.stop()}},e,this)})),function(t,n,r,i){return e.apply(this,arguments)})},{key:"releaseImage",value:function(e,t){gp.release(rt(e)?e:e.src,t)}},{key:"releaseImageRef",value:function(e){gp.releaseRef(e)}},{key:"getOrCreatePatternSync",value:function(e,t,n,r,i,o,a){var s=this.generatePatternKey(t);if(s&&this.patternCache[s])return this.patternCache[s];var l,u=t.image,c=t.repetition,d=t.transform,h=!1;if(rt(u)){var f=this.getImageSync(u,e,a);l=null==f?void 0:f.img}else r?(l=r,h=!0):l=u;var p,g=l&&n.createPattern(l,c);g&&(p=d?Os(da(d),new Wl({})):D(N()),h&&B(p,p,[1/i,1/i,1]),g.setTransform({a:p[0],b:p[1],c:p[4],d:p[5],e:p[12]+o[0],f:p[13]+o[1]}));return s&&g&&(this.patternCache[s]=g),g}},{key:"getOrCreateGradient",value:function(e,t){var n=this.generateGradientKey(e),r=e.type,i=e.steps,o=e.min,a=e.width,s=e.height,l=e.angle,u=e.cx,c=e.cy,d=e.size;if(this.gradientCache[n])return this.gradientCache[n];var h=null;if(r===Ki.LinearGradient){var f=function(e,t,n,r){var i=Ir(r.value),o=0+t/2,a=0+n/2,s=Math.abs(t*Math.cos(i))+Math.abs(n*Math.sin(i));return{x1:e[0]+o-Math.cos(i)*s/2,y1:e[1]+a-Math.sin(i)*s/2,x2:e[0]+o+Math.cos(i)*s/2,y2:e[1]+a+Math.sin(i)*s/2}}(o,a,s,l),p=f.x1,g=f.y1,m=f.x2,y=f.y2;h=t.createLinearGradient(p,g,m,y)}else if(r===Ki.RadialGradient){var v=function(e,t,n,r,i,o){var a=r.value,s=i.value;r.unit===ji.kPercentage&&(a=r.value/100*t),i.unit===ji.kPercentage&&(s=i.value/100*n);var l=Math.max(vn([0,0],[a,s]),vn([0,n],[a,s]),vn([t,n],[a,s]),vn([t,0],[a,s]));return o&&(o instanceof eo?l=o.value:o instanceof Zi&&("closest-side"===o.value?l=Math.min(a,t-a,s,n-s):"farthest-side"===o.value?l=Math.max(a,t-a,s,n-s):"closest-corner"===o.value&&(l=Math.min(vn([0,0],[a,s]),vn([0,n],[a,s]),vn([t,n],[a,s]),vn([t,0],[a,s]))))),{x:a+e[0],y:s+e[1],r:l}}(o,a,s,u,c,d),b=v.x,w=v.y,x=v.r;h=t.createRadialGradient(b,w,0,b,w,x)}return h&&(i.forEach(function(e){var t,n=e.offset,r=e.color;n.unit===ji.kPercentage&&(null===(t=h)||void 0===t||t.addColorStop(n.value/100,r.toString()))}),this.gradientCache[n]=h),this.gradientCache[n]}},{key:"generateGradientKey",value:function(e){var t=e.type,n=e.min,r=e.width,i=e.height,o=e.steps,a=e.angle,s=e.cx,l=e.cy,u=e.size;return"gradient-".concat(t,"-").concat((null==a?void 0:a.toString())||0,"-").concat((null==s?void 0:s.toString())||0,"-").concat((null==l?void 0:l.toString())||0,"-").concat((null==u?void 0:u.toString())||0,"-").concat(n[0],"-").concat(n[1],"-").concat(r,"-").concat(i,"-").concat(o.map(function(e){var t=e.offset,n=e.color;return"".concat(t).concat(n)}).join("-"))}},{key:"generatePatternKey",value:function(e){var t=e.image,n=e.repetition;return rt(t)?"pattern-".concat(t,"-").concat(n):"rect"===t.nodeName?"pattern-".concat(t.entity,"-").concat(n):void 0}}]);var e,t}();function yp(e){if(!e.complete)return[0,0];var t=e.naturalWidth||e.width,n=e.naturalHeight||e.height,r=256;return[256,512].forEach(function(e){Math.ceil(n/e)*Math.ceil(t/e)<1e3&&(r=e)}),[r,r]}mp.isSupportTile=!!Xs.createCanvas();var vp=function(){function e(){l(this,e)}return c(e,[{key:"apply",value:function(t){var n=t.renderingService,r=t.renderingContext,i=t.imagePool,o=r.root.ownerDocument.defaultView,a=function(e,t,n){var r=e.parsedStyle,i=r.width,o=r.height;i&&!o?e.setAttribute("height",n/t*i):!i&&o&&e.setAttribute("width",t/n*o)},s=function(e){var t=e.target,r=t.nodeName,o=t.attributes;if(r===pr.IMAGE){var s=o.src,l=o.keepAspectRatio;i.getImageSync(s,t,function(e){var r=e.img,i=r.width,o=r.height;l&&a(t,i,o),t.renderable.dirty=!0,n.dirtify()})}},l=function(e){var t=e.target,r=e.attrName,o=e.prevValue,s=e.newValue;t.nodeName===pr.IMAGE&&"src"===r&&(o!==s&&i.releaseImage(o,t),rt(s)&&i.getOrCreateImage(s,t).then(function(e){var r=e.img,i=r.width,o=r.height;t.attributes.keepAspectRatio&&a(t,i,o),t.renderable.dirty=!0,n.dirtify()}).catch(function(){}))};n.hooks.init.tap(e.tag,function(){o.addEventListener(el.MOUNTED,s),o.addEventListener(el.ATTR_MODIFIED,l)}),n.hooks.destroy.tap(e.tag,function(){o.removeEventListener(el.MOUNTED,s),o.removeEventListener(el.ATTR_MODIFIED,l)})}}])}();vp.tag="LoadImage";var bp=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=y(this,t,[].concat(r))).name="image-loader",e}return b(t,e),c(t,[{key:"init",value:function(e){this.context.imagePool=new mp(this.context,e),this.addRenderingPlugin(new vp)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(mr),wp=cp("renderState"),xp=function(){function e(t){l(this,e),this.removedRBushNodeAABBs=[],this.renderQueue=[],Object.defineProperty(this,wp,{writable:!0,value:{restoreStack:[],prevObject:null,currentContext:new Map}}),this.clearFullScreenLastFrame=!1,this.clearFullScreen=!1,this.vpMatrix=N(),this.dprMatrix=N(),this.tmpMat4=N(),this.vec3a=he(),this.vec3b=he(),this.vec3c=he(),this.vec3d=he(),this.canvasRendererPluginOptions=t}return c(e,[{key:"apply",value:function(t,n){var r=this;this.context=t;var i=this.context,o=i.config,a=i.camera,s=i.renderingService,l=i.renderingContext,u=i.rBushRoot,c=i.pathGeneratorFactory,d=o.renderer.getConfig().enableRenderingOptimization;o.renderer.getConfig().enableDirtyCheck=!1,o.renderer.getConfig().enableDirtyRectangleRendering=!1,this.rBush=u,this.pathGeneratorFactory=c;var h=t.contextService,p=l.root.ownerDocument.defaultView,g=function(e){var t=e.target.rBushNode;t.aabb&&r.removedRBushNodeAABBs.push(t.aabb)},m=function(e){var t=e.target.rBushNode;t.aabb&&r.removedRBushNodeAABBs.push(t.aabb)};s.hooks.init.tap(e.tag,function(){p.addEventListener(el.UNMOUNTED,g),p.addEventListener(el.CULLED,m);var e=h.getDPR(),t=o.width,n=o.height,i=h.getContext();r.clearRect(i,0,0,t*e,n*e,o.background)}),s.hooks.destroy.tap(e.tag,function(){p.removeEventListener(el.UNMOUNTED,g),p.removeEventListener(el.CULLED,m),r.renderQueue=[],r.removedRBushNodeAABBs=[],lp(r,wp)[wp]={restoreStack:[],prevObject:null,currentContext:null}}),s.hooks.beginFrame.tap(e.tag,function(){var e,t=h.getContext(),n=h.getDPR(),i=o.width,a=o.height,l=r.canvasRendererPluginOptions,u=l.dirtyObjectNumThreshold,c=l.dirtyObjectRatioThreshold,d=s.getStats(),f=d.total,g=d.rendered,m=g/f;r.clearFullScreen=r.clearFullScreenLastFrame||!(null!==(e=p.context.renderingPlugins[1])&&void 0!==e&&e.isFirstTimeRenderingFinished)||s.disableDirtyRectangleRendering()||g>u&&m>c,t&&("function"==typeof t.resetTransform?t.resetTransform():t.setTransform(1,0,0,1,0,0),r.clearFullScreen&&r.clearRect(t,0,0,i*n,a*n,o.background))});var y=function(e,t){for(var i=[e];i.length>0;){var o,a=i.pop();a.isVisible()&&!a.isCulled()&&(d?r.renderDisplayObjectOptimized(a,t,r.context,lp(r,wp)[wp],n):r.renderDisplayObject(a,t,r.context,lp(r,wp)[wp],n));for(var s=(null===(o=a.sortable)||void 0===o||null===(o=o.sorted)||void 0===o?void 0:o.length)>0?a.sortable.sorted:a.childNodes,l=s.length-1;l>=0;l--)i.push(s[l])}};s.hooks.endFrame.tap(e.tag,function(){if(0!==l.root.childNodes.length){d=o.renderer.getConfig().enableRenderingOptimization,lp(r,wp)[wp]={restoreStack:[],prevObject:null,currentContext:lp(r,wp)[wp].currentContext},lp(r,wp)[wp].currentContext.clear(),r.clearFullScreenLastFrame=!1;var e=h.getContext(),t=h.getDPR();if(W(r.dprMatrix,[t,t,1]),F(r.vpMatrix,r.dprMatrix,a.getOrthoMatrix()),r.clearFullScreen)d?(e.save(),y(l.root,e),e.restore()):y(l.root,e),r.removedRBushNodeAABBs=[];else{var i=r.safeMergeAABB.apply(r,[r.mergeDirtyAABBs(r.renderQueue)].concat(f(r.removedRBushNodeAABBs.map(function(e){var t=e.minX,n=e.minY,r=e.maxX,i=e.maxY,o=new Sr;return o.setMinMax([t,n,0],[r,i,0]),o}))));if(r.removedRBushNodeAABBs=[],Sr.isEmpty(i))return void(r.renderQueue=[]);var s=r.convertAABB2Rect(i),u=s.x,c=s.y,g=s.width,m=s.height,v=Me(r.vec3a,[u,c,0],r.vpMatrix),b=Me(r.vec3b,[u+g,c,0],r.vpMatrix),w=Me(r.vec3c,[u,c+m,0],r.vpMatrix),x=Me(r.vec3d,[u+g,c+m,0],r.vpMatrix),E=Math.min(v[0],b[0],x[0],w[0]),k=Math.min(v[1],b[1],x[1],w[1]),S=Math.max(v[0],b[0],x[0],w[0]),M=Math.max(v[1],b[1],x[1],w[1]),T=Math.floor(E),O=Math.floor(k),C=Math.ceil(S-E),N=Math.ceil(M-k);e.save(),r.clearRect(e,T,O,C,N,o.background),e.beginPath(),e.rect(T,O,C,N),e.clip(),e.setTransform(r.vpMatrix[0],r.vpMatrix[1],r.vpMatrix[4],r.vpMatrix[5],r.vpMatrix[12],r.vpMatrix[13]),o.renderer.getConfig().enableDirtyRectangleRenderingDebug&&p.dispatchEvent(new Ws(yu.DIRTY_RECTANGLE,{dirtyRect:{x:T,y:O,width:C,height:N}})),r.searchDirtyObjects(i).sort(function(e,t){return e.sortable.renderOrder-t.sortable.renderOrder}).forEach(function(t){t&&t.isVisible()&&!t.isCulled()&&r.renderDisplayObject(t,e,r.context,lp(r,wp)[wp],n)}),e.restore(),r.renderQueue.forEach(function(e){r.saveDirtyAABB(e)}),r.renderQueue=[]}lp(r,wp)[wp].restoreStack.forEach(function(){e.restore()}),lp(r,wp)[wp].restoreStack=[]}else r.clearFullScreenLastFrame=!0}),s.hooks.render.tap(e.tag,function(e){r.clearFullScreen||r.renderQueue.push(e)})}},{key:"clearRect",value:function(e,t,n,r,i,o){e.clearRect(t,n,r,i),o&&(e.fillStyle=o,e.fillRect(t,n,r,i))}},{key:"renderDisplayObjectOptimized",value:function(e,t,n,r,i){var o=e.nodeName,a=!1,s=this.context.styleRendererFactory[o],l=this.pathGeneratorFactory[o],u=e.parsedStyle.clipPath;if(u){(!r.prevObject||!le(u.getWorldTransform(),r.prevObject.getWorldTransform()))&&(this.applyWorldTransform(t,u),r.prevObject=null);var c=this.pathGeneratorFactory[u.nodeName];c&&(t.save(),a=!0,t.beginPath(),c(t,u.parsedStyle),t.closePath(),t.clip())}if(s){(!r.prevObject||!le(e.getWorldTransform(),r.prevObject.getWorldTransform()))&&this.applyWorldTransform(t,e);var d=!r.prevObject;if(!d){var h=r.prevObject.nodeName;d=o===pr.TEXT?h!==pr.TEXT:o===pr.IMAGE?h!==pr.IMAGE:h===pr.TEXT||h===pr.IMAGE}s.applyStyleToContext(t,e,d,r),r.prevObject=e}l&&(t.beginPath(),l(t,e.parsedStyle),o!==pr.LINE&&o!==pr.PATH&&o!==pr.POLYLINE&&t.closePath()),s&&s.drawToContext(t,e,lp(this,wp)[wp],this,i),a&&t.restore(),e.renderable.dirty=!1}},{key:"renderDisplayObject",value:function(e,t,n,r,i){var o=e.nodeName,a=r.restoreStack[r.restoreStack.length-1];!a||e.compareDocumentPosition(a)&qs.DOCUMENT_POSITION_CONTAINS||(t.restore(),r.restoreStack.pop());var s=this.context.styleRendererFactory[o],l=this.pathGeneratorFactory[o],u=e.parsedStyle.clipPath;if(u){this.applyWorldTransform(t,u);var c=this.pathGeneratorFactory[u.nodeName];c&&(t.save(),r.restoreStack.push(e),t.beginPath(),c(t,u.parsedStyle),t.closePath(),t.clip())}s&&(this.applyWorldTransform(t,e),t.save(),this.applyAttributesToContext(t,e)),l&&(t.beginPath(),l(t,e.parsedStyle),o!==pr.LINE&&o!==pr.PATH&&o!==pr.POLYLINE&&t.closePath()),s&&(s.render(t,e.parsedStyle,e,n,this,i),t.restore()),e.renderable.dirty=!1}},{key:"applyAttributesToContext",value:function(e,t){var n=t.parsedStyle,r=n.stroke,i=n.fill,o=n.opacity,a=n.lineDash,s=n.lineDashOffset;a&&e.setLineDash(a),qe(s)||(e.lineDashOffset=s),qe(o)||(e.globalAlpha*=o),qe(r)||Array.isArray(r)||r.isNone||(e.strokeStyle=t.attributes.stroke),qe(i)||Array.isArray(i)||i.isNone||(e.fillStyle=t.attributes.fill)}},{key:"convertAABB2Rect",value:function(e){var t=e.getMin(),n=e.getMax(),r=Math.floor(t[0]),i=Math.floor(t[1]);return{x:r,y:i,width:Math.ceil(n[0])-r,height:Math.ceil(n[1])-i}}},{key:"mergeDirtyAABBs",value:function(e){var t=new Sr;return e.forEach(function(e){var n=e.getRenderBounds();t.add(n);var r=e.renderable.dirtyRenderBounds;r&&t.add(r)}),t}},{key:"searchDirtyObjects",value:function(e){var t=w(e.getMin(),2),n=t[0],r=t[1],i=w(e.getMax(),2),o=i[0],a=i[1];return this.rBush.search({minX:n,minY:r,maxX:o,maxY:a}).map(function(e){return e.displayObject})}},{key:"saveDirtyAABB",value:function(e){var t=e.renderable;t.dirtyRenderBounds||(t.dirtyRenderBounds=new Sr);var n=e.getRenderBounds();n&&t.dirtyRenderBounds.update(n.center,n.halfExtents)}},{key:"applyWorldTransform",value:function(e,t,n){n?(A(this.tmpMat4,t.getLocalTransform()),F(this.tmpMat4,n,this.tmpMat4),F(this.tmpMat4,this.vpMatrix,this.tmpMat4)):(A(this.tmpMat4,t.getWorldTransform()),F(this.tmpMat4,this.vpMatrix,this.tmpMat4)),e.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])}},{key:"safeMergeAABB",value:function(){for(var e=new Sr,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){e.add(t)}),e}}])}();
/*!
   * @antv/g-plugin-canvas-renderer
   * @description A G plugin of renderer implementation with Canvas2D API
   * @version 2.2.23
   * @date 5/30/2025, 2:55:32 AM
   * @author AntVis
   * @docs https://g.antv.antgroup.com/
   */function Ep(e,t,n,r,i,o,a){var s,l;if("rect"===e.image.nodeName){var u=e.image.parsedStyle,c=u.width,d=u.height;l=r.contextService.getDPR();var h=r.config.offscreenCanvas;(s=o.offscreenCanvasCreator.getOrCreateCanvas(h)).width=c*l,s.height=d*l;var f=o.offscreenCanvasCreator.getOrCreateContext(h),p={restoreStack:[],prevObject:null,currentContext:new Map};e.image.forEach(function(e){i.renderDisplayObject(e,f,r,p,o)}),p.restoreStack.forEach(function(){f.restore()})}return a.getOrCreatePatternSync(t,e,n,s,l,t.getGeometryBounds().min,function(){t.renderable.dirty=!0,r.renderingService.dirtify()})}function kp(e,t,n,r){var i;if(e.type===Ki.LinearGradient||e.type===Ki.RadialGradient){var o=t.getGeometryBounds(),a=o&&2*o.halfExtents[0]||1,l=o&&2*o.halfExtents[1]||1,u=o&&o.min||[0,0];i=r.getOrCreateGradient(s(s({type:e.type},e.value),{},{min:u,width:a,height:l}),n)}return i}xp.tag="CanvasRenderer";var Sp=["shadowBlur","shadowOffsetX","shadowOffsetY"],Mp=["lineCap","lineJoin","miterLimit"],Tp={globalAlpha:1,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",filter:"none",globalCompositeOperation:"source-over",strokeStyle:"#000",strokeOpacity:1,lineWidth:1,lineDash:[],lineDashOffset:0,lineCap:"butt",lineJoin:"miter",miterLimit:10,fillStyle:"#000",fillOpacity:1},Op={};function Cp(e,t,n,r){var i=r.has(t)?r.get(t):Tp[t];return i!==n&&("lineDash"===t?e.setLineDash(n):e[t]=n,r.set(t,n)),i}var Np=function(){return c(function e(t){l(this,e),this.imagePool=t},[{key:"applyAttributesToContext",value:function(e,t){}},{key:"render",value:function(e,t,n,r,i,o){}},{key:"applyCommonStyleToContext",value:function(e,t,n,r){var i=n?Op:r.prevObject.parsedStyle,o=t.parsedStyle;(n||o.opacity!==i.opacity)&&Cp(e,"globalAlpha",qe(o.opacity)?Tp.globalAlpha:o.opacity,r.currentContext),(n||o.blend!==i.blend)&&Cp(e,"globalCompositeOperation",qe(o.blend)?Tp.globalCompositeOperation:o.blend,r.currentContext)}},{key:"applyStrokeFillStyleToContext",value:function(e,t,n,r){var i=n?Op:r.prevObject.parsedStyle,o=t.parsedStyle,a=o.lineWidth,s=void 0===a?Tp.lineWidth:a,l=o.fill&&!o.fill.isNone;if(o.stroke&&!o.stroke.isNone&&s>0){if(n||t.attributes.stroke!==r.prevObject.attributes.stroke)Cp(e,"strokeStyle",qe(o.stroke)||Array.isArray(o.stroke)||o.stroke.isNone?Tp.strokeStyle:t.attributes.stroke,r.currentContext);(n||o.lineWidth!==i.lineWidth)&&Cp(e,"lineWidth",qe(o.lineWidth)?Tp.lineWidth:o.lineWidth,r.currentContext),(n||o.lineDash!==i.lineDash)&&Cp(e,"lineDash",o.lineDash||Tp.lineDash,r.currentContext),(n||o.lineDashOffset!==i.lineDashOffset)&&Cp(e,"lineDashOffset",qe(o.lineDashOffset)?Tp.lineDashOffset:o.lineDashOffset,r.currentContext);for(var u=0;u<Mp.length;u++){var c=Mp[u];(n||o[c]!==i[c])&&Cp(e,c,qe(o[c])?Tp[c]:o[c],r.currentContext)}}l&&(n||t.attributes.fill!==r.prevObject.attributes.fill)&&Cp(e,"fillStyle",qe(o.fill)||Array.isArray(o.fill)||o.fill.isNone?Tp.fillStyle:t.attributes.fill,r.currentContext)}},{key:"applyStyleToContext",value:function(e,t,n,r){var i=t.nodeName;this.applyCommonStyleToContext(e,t,n,r),i===pr.IMAGE||this.applyStrokeFillStyleToContext(e,t,n,r)}},{key:"applyShadowAndFilterStyleToContext",value:function(e,t,n,r){var i=t.parsedStyle;if(n){Cp(e,"shadowColor",i.shadowColor.toString(),r.currentContext);for(var o=0;o<Sp.length;o++){var a=Sp[o];Cp(e,a,i[a]||Tp[a],r.currentContext)}}i.filter&&i.filter.length&&Cp(e,"filter",t.attributes.filter,r.currentContext)}},{key:"clearShadowAndFilterStyleForContext",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(t){Cp(e,"shadowColor",Tp.shadowColor,r.currentContext);for(var o=0;o<Sp.length;o++){var a=Sp[o];Cp(e,a,Tp[a],r.currentContext)}}if(n)if(t&&i){var s=e.filter;!qe(s)&&s.indexOf("drop-shadow")>-1&&Cp(e,"filter",s.replace(/drop-shadow\([^)]*\)/,"").trim()||Tp.filter,r.currentContext)}else Cp(e,"filter",Tp.filter,r.currentContext)}},{key:"fillToContext",value:function(e,t,n,r,i){var o=this,a=t.parsedStyle,s=a.fill,l=a.fillRule,u=null;if(Array.isArray(s)&&s.length>0)s.forEach(function(r){var i=Cp(e,"fillStyle",kp(r,t,e,o.imagePool),n.currentContext);u=null!=u?u:i,l?e.fill(l):e.fill()});else{if(xo(s)){var c=Ep(s,t,e,t.ownerDocument.defaultView.context,r,i,this.imagePool);c&&(e.fillStyle=c,u=!0)}l?e.fill(l):e.fill()}null!==u&&Cp(e,"fillStyle",u,n.currentContext)}},{key:"strokeToContext",value:function(e,t,n,r,i){var o=this,a=t.parsedStyle.stroke,s=null;if(Array.isArray(a)&&a.length>0)a.forEach(function(r){var i=Cp(e,"strokeStyle",kp(r,t,e,o.imagePool),n.currentContext);s=null!=s?s:i,e.stroke()});else{if(xo(a)){var l=Ep(a,t,e,t.ownerDocument.defaultView.context,r,i,this.imagePool);if(l){var u=Cp(e,"strokeStyle",l,n.currentContext);s=null!=s?s:u}}e.stroke()}null!==s&&Cp(e,"strokeStyle",s,n.currentContext)}},{key:"drawToContext",value:function(e,t,n,r,i){var o,a=t.nodeName,s=t.parsedStyle,l=s.opacity,u=void 0===l?Tp.globalAlpha:l,c=s.fillOpacity,d=void 0===c?Tp.fillOpacity:c,h=s.strokeOpacity,f=void 0===h?Tp.strokeOpacity:h,p=s.lineWidth,g=void 0===p?Tp.lineWidth:p,m=s.fill&&!s.fill.isNone,y=s.stroke&&!s.stroke.isNone&&g>0;if(m||y){var v=!qe(s.shadowColor)&&s.shadowBlur>0,b="inner"===s.shadowType,w=0===(null===(o=s.fill)||void 0===o?void 0:o.alpha),x=!(!s.filter||!s.filter.length),E=v&&y&&(a===pr.PATH||a===pr.LINE||a===pr.POLYLINE||w||b),k=null;if(m)E||this.applyShadowAndFilterStyleToContext(e,t,v,n),k=Cp(e,"globalAlpha",u*d,n.currentContext),this.fillToContext(e,t,n,r,i),E||this.clearShadowAndFilterStyleForContext(e,v,x,n);if(y){var S=!1,M=Cp(e,"globalAlpha",u*f,n.currentContext);if(k=m?k:M,E&&(this.applyShadowAndFilterStyleToContext(e,t,v,n),S=!0,b)){var T=e.globalCompositeOperation;e.globalCompositeOperation="source-atop",this.strokeToContext(e,t,n,r,i),e.globalCompositeOperation=T,this.clearShadowAndFilterStyleForContext(e,v,x,n,!0)}this.strokeToContext(e,t,n,r,i),S&&this.clearShadowAndFilterStyleForContext(e,v,x,n)}null!==k&&Cp(e,"globalAlpha",k,n.currentContext)}}}])}(),Pp=function(e){function t(){return l(this,t),y(this,t,arguments)}return b(t,e),c(t,[{key:"render",value:function(e,t,n,r,i,o){var a=t.fill,s=t.fillRule,l=t.opacity,u=void 0===l?1:l,c=t.fillOpacity,d=void 0===c?1:c,h=t.stroke,f=t.strokeOpacity,p=void 0===f?1:f,g=t.lineWidth,m=void 0===g?1:g,y=t.lineCap,v=t.lineJoin,b=t.shadowType,w=t.shadowColor,x=t.shadowBlur,E=t.filter,k=t.miterLimit,S=a&&!a.isNone,M=h&&!h.isNone&&m>0,T=0===(null==a?void 0:a.alpha),O=!(!E||!E.length),C=!qe(w)&&x>0,N=n.nodeName,P="inner"===b,A=M&&C&&(N===pr.PATH||N===pr.LINE||N===pr.POLYLINE||T||P);S&&(e.globalAlpha=u*d,A||Ap(n,e,C),Rp(e,n,a,s,r,i,o,this.imagePool),A||this.clearShadowAndFilter(e,O,C)),M&&(e.globalAlpha=u*p,e.lineWidth=m,qe(k)||(e.miterLimit=k),qe(y)||(e.lineCap=y),qe(v)||(e.lineJoin=v),A&&(P&&(e.globalCompositeOperation="source-atop"),Ap(n,e,!0),P&&(_p(e,n,h,r,i,o,this.imagePool),e.globalCompositeOperation=Tp.globalCompositeOperation,this.clearShadowAndFilter(e,O,!0))),_p(e,n,h,r,i,o,this.imagePool))}},{key:"clearShadowAndFilter",value:function(e,t,n){if(n&&(e.shadowColor="transparent",e.shadowBlur=0),t){var r=e.filter;!qe(r)&&r.indexOf("drop-shadow")>-1&&(e.filter=r.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}}}])}(Np);function Ap(e,t,n){var r=e.parsedStyle,i=r.filter,o=r.shadowColor,a=r.shadowBlur,s=r.shadowOffsetX,l=r.shadowOffsetY;i&&i.length&&(t.filter=e.style.filter),n&&(t.shadowColor=o.toString(),t.shadowBlur=a||0,t.shadowOffsetX=s||0,t.shadowOffsetY=l||0)}function Rp(e,t,n,r,i,o,a,s){var l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];Array.isArray(n)?n.forEach(function(n){e.fillStyle=kp(n,t,e,s),l||(r?e.fill(r):e.fill())}):(xo(n)&&(e.fillStyle=Ep(n,t,e,i,o,a,s)),l||(r?e.fill(r):e.fill()))}function _p(e,t,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];Array.isArray(n)?n.forEach(function(n){e.strokeStyle=kp(n,t,e,a),s||e.stroke()}):(xo(n)&&(e.strokeStyle=Ep(n,t,e,r,i,o,a)),s||e.stroke())}var Dp=function(e){function t(){return l(this,t),y(this,t,arguments)}return b(t,e),c(t,[{key:"renderDownSampled",value:function(e,t,n,r){var i=r.src,o=r.imageCache;o.downSampled?e.drawImage(o.downSampled,Math.floor(r.drawRect[0]),Math.floor(r.drawRect[1]),Math.ceil(r.drawRect[2]),Math.ceil(r.drawRect[3])):this.imagePool.createDownSampledImage(i,n).then(function(){n.ownerDocument&&(n.renderable.dirty=!0,n.ownerDocument.defaultView.context.renderingService.dirtify())}).catch(function(e){console.error(e)})}},{key:"renderTile",value:function(e,t,n,r){var i=r.src,o=r.imageCache,a=r.imageRect,s=r.drawRect,l=o.size,u=e.getTransform(),c=u.a,d=u.b,h=u.c,f=u.d,p=u.e,g=u.f;if(e.resetTransform(),null!=o&&o.gridSize){for(var m=[l[0]/a[2],l[1]/a[3]],y=[o.tileSize[0]/m[0],o.tileSize[1]/m[1]],v=[Math.floor((s[0]-a[0])/y[0]),Math.ceil((s[0]+s[2]-a[0])/y[0])],b=v[0],w=v[1],x=[Math.floor((s[1]-a[1])/y[1]),Math.ceil((s[1]+s[3]-a[1])/y[1])],E=x[1],k=x[0];k<=E;k++)for(var S=b;S<=w;S++){var M=o.tiles[k][S];if(M){var T=[Math.floor(a[0]+M.tileX*y[0]),Math.floor(a[1]+M.tileY*y[1]),Math.ceil(y[0]),Math.ceil(y[1])];e.drawImage(M.data,T[0],T[1],T[2],T[3])}}e.setTransform(c,d,h,f,p,g)}else this.imagePool.createImageTiles(i,[],function(){n.ownerDocument&&(n.renderable.dirty=!0,n.ownerDocument.defaultView.context.renderingService.dirtify())},n).catch(function(e){console.error(e)})}},{key:"render",value:function(e,n,r){var i=n.x,o=void 0===i?0:i,a=n.y,s=void 0===a?0:a,l=n.width,u=n.height,c=n.src,d=n.shadowColor,h=n.shadowBlur,f=this.imagePool.getImageSync(c,r),p=null==f?void 0:f.img,g=l,m=u;if(p){var y,v,b,x,E,k,S,M,T,O,C,N,P,A,_;g||(g=p.width),m||(m=p.height),Ap(r,e,!qe(d)&&h>0);try{var D=r.ownerDocument.defaultView.getContextService().getDomElement(),L=D.width,I=D.height,z=e.getTransform(),F=z.a,j=z.b,B=function(e,t){var n=Me(he(),[e[0],e[1],0],t),r=Me(he(),[e[0]+e[2],e[1],0],t),i=Me(he(),[e[0],e[1]+e[3],0],t),o=Me(he(),[e[0]+e[2],e[1]+e[3],0],t);return[Math.min(n[0],r[0],i[0],o[0]),Math.min(n[1],r[1],i[1],o[1]),Math.max(n[0],r[0],i[0],o[0])-Math.min(n[0],r[0],i[0],o[0]),Math.max(n[1],r[1],i[1],o[1])-Math.min(n[1],r[1],i[1],o[1])]}([o,s,g,m],R(F,z.c,0,0,j,z.d,0,0,0,0,1,0,z.e,z.f,0,1)),H=(y=B,v=w([0,0,L,I],4),b=v[0],x=v[1],E=v[2],k=v[3],S=w(y,4),M=S[0],T=S[1],O=S[2],C=S[3],N=Math.max(b,M),P=Math.max(x,T),A=Math.min(b+E,M+O),_=Math.min(x+k,T+C),A<=N||_<=P?null:[N,P,A-N,_-P]);if(!H)return;if(!r.ownerDocument.defaultView.getConfig().enableLargeImageOptimization)return void t.renderFull(e,n,r,{image:p,drawRect:[o,s,g,m]});if(B[2]/f.size[0]<(f.downSamplingRate||.5))return void this.renderDownSampled(e,n,r,{src:c,imageCache:f,drawRect:[o,s,g,m]});if(!mp.isSupportTile)return void t.renderFull(e,n,r,{image:p,drawRect:[o,s,g,m]});this.renderTile(e,n,r,{src:c,imageCache:f,imageRect:B,drawRect:H})}catch(e){}}}},{key:"drawToContext",value:function(e,t,n,r,i){this.render(e,t.parsedStyle,t)}}],[{key:"renderFull",value:function(e,t,n,r){e.drawImage(r.image,Math.floor(r.drawRect[0]),Math.floor(r.drawRect[1]),Math.ceil(r.drawRect[2]),Math.ceil(r.drawRect[3]))}}])}(Pp),Lp=function(e){function t(){return l(this,t),y(this,t,arguments)}return b(t,e),c(t,[{key:"render",value:function(e,t,n,r,i,o){n.getBounds();var a=t.lineWidth,s=void 0===a?1:a,l=t.textAlign,u=void 0===l?"start":l,c=t.textBaseline,d=void 0===c?"alphabetic":c,h=t.lineJoin,f=void 0===h?"miter":h,p=t.miterLimit,g=void 0===p?10:p,m=t.letterSpacing,y=void 0===m?0:m,v=t.stroke,b=t.fill,w=t.fillRule,x=t.fillOpacity,E=void 0===x?1:x,k=t.strokeOpacity,S=void 0===k?1:k,M=t.opacity,T=void 0===M?1:M,O=t.metrics,C=t.x,N=void 0===C?0:C,P=t.y,A=void 0===P?0:P,R=t.dx,_=t.dy,D=t.shadowColor,L=t.shadowBlur,I=O.font,z=O.lines,F=O.height,j=O.lineHeight,B=O.lineMetrics;e.font=I,e.lineWidth=s,e.textAlign="middle"===u?"center":u;var H=d;"alphabetic"===H&&(H="bottom"),e.lineJoin=f,qe(g)||(e.miterLimit=g);var V=A;"middle"===d?V+=-F/2-j/2:"bottom"===d||"alphabetic"===d||"ideographic"===d?V+=-F:"top"!==d&&"hanging"!==d||(V+=-j);var U=N+(R||0);V+=_||0,1===z.length&&("bottom"===H?(H="middle",V-=.5*F):"top"===H&&(H="middle",V+=.5*F)),e.textBaseline=H,Ap(n,e,!qe(D)&&L>0);for(var W=0;W<z.length;W++){var G=s/2+U;V+=j,qe(v)||v.isNone||!s||this.drawLetterSpacing(e,n,z[W],B[W],u,G,V,y,b,w,E,v,S,T,!0,r,i,o),qe(b)||this.drawLetterSpacing(e,n,z[W],B[W],u,G,V,y,b,w,E,v,S,T,!1,r,i,o)}}},{key:"drawLetterSpacing",value:function(e,t,n,r,i,o,a,s,l,u,c,d,h,f,p,g,m,y){if(0!==s){var v=e.textAlign;e.textAlign="left";var b=o;"center"===i||"middle"===i?b=o-r.width/2:"right"!==i&&"end"!==i||(b=o-r.width);for(var w=Array.from(n),x=e.measureText(n).width,E=0,k=0;k<w.length;++k){var S=w[k];p?this.strokeText(e,t,S,b,a,d,h,g,m,y):this.fillText(e,t,S,b,a,l,u,c,f,g,m,y),b+=x-(E=e.measureText(n.substring(k+1)).width)+s,x=E}e.textAlign=v}else p?this.strokeText(e,t,n,o,a,d,h,g,m,y):this.fillText(e,t,n,o,a,l,u,c,f,g,m,y)}},{key:"fillText",value:function(e,t,n,r,i,o,a,s,l,u,c,d){var h;Rp(e,t,o,a,u,c,d,this.imagePool,!0);var f=!qe(s)&&1!==s;f&&(h=e.globalAlpha,e.globalAlpha=s*l),e.fillText(n,r,i),f&&(e.globalAlpha=h)}},{key:"strokeText",value:function(e,t,n,r,i,o,a,s,l,u){var c;_p(e,t,o,s,l,u,this.imagePool,!0);var d=!qe(a)&&1!==a;d&&(c=e.globalAlpha,e.globalAlpha=a),e.strokeText(n,r,i),d&&(e.globalAlpha=c)}},{key:"drawToContext",value:function(e,t,n,r,i){this.render(e,t.parsedStyle,t,t.ownerDocument.defaultView.context,r,i)}}])}(Pp),Ip=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(this,t),(e=y(this,t)).name="canvas-renderer",e.options=n,e}return b(t,e),c(t,[{key:"init",value:function(){var e,t=s({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),n=this.context.imagePool,r=new Pp(n),i=(o(o(o(o(o(o(o(o(o(o(e={},pr.CIRCLE,r),pr.ELLIPSE,r),pr.RECT,r),pr.IMAGE,new Dp(n)),pr.TEXT,new Lp(n)),pr.LINE,r),pr.POLYLINE,r),pr.POLYGON,r),pr.PATH,r),pr.GROUP,void 0),o(o(o(e,pr.HTML,void 0),pr.MESH,void 0),pr.FRAGMENT,void 0));this.context.defaultStyleRendererFactory=i,this.context.styleRendererFactory=i,this.addRenderingPlugin(new xp(t))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory}}])}(mr),zp=function(){function e(){l(this,e)}return c(e,[{key:"apply",value:function(t,n){var r=this,i=t.renderingService,o=t.renderingContext,a=t.config;this.context=t;var s=o.root.ownerDocument.defaultView,l=function(e){i.hooks.pointerMove.call(e)},u=function(e){i.hooks.pointerUp.call(e)},c=function(e){i.hooks.pointerDown.call(e)},d=function(e){i.hooks.pointerOver.call(e)},h=function(e){i.hooks.pointerOut.call(e)},f=function(e){i.hooks.pointerCancel.call(e)},p=function(e){i.hooks.pointerWheel.call(e)},g=function(e){i.hooks.click.call(e)};i.hooks.init.tap(e.tag,function(){var e=r.context.contextService.getDomElement();n.globalThis.navigator.msPointerEnabled?(e.style.msContentZooming="none",e.style.msTouchAction="none"):s.supportsPointerEvents&&(e.style.touchAction="none"),s.supportsPointerEvents?function(e){n.globalThis.document.addEventListener("pointermove",l,!0),e.addEventListener("pointerdown",c,!0),e.addEventListener("pointerleave",h,!0),e.addEventListener("pointerover",d,!0),n.globalThis.addEventListener("pointerup",u,!0),n.globalThis.addEventListener("pointercancel",f,!0)}(e):function(e){n.globalThis.document.addEventListener("mousemove",l,!0),e.addEventListener("mousedown",c,!0),e.addEventListener("mouseout",h,!0),e.addEventListener("mouseover",d,!0),n.globalThis.addEventListener("mouseup",u,!0)}(e),s.supportsTouchEvents&&function(e){e.addEventListener("touchstart",c,!0),e.addEventListener("touchend",u,!0),e.addEventListener("touchmove",l,!0),e.addEventListener("touchcancel",f,!0)}(e),a.useNativeClickEvent&&e.addEventListener("click",g,!0),e.addEventListener("wheel",p,{passive:!0,capture:!0})}),i.hooks.destroy.tap(e.tag,function(){var e=r.context.contextService.getDomElement();n.globalThis.navigator.msPointerEnabled?(e.style.msContentZooming="",e.style.msTouchAction=""):s.supportsPointerEvents&&(e.style.touchAction=""),s.supportsPointerEvents?function(e){n.globalThis.document.removeEventListener("pointermove",l,!0),e.removeEventListener("pointerdown",c,!0),e.removeEventListener("pointerleave",h,!0),e.removeEventListener("pointerover",d,!0),n.globalThis.removeEventListener("pointerup",u,!0),n.globalThis.removeEventListener("pointercancel",f,!0)}(e):function(e){n.globalThis.document.removeEventListener("mousemove",l,!0),e.removeEventListener("mousedown",c,!0),e.removeEventListener("mouseout",h,!0),e.removeEventListener("mouseover",d,!0),n.globalThis.removeEventListener("mouseup",u,!0)}(e),s.supportsTouchEvents&&function(e){e.removeEventListener("touchstart",c,!0),e.removeEventListener("touchend",u,!0),e.removeEventListener("touchmove",l,!0),e.removeEventListener("touchcancel",f,!0)}(e),a.useNativeClickEvent&&e.removeEventListener("click",g,!0),e.removeEventListener("wheel",p,!0)})}}])}();zp.tag="DOMInteraction";var Fp=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=y(this,t,[].concat(r))).name="dom-interaction",e}return b(t,e),c(t,[{key:"init",value:function(){this.addRenderingPlugin(new zp)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(mr),jp=function(){function e(){l(this,e),this.displayObjectHTMLElementMap=new WeakMap}return c(e,[{key:"joinTransformMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return"matrix(".concat([e[0],e[1],e[4],e[5],e[12]+t[0],e[13]+t[1]].join(","),")")}},{key:"apply",value:function(t,n){var r=this,i=t.camera,o=t.renderingContext,a=t.renderingService;this.context=t;var s=o.root.ownerDocument.defaultView,l=s.context.eventService.nativeHTMLMap,u=function(e,t){t.style.transform=r.joinTransformMatrix(e.getWorldTransform(),e.getOrigin())},c=function(e){var t=e.target;if(t.nodeName===pr.HTML){r.$camera||(r.$camera=r.createCamera(i));var n=r.getOrCreateEl(t);r.$camera.appendChild(n),Object.keys(t.attributes).forEach(function(e){r.updateAttribute(e,t)}),u(t,n),l.set(n,t)}},d=function(e){var t=e.target;if(t.nodeName===pr.HTML&&r.$camera){var n=r.getOrCreateEl(t);n&&(n.remove(),l.delete(n))}},h=function(e){var t=e.target;if(t.nodeName===pr.HTML){var n=e.attrName;r.updateAttribute(n,t)}},f=function(e){var t=e.target;(t.nodeName===pr.FRAGMENT?t.childNodes:[t]).forEach(function(e){if(e.nodeName===pr.HTML){var t=r.getOrCreateEl(e);u(e,t)}})},p=function(){if(r.$camera){var e=r.context.config,t=e.width,n=e.height;r.$camera.parentElement.style.width="".concat(t||0,"px"),r.$camera.parentElement.style.height="".concat(n||0,"px")}};a.hooks.init.tap(e.tag,function(){s.addEventListener(yu.RESIZE,p),s.addEventListener(el.MOUNTED,c),s.addEventListener(el.UNMOUNTED,d),s.addEventListener(el.ATTR_MODIFIED,h),s.addEventListener(el.BOUNDS_CHANGED,f)}),a.hooks.endFrame.tap(e.tag,function(){r.$camera&&o.renderReasons.has(Ks.CAMERA_CHANGED)&&(r.$camera.style.transform=r.joinTransformMatrix(i.getOrthoMatrix()))}),a.hooks.destroy.tap(e.tag,function(){r.$camera&&r.$camera.remove(),s.removeEventListener(yu.RESIZE,p),s.removeEventListener(el.MOUNTED,c),s.removeEventListener(el.UNMOUNTED,d),s.removeEventListener(el.ATTR_MODIFIED,h),s.removeEventListener(el.BOUNDS_CHANGED,f)})}},{key:"createCamera",value:function(e){var t=this.context.config,n=t.document,r=t.width,i=t.height,o=this.context.contextService.getDomElement(),a=o.parentNode;if(a){var s="g-canvas-camera",l=a.querySelector("#".concat(s));if(!l){var u=(n||document).createElement("div");u.style.overflow="hidden",u.style.pointerEvents="none",u.style.position="absolute",u.style.left="0px",u.style.top="0px",u.style.width="".concat(r||0,"px"),u.style.height="".concat(i||0,"px");var c=(n||document).createElement("div");l=c,c.id=s,c.style.position="absolute",c.style.left="".concat(o.offsetLeft||0,"px"),c.style.top="".concat(o.offsetTop||0,"px"),c.style.transformOrigin="left top",c.style.transform=this.joinTransformMatrix(e.getOrthoMatrix()),c.style.pointerEvents="none",c.style.width="100%",c.style.height="100%",u.appendChild(c),a.appendChild(u)}return l}return null}},{key:"getOrCreateEl",value:function(e){var t=this.context.config.document,n=this.displayObjectHTMLElementMap.get(e);return n||(n=(t||document).createElement("div"),e.parsedStyle.$el=n,this.displayObjectHTMLElementMap.set(e,n),e.id&&(n.id=e.id),e.name&&n.setAttribute("name",e.name),e.className&&(n.className=e.className),n.style.position="absolute",n.style["will-change"]="transform",n.style.transform=this.joinTransformMatrix(e.getWorldTransform(),e.getOrigin())),n}},{key:"updateAttribute",value:function(e,t){var n=this.getOrCreateEl(t);switch(e){case"innerHTML":var r=t.parsedStyle.innerHTML;rt(r)?n.innerHTML=r:(n.innerHTML="",n.appendChild(r));break;case"x":n.style.left="".concat(t.parsedStyle.x,"px");break;case"y":n.style.top="".concat(t.parsedStyle.y,"px");break;case"transformOrigin":var i=t.parsedStyle.transformOrigin;n.style["transform-origin"]="".concat(i[0].buildCSSText(null,null,"")," ").concat(i[1].buildCSSText(null,null,""));break;case"width":var o=t.parsedStyle.width;n.style.width=st(o)?"".concat(o,"px"):o.toString();break;case"height":var a=t.parsedStyle.height;n.style.height=st(a)?"".concat(a,"px"):a.toString();break;case"zIndex":var s=t.parsedStyle.zIndex;n.style["z-index"]="".concat(s);break;case"visibility":var l=t.parsedStyle.visibility;n.style.visibility=l;break;case"pointerEvents":var u=t.parsedStyle.pointerEvents,c=void 0===u?"auto":u;n.style.pointerEvents=c;break;case"opacity":var d=t.parsedStyle.opacity;n.style.opacity="".concat(d);break;case"fill":var h=t.parsedStyle.fill,f="";Eo(h)?f=h.isNone?"transparent":t.getAttribute("fill"):Array.isArray(h)?f=t.getAttribute("fill"):xo(h),n.style.background=f;break;case"stroke":var p=t.parsedStyle.stroke,g="";Eo(p)?g=p.isNone?"transparent":t.getAttribute("stroke"):Array.isArray(p)?g=t.getAttribute("stroke"):xo(p),n.style["border-color"]=g,n.style["border-style"]="solid";break;case"lineWidth":var m=t.parsedStyle.lineWidth;n.style["border-width"]="".concat(m||0,"px");break;case"lineDash":n.style["border-style"]="dashed";break;case"filter":var y=t.style.filter;n.style.filter=y;break;default:qe(t.style[e])||""===t.style[e]||(n.style[e]=t.style[e])}}}])}();
/*!
   * @antv/g-plugin-html-renderer
   * @description A G plugin for rendering HTML
   * @version 2.1.24
   * @date 5/9/2025, 8:20:22 AM
   * @author AntVis
   * @docs https://g.antv.antgroup.com/
   */jp.tag="HTMLRendering";var Bp=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=y(this,t,[].concat(r))).name="html-renderer",e}return b(t,e),c(t,[{key:"init",value:function(){this.addRenderingPlugin(new jp)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(mr),Hp=function(){return c(function e(t){l(this,e),this.renderingContext=t.renderingContext,this.canvasConfig=t.config},[{key:"init",value:function(){var e=this.canvasConfig,t=e.container,n=e.canvas;if(n)this.$canvas=n,t&&n.parentElement!==t&&t.appendChild(n),this.$container=n.parentElement,this.canvasConfig.container=this.$container;else if(t&&(this.$container=rt(t)?document.getElementById(t):t,this.$container)){var r=document.createElement("canvas");this.$container.appendChild(r),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=r}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)}},{key:"getContext",value:function(){return this.context}},{key:"getDomElement",value:function(){return this.$canvas}},{key:"getDPR",value:function(){return this.dpr}},{key:"getBoundingClientRect",value:function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()}},{key:"destroy",value:function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)}},{key:"resize",value:function(e,t){var n=this.canvasConfig.devicePixelRatio;this.dpr=n,this.$canvas&&(this.$canvas.width=this.dpr*e,this.$canvas.height=this.dpr*t,function(e,t,n){Ya&&e.style&&(e.style.width=t+"px",e.style.height=n+"px")}(this.$canvas,e,t)),this.renderingContext.renderReasons.add(Ks.CAMERA_CHANGED)}},{key:"applyCursorStyle",value:function(e){this.$container&&this.$container.style&&(this.$container.style.cursor=e)}},{key:"toDataURL",value:(e=ur(sr().mark(function e(){var t,n,r,i=arguments;return sr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=i.length>0&&void 0!==i[0]?i[0]:{}).type,r=t.encoderOptions,e.abrupt("return",this.context.canvas.toDataURL(n,r));case 3:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})}]);var e}(),Vp=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=y(this,t,[].concat(r))).name="canvas-context-register",e}return b(t,e),c(t,[{key:"init",value:function(){this.context.ContextService=Hp}},{key:"destroy",value:function(){delete this.context.ContextService}}])}(mr),Up=function(e){function t(e){var n;return l(this,t),(n=y(this,t,[e])).registerPlugin(new Vp),n.registerPlugin(new bp),n.registerPlugin(new zf),n.registerPlugin(new Ip),n.registerPlugin(new Fp),n.registerPlugin(new sp),n.registerPlugin(new Bp),n}return b(t,e),c(t)}(yr),Wp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};
/*!
   * @antv/g-canvas
   * @description A renderer implemented by Canvas 2D API
   * @version 2.0.44
   * @date 5/30/2025, 2:57:07 AM
   * @author AntVis
   * @docs https://g.antv.antgroup.com/
   */class Gp extends Ef{constructor(e){super(Object.assign(Object.assign({},e),{style:Object.assign({},Gp.defaultStyleProps,e.style)})),this.rootPointerEvent=new Vs(null),this.forwardEvents=e=>{const t=this.context.canvas,n=t.context.renderingContext.root.ownerDocument.defaultView;this.normalizeToPointerEvent(e,n).forEach(r=>{const i=this.bootstrapEvent(this.rootPointerEvent,r,n,e);Nt(t.context.eventService,"mappingTable.pointerupoutside",[]),t.context.eventService.mapEvent(i)})}}get eventService(){return this.context.canvas.context.eventService}get events(){return[Cc.CLICK,Cc.POINTER_DOWN,Cc.POINTER_MOVE,Cc.POINTER_UP,Cc.POINTER_OVER,Cc.POINTER_LEAVE]}getDomElement(){return this.getShape("key").getDomElement()}render(e=this.parsedAttributes,t=this){this.drawKeyShape(e,t),this.drawPortShapes(e,t)}getKeyStyle(e){const t=At(e,["dx","dy","innerHTML","pointerEvents","cursor"]),{dx:n=0,dy:r=0}=t,i=Wp(t,["dx","dy"]),[o,a]=this.getSize(e);return Object.assign(Object.assign({x:n,y:r},i),{width:o,height:a})}drawKeyShape(e,t){const n=this.getKeyStyle(e),{x:r,y:i,width:o=0,height:a=0}=n,s=this.upsert("key-container",su,{x:r,y:i,width:o,height:a,opacity:0},t);return this.upsert("key",Ql,n,s)}connectedCallback(){if(!(this.context.canvas.getRenderer("main")instanceof Up))return;const e=this.getDomElement();this.events.forEach(t=>{e.addEventListener(t,this.forwardEvents)})}attributeChangedCallback(e,t,n){"zIndex"===e&&t!==n&&(this.getDomElement().style.zIndex=n)}destroy(){const e=this.getDomElement();this.events.forEach(t=>{e.removeEventListener(t,this.forwardEvents)}),super.destroy()}normalizeToPointerEvent(e,t){const n=[];if(t.isTouchEvent(e))for(let t=0;t<e.changedTouches.length;t++){const r=e.changedTouches[t];yt(r.button)&&(r.button=0),yt(r.buttons)&&(r.buttons=1),yt(r.isPrimary)&&(r.isPrimary=1===e.touches.length&&"touchstart"===e.type),yt(r.width)&&(r.width=r.radiusX||1),yt(r.height)&&(r.height=r.radiusY||1),yt(r.tiltX)&&(r.tiltX=0),yt(r.tiltY)&&(r.tiltY=0),yt(r.pointerType)&&(r.pointerType="touch"),yt(r.pointerId)&&(r.pointerId=r.identifier||0),yt(r.pressure)&&(r.pressure=r.force||.5),yt(r.twist)&&(r.twist=0),yt(r.tangentialPressure)&&(r.tangentialPressure=0),r.isNormalized=!0,r.type=e.type,n.push(r)}else if(t.isMouseEvent(e)){const t=e;yt(t.isPrimary)&&(t.isPrimary=!0),yt(t.width)&&(t.width=1),yt(t.height)&&(t.height=1),yt(t.tiltX)&&(t.tiltX=0),yt(t.tiltY)&&(t.tiltY=0),yt(t.pointerType)&&(t.pointerType="mouse"),yt(t.pointerId)&&(t.pointerId=1),yt(t.pressure)&&(t.pressure=.5),yt(t.twist)&&(t.twist=0),yt(t.tangentialPressure)&&(t.tangentialPressure=0),t.isNormalized=!0,n.push(t)}else n.push(e);return n}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.metaKey=t.metaKey,e.shiftKey=t.shiftKey,e.ctrlKey=t.ctrlKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.screen.x=t.screenX,e.screen.y=t.screenY,e.relatedTarget=null}bootstrapEvent(e,t,n,r){e.view=n,e.originalEvent=null,e.nativeEvent=r,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t);const{x:i,y:o}=this.getViewportXY(t);e.viewport.x=i,e.viewport.y=o;const[a,s]=this.context.canvas.getCanvasByViewport([i,o]);return e.canvas.x=a,e.canvas.y=s,e.global.copyFrom(e.canvas),e.offset.copyFrom(e.canvas),e.isTrusted=r.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e}getViewportXY(e){let t,n;const{offsetX:r,offsetY:i,clientX:o,clientY:a}=e;if(qe(r)||qe(i)){const e=this.eventService.client2Viewport({x:o,y:a});t=e.x,n=e.y}else t=r,n=i;return{x:t,y:n}}onframe(){super.onframe();const{opacity:e}=this.attributes;this.getDomElement().style.opacity=`${e}`}}Gp.defaultStyleProps={size:[160,80],halo:!1,icon:!1,label:!1,pointerEvents:"auto"};var $p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};let qp=class e extends Ef{constructor(t){super(Qh({style:e.defaultStyleProps},t))}getKeyStyle(e){const[t,n]=this.getSize(e),r=super.getKeyStyle(e),{fillOpacity:i,opacity:o=i}=r,a=$p(r,["fillOpacity","opacity"]);return Object.assign(Object.assign({opacity:o},a),{width:t,height:n,x:-t/2,y:-n/2})}getBounds(){return this.getShape("key").getBounds()}getHaloStyle(e){if(!1===e.halo)return!1;const t=this.getShape("key").attributes,{fill:n,stroke:r}=t;$p(t,["fill","stroke"]);const i=Gh(this.getGraphicStyle(e),"halo"),o=Number(i.lineWidth),[a,s]=Xd(this.getSize(e),[o,o]),{lineWidth:l}=i,u={fill:"transparent",lineWidth:l/2,width:a-l/2,height:s-l/2,x:-(a-l/2)/2,y:-(s-l/2)/2};return Object.assign(Object.assign({},i),u)}getIconStyle(e){const t=super.getIconStyle(e),[n,r]=this.getSize(e);return!!t&&Object.assign({width:n*Dh,height:r*Dh},t)}drawKeyShape(e,t){const n=this.upsert("key",pf,this.getKeyStyle(e),t);return yf(this),n}drawHaloShape(e,t){this.upsert("halo",su,this.getHaloStyle(e),t)}update(e){super.update(e),e&&("x"in e||"y"in e||"z"in e)&&vf(this)}};qp.defaultStyleProps={size:32};class Yp extends Sf{constructor(e){super(Qh({style:Yp.defaultStyleProps},e))}getPoints(e){const{direction:t}=e,[n,r]=this.getSize(e);return function(e,t,n){const r=t/2,i=e/2,o={up:[[-i,r],[i,r],[0,-r]],left:[[-i,0],[i,r],[i,-r]],right:[[-i,r],[-i,-r],[i,0]],down:[[-i,-r],[i,-r],[0,r]]};return o[n]||o.up}(n,r,t)}getPortXY(e,t){const{direction:n}=e,{placement:r="top"}=t,i=this.getShape("key").getLocalBounds(),[o,a]=this.getSize(e),s=function(e,t,n){const r=t/2,i=e/2,o={};"down"===n?(o.bottom=o.default=[0,r],o.right=[i,-r],o.left=[-i,-r]):"left"===n?(o.top=[i,-r],o.bottom=[i,r],o.left=o.default=[-i,0]):"right"===n?(o.top=[-i,-r],o.bottom=[-i,r],o.right=o.default=[i,0]):(o.left=[-i,r],o.top=o.default=[0,-r],o.right=[i,r]);return o}(o,a,n);return Gg(i,r,s,!1)}getIconStyle(e){const{icon:t,iconText:n,iconSrc:r,direction:i}=e;if(!1===t||Tt(n||r))return!1;const o=Gh(this.getGraphicStyle(e),"icon"),a=this.getShape("key").getLocalBounds(),[s,l]=function(e,t){const{center:n}=e,[r,i]=ld(e);return["up"===t||"down"===t?n[0]:"right"===t?n[0]-r/6:n[0]+r/6,"left"===t||"right"===t?n[1]:"down"===t?n[1]-i/6:n[1]+i/6]}(a,i),u=2*function(e,t){let[n,r]=ld(e);return[n,r]="up"===t||"down"===t?[n,r]:[r,n],(Math.pow(r,2)-Math.pow(Math.sqrt(Math.pow(n/2,2)+Math.pow(r,2))-n/2,2))/(2*r)}(a,i)*Dh;return Object.assign({x:s,y:l,width:u,height:u},o)}}Yp.defaultStyleProps={size:40,direction:"up"};var Xp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class Kp extends Ef{constructor(e){super(Qh({style:Kp.defaultStyleProps},e)),this.type="combo",this.updateComboPosition(this.parsedAttributes)}getKeySize(e){const{collapsed:t,childrenNode:n=[]}=e;return 0===n.length?this.getEmptyKeySize(e):t?this.getCollapsedKeySize(e):this.getExpandedKeySize(e)}getEmptyKeySize(e){const{padding:t,collapsedSize:n}=e,[r,i,o,a]=id(t);return Xd(Yh(n),[a+i,r+o,0])}getCollapsedKeySize(e){return Yh(e.collapsedSize)}getExpandedKeySize(e){const t=this.getContentBBox(e);return[ad(t),sd(t),0]}getContentBBox(e){const{childrenNode:t=[],padding:n}=e,r=t.map(e=>this.context.element.getElement(e)).filter(Boolean);if(0===r.length){const t=new Sr,{x:n=0,y:r=0,size:i}=e,[o,a]=Yh(i);return t.setMinMax([n-o/2,r-a/2,0],[n+o/2,r+a/2,0]),t}const i=hd(r.map(e=>e.getBounds()));return n?dd(i,n):i}drawCollapsedMarkerShape(e,t){const n=this.getCollapsedMarkerStyle(e);this.upsert("collapsed-marker",bf,n,t),yf(this)}getCollapsedMarkerStyle(e){if(!e.collapsed||!e.collapsedMarker)return!1;const t=Gh(this.getGraphicStyle(e),"collapsedMarker"),{type:n}=t,r=Xp(t,["type"]),i=this.getShape("key"),[o,a]=ph(i.getLocalBounds(),"center"),s=Object.assign(Object.assign({},r),{x:o,y:a});if(n){const t=this.getCollapsedMarkerText(n,e);Object.assign(s,{text:t})}return s}getCollapsedMarkerText(e,t){const{childrenData:n=[]}=t,{model:r}=this.context;return"descendant-count"===e?r.getDescendantsData(this.id).length.toString():"child-count"===e?n.length.toString():"node-count"===e?r.getDescendantsData(this.id).filter(e=>"node"===r.getElementType(Ad(e))).length.toString():$e(e)?e(n):""}getComboPosition(e){const{x:t=0,y:n=0,collapsed:r,childrenData:i=[]}=e;if(0===i.length)return[+t,+n,0];if(r){const{model:e}=this.context,r=e.getDescendantsData(this.id).filter(t=>!e.isCombo(Ad(t)));if(r.length>0&&r.some(fh)){return Zd(r.reduce((e,t)=>Xd(e,hh(t)),[0,0,0]),r.length)}return[+t,+n,0]}return this.getContentBBox(e).center}getComboStyle(e){const[t,n]=this.getComboPosition(e);return{x:t,y:n,transform:[["translate",t,n]]}}updateComboPosition(e){const t=this.getComboStyle(e);Object.assign(this.style,t);const{x:n,y:r}=t;this.context.model.syncNodeLikeDatum({id:this.id,style:{x:n,y:r}}),vf(this)}render(e,t=this){super.render(e,t),this.drawCollapsedMarkerShape(e,t)}update(e={}){super.update(e),this.updateComboPosition(this.parsedAttributes)}onframe(){super.onframe(),this.attributes.collapsed||this.updateComboPosition(this.parsedAttributes),this.drawKeyShape(this.parsedAttributes,this)}animate(e,t){const n=super.animate(this.attributes.collapsed?e:e.map(e=>{var{x:t,y:n,z:r,transform:i}=e;return Xp(e,["x","y","z","transform"])}),t);return n?new Proxy(n,{set:(e,t,n)=>("currentTime"===t&&Promise.resolve().then(()=>this.onframe()),Reflect.set(e,t,n))}):n}}Kp.defaultStyleProps={childrenNode:[],droppable:!0,draggable:!0,collapsed:!1,collapsedSize:32,collapsedMarker:!0,collapsedMarkerZIndex:1,collapsedMarkerFontSize:12,collapsedMarkerTextAlign:"center",collapsedMarkerTextBaseline:"middle",collapsedMarkerType:"child-count"};const Qp={padding:10};function Zp(e,t,n,r,i,o){const{padding:a}=Object.assign(Qp,o),s=ud(n,a),l=ud(r,a),u=[e,...i,t];let c=null;const d=[];for(let e=0,t=u.length;e<t-1;e++){const n=e+1,r=u[e],i=u[n],o=wh(r,i);let h=null;if(0===e)if(n===t-1)if(s.intersects(l))h=sg(r,i,s,l);else if(gd(r,s)||gd(i,l))o||(h=ag(r,i,s,l));else{const e=yd(r,s),t=yd(i,l);h=rg(e,t,tg(e,t)),h.points.unshift(e),h.points.push(t)}else fd(i,s)?h=sg(r,i,s,ud(i,a),c):o||(h=ig(r,i,s));else n===t-1?fd(r,l)?h=sg(r,i,ud(r,a),l,c):o||(h=og(r,i,l,c)):o||(h=rg(r,i,c));h?(d.push(...h.points),c=h.direction):c=tg(r,i),n<t-1&&d.push(i)}return d.map(ah)}const Jp={N:"S",S:"N",W:"E",E:"W"},eg={N:-Math.PI/2,S:Math.PI/2,E:0,W:Math.PI};function tg(e,t){const[n,r]=e,[i,o]=t;return n===i?r>o?"N":"S":r===o?n>i?"W":"E":null}function ng(e,t){return"N"===t||"S"===t?sd(e):ad(e)}function rg(e,t,n){const r=[e[0],t[1]],i=[t[0],e[1]],o=tg(e,r),a=tg(e,i),s=n?Jp[n]:null,l=o===n||o!==s&&a!==n?r:i;return{points:[l],direction:tg(l,t)}}function ig(e,t,n){if(gd(e,n)){const r=lg(e,t,n);return{points:[r],direction:tg(r,t)}}{const r=yd(e,n),i=["left","right"].includes(md(e,n))?[t[0],r[1]]:[r[0],t[1]];return{points:[i],direction:tg(i,t)}}}function og(e,t,n,r){const i=gd(t,n)?t:yd(t,n),o=[[i[0],e[1]],[e[0],i[1]]],a=o.filter(e=>function(e,t){return!fd(e,t)}(e,n)&&!pd(e,n,!0)),s=a.filter(t=>tg(t,e)!==r);if(s.length>0){const n=s.find(t=>tg(e,t)===r)||s[0];return{points:[n],direction:tg(n,t)}}{const i=vh(t,Ge(o,a)[0],ng(n,r)/2);return{points:[lg(i,e,n),i],direction:tg(i,t)}}}function ag(e,t,n,r){let i=ig(e,t,n);const o=sh(i.points[0]);if(fd(o,r)){i=ig(t,e,r);const a=sh(i.points[0]);if(fd(a,n)){const s=vh(e,o,ng(n,tg(e,o))/2),l=vh(t,a,ng(r,tg(t,a))/2),u=[(s[0]+l[0])/2,(s[1]+l[1])/2],c=ig(e,u,n),d=og(u,t,r,c.direction);i.points=[c.points[0],d.points[0]],i.direction=d.direction}}return i}function sg(e,t,n,r,i){const o=.01,a=hd([n,r]),s=eh(t,a.center)>eh(e,a.center),[l,u]=s?[t,e]:[e,t],c=sd(a)+ad(a);let d;if(i){const e=[l[0]+c*Math.cos(eg[i]),l[1]+c*Math.sin(eg[i])];d=vh(yd(e,a),e,o)}else d=vh(yd(l,a),l,-.01);let h=lg(d,u,a),f=[yh(d,2),yh(h,2)];if(Ot(yh(d),yh(h))){const e=rh(Kd(d,l),[1,0,0])+Math.PI/2;h=[u[0]+c*Math.cos(e),u[1]+c*Math.sin(e),0],h=yh(vh(yd(h,a),u,-.01),2);f=[d,lg(d,h,a),h]}return{points:s?f.reverse():f,direction:tg(s?d:h,t)}}function lg(e,t,n){let r=[e[0],t[1]];return fd(r,n)&&(r=[t[0],e[1]]),r}function ug(e,t,n,r,i){let o="number"==typeof t?t:.5;"start"===t&&(o=0),"end"===t&&(o=.99);const a=gh(e.getPoint(o)),s=gh(e.getPoint(o+.01));let l="start"===t?"left":"end"===t?"right":"center";if(bh(a,s)||!n){const[t,n]=cg(e,o,r,i);return{transform:[["translate",t,n]],textAlign:l}}let u=Math.atan2(s[1]-a[1],s[0]-a[0]);s[0]<a[0]&&(l="center"===l?l:"left"===l?"right":"left",r*=-1,u+=Math.PI);const[c,d]=cg(e,o,r,i,u);return{textAlign:l,transform:[["translate",c,d],["rotate",u/Math.PI*180]]}}function cg(e,t,n,r,i){const[o,a]=gh(e.getPoint(t));let s=n,l=r;return i&&(s=n*Math.cos(i)-r*Math.sin(i),l=n*Math.sin(i)+r*Math.cos(i)),[o+s,a+l]}function dg(e,t,n,r){if(Ot(e,t))return e;const i=Kd(t,e),o=[e[0]+n*i[0],e[1]+n*i[1]],a=nh(ih(i,!1));return o[0]+=r*a[0],o[1]+=r*a[1],o}function hg(e,t,n){return[["M",e[0],e[1]],["C",n[0][0],n[0][1],n[1][0],n[1][1],t[0],t[1]]]}function fg(e,t=0,n=!1){const r=e.length-1,i=e[0],o=e[r],a=e.slice(1,r),s=[["M",i[0],i[1]]];return a.forEach((e,n)=>{const r=a[n-1]||i,l=a[n+1]||o;if(!xh(r,e,l)&&t){const[n,i]=function(e,t,n,r){const i=th(e,t),o=th(n,t),a=Math.min(r,Math.min(i,o)/2),s=[t[0]-a/i*(t[0]-e[0]),t[1]-a/i*(t[1]-e[1])],l=[t[0]-a/o*(t[0]-n[0]),t[1]-a/o*(t[1]-n[1])];return[s,l]}(r,e,l,t);s.push(["L",n[0],n[1]],["Q",e[0],e[1],i[0],i[1]],["L",i[0],i[1]])}else s.push(["L",e[0],e[1]])}),s.push(["L",o[0],o[1]]),n&&s.push(["Z"]),s}function pg(e,t,n,r,i){const o=ud(e),a=e.getCenter();let s=r&&Yg(r),l=i&&Yg(i);if(!s||!l){const r=(e=>{const t=Math.PI/2,n=sd(e)/2,r=ad(e)/2,i=Math.atan2(n,r)/2,o=Math.atan2(r,n)/2;return{top:[-t-o,-t+o],"top-right":[-t+o,-i],"right-top":[-t+o,-i],right:[-i,i],"bottom-right":[i,t-o],"right-bottom":[i,t-o],bottom:[t-o,t+o],"bottom-left":[t+o,Math.PI-i],"left-bottom":[t+o,Math.PI-i],left:[Math.PI-i,Math.PI+i],"top-left":[Math.PI+i,-t-o],"left-top":[Math.PI+i,-t-o]}})(o),i=r[t][0],u=r[t][1],[c,d]=ld(o),h=Math.max(c,d),f=Xd(a,[h*Math.cos(i),h*Math.sin(i),0]),p=Xd(a,[h*Math.cos(u),h*Math.sin(u),0]);s=Zg(e,f),l=Zg(e,p),n||([s,l]=[l,s])}return[s,l]}function gg(e,t,n,r,i,o){const a=e.getPorts()[i||o],s=e.getPorts()[o||i];let[l,u]=pg(e,t,n,a,s);const c=function(e,t,n,r){const i=e.getCenter();if(Ot(t,n)){const e=Kd(t,i),o=[r*Math.sign(e[0])||r/2,r*Math.sign(e[1])||-r/2,0];return[Xd(t,o),Xd(n,Qd(o,[1,-1,1]))]}return[vh(i,t,eh(i,t)+r),vh(i,n,eh(i,n)+r)]}(e,l,u,r);return a&&(l=Qg(a,c[0])),s&&(u=Qg(s,c.at(-1))),hg(l,u,c)}function mg(e,t,n,r,i,o,a){const s=$g(e),l=s[o||a],u=s[a||o];let[c,d]=pg(e,n,r,l,u);const h=function(e,t,n,r){const i=[],o=ud(e);if(Ot(t,n)){switch(md(t,o)){case"left":i.push([t[0]-r,t[1]]),i.push([t[0]-r,t[1]+r]),i.push([t[0],t[1]+r]);break;case"right":i.push([t[0]+r,t[1]]),i.push([t[0]+r,t[1]+r]),i.push([t[0],t[1]+r]);break;case"top":i.push([t[0],t[1]-r]),i.push([t[0]+r,t[1]-r]),i.push([t[0]+r,t[1]]);break;case"bottom":i.push([t[0],t[1]+r]),i.push([t[0]+r,t[1]+r]),i.push([t[0]+r,t[1]])}}else{const e=md(t,o),a=md(n,o);if(e===a){let o,a;switch(e){case"left":o=Math.min(t[0],n[0])-r,i.push([o,t[1]]),i.push([o,n[1]]);break;case"right":o=Math.max(t[0],n[0])+r,i.push([o,t[1]]),i.push([o,n[1]]);break;case"top":a=Math.min(t[1],n[1])-r,i.push([t[0],a]),i.push([n[0],a]);break;case"bottom":a=Math.max(t[1],n[1])+r,i.push([t[0],a]),i.push([n[0],a])}}else{const s=(e,t)=>({left:[t[0]-r,t[1]],right:[t[0]+r,t[1]],top:[t[0],t[1]-r],bottom:[t[0],t[1]+r]}[e]),l=s(e,t),u=s(a,n),c=lg(l,u,o);i.push(l,c,u)}}return i}(e,c,d,i);return l&&(c=Qg(l,h[0])),u&&(d=Qg(u,h.at(-1))),fg([c,...h,d],t)}function yg(e,t){const n=new Set,r=new Set,i=new Set;return e.forEach(o=>{t(o).forEach(t=>{n.add(t),e.includes(t.source)&&e.includes(t.target)?r.add(t):i.add(t)})}),{edges:Array.from(n),internal:Array.from(r),external:Array.from(i)}}function vg(e,t){const n=[];let r=e;for(;r;){n.push(r);const e=t(Ad(r));if(!e)break;r=e}if(n.some(e=>{var t;return null===(t=e.style)||void 0===t?void 0:t.collapsed})){const e=n.reverse().findIndex(Vh);return n[e]||n.at(-1)}return e}const bg=(e,t)=>[["M",-e/2,0],["L",e/2,-t/2],["L",e/2,t/2],["Z"]];var wg=Object.freeze({__proto__:null,circle:(e,t)=>{const n=Math.max(e,t)/2;return[["M",-e/2,0],["A",n,n,0,1,0,2*n-e/2,0],["A",n,n,0,1,0,-e/2,0],["Z"]]},diamond:(e,t)=>[["M",-e/2,0],["L",0,-t/2],["L",e/2,0],["L",0,t/2],["Z"]],rect:(e,t)=>[["M",-e/2,-t/2],["L",e/2,-t/2],["L",e/2,t/2],["L",-e/2,t/2],["Z"]],simple:(e,t)=>[["M",e/2,-t/2],["L",-e/2,0],["L",e/2,0],["L",-e/2,0],["L",e/2,t/2]],triangle:bg,triangleRect:(e,t)=>{const n=e/2,r=e/7,i=e-r;return[["M",-n,0],["L",0,-t/2],["L",0,t/2],["Z"],["M",i-n,-t/2],["L",i+r-n,-t/2],["L",i+r-n,t/2],["L",i-n,t/2],["Z"]]},vee:(e,t)=>[["M",-e/2,0],["L",e/2,-t/2],["L",4*e/5-e/2,0],["L",e/2,t/2],["Z"]]}),xg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class Eg extends wf{constructor(e){super(Qh({style:Eg.defaultStyleProps},e)),this.type="edge"}get sourceNode(){const{sourceNode:e}=this.parsedAttributes;return this.context.element.getElement(e)}get targetNode(){const{targetNode:e}=this.parsedAttributes;return this.context.element.getElement(e)}getKeyStyle(e){const t=this.getGraphicStyle(e),{loop:n}=t,r=xg(t,["loop"]),{sourceNode:i,targetNode:o}=this;var a,s;const l={d:n&&(s=o,(a=i)&&s&&a===s)?this.getLoopPath(e):this.getKeyPath(e)};return nu.PARSED_STYLE_LIST.forEach(e=>{e in r&&(l[e]=r[e])}),l}getLoopPath(e){const{sourcePort:t,targetPort:n}=e,r=this.sourceNode,i=ud(r),o=Math.max(ad(i),sd(i)),{placement:a,clockwise:s,dist:l=o}=Gh(this.getGraphicStyle(e),"loop");return gg(r,a,s,l,t,n)}getEndpoints(e,t=!0,n=[]){const{sourcePort:r,targetPort:i}=e,{sourceNode:o,targetNode:a}=this,[s,l]=function(e,t,n,r){const i=Xg(e,t,n,r),o=Xg(t,e,r,n);return[i,o]}(o,a,r,i);if(!t){return[s?Yg(s):o.getCenter(),l?Yg(l):a.getCenter()]}const u="function"==typeof n?n():n;return[Kg(s||o,u[0]||l||a),Kg(l||a,u[u.length-1]||s||o)]}getHaloStyle(e){if(!1===e.halo)return!1;const t=this.getKeyStyle(e),n=Gh(this.getGraphicStyle(e),"halo");return Object.assign(Object.assign({},t),n)}getLabelStyle(e){if(!1===e.label||!e.labelText)return!1;const t=Gh(this.getGraphicStyle(e),"label"),{placement:n,offsetX:r,offsetY:i,autoRotate:o,maxWidth:a}=t,s=xg(t,["placement","offsetX","offsetY","autoRotate","maxWidth"]),l=ug(this.shapeMap.key,n,o,r,i),u=this.shapeMap.key.getLocalBounds(),c=function(e,t,n=1){return ef(eh(e[0],e[1])*n,t)}([u.min,u.max],a);return Object.assign({wordWrapWidth:c},l,s)}getBadgeStyle(e){if(!1===e.badge||!e.badgeText)return!1;const t=Gh(e,"badge"),{offsetX:n,offsetY:r,placement:i}=t,o=xg(t,["offsetX","offsetY","placement"]);return Object.assign(o,function(e,t,n,r,i){var o,a;const s=2*(null===(o=e.badge)||void 0===o?void 0:o.getGeometryBounds().halfExtents[0])||0,l=2*(null===(a=e.label)||void 0===a?void 0:a.getGeometryBounds().halfExtents[0])||0;return ug(e.key,n,!0,(l?(l/2+s/2)*("suffix"===t?1:-1):0)+r,i)}(this.shapeMap,i,e.labelPlacement,n,r))}drawArrow(e,t){var n;const r="start"===t,i=e["start"===t?"startArrow":"endArrow"],o=this.shapeMap.key;if(i){const t=this.getArrowStyle(e,r),[n,i,a]=r?["markerStart","markerStartOffset","startArrowOffset"]:["markerEnd","markerEndOffset","endArrowOffset"],s=o.parsedStyle[n];if(s)s.attr(t);else{const e=new(t.src?Zl:nu)({style:t});o.style[n]=e}o.style[i]=e[a]||t.width/2+ +t.lineWidth}else{const e=r?"markerStart":"markerEnd";null===(n=o.style[e])||void 0===n||n.destroy(),o.style[e]=null}}getArrowStyle(e,t){const n=this.getShape("key").attributes,r=t?"startArrow":"endArrow",i=Gh(this.getGraphicStyle(e),r),{size:o,type:a}=i,s=xg(i,["size","type"]),[l,u]=Yh(function(e,t){return t||(e<4?10:4===e?12:2.5*e)}(n.lineWidth,o)),c=($e(a)?a:wg[a]||bg)(l,u);return Object.assign(At(n,["stroke","strokeOpacity","fillOpacity"]),{width:l,height:u},Object.assign({},c&&{d:c,fill:"simple"===a?"":n.stroke}),s)}drawLabelShape(e,t){const n=this.getLabelStyle(e);this.upsert("label",sf,n,t)}drawHaloShape(e,t){const n=this.getHaloStyle(e);this.upsert("halo",nu,n,t)}drawBadgeShape(e,t){const n=this.getBadgeStyle(e);this.upsert("badge",lf,n,t)}drawSourceArrow(e){this.drawArrow(e,"start")}drawTargetArrow(e){this.drawArrow(e,"end")}drawKeyShape(e,t){const n=this.getKeyStyle(e);return this.upsert("key",nu,n,t)}render(e=this.parsedAttributes,t=this){this.drawKeyShape(e,t),this.getShape("key")&&(this.drawSourceArrow(e),this.drawTargetArrow(e),this.drawLabelShape(e,t),this.drawHaloShape(e,t),this.drawBadgeShape(e,t))}onframe(){this.drawKeyShape(this.parsedAttributes,this),this.drawSourceArrow(this.parsedAttributes),this.drawTargetArrow(this.parsedAttributes),this.drawHaloShape(this.parsedAttributes,this),this.drawLabelShape(this.parsedAttributes,this),this.drawBadgeShape(this.parsedAttributes,this)}animate(e,t){const n=super.animate(e,t);return n?new Proxy(n,{set:(e,t,n)=>("currentTime"===t&&Promise.resolve().then(()=>this.onframe()),Reflect.set(e,t,n))}):n}}Eg.defaultStyleProps={badge:!0,badgeOffsetX:0,badgeOffsetY:0,badgePlacement:"suffix",isBillboard:!0,label:!0,labelAutoRotate:!0,labelIsBillboard:!0,labelMaxWidth:"80%",labelOffsetX:4,labelOffsetY:0,labelPlacement:"center",labelTextBaseline:"middle",labelWordWrap:!1,halo:!1,haloDroppable:!1,haloLineDash:0,haloLineWidth:12,haloPointerEvents:"none",haloStrokeOpacity:.25,haloZIndex:-1,loop:!0,startArrow:!1,startArrowLineDash:0,startArrowLineJoin:"round",startArrowLineWidth:1,startArrowTransformOrigin:"center",startArrowType:"vee",endArrow:!1,endArrowLineDash:0,endArrowLineJoin:"round",endArrowLineWidth:1,endArrowTransformOrigin:"center",endArrowType:"vee",loopPlacement:"top",loopClockwise:!0};class kg extends Eg{constructor(e){super(Qh({style:kg.defaultStyleProps},e))}getKeyPath(e){const[t,n]=this.getEndpoints(e),{controlPoints:r,curvePosition:i,curveOffset:o}=e,a=this.getControlPoints(t,n,function(e){return st(e)?[e,1-e]:e}(i),function(e){return st(e)?[e,-e]:e}(o),r);return hg(t,n,a)}getControlPoints(e,t,n,r,i){return 2===(null==i?void 0:i.length)?i:[dg(e,t,n[0],r[0]),dg(e,t,n[1],r[1])]}}kg.defaultStyleProps={curvePosition:.5,curveOffset:20};class Sg extends kg{constructor(e){super(Qh({style:Sg.defaultStyleProps},e))}getControlPoints(e,t,n,r){const i=t[0]-e[0];return[[e[0]+i*n[0]+r[0],e[1]],[t[0]-i*n[1]+r[1],t[1]]]}}Sg.defaultStyleProps={curvePosition:[.5,.5],curveOffset:[0,0]};class Mg extends kg{constructor(e){super(Qh({style:Mg.defaultStyleProps},e))}get ref(){return this.context.model.getRootsData()[0]}getEndpoints(e){if(this.sourceNode.id===this.ref.id)return super.getEndpoints(e);const t=hh(this.ref);return[this.sourceNode.getIntersectPoint(t,!0),this.targetNode.getIntersectPoint(t)]}toRadialCoordinate(e){const t=hh(this.ref);return[eh(e,t),lh(Kd(e,t))]}getControlPoints(e,t,n,r){const[i,o]=this.toRadialCoordinate(e),[a]=this.toRadialCoordinate(t),s=a-i;return[[e[0]+(s*n[0]+r[0])*Math.cos(o),e[1]+(s*n[0]+r[0])*Math.sin(o)],[t[0]-(s*n[1]-r[0])*Math.cos(o),t[1]-(s*n[1]-r[0])*Math.sin(o)]]}}Mg.defaultStyleProps={curvePosition:.5,curveOffset:20};class Tg extends kg{constructor(e){super(Qh({style:Tg.defaultStyleProps},e))}getControlPoints(e,t,n,r){const i=t[1]-e[1];return[[e[0],e[1]+i*n[0]+r[0]],[t[0],t[1]-i*n[1]+r[1]]]}}Tg.defaultStyleProps={curvePosition:[.5,.5],curveOffset:[0,0]};let Og=class e extends Eg{constructor(t){super(Qh({style:e.defaultStyleProps},t))}getKeyPath(e){const[t,n]=this.getEndpoints(e);return[["M",t[0],t[1]],["L",n[0],n[1]]]}};Og.defaultStyleProps={};const Cg={enableObstacleAvoidance:!1,offset:10,maxAllowedDirectionChange:Math.PI/2,maximumLoops:3e3,gridSize:5,startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{right:{stepX:1,stepY:0},left:{stepX:-1,stepY:0},bottom:{stepX:0,stepY:1},top:{stepX:0,stepY:-1}},penalties:{0:0,90:0},distFunc:th},Ng=e=>`${Math.round(e[0])}|||${Math.round(e[1])}`;function Pg(e,t){const n=e=>Math.round(e/t);return st(e)?n(e):e.map(n)}function Ag(e,t){const n=t[0]-e[0],r=t[1]-e[1];return n||r?Math.atan2(r,n):0}function Rg(e,t,n,r){const i=Ag(e,t),o=n[Ng(e)];return function(e,t){const n=Math.abs(e-t);return n>Math.PI?2*Math.PI-n:n}(Ag(o||r,e),i)}function _g(e,t,n){return Math.min(...t.map(t=>n(e,t)))}const Dg=(e,t,n,r)=>{if(!t)return[e];const{directionMap:i,offset:o}=r,a=dd(t.getRenderBounds(),o),s=Object.keys(i).reduce((t,r)=>{if(n.includes(r)){const n=i[r],[o,s]=ld(a),l=[e[0]+n.stepX*o,e[1]+n.stepY*s],u=function(e){const{min:[t,n],max:[r,i]}=e,o=[t,i],a=[r,i],s=[r,n],l=[t,n];return[[o,a],[a,s],[s,l],[l,o]]}(a);for(let n=0;n<u.length;n++){const r=ch([e,l],u[n]);r&&pd(r,a)&&t.push(r)}}return t},[]);return fd(e,a)||s.push(e),s.map(e=>Pg(e,r.gridSize))},Lg=(e,t,n,r,i,o,a)=>{const s=[];let l=[o[0]===r[0]?r[0]:e[0]*a,o[1]===r[1]?r[1]:e[1]*a];s.unshift(l);let u=e,c=t[Ng(u)];for(;c;){const e=c,r=u;Rg(e,r,t,n)&&(l=[e[0]===r[0]?l[0]:e[0]*a,e[1]===r[1]?l[1]:e[1]*a],s.unshift(l)),c=t[Ng(e)],u=e}const d=i.map(e=>[e[0]*a,e[1]*a]),h=function(e,t,n){let r=e[0],i=n(e[0],t);for(let o=0;o<e.length;o++){const a=e[o],s=n(a,t);s<i&&(r=a,i=s)}return r}(d,l,th);return s.unshift(h),s};function Ig(e,t,n,r){const i=ah(e.getCenter()),o=ah(t.getCenter()),a=Object.assign(Cg,r),{gridSize:s}=a,l=((e,t)=>{const{offset:n,gridSize:r}=t,i={};return e.forEach(e=>{if(!e||e.destroyed||!e.isVisible())return;const t=dd(e.getRenderBounds(),n);for(let e=Pg(t.min[0],r);e<=Pg(t.max[0],r);e+=1)for(let n=Pg(t.min[1],r);n<=Pg(t.max[1],r);n+=1)i[`${e}|||${n}`]=!0}),i})(a.enableObstacleAvoidance?n:[e,t],a),u=Pg(i,s),c=Pg(o,s),d=Dg(i,e,a.startDirections,a),h=Dg(o,t,a.endDirections,a);d.forEach(e=>delete l[Ng(e)]),h.forEach(e=>delete l[Ng(e)]);const f={},p={},g={},m={},y={},v=new zg;for(let e=0;e<d.length;e++){const t=d[e],n=Ng(t);f[n]=t,m[n]=0,y[n]=_g(t,h,a.distFunc),v.add({id:n,value:y[n]})}const b=h.map(e=>Ng(e));let w,x=a.maximumLoops,E=1/0;for(const[e,t]of Object.entries(f))y[e]<=E&&(E=y[e],w=t);for(;Object.keys(f).length>0&&x>0;){const e=v.minId(!1);if(!e)break;w=f[e];const t=Ng(w);if(b.includes(t))return Lg(w,g,u,o,d,c,s);delete f[t],v.remove(t),p[t]=!0;for(const e of Object.values(a.directionMap)){const n=Xd(w,[e.stepX,e.stepY]),r=Ng(n);if(p[r])continue;const i=Rg(w,n,g,u);if(i>a.maxAllowedDirectionChange)continue;if(l[r])continue;f[r]||(f[r]=n);const o=a.penalties[i],c=a.distFunc(w,n)+(isNaN(o)?s:o),d=m[t]+c,b=m[r];b&&d>=b||(g[r]=w,m[r]=d,y[r]=d+_g(n,h,a.distFunc),v.add({id:r,value:y[r]}))}x-=1}return[]}class zg{constructor(){this.arr=[],this.map={},this.arr=[],this.map={}}_innerAdd(e,t){let n=0,r=t-1;for(;r-n>1;){const t=Math.floor((n+r)/2);if(this.arr[t].value>e.value)r=t;else{if(!(this.arr[t].value<e.value))return this.arr.splice(t,0,e),void(this.map[e.id]=!0);n=t}}this.arr.splice(r,0,e),this.map[e.id]=!0}add(e){delete this.map[e.id];const t=this.arr.length;if(!t||this.arr[t-1].value<e.value)return this.arr.push(e),void(this.map[e.id]=!0);this._innerAdd(e,t)}remove(e){this.map[e]&&delete this.map[e]}_clearAndGetMinId(){let e;for(let t=this.arr.length-1;t>=0;t--)this.map[this.arr[t].id]?e=this.arr[t].id:this.arr.splice(t,1);return e}_findFirstId(){for(;this.arr.length;){const e=this.arr.shift();if(this.map[e.id])return e.id}}minId(e){return e?this._clearAndGetMinId():this._findFirstId()}}class Fg extends Eg{constructor(e){super(Qh({style:Fg.defaultStyleProps},e))}getControlPoints(e){const{router:t}=e,{sourceNode:n,targetNode:r}=this,[i,o]=this.getEndpoints(e,!1);let a=[];if(t)if("shortest-path"===t.type){a=Ig(n,r,this.context.element.getNodes(),t),a.length||(a=Zp(i,o,n,r,e.controlPoints,{padding:t.offset}))}else"orth"===t.type&&(a=Zp(i,o,n,r,e.controlPoints,t));else a=e.controlPoints;return a}getPoints(e){const t=this.getControlPoints(e),[n,r]=this.getEndpoints(e,!0,t);return[n,...t,r]}getKeyPath(e){return fg(this.getPoints(e),e.radius)}getLoopPath(e){const{sourcePort:t,targetPort:n,radius:r}=e,i=this.sourceNode,o=ud(i),a=Math.max(ad(o),sd(o))/4,{placement:s,clockwise:l,dist:u=a}=Gh(this.getGraphicStyle(e),"loop");return mg(i,r,s,l,u,t,n)}}Fg.defaultStyleProps={radius:0,controlPoints:[],router:!1};class jg extends Eg{constructor(e){super(Qh({style:jg.defaultStyleProps},e))}getKeyPath(e){const{curvePosition:t,curveOffset:n}=e,[r,i]=this.getEndpoints(e);return function(e,t,n){return[["M",e[0],e[1]],["Q",n[0],n[1],t[0],t[1]]]}(r,i,e.controlPoint||dg(r,i,t,n))}}jg.defaultStyleProps={curvePosition:.5,curveOffset:30};var Bg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Hg(e){return e instanceof Ef&&"node"===e.type}function Vg(e){return e instanceof Eg}function Ug(e){return e instanceof Kp}const Wg={top:[.5,0],right:[1,.5],bottom:[.5,1],left:[0,.5],"left-top":[0,0],"top-left":[0,0],"left-bottom":[0,1],"bottom-left":[0,1],"right-top":[1,0],"top-right":[1,0],"right-bottom":[1,1],"bottom-right":[1,1],default:[.5,.5]};function Gg(e,t,n=Wg,r=!0){const i=[.5,.5],o=rt(t)?Ct(n,t.toLocaleLowerCase(),i):t;if(!r&&rt(t))return o;const[a,s]=o||i;return[e.min[0]+ad(e)*a,e.min[1]+sd(e)*s]}function $g(e){if(!e)return{};const t=e.getPorts();return(e.attributes.ports||[]).forEach((n,r)=>{var i;const{key:o,placement:a}=n;qg(n)&&(t[i=o||r]||(t[i]=ph(e.getShape("key").getBounds(),a)))}),t}function qg(e){const{r:t}=e;return!t||0===Number(t)}function Yg(e){return nd(e)?e:e.getPosition()}function Xg(e,t,n,r){const i=$g(e);if(n)return i[n];const o=Object.values(i);if(0===o.length)return;const a=o.map(e=>Yg(e)),s=function(e,t){const n=$g(e);if(t)return[Yg(n[t])];const r=Object.values(n);return r.length>0?r.map(e=>Yg(e)):[e.getCenter()]}(t,r),[l]=function(e,t){let n=1/0,r=[e[0],t[0]];return e.forEach(e=>{t.forEach(t=>{const i=eh(e,t);i<n&&(n=i,r=[e,t])})}),r}(a,s);return o.find(e=>Yg(e)===l)}function Kg(e,t){return Ug(e)||Hg(e)?Zg(e,t):Qg(e,t)}function Qg(e,t){if(!e||!t)return[0,0,0];if(nd(e))return e;if(e.attributes.linkToCenter)return e.getPosition();return Sh(nd(t)?t:Hg(t)?t.getCenter():t.getPosition(),e.getBounds())}function Zg(e,t){if(!e||!t)return[0,0,0];const n=nd(t)?t:Hg(t)?t.getCenter():t.getPosition();return e.getIntersectPoint(n)||e.getCenter()}function Jg(e,t="bottom",n=0,r=0,i=!1){const o=t.split("-"),[a,s]=ph(e,t),[l,u]=i?["bottom","top"]:["top","bottom"];return{transform:[["translate",a+n,s+r]],textBaseline:o.includes("top")?u:o.includes("bottom")?l:"middle",textAlign:o.includes("left")?"right":o.includes("right")?"left":"center"}}function em(e){return"hidden"!==Ct(e,["style","visibility"])}function tm(e,t){"update"in e?e.update(t):e.attr(t)}function nm(e){return Ct(e,"__to_be_destroyed__",!1)}var rm=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class im extends $d{constructor(e,t){super(e,Object.assign({},im.defaultOptions,t)),this.onCollapseExpand=e=>rm(this,void 0,void 0,function*(){if(!this.validate(e))return;const{target:t}=e;if(!(Hg(n=t)||Vg(n)||Ug(n)))return;var n;const r=t.id,{model:i,graph:o}=this.context,a=i.getElementDataById(r);if(!a)return!1;const{onCollapse:s,onExpand:l,animation:u,align:c}=this.options;Vh(a)?(yield o.expandElement(r,{animation:u,align:c}),null==l||l(r)):(yield o.collapseElement(r,{animation:u,align:c}),null==s||s(r))}),this.bindEvents()}update(e){this.unbindEvents(),super.update(e),this.bindEvents()}bindEvents(){const{graph:e}=this.context,{trigger:t}=this.options;e.on(`node:${t}`,this.onCollapseExpand),e.on(`combo:${t}`,this.onCollapseExpand)}unbindEvents(){const{graph:e}=this.context,{trigger:t}=this.options;e.off(`node:${t}`,this.onCollapseExpand),e.off(`combo:${t}`,this.onCollapseExpand)}validate(e){if(this.destroyed)return!1;const{enable:t}=this.options;return $e(t)?t(e):!!t}destroy(){this.unbindEvents(),super.destroy()}}im.defaultOptions={enable:!0,animation:!0,trigger:Cc.DBLCLICK,align:!0};var om=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};const am="g6-create-edge-assist-node-id";class sm extends $d{constructor(e,t){super(e,Object.assign({},sm.defaultOptions,t)),this.drop=e=>om(this,void 0,void 0,function*(){const{targetType:t}=e;["combo","node"].includes(t)&&this.source?yield this.handleCreateEdge(e):yield this.cancelEdge()}),this.handleCreateEdge=e=>om(this,void 0,void 0,function*(){var t,n,r;if(!this.validate(e))return;const{graph:i,canvas:o,batch:a,element:s}=this.context,{style:l}=this.options;if(this.source)return this.createEdge(e),void(yield this.cancelEdge());a.startBatch(),o.setCursor("crosshair"),this.source=this.getSelectedNodeIDs([e.target.id])[0];const u=i.getElementData(this.source);i.addNodeData([{id:am,style:{visibility:"hidden",ports:[{key:"port-1",placement:[.5,.5]}],x:null===(t=u.style)||void 0===t?void 0:t.x,y:null===(n=u.style)||void 0===n?void 0:n.y}}]),i.addEdgeData([{id:"g6-create-edge-assist-edge-id",source:this.source,target:am,style:Object.assign({pointerEvents:"none"},l)}]),yield null===(r=s.draw({animation:!1}))||void 0===r?void 0:r.finished}),this.updateAssistEdge=e=>om(this,void 0,void 0,function*(){var t;if(!this.source)return;const{model:n,element:r}=this.context;n.translateNodeTo(am,[e.canvas.x,e.canvas.y]),yield null===(t=r.draw({animation:!1,silence:!0}))||void 0===t?void 0:t.finished}),this.createEdge=e=>{var t,n;const{graph:r}=this.context,{style:i,onFinish:o,onCreate:a}=this.options;if(void 0===(null===(t=e.target)||void 0===t?void 0:t.id)||void 0===this.source)return;const s=null===(n=this.getSelectedNodeIDs([e.target.id]))||void 0===n?void 0:n[0];var l;const u=a({id:`${this.source}-${s}-${Dt[l=l||"g"]?Dt[l]+=1:Dt[l]=1,l+Dt[l]}`,source:this.source,target:s,style:i});u&&(r.addEdgeData([u]),o(u))},this.cancelEdge=()=>om(this,void 0,void 0,function*(){var e;if(!this.source)return;const{graph:t,element:n,batch:r}=this.context;t.removeNodeData([am]),this.source=void 0,yield null===(e=n.draw({animation:!1}))||void 0===e?void 0:e.finished,r.endBatch()}),this.bindEvents()}update(e){super.update(e),this.bindEvents()}bindEvents(){const{graph:e}=this.context,{trigger:t}=this.options;this.unbindEvents(),"click"===t?(e.on(_c.CLICK,this.handleCreateEdge),e.on(Oc.CLICK,this.handleCreateEdge),e.on(Tc.CLICK,this.cancelEdge),e.on(Pc.CLICK,this.cancelEdge)):(e.on(_c.DRAG_START,this.handleCreateEdge),e.on(Oc.DRAG_START,this.handleCreateEdge),e.on(Cc.POINTER_UP,this.drop)),e.on(Cc.POINTER_MOVE,this.updateAssistEdge)}getSelectedNodeIDs(e){return Array.from(new Set(this.context.graph.getElementDataByState("node",this.options.state).map(e=>e.id).concat(e)))}validate(e){if(this.destroyed)return!1;const{enable:t}=this.options;return $e(t)?t(e):!!t}unbindEvents(){const{graph:e}=this.context;e.off(_c.CLICK,this.handleCreateEdge),e.off(Oc.CLICK,this.handleCreateEdge),e.off(Tc.CLICK,this.cancelEdge),e.off(Pc.CLICK,this.cancelEdge),e.off(_c.DRAG_START,this.handleCreateEdge),e.off(Oc.DRAG_START,this.handleCreateEdge),e.off(Cc.POINTER_UP,this.drop),e.off(Cc.POINTER_MOVE,this.updateAssistEdge)}destroy(){this.unbindEvents(),super.destroy()}}sm.defaultOptions={animation:!0,enable:!0,style:{},trigger:"drag",onCreate:e=>e,onFinish:()=>{}};var lm=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class um extends $d{constructor(e,t){super(e,Object.assign({},um.defaultOptions,t)),this.isDragging=!1,this.onDragStart=e=>{this.validate(e)&&(this.isDragging=!0,this.context.canvas.setCursor("grabbing"))},this.onDrag=e=>{var t,n,r,i;if(!this.isDragging||Nh.isPinching)return;const o=null!==(n=null===(t=e.movement)||void 0===t?void 0:t.x)&&void 0!==n?n:e.dx,a=null!==(i=null===(r=e.movement)||void 0===r?void 0:r.y)&&void 0!==i?i:e.dy;0!==(o|a)&&this.translate([o,a],!1)},this.onDragEnd=()=>{var e,t;this.isDragging=!1,this.context.canvas.setCursor(this.defaultCursor),null===(t=(e=this.options).onFinish)||void 0===t||t.call(e)},this.invokeOnFinish=bt(()=>{var e,t;null===(t=(e=this.options).onFinish)||void 0===t||t.call(e)},300),this.shortcut=new Ah(e.graph),this.bindEvents(),this.defaultCursor=this.context.canvas.getConfig().cursor||"default"}update(e){this.unbindEvents(),super.update(e),this.bindEvents()}bindEvents(){const{trigger:e}=this.options;if(Xe(e)){const{up:t=[],down:n=[],left:r=[],right:i=[]}=e;this.shortcut.bind(t,e=>this.onTranslate([0,1],e)),this.shortcut.bind(n,e=>this.onTranslate([0,-1],e)),this.shortcut.bind(r,e=>this.onTranslate([1,0],e)),this.shortcut.bind(i,e=>this.onTranslate([-1,0],e))}else{const{graph:e}=this.context;e.on(Cc.DRAG_START,this.onDragStart),e.on(Cc.DRAG,this.onDrag),e.on(Cc.DRAG_END,this.onDragEnd)}}onTranslate(e,t){return lm(this,void 0,void 0,function*(){if(!this.validate(t))return;const{sensitivity:n}=this.options,r=-1*n;yield this.translate(Qd(e,r),this.options.animation),this.invokeOnFinish()})}translate(e,t){return lm(this,void 0,void 0,function*(){e=this.clampByDirection(e),e=this.clampByRange(e),e=this.clampByRotation(e),yield this.context.graph.translateBy(e,t)})}clampByRotation([e,t]){const n=this.context.graph.getRotation();if(n%360==0)return[e,t];const r=n*Math.PI/180,i=Math.cos(r),o=Math.sin(r);return[e*i-t*o,e*o+t*i]}clampByDirection([e,t]){const{direction:n}=this.options;return"x"===n?t=0:"y"===n&&(e=0),[e,t]}clampByRange([e,t]){const{viewport:n,canvas:r}=this.context,[i,o]=r.getSize(),[a,s,l,u]=id(this.options.range),c=[o*a,i*s,o*l,i*u],d=dd(cd(n.getCanvasCenter()),c),h=Kd(n.getViewportCenter(),[e,t,0]);if(!fd(h,d)){const{min:[n,r],max:[i,o]}=d;(h[0]<n&&e>0||h[0]>i&&e<0)&&(e=0),(h[1]<r&&t>0||h[1]>o&&t<0)&&(t=0)}return[e,t]}validate(e){if(this.destroyed)return!1;const{enable:t}=this.options;return"function"==typeof t?t(e):!!t}unbindEvents(){this.shortcut.unbindAll();const{graph:e}=this.context;e.off(Cc.DRAG_START,this.onDragStart),e.off(Cc.DRAG,this.onDrag),e.off(Cc.DRAG_END,this.onDragEnd)}destroy(){this.shortcut.destroy(),this.unbindEvents(),this.context.canvas.setCursor(this.defaultCursor),super.destroy()}}um.defaultOptions={enable:e=>!("targetType"in e)||"canvas"===e.targetType,sensitivity:10,direction:"both",range:1/0};var cm=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class dm extends $d{constructor(e,t){super(e,Object.assign({},dm.defaultOptions,t)),this.enable=!1,this.enableElements=["node","combo"],this.target=[],this.shadowOrigin=[0,0],this.hiddenEdges=[],this.isDragging=!1,this.onDrop=e=>cm(this,void 0,void 0,function*(){var t;if("link"!==this.options.dropEffect)return;const{model:n,element:r}=this.context,i=e.target.id;this.target.forEach(e=>{const t=n.getParentData(e,Dc);t&&Ad(t)===i&&n.refreshComboData(i),n.setParent(e,i,Dc)}),yield null===(t=null==r?void 0:r.draw({animation:!0}))||void 0===t?void 0:t.finished}),this.setCursor=e=>{if(this.isDragging)return;const{type:t}=e,{canvas:n}=this.context,{cursor:r}=this.options;t===Cc.POINTER_ENTER?n.setCursor((null==r?void 0:r.grab)||"grab"):n.setCursor((null==r?void 0:r.default)||"default")},this.onDragStart=this.onDragStart.bind(this),this.onDrag=this.onDrag.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onDrop=this.onDrop.bind(this),this.bindEvents()}update(e){this.unbindEvents(),super.update(e),this.bindEvents()}bindEvents(){const{graph:e,canvas:t}=this.context,n=t.getLayer().getContextService().$canvas;n&&(n.addEventListener("blur",this.onDragEnd),n.addEventListener("contextmenu",this.onDragEnd)),this.enableElements.forEach(t=>{e.on(`${t}:${Cc.DRAG_START}`,this.onDragStart),e.on(`${t}:${Cc.DRAG}`,this.onDrag),e.on(`${t}:${Cc.DRAG_END}`,this.onDragEnd),e.on(`${t}:${Cc.POINTER_ENTER}`,this.setCursor),e.on(`${t}:${Cc.POINTER_LEAVE}`,this.setCursor)}),["link"].includes(this.options.dropEffect)&&(e.on(Oc.DROP,this.onDrop),e.on(Tc.DROP,this.onDrop))}getSelectedNodeIDs(e){return Array.from(new Set(this.context.graph.getElementDataByState("node",this.options.state).map(e=>e.id).concat(e)))}getDelta(e){const t=this.context.graph.getZoom();return Zd([e.dx,e.dy],t)}onDragStart(e){var t;if(this.enable=this.validate(e),!this.enable)return;const{batch:n,canvas:r,graph:i}=this.context;r.setCursor((null===(t=this.options.cursor)||void 0===t?void 0:t.grabbing)||"grabbing"),this.isDragging=!0,n.startBatch();const o=e.target.id;i.getElementState(o).includes(this.options.state)?this.target=this.getSelectedNodeIDs([o]):this.target=[o],this.hideEdge(),this.context.graph.frontElement(this.target),this.options.shadow&&this.createShadow(this.target)}onDrag(e){if(!this.enable)return;const t=this.getDelta(e);this.options.shadow?this.moveShadow(t):this.moveElement(this.target,t)}onDragEnd(){var e,t,n;if(!this.enable)return;if(this.enable=!1,this.options.shadow){if(!this.shadow)return;this.shadow.style.visibility="hidden";const{x:e=0,y:t=0}=this.shadow.attributes,[n,r]=Kd([+e,+t],this.shadowOrigin);this.moveElement(this.target,[n,r])}this.showEdges(),null===(t=(e=this.options).onFinish)||void 0===t||t.call(e,this.target);const{batch:r,canvas:i}=this.context;r.endBatch(),i.setCursor((null===(n=this.options.cursor)||void 0===n?void 0:n.grab)||"grab"),this.isDragging=!1,this.target=[]}validate(e){if(this.destroyed||nm(e.target)||this.context.graph.isCollapsingExpanding)return!1;const{enable:t}=this.options;return $e(t)?t(e):!!t}moveElement(e,t){return cm(this,void 0,void 0,function*(){const{graph:n,model:r}=this.context,{dropEffect:i}=this.options;"move"===i&&e.forEach(e=>r.refreshComboData(e)),n.translateElementBy(Object.fromEntries(e.map(e=>[e,t])),!1)})}moveShadow(e){if(!this.shadow)return;const{x:t=0,y:n=0}=this.shadow.attributes,[r,i]=e;this.shadow.attr({x:+t+r,y:+n+i})}createShadow(e){const t=Gh(this.options,"shadow"),n=hd(e.map(e=>this.context.element.getElement(e).getBounds())),[r,i]=n.min;this.shadowOrigin=[r,i];const[o,a]=ld(n),s={width:o,height:a,x:r,y:i};this.shadow?this.shadow.attr(Object.assign(Object.assign(Object.assign({},t),s),{visibility:"visible"})):(this.shadow=new su({style:Object.assign(Object.assign(Object.assign({$layer:"transient"},t),s),{pointerEvents:"none"})}),this.context.canvas.appendChild(this.shadow))}showEdges(){this.options.shadow||0===this.hiddenEdges.length||(this.context.graph.showElement(this.hiddenEdges),this.hiddenEdges=[])}hideEdge(){const{hideEdge:e,shadow:t}=this.options;if("none"===e||t)return;const{graph:n}=this.context;this.hiddenEdges="all"===e?n.getEdgeData().map(Ad):Array.from(new Set(this.target.map(t=>n.getRelatedEdgesData(t,e).map(Ad)).flat())),n.hideElement(this.hiddenEdges)}unbindEvents(){const{graph:e,canvas:t}=this.context,n=t.getLayer().getContextService().$canvas;n&&(n.removeEventListener("blur",this.onDragEnd),n.removeEventListener("contextmenu",this.onDragEnd)),this.enableElements.forEach(t=>{e.off(`${t}:${Cc.DRAG_START}`,this.onDragStart),e.off(`${t}:${Cc.DRAG}`,this.onDrag),e.off(`${t}:${Cc.DRAG_END}`,this.onDragEnd),e.off(`${t}:${Cc.POINTER_ENTER}`,this.setCursor),e.off(`${t}:${Cc.POINTER_LEAVE}`,this.setCursor)}),e.off(`combo:${Cc.DROP}`,this.onDrop),e.off(`canvas:${Cc.DROP}`,this.onDrop)}destroy(){var e;this.unbindEvents(),null===(e=this.shadow)||void 0===e||e.destroy(),super.destroy()}}dm.defaultOptions={animation:!0,enable:e=>["node","combo"].includes(e.targetType),dropEffect:"move",state:"selected",hideEdge:"none",shadow:!1,shadowZIndex:100,shadowFill:"#F3F9FF",shadowFillOpacity:.5,shadowStroke:"#1890FF",shadowStrokeOpacity:.9,shadowLineDash:[5,5],cursor:{default:"default",grab:"grab",grabbing:"grabbing"}};var hm=function(){function e(){this._events={}}return e.prototype.on=function(e,t,n){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:t,once:!!n}),this},e.prototype.once=function(e,t){return this.on(e,t,!0)},e.prototype.emit=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[e]||[],o=this._events["*"]||[],a=function(r){for(var i=r.length,o=0;o<i;o++)if(r[o]){var a=r[o],s=a.callback;a.once&&(r.splice(o,1),0===r.length&&delete t._events[e],i--,o--),s.apply(t,n)}};a(i),a(o)},e.prototype.off=function(e,t){if(e)if(t){for(var n=this._events[e]||[],r=n.length,i=0;i<r;i++)n[i].callback===t&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[e]}else delete this._events[e];else this._events={};return this},e.prototype.getEvents=function(){return this._events},e}();function fm(e,t,n,r){for(;e.length;){const i=e.shift();if(n(i))return!0;t.add(i.id),r(i.id).forEach(n=>{t.has(n.id)||(t.add(n.id),e.push(n))})}return!1}function pm(e,t,n,r){if(n(e))return!0;t.add(e.id);for(const i of r(e.id))if(!t.has(i.id)&&pm(i,t,n,r))return!0;return!1}const gm=()=>!0;class mm{graph;nodeFilter;edgeFilter;cacheEnabled;inEdgesMap=new Map;outEdgesMap=new Map;bothEdgesMap=new Map;allNodesMap=new Map;allEdgesMap=new Map;constructor(e){this.graph=e.graph;const t=e.nodeFilter||gm,n=e.edgeFilter||gm;this.nodeFilter=t,this.edgeFilter=e=>{const{source:r,target:i}=this.graph.getEdgeDetail(e.id);return!(!t(r)||!t(i))&&n(e,r,i)},"auto"===e.cache?(this.cacheEnabled=!0,this.startAutoCache()):"manual"===e.cache?this.cacheEnabled=!0:this.cacheEnabled=!1}clearCache=()=>{this.inEdgesMap.clear(),this.outEdgesMap.clear(),this.bothEdgesMap.clear(),this.allNodesMap.clear(),this.allEdgesMap.clear()};refreshCache=()=>{this.clearCache(),this.updateCache(this.graph.getAllNodes().map(e=>e.id))};updateCache=e=>{const t=new Set;e.forEach(e=>{const n=this.bothEdgesMap.get(e);if(n&&n.forEach(e=>t.add(e.id)),this.hasNode(e)){const n=this.graph.getRelatedEdges(e,"in").filter(this.edgeFilter),r=this.graph.getRelatedEdges(e,"out").filter(this.edgeFilter),i=Array.from(new Set([...n,...r]));i.forEach(e=>t.add(e.id)),this.inEdgesMap.set(e,n),this.outEdgesMap.set(e,r),this.bothEdgesMap.set(e,i),this.allNodesMap.set(e,this.graph.getNode(e))}else this.inEdgesMap.delete(e),this.outEdgesMap.delete(e),this.bothEdgesMap.delete(e),this.allNodesMap.delete(e)}),t.forEach(e=>{this.hasEdge(e)?this.allEdgesMap.set(e,this.graph.getEdge(e)):this.allEdgesMap.delete(e)})};startAutoCache(){this.refreshCache(),this.graph.on("changed",this.handleGraphChanged)}stopAutoCache(){this.graph.off("changed",this.handleGraphChanged)}handleGraphChanged=e=>{const t=new Set;e.changes.forEach(n=>{switch(n.type){case"NodeAdded":case"NodeRemoved":t.add(n.value.id);break;case"NodeDataUpdated":t.add(n.id);break;case"EdgeAdded":case"EdgeRemoved":t.add(n.value.source),t.add(n.value.target);break;case"EdgeUpdated":"source"!==n.propertyName&&"target"!==n.propertyName||(t.add(n.oldValue),t.add(n.newValue));break;case"EdgeDataUpdated":if(e.graph.hasEdge(n.id)){const r=e.graph.getEdge(n.id);t.add(r.source),t.add(r.target)}}}),this.updateCache(t)};checkNodeExistence(e){this.getNode(e)}hasNode(e){if(!this.graph.hasNode(e))return!1;const t=this.graph.getNode(e);return this.nodeFilter(t)}areNeighbors(e,t){return this.checkNodeExistence(e),this.getNeighbors(t).some(t=>t.id===e)}getNode(e){const t=this.graph.getNode(e);if(!this.nodeFilter(t))throw new Error("Node not found for id: "+e);return t}getRelatedEdges(e,t){if(this.checkNodeExistence(e),this.cacheEnabled)return"in"===t?this.inEdgesMap.get(e):"out"===t?this.outEdgesMap.get(e):this.bothEdgesMap.get(e);return this.graph.getRelatedEdges(e,t).filter(this.edgeFilter)}getDegree(e,t){return this.getRelatedEdges(e,t).length}getSuccessors(e){const t=this.getRelatedEdges(e,"out").map(e=>this.getNode(e.target));return Array.from(new Set(t))}getPredecessors(e){const t=this.getRelatedEdges(e,"in").map(e=>this.getNode(e.source));return Array.from(new Set(t))}getNeighbors(e){const t=this.getPredecessors(e),n=this.getSuccessors(e);return Array.from(new Set([...t,...n]))}hasEdge(e){if(!this.graph.hasEdge(e))return!1;const t=this.graph.getEdge(e);return this.edgeFilter(t)}getEdge(e){const t=this.graph.getEdge(e);if(!this.edgeFilter(t))throw new Error("Edge not found for id: "+e);return t}getEdgeDetail(e){const t=this.getEdge(e);return{edge:t,source:this.getNode(t.source),target:this.getNode(t.target)}}hasTreeStructure(e){return this.graph.hasTreeStructure(e)}getRoots(e){return this.graph.getRoots(e).filter(this.nodeFilter)}getChildren(e,t){return this.checkNodeExistence(e),this.graph.getChildren(e,t).filter(this.nodeFilter)}getParent(e,t){this.checkNodeExistence(e);const n=this.graph.getParent(e,t);return n&&this.nodeFilter(n)?n:null}getAllNodes(){return this.cacheEnabled?Array.from(this.allNodesMap.values()):this.graph.getAllNodes().filter(this.nodeFilter)}getAllEdges(){return this.cacheEnabled?Array.from(this.allEdgesMap.values()):this.graph.getAllEdges().filter(this.edgeFilter)}bfs(e,t,n="out"){const r={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[n];fm([this.getNode(e)],new Set,t,r)}dfs(e,t,n="out"){const r={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[n];pm(this.getNode(e),new Set,t,r)}}let ym=class e extends hm{nodeMap=new Map;edgeMap=new Map;inEdgesMap=new Map;outEdgesMap=new Map;bothEdgesMap=new Map;treeIndices=new Map;changes=[];batchCount=0;onChanged=()=>{};constructor(e){super(),e&&(e.nodes&&this.addNodes(e.nodes),e.edges&&this.addEdges(e.edges),e.tree&&this.addTree(e.tree),e.onChanged&&(this.onChanged=e.onChanged))}batch=e=>{this.batchCount+=1,e(),this.batchCount-=1,this.batchCount||this.commit()};commit(){const e=this.changes;this.changes=[];const t={graph:this,changes:e};this.emit("changed",t),this.onChanged(t)}reduceChanges(e){let t=[];return e.forEach(e=>{switch(e.type){case"NodeRemoved":{let n=!1;t=t.filter(t=>{if("NodeAdded"===t.type){const r=t.value.id===e.value.id;return r&&(n=!0),!r}return"NodeDataUpdated"===t.type?t.id!==e.value.id:"TreeStructureChanged"!==t.type||t.nodeId!==e.value.id}),n||t.push(e);break}case"EdgeRemoved":{let n=!1;t=t.filter(t=>{if("EdgeAdded"===t.type){const r=t.value.id===e.value.id;return r&&(n=!0),!r}return"EdgeDataUpdated"!==t.type&&"EdgeUpdated"!==t.type||t.id!==e.value.id}),n||t.push(e);break}case"NodeDataUpdated":case"EdgeDataUpdated":case"EdgeUpdated":{const n=t.findIndex(t=>t.type===e.type&&t.id===e.id&&(void 0===e.propertyName||t.propertyName===e.propertyName)),r=t[n];r?void 0!==e.propertyName?r.newValue=e.newValue:(t.splice(n,1),t.push(e)):t.push(e);break}case"TreeStructureDetached":t=t.filter(t=>"TreeStructureAttached"===t.type?t.treeKey!==e.treeKey:"TreeStructureChanged"!==t.type||t.treeKey!==e.treeKey),t.push(e);break;case"TreeStructureChanged":{const n=t.find(t=>"TreeStructureChanged"===t.type&&t.treeKey===e.treeKey&&t.nodeId===e.nodeId);n?n.newParentId=e.newParentId:t.push(e);break}default:t.push(e)}}),t}checkNodeExistence(e){this.getNode(e)}hasNode(e){return this.nodeMap.has(e)}areNeighbors(e,t){return this.getNeighbors(t).some(t=>t.id===e)}getNode(e){const t=this.nodeMap.get(e);if(!t)throw new Error("Node not found for id: "+e);return t}getRelatedEdges(e,t){if(this.checkNodeExistence(e),"in"===t){const t=this.inEdgesMap.get(e);return Array.from(t)}if("out"===t){const t=this.outEdgesMap.get(e);return Array.from(t)}{const t=this.bothEdgesMap.get(e);return Array.from(t)}}getDegree(e,t){return this.getRelatedEdges(e,t).length}getSuccessors(e){const t=this.getRelatedEdges(e,"out").map(e=>this.getNode(e.target));return Array.from(new Set(t))}getPredecessors(e){const t=this.getRelatedEdges(e,"in").map(e=>this.getNode(e.source));return Array.from(new Set(t))}getNeighbors(e){const t=this.getPredecessors(e),n=this.getSuccessors(e);return Array.from(new Set([...t,...n]))}doAddNode(e){if(this.hasNode(e.id))throw new Error("Node already exists: "+e.id);this.nodeMap.set(e.id,e),this.inEdgesMap.set(e.id,new Set),this.outEdgesMap.set(e.id,new Set),this.bothEdgesMap.set(e.id,new Set),this.treeIndices.forEach(t=>{t.childrenMap.set(e.id,new Set)}),this.changes.push({type:"NodeAdded",value:e})}addNodes(e){this.batch(()=>{for(const t of e)this.doAddNode(t)})}addNode(e){this.addNodes([e])}doRemoveNode(e){const t=this.getNode(e),n=this.bothEdgesMap.get(e);n?.forEach(e=>this.doRemoveEdge(e.id)),this.nodeMap.delete(e),this.treeIndices.forEach(n=>{n.childrenMap.get(e)?.forEach(e=>{n.parentMap.delete(e.id)});const r=n.parentMap.get(e);r&&n.childrenMap.get(r.id)?.delete(t),n.parentMap.delete(e),n.childrenMap.delete(e)}),this.bothEdgesMap.delete(e),this.inEdgesMap.delete(e),this.outEdgesMap.delete(e),this.changes.push({type:"NodeRemoved",value:t})}removeNodes(e){this.batch(()=>{e.forEach(e=>this.doRemoveNode(e))})}removeNode(e){this.removeNodes([e])}updateNodeDataProperty(e,t,n){const r=this.getNode(e);this.batch(()=>{const i=r.data[t],o=n;r.data[t]=o,this.changes.push({type:"NodeDataUpdated",id:e,propertyName:t,oldValue:i,newValue:o})})}mergeNodeData(e,t){this.batch(()=>{Object.entries(t).forEach(([t,n])=>{this.updateNodeDataProperty(e,t,n)})})}updateNodeData(...e){const t=e[0],n=this.getNode(t);if("string"==typeof e[1])return void this.updateNodeDataProperty(t,e[1],e[2]);let r;if("function"==typeof e[1]){const t=e[1];r=t(n.data)}else"object"==typeof e[1]&&(r=e[1]);this.batch(()=>{const e=n.data,i=r;n.data=r,this.changes.push({type:"NodeDataUpdated",id:t,oldValue:e,newValue:i})})}checkEdgeExistence(e){if(!this.hasEdge(e))throw new Error("Edge not found for id: "+e)}hasEdge(e){return this.edgeMap.has(e)}getEdge(e){return this.checkEdgeExistence(e),this.edgeMap.get(e)}getEdgeDetail(e){const t=this.getEdge(e);return{edge:t,source:this.getNode(t.source),target:this.getNode(t.target)}}doAddEdge(e){if(this.hasEdge(e.id))throw new Error("Edge already exists: "+e.id);this.checkNodeExistence(e.source),this.checkNodeExistence(e.target),this.edgeMap.set(e.id,e);const t=this.inEdgesMap.get(e.target),n=this.outEdgesMap.get(e.source),r=this.bothEdgesMap.get(e.source),i=this.bothEdgesMap.get(e.target);t.add(e),n.add(e),r.add(e),i.add(e),this.changes.push({type:"EdgeAdded",value:e})}addEdges(e){this.batch(()=>{for(const t of e)this.doAddEdge(t)})}addEdge(e){this.addEdges([e])}doRemoveEdge(e){const t=this.getEdge(e),n=this.outEdgesMap.get(t.source),r=this.inEdgesMap.get(t.target),i=this.bothEdgesMap.get(t.source),o=this.bothEdgesMap.get(t.target);n.delete(t),r.delete(t),i.delete(t),o.delete(t),this.edgeMap.delete(e),this.changes.push({type:"EdgeRemoved",value:t})}removeEdges(e){this.batch(()=>{e.forEach(e=>this.doRemoveEdge(e))})}removeEdge(e){this.removeEdges([e])}updateEdgeSource(e,t){const n=this.getEdge(e);this.checkNodeExistence(t);const r=n.source,i=t;this.outEdgesMap.get(r).delete(n),this.bothEdgesMap.get(r).delete(n),this.outEdgesMap.get(i).add(n),this.bothEdgesMap.get(i).add(n),n.source=t,this.batch(()=>{this.changes.push({type:"EdgeUpdated",id:e,propertyName:"source",oldValue:r,newValue:i})})}updateEdgeTarget(e,t){const n=this.getEdge(e);this.checkNodeExistence(t);const r=n.target,i=t;this.inEdgesMap.get(r).delete(n),this.bothEdgesMap.get(r).delete(n),this.inEdgesMap.get(i).add(n),this.bothEdgesMap.get(i).add(n),n.target=t,this.batch(()=>{this.changes.push({type:"EdgeUpdated",id:e,propertyName:"target",oldValue:r,newValue:i})})}updateEdgeDataProperty(e,t,n){const r=this.getEdge(e);this.batch(()=>{const i=r.data[t],o=n;r.data[t]=o,this.changes.push({type:"EdgeDataUpdated",id:e,propertyName:t,oldValue:i,newValue:o})})}updateEdgeData(...e){const t=e[0],n=this.getEdge(t);if("string"==typeof e[1])return void this.updateEdgeDataProperty(t,e[1],e[2]);let r;if("function"==typeof e[1]){const t=e[1];r=t(n.data)}else"object"==typeof e[1]&&(r=e[1]);this.batch(()=>{const e=n.data,i=r;n.data=r,this.changes.push({type:"EdgeDataUpdated",id:t,oldValue:e,newValue:i})})}mergeEdgeData(e,t){this.batch(()=>{Object.entries(t).forEach(([t,n])=>{this.updateEdgeDataProperty(e,t,n)})})}checkTreeExistence(e){if(!this.hasTreeStructure(e))throw new Error("Tree structure not found for treeKey: "+e)}hasTreeStructure(e){return this.treeIndices.has(e)}attachTreeStructure(e){this.treeIndices.has(e)||(this.treeIndices.set(e,{parentMap:new Map,childrenMap:new Map}),this.batch(()=>{this.changes.push({type:"TreeStructureAttached",treeKey:e})}))}detachTreeStructure(e){this.checkTreeExistence(e),this.treeIndices.delete(e),this.batch(()=>{this.changes.push({type:"TreeStructureDetached",treeKey:e})})}addTree(e,t){this.batch(()=>{this.attachTreeStructure(t);const n=[],r=Array.isArray(e)?e:[e];for(;r.length;){const e=r.shift();n.push(e),e.children&&r.push(...e.children)}this.addNodes(n),n.forEach(e=>{e.children?.forEach(n=>{this.setParent(n.id,e.id,t)})})})}getRoots(e){return this.checkTreeExistence(e),this.getAllNodes().filter(t=>!this.getParent(t.id,e))}getChildren(e,t){this.checkNodeExistence(e),this.checkTreeExistence(t);const n=this.treeIndices.get(t).childrenMap.get(e);return Array.from(n||[])}getParent(e,t){this.checkNodeExistence(e),this.checkTreeExistence(t);return this.treeIndices.get(t).parentMap.get(e)||null}getAncestors(e,t){const n=[];let r,i=this.getNode(e);for(;r=this.getParent(i.id,t);)n.push(r),i=r;return n}setParent(e,t,n){this.checkTreeExistence(n);const r=this.treeIndices.get(n);if(!r)return;const i=this.getNode(e),o=r.parentMap.get(e);if(o?.id===t)return;if(null==t)return o&&r.childrenMap.get(o.id)?.delete(i),void r.parentMap.delete(e);const a=this.getNode(t);r.parentMap.set(e,a),o&&r.childrenMap.get(o.id)?.delete(i);let s=r.childrenMap.get(a.id);s||(s=new Set,r.childrenMap.set(a.id,s)),s.add(i),this.batch(()=>{this.changes.push({type:"TreeStructureChanged",treeKey:n,nodeId:e,oldParentId:o?.id,newParentId:a.id})})}dfsTree(e,t,n){return pm(this.getNode(e),new Set,t,e=>this.getChildren(e,n))}bfsTree(e,t,n){return fm([this.getNode(e)],new Set,t,e=>this.getChildren(e,n))}getAllNodes(){return Array.from(this.nodeMap.values())}getAllEdges(){return Array.from(this.edgeMap.values())}bfs(e,t,n="out"){const r={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[n];return fm([this.getNode(e)],new Set,t,r)}dfs(e,t,n="out"){const r={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[n];return pm(this.getNode(e),new Set,t,r)}clone(){const t=this.getAllNodes().map(e=>({...e,data:{...e.data}})),n=this.getAllEdges().map(e=>({...e,data:{...e.data}})),r=new e({nodes:t,edges:n});return this.treeIndices.forEach(({parentMap:e,childrenMap:t},n)=>{const i=new Map;e.forEach((e,t)=>{i.set(t,r.getNode(e.id))});const o=new Map;t.forEach((e,t)=>{o.set(t,new Set(Array.from(e).map(e=>r.getNode(e.id))))}),r.treeIndices.set(n,{parentMap:i,childrenMap:o})}),r}toJSON(){return JSON.stringify({nodes:this.getAllNodes(),edges:this.getAllEdges()})}createView(e){return new mm({graph:this,...e})}};class vm{constructor(e,t){this.context=e,this.options=t||{}}}var bm=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})},wm=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function xm(e){const{nodes:t,edges:n}=e,r={nodes:[],edges:[],combos:[]};return t.forEach(e=>{const t=e.data._isCombo?r.combos:r.nodes,{x:n,y:i,z:o=0}=e.data;null==t||t.push({id:e.id,style:{x:n,y:i,z:o}})}),n.forEach(e=>{const{id:t,source:n,target:i,data:{points:o=[],controlPoints:a=o.slice(1,o.length-1)}}=e;r.edges.push({id:t,source:n,target:i,style:Object.assign({},(null==a?void 0:a.length)?{controlPoints:a.map(gh)}:{})})}),r}function Em(e,t,...n){if(t in e)return e[t](...n);if("instance"in e){const r=e.instance;if(t in r)return r[t](...n)}return null}function km(e,t){if(t in e)return e[t];if("instance"in e){const n=e.instance;if(t in n)return n[t]}return null}var Sm=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};var Mm=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class Tm extends $d{constructor(e,t){super(e,Object.assign({},Tm.defaultOptions,t)),this.isZoomEvent=e=>Boolean(e.data&&"scale"in e.data),this.relatedEdgeToUpdate=new Set,this.zoom=this.context.graph.getZoom(),this.fixElementSize=e=>Mm(this,void 0,void 0,function*(){if(!this.validate(e))return;const{graph:t}=this.context,{state:n,nodeFilter:r,edgeFilter:i,comboFilter:o}=this.options,a=(n?t.getElementDataByState("node",n):t.getNodeData()).filter(r),s=(n?t.getElementDataByState("edge",n):t.getEdgeData()).filter(i),l=(n?t.getElementDataByState("combo",n):t.getComboData()).filter(o),u=this.isZoomEvent(e)?this.zoom=Math.max(.01,Math.min(e.data.scale,10)):this.zoom,c=[...a,...l];c.length>0&&c.forEach(e=>this.fixNodeLike(e,u)),this.updateRelatedEdges(),s.length>0&&s.forEach(e=>this.fixEdge(e,u))}),this.cachedStyles=new Map,this.getOriginalFieldValue=(e,t,n)=>{var r;const i=this.cachedStyles.get(e)||[],o=(null===(r=i.find(e=>e.shape===t))||void 0===r?void 0:r.style)||{};return n in o||(o[n]=t.attributes[n],this.cachedStyles.set(e,[...i.filter(e=>e.shape!==t),{shape:t,style:o}])),o[n]},this.scaleEntireElement=(e,t,n)=>{t.setLocalScale(1/n);const r=this.cachedStyles.get(e)||[];r.push({shape:t}),this.cachedStyles.set(e,r)},this.scaleSpecificShapes=(e,t,n)=>{const r=function(e){const t=[],n=e=>{(null==e?void 0:e.children.length)&&e.children.forEach(e=>{t.push(e),n(e)})};return n(e),t}(e);(Array.isArray(n)?n:[n]).forEach(n=>{const{shape:i,fields:o}=n,a="function"==typeof i?i(r):e.getShape(i);a&&(o?o.forEach(n=>{const r=this.getOriginalFieldValue(e.id,a,n);st(r)&&(a.style[n]=r/t)}):this.scaleEntireElement(e.id,a,t))})},this.skipIfExceedViewport=e=>{const{viewport:t}=this.context;return!(null==t?void 0:t.isInViewport(e.getRenderBounds(),!1,30))},this.fixNodeLike=(e,t)=>{const n=Ad(e),{element:r,model:i}=this.context,o=r.getElement(n);if(!o||this.skipIfExceedViewport(o))return;i.getRelatedEdgesData(n).forEach(e=>this.relatedEdgeToUpdate.add(Ad(e)));const a=this.options[o.type];a?this.scaleSpecificShapes(o,t,a):this.scaleEntireElement(n,o,t)},this.fixEdge=(e,t)=>{const n=Ad(e),r=this.context.element.getElement(n);if(!r||this.skipIfExceedViewport(r))return;const i=this.options.edge;if(!i)return r.style.transformOrigin="center",void this.scaleEntireElement(n,r,t);this.scaleSpecificShapes(r,t,i)},this.updateRelatedEdges=()=>{const{element:e}=this.context;this.relatedEdgeToUpdate.size>0&&this.relatedEdgeToUpdate.forEach(t=>{const n=e.getElement(t);null==n||n.update({})}),this.relatedEdgeToUpdate.clear()},this.resetTransform=e=>Mm(this,void 0,void 0,function*(){var t;(null===(t=e.data)||void 0===t?void 0:t.firstRender)||(this.options.reset?this.restoreCachedStyles():this.fixElementSize({data:{scale:this.zoom}}))}),this.bindEvents()}restoreCachedStyles(){if(this.cachedStyles.size>0){this.cachedStyles.forEach(e=>{e.forEach(({shape:e,style:t})=>{if(Tt(t))e.setLocalScale(1);else{if(this.options.state)return;Object.entries(t).forEach(([t,n])=>e.style[t]=n)}})});const{graph:e,element:t}=this.context,n=Object.keys(Object.fromEntries(this.cachedStyles)).filter(t=>t&&"node"===e.getElementType(t));if(n.length>0){const r=new Set;n.forEach(t=>{e.getRelatedEdgesData(t).forEach(e=>r.add(Ad(e)))}),r.forEach(e=>{const n=null==t?void 0:t.getElement(e);null==n||n.update({})})}}}bindEvents(){const{graph:e}=this.context;e.on(Ac.AFTER_DRAW,this.resetTransform),e.on(Ac.AFTER_TRANSFORM,this.fixElementSize)}unbindEvents(){const{graph:e}=this.context;e.off(Ac.AFTER_DRAW,this.resetTransform),e.off(Ac.AFTER_TRANSFORM,this.fixElementSize)}validate(e){if(this.destroyed)return!1;const{enable:t}=this.options;return $e(t)?t(e):!!t}destroy(){this.unbindEvents(),super.destroy()}}Tm.defaultOptions={enable:e=>e.data.scale<1,nodeFilter:()=>!0,edgeFilter:()=>!0,comboFilter:()=>!0,edge:[{shape:"key",fields:["lineWidth"]},{shape:"halo",fields:["lineWidth"]},{shape:"label"}],reset:!1};var Om=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class Cm extends $d{constructor(e,t){super(e,Object.assign({},Cm.defaultOptions,t)),this.focus=e=>Om(this,void 0,void 0,function*(){if(!this.validate(e))return;const{graph:t}=this.context;yield t.focusElement(e.target.id,this.options.animation)}),this.bindEvents()}bindEvents(){const{graph:e}=this.context;this.unbindEvents(),Lh.forEach(t=>{e.on(`${t}:${Cc.CLICK}`,this.focus)})}validate(e){if(this.destroyed)return!1;const{enable:t}=this.options;return $e(t)?t(e):!!t}unbindEvents(){const{graph:e}=this.context;Lh.forEach(t=>{e.off(`${t}:${Cc.CLICK}`,this.focus)})}destroy(){this.unbindEvents(),super.destroy()}}Cm.defaultOptions={animation:{easing:"ease-in",duration:500},enable:!0};class Nm extends $d{constructor(e,t){super(e,Object.assign({},Nm.defaultOptions,t)),this.isFrozen=!1,this.toggleFrozen=e=>{this.isFrozen="dragstart"===e.type},this.hoverElement=e=>{if(!this.validate(e))return;const t=e.type===Cc.POINTER_ENTER;this.updateElementsState(e,t);const{onHover:n,onHoverEnd:r}=this.options;t?null==n||n(e):null==r||r(e)},this.updateElementsState=(e,t)=>{if(!this.options.state&&!this.options.inactiveState)return;const{graph:n}=this.context,{state:r,animation:i,inactiveState:o}=this.options,a=this.getActiveIds(e),s={};if(r&&Object.assign(s,this.getElementsState(a,r,t)),o){const e=_d(n.getData(),!0).filter(e=>!a.includes(e));Object.assign(s,this.getElementsState(e,o,t))}n.setElementState(s,i)},this.getElementsState=(e,t,n)=>{const{graph:r}=this.context,i={};return e.forEach(e=>{const o=r.getElementState(e);i[e]=n?o.includes(t)?o:[...o,t]:o.filter(e=>e!==t)}),i},this.bindEvents()}bindEvents(){const{graph:e}=this.context;this.unbindEvents(),Lh.forEach(t=>{e.on(`${t}:${Cc.POINTER_ENTER}`,this.hoverElement),e.on(`${t}:${Cc.POINTER_LEAVE}`,this.hoverElement)});const t=this.context.canvas.document;t.addEventListener(`${Cc.DRAG_START}`,this.toggleFrozen),t.addEventListener(`${Cc.DRAG_END}`,this.toggleFrozen)}getActiveIds(e){const{graph:t}=this.context,{degree:n,direction:r}=this.options,i=e.target.id;return n?zh(t,e.targetType,i,"function"==typeof n?n(e):n,r):[i]}validate(e){if(this.destroyed||this.isFrozen||nm(e.target)||this.context.graph.isCollapsingExpanding)return!1;const{enable:t}=this.options;return $e(t)?t(e):!!t}unbindEvents(){const{graph:e}=this.context;Lh.forEach(t=>{e.off(`${t}:${Cc.POINTER_ENTER}`,this.hoverElement),e.off(`${t}:${Cc.POINTER_LEAVE}`,this.hoverElement)});const t=this.context.canvas.document;t.removeEventListener(`${Cc.DRAG_START}`,this.toggleFrozen),t.removeEventListener(`${Cc.DRAG_END}`,this.toggleFrozen)}destroy(){this.unbindEvents(),super.destroy()}}Nm.defaultOptions={animation:!1,enable:!0,degree:0,direction:"both",state:"active",inactiveState:void 0};class Pm extends $d{constructor(e,t){super(e,Object.assign({},Pm.defaultOptions,t)),this.hiddenShapes=[],this.isVisible=!0,this.setElementsVisibility=(e,t,n)=>{e.filter(Boolean).forEach(e=>{"hidden"!==t||e.isVisible()?"visible"===t&&this.hiddenShapes.includes(e)?this.hiddenShapes.splice(this.hiddenShapes.indexOf(e),1):Ud(e,t,n):this.hiddenShapes.push(e)})},this.filterShapes=(e,t)=>{if($e(t))return n=>!t(e,n);const n=null==t?void 0:t[e];return e=>!e.className||!(null==n?void 0:n.includes(e.className))},this.hideShapes=e=>{if(!this.validate(e)||!this.isVisible)return;const{element:t}=this.context,{shapes:n={}}=this.options;this.setElementsVisibility(t.getNodes(),"hidden",this.filterShapes("node",n)),this.setElementsVisibility(t.getEdges(),"hidden",this.filterShapes("edge",n)),this.setElementsVisibility(t.getCombos(),"hidden",this.filterShapes("combo",n)),this.isVisible=!1},this.showShapes=bt(e=>{if(!this.validate(e)||this.isVisible)return;const{element:t}=this.context;this.setElementsVisibility(t.getNodes(),"visible"),this.setElementsVisibility(t.getEdges(),"visible"),this.setElementsVisibility(t.getCombos(),"visible"),this.isVisible=!0},this.options.debounce),this.bindEvents()}bindEvents(){const{graph:e}=this.context;e.on(Ac.BEFORE_TRANSFORM,this.hideShapes),e.on(Ac.AFTER_TRANSFORM,this.showShapes)}unbindEvents(){const{graph:e}=this.context;e.off(Ac.BEFORE_TRANSFORM,this.hideShapes),e.off(Ac.AFTER_TRANSFORM,this.showShapes)}validate(e){if(this.destroyed)return!1;const{enable:t}=this.options;return $e(t)?t(e):!!t}update(e){this.unbindEvents(),super.update(e),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}}Pm.defaultOptions={enable:!0,debounce:200,shapes:e=>"node"===e};var Am=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class Rm extends $d{constructor(e,t){super(e,Object.assign({},Rm.defaultOptions,t)),this.onWheel=e=>Am(this,void 0,void 0,function*(){this.options.preventDefault&&e.preventDefault();const t=e.deltaX,n=e.deltaY;yield this.scroll([-t,-n],e)}),this.shortcut=new Ah(e.graph),this.bindEvents()}update(e){super.update(e),this.bindEvents()}bindEvents(){var e,t;const{trigger:n}=this.options;if(this.shortcut.unbindAll(),Xe(n)){null===(e=this.graphDom)||void 0===e||e.removeEventListener(Cc.WHEEL,this.onWheel);const{up:t=[],down:r=[],left:i=[],right:o=[]}=n;this.shortcut.bind(t,e=>this.scroll([0,-10],e)),this.shortcut.bind(r,e=>this.scroll([0,10],e)),this.shortcut.bind(i,e=>this.scroll([-10,0],e)),this.shortcut.bind(o,e=>this.scroll([10,0],e))}else null===(t=this.graphDom)||void 0===t||t.addEventListener(Cc.WHEEL,this.onWheel,{passive:!1})}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}formatDisplacement(e){const{sensitivity:t}=this.options;return e=Qd(e,t),e=this.clampByDirection(e),e=this.clampByRange(e)}clampByDirection([e,t]){const{direction:n}=this.options;return"x"===n?t=0:"y"===n&&(e=0),[e,t]}clampByRange([e,t]){const{viewport:n,canvas:r}=this.context,[i,o]=r.getSize(),[a,s,l,u]=id(this.options.range),c=[o*a,i*s,o*l,i*u],d=dd(cd(n.getCanvasCenter()),c),h=Kd(n.getViewportCenter(),[e,t,0]);if(!fd(h,d)){const{min:[n,r],max:[i,o]}=d;(h[0]<n&&e>0||h[0]>i&&e<0)&&(e=0),(h[1]<r&&t>0||h[1]>o&&t<0)&&(t=0)}return[e,t]}scroll(e,t){return Am(this,void 0,void 0,function*(){if(!this.validate(t))return;const{onFinish:n}=this.options,r=this.context.graph,i=this.formatDisplacement(e);yield r.translateBy(i,!1),null==n||n()})}validate(e){if(this.destroyed)return!1;const{enable:t}=this.options;return $e(t)?t(e):!!t}destroy(){var e;this.shortcut.destroy(),null===(e=this.graphDom)||void 0===e||e.removeEventListener(Cc.WHEEL,this.onWheel),super.destroy()}}Rm.defaultOptions={enable:!0,sensitivity:1,preventDefault:!0,range:1/0};var _m=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class Dm extends $d{constructor(e,t){super(e,Object.assign({},Dm.defaultOptions,t)),this.zoom=(e,t,n)=>_m(this,void 0,void 0,function*(){if(!this.validate(t))return;const{graph:r}=this.context;let i=this.options.origin;!i&&"viewport"in t&&(i=gh(t.viewport));const{sensitivity:o,onFinish:a}=this.options,s=1+at(e,-50,50)*o/100,l=r.getZoom();yield r.zoomTo(l*s,n,i),null==a||a()}),this.onReset=()=>_m(this,void 0,void 0,function*(){yield this.context.graph.zoomTo(1,this.options.animation)}),this.preventDefault=e=>{this.options.preventDefault&&e.preventDefault()},this.shortcut=new Ah(e.graph),this.bindEvents()}update(e){super.update(e),this.bindEvents()}bindEvents(){const{trigger:e}=this.options;if(this.shortcut.unbindAll(),Array.isArray(e))if(e.includes(Cc.PINCH))this.shortcut.bind([Cc.PINCH],e=>{this.zoom(e.scale,e,!1)});else{const t=this.context.canvas.getContainer();null==t||t.addEventListener(Cc.WHEEL,this.preventDefault),this.shortcut.bind([...e,Cc.WHEEL],e=>{const{deltaX:t,deltaY:n}=e;this.zoom(-(null!=n?n:t),e,!1)})}if("object"==typeof e){const{zoomIn:t=[],zoomOut:n=[],reset:r=[]}=e;this.shortcut.bind(t,e=>this.zoom(10,e,this.options.animation)),this.shortcut.bind(n,e=>this.zoom(-10,e,this.options.animation)),this.shortcut.bind(r,this.onReset)}}validate(e){if(this.destroyed)return!1;const{enable:t}=this.options;return $e(t)?t(e):!!t}destroy(){var e;this.shortcut.destroy(),null===(e=this.context.canvas.getContainer())||void 0===e||e.removeEventListener(Cc.WHEEL,this.preventDefault),super.destroy()}}Dm.defaultOptions={animation:{duration:200},enable:!0,sensitivity:1,trigger:[],preventDefault:!0};var Lm={assign:Object.assign,getHeight:function(e,t,n,r){return void 0===r&&(r="height"),"center"===n?(e[r]+t[r])/2:e.height}},Im=Lm,zm={getId:function(e){return e.id||e.name},getPreH:function(e){return e.preH||0},getPreV:function(e){return e.preV||0},getHGap:function(e){return e.hgap||18},getVGap:function(e){return e.vgap||18},getChildren:function(e){return e.children},getHeight:function(e){return e.height||36},getWidth:function(e){var t=e.label||" ";return e.width||18*t.split("").length}};function Fm(e,t){var n=this;if(n.vgap=n.hgap=0,e instanceof Fm)return e;n.data=e;var r=t.getHGap(e),i=t.getVGap(e);return n.preH=t.getPreH(e),n.preV=t.getPreV(e),n.width=t.getWidth(e),n.height=t.getHeight(e),n.width+=n.preH,n.height+=n.preV,n.id=t.getId(e),n.x=n.y=0,n.depth=0,n.children||(n.children=[]),n.addGap(r,i),n}Im.assign(Fm.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(e,t){var n=this;n.hgap+=e,n.vgap+=t,n.width+=2*e,n.height+=2*t},eachNode:function(e){for(var t,n=[this];t=n.shift();)e(t),n=t.children.concat(n)},DFTraverse:function(e){this.eachNode(e)},BFTraverse:function(e){for(var t,n=[this];t=n.shift();)e(t),n=n.concat(t.children)},getBoundingBox:function(){var e={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(t){e.left=Math.min(e.left,t.x),e.top=Math.min(e.top,t.y),e.width=Math.max(e.width,t.x+t.width),e.height=Math.max(e.height,t.y+t.height)}),e},translate:function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.eachNode(function(n){n.x+=e,n.y+=t,n.x+=n.preH,n.y+=n.preV})},right2left:function(){var e=this,t=e.getBoundingBox();e.eachNode(function(e){e.x=e.x-2*(e.x-t.left)-e.width}),e.translate(t.width,0)},bottom2top:function(){var e=this,t=e.getBoundingBox();e.eachNode(function(e){e.y=e.y-2*(e.y-t.top)-e.height}),e.translate(0,t.height)}});var jm=function(e,t,n){void 0===t&&(t={});var r,i=new Fm(e,t=Im.assign({},zm,t)),o=[i];if(!n&&!e.collapsed)for(;r=o.shift();)if(!r.data.collapsed){var a=t.getChildren(r.data),s=a?a.length:0;if(r.children=new Array(s),a&&s)for(var l=0;l<s;l++){var u=new Fm(a[l],t);r.children[l]=u,o.push(u),u.parent=r,u.depth=r.depth+1}}return i},Bm=jm,Hm=function(){function e(e,t){void 0===t&&(t={});this.options=t,this.rootNode=Bm(e,t)}return e.prototype.execute=function(){throw new Error("please override this method")},e}(),Vm=Hm;function Um(e,t,n,r){void 0===r&&(r=[]);var i=this;i.w=e||0,i.h=t||0,i.y=n||0,i.x=0,i.c=r||[],i.cs=r.length,i.prelim=0,i.mod=0,i.shift=0,i.change=0,i.tl=null,i.tr=null,i.el=null,i.er=null,i.msel=0,i.mser=0}function Wm(e,t,n){n?e.y+=t:e.x+=t,e.children.forEach(function(e){Wm(e,t,n)})}function Gm(e,t){var n=t?e.y:e.x;return e.children.forEach(function(e){n=Math.min(Gm(e,t),n)}),n}function $m(e,t){Wm(e,-Gm(e,t),t)}function qm(e,t,n){n?t.y=e.x:t.x=e.x,e.c.forEach(function(e,r){qm(e,t.children[r],n)})}function Ym(e,t,n){void 0===n&&(n=0),t?(e.x=n,n+=e.width):(e.y=n,n+=e.height),e.children.forEach(function(e){Ym(e,t,n)})}Um.fromNode=function(e,t){if(!e)return null;var n=[];return e.children.forEach(function(e){n.push(Um.fromNode(e,t))}),t?new Um(e.height,e.width,e.x,n):new Um(e.width,e.height,e.y,n)};var Xm=jm,Km=function(e,t){for(var n=Xm(e.data,t,!0),r=Xm(e.data,t,!0),i=e.children.length,o=Math.round(i/2),a=t.getSide||function(e,t){return t<o?"right":"left"},s=0;s<i;s++){var l=e.children[s];"right"===a(l,s)?r.children.push(l):n.children.push(l)}return n.eachNode(function(e){e.isRoot()||(e.side="left")}),r.eachNode(function(e){e.isRoot()||(e.side="right")}),{left:n,right:r}},Qm=Km,Zm=["LR","RL","TB","BT","H","V"],Jm=["LR","RL","H"],ey=Zm[0],ty=function(e,t,n){var r=t.direction||ey;if(t.isHorizontal=function(e){return Jm.indexOf(e)>-1}(r),-1===Zm.indexOf(r))throw new TypeError("Invalid direction: "+r);if(r===Zm[0])n(e,t);else if(r===Zm[1])n(e,t),e.right2left();else if(r===Zm[2])n(e,t);else if(r===Zm[3])n(e,t),e.bottom2top();else if(r===Zm[4]||r===Zm[5]){var i=Qm(e,t),o=i.left,a=i.right;n(o,t),n(a,t),t.isHorizontal?o.right2left():o.bottom2top(),a.translate(o.x-a.x,o.y-a.y),e.x=o.x,e.y=a.y;var s=e.getBoundingBox();t.isHorizontal?s.top<0&&e.translate(0,-s.top):s.left<0&&e.translate(-s.left,0)}var l=t.fixedRoot;return void 0===l&&(l=!0),l&&e.translate(-(e.x+e.width/2+e.hgap),-(e.y+e.height/2+e.vgap)),function(e,t){if(t.radial){var n=t.isHorizontal?["x","y"]:["y","x"],r=n[0],i=n[1],o={x:1/0,y:1/0},a={x:-1/0,y:-1/0},s=0;e.DFTraverse(function(e){s++;var t=e.x,n=e.y;o.x=Math.min(o.x,t),o.y=Math.min(o.y,n),a.x=Math.max(a.x,t),a.y=Math.max(a.y,n)});var l=a[i]-o[i];if(0===l)return;var u=2*Math.PI/s;e.DFTraverse(function(t){var n=(t[i]-o[i])/l*(2*Math.PI-u)+u,a=t[r]-e[r];t.x=Math.cos(n)*a,t.y=Math.sin(n)*a})}}(e,t),e};function ny(e,t){return ny=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ny(e,t)}var ry=function(e,t){void 0===t&&(t={});var n=t.isHorizontal;function r(e){0===e.cs?(e.el=e,e.er=e,e.msel=e.mser=0):(e.el=e.c[0].el,e.msel=e.c[0].msel,e.er=e.c[e.cs-1].er,e.mser=e.c[e.cs-1].mser)}function i(e,t,n){for(var r=e.c[t-1],i=r.mod,u=e.c[t],c=u.mod;null!==r&&null!==u;){l(r)>n.low&&(n=n.nxt);var d=i+r.prelim+r.w-(c+u.prelim);d>0&&(c+=d,o(e,t,n.index,d));var h=l(r),f=l(u);h<=f&&null!==(r=s(r))&&(i+=r.mod),h>=f&&null!==(u=a(u))&&(c+=u.mod)}!r&&u?function(e,t,n,r){var i=e.c[0].el;i.tl=n;var o=r-n.mod-e.c[0].msel;i.mod+=o,i.prelim-=o,e.c[0].el=e.c[t].el,e.c[0].msel=e.c[t].msel}(e,t,u,c):r&&!u&&function(e,t,n,r){var i=e.c[t].er;i.tr=n;var o=r-n.mod-e.c[t].mser;i.mod+=o,i.prelim-=o,e.c[t].er=e.c[t-1].er,e.c[t].mser=e.c[t-1].mser}(e,t,r,i)}function o(e,t,n,r){e.c[t].mod+=r,e.c[t].msel+=r,e.c[t].mser+=r,function(e,t,n,r){if(n!==t-1){var i=t-n;e.c[n+1].shift+=r/i,e.c[t].shift-=r/i,e.c[t].change-=r-r/i}}(e,t,n,r)}function a(e){return 0===e.cs?e.tl:e.c[0]}function s(e){return 0===e.cs?e.tr:e.c[e.cs-1]}function l(e){return e.y+e.h}function u(e,t,n){for(;null!==n&&e>=n.low;)n=n.nxt;return{low:e,index:t,nxt:n}}Ym(e,n);var c=Um.fromNode(e,n);return function e(t){if(0!==t.cs){e(t.c[0]);for(var n=u(l(t.c[0].el),0,null),o=1;o<t.cs;++o){e(t.c[o]);var a=l(t.c[o].er);i(t,o,n),n=u(a,o,n)}!function(e){e.prelim=(e.c[0].prelim+e.c[0].mod+e.c[e.cs-1].mod+e.c[e.cs-1].prelim+e.c[e.cs-1].w)/2-e.w/2}(t),r(t)}else r(t)}(c),function e(t,n){n+=t.mod,t.x=t.prelim+n,function(e){for(var t=0,n=0,r=0;r<e.cs;r++)n+=(t+=e.c[r].shift)+e.c[r].change,e.c[r].mod+=n}(t);for(var r=0;r<t.cs;r++)e(t.c[r],n)}(c,0),qm(c,e,n),$m(e,n),e},iy=ty,oy=Lm,ay=function(e){function t(){return e.apply(this,arguments)||this}var n,r;return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,ny(n,r),t.prototype.execute=function(){return iy(this.rootNode,this.options,ry)},t}(Vm),sy={};var ly=function(e,t){return t=oy.assign({},sy,t),new ay(e,t).execute()},uy=Lm;function cy(e,t){void 0===t&&(t=[]);var n=this;n.x=n.y=0,n.leftChild=n.rightChild=null,n.height=0,n.children=t}var dy={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function hy(e,t,n){n?(t.x=e.x,t.y=e.y):(t.x=e.y,t.y=e.x),e.children.forEach(function(e,r){hy(e,t.children[r],n)})}function fy(e,t){return fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fy(e,t)}var py=function(e,t){void 0===t&&(t={}),t=uy.assign({},dy,t);var n,r=0;var i=function e(t){if(!t)return null;t.width=0,t.depth&&t.depth>r&&(r=t.depth);var n=t.children,i=n.length,o=new cy(t.height,[]);return n.forEach(function(t,n){var r=e(t);o.children.push(r),0===n&&(o.leftChild=r),n===i-1&&(o.rightChild=r)}),o.originNode=t,o.isLeaf=t.isLeaf(),o}(e);return function e(t){if(t.isLeaf||0===t.children.length)t.drawingDepth=r;else{var n=t.children.map(function(t){return e(t)}),i=Math.min.apply(null,n);t.drawingDepth=i-1}return t.drawingDepth}(i),function e(r){r.x=r.drawingDepth*t.rankSep,r.isLeaf?(r.y=0,n&&(r.y=n.y+n.height+t.nodeSep,r.originNode.parent!==n.originNode.parent&&(r.y+=t.subTreeSep)),n=r):(r.children.forEach(function(t){e(t)}),r.y=(r.leftChild.y+r.rightChild.y)/2)}(i),hy(i,e,t.isHorizontal),e},gy=ty,my=Lm,yy=function(e){function t(){return e.apply(this,arguments)||this}var n,r;return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,fy(n,r),t.prototype.execute=function(){var e=this;return e.rootNode.width=0,gy(e.rootNode,e.options,py)},t}(Vm),vy={};var by=function(e,t){return t=my.assign({},vy,t),new yy(e,t).execute()},wy=Lm;function xy(e,t){return xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xy(e,t)}var Ey=Vm,ky=function(e,t,n,r){var i=null;e.eachNode(function(e){!function(e,t,n,r,i){var o=("function"==typeof n?n(e):n)*e.depth;if(!r)try{if(e.id===e.parent.children[0].id)return e.x+=o,void(e.y=t?t.y:0)}catch(e){}if(e.x+=o,t){if(e.y=t.y+wy.getHeight(t,e,i),t.parent&&e.parent.id!==t.parent.id){var a=t.parent,s=a.y+wy.getHeight(a,e,i);e.y=s>e.y?s:e.y}}else e.y=0}(e,i,t,n,r),i=e})},Sy=Km,My=Lm,Ty=["LR","RL","H"],Oy=Ty[0],Cy=function(e){function t(){return e.apply(this,arguments)||this}var n,r;return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,xy(n,r),t.prototype.execute=function(){var e=this.options,t=this.rootNode;e.isHorizontal=!0;var n=e.indent,r=void 0===n?20:n,i=e.dropCap,o=void 0===i||i,a=e.direction,s=void 0===a?Oy:a,l=e.align;if(s&&-1===Ty.indexOf(s))throw new TypeError("Invalid direction: "+s);if(s===Ty[0])ky(t,r,o,l);else if(s===Ty[1])ky(t,r,o,l),t.right2left();else if(s===Ty[2]){var u=Sy(t,e),c=u.left,d=u.right;ky(c,r,o,l),c.right2left(),ky(d,r,o,l);var h=c.getBoundingBox();d.translate(h.width,0),t.x=d.x-t.width/2}return t},t}(Ey),Ny={};var Py=function(e,t){return t=My.assign({},Ny,t),new Cy(e,t).execute()},Ay=Lm;function Ry(e,t){var n=0;return e.children.length?e.children.forEach(function(e){n+=Ry(e,t)}):n=e.height,e._subTreeSep=t.getSubTreeSep(e.data),e.totalHeight=Math.max(e.height,n)+2*e._subTreeSep,e.totalHeight}function _y(e){var t=e.children,n=t.length;if(n){t.forEach(function(e){_y(e)});var r=t[0],i=t[n-1],o=i.y-r.y+i.height,a=0;if(t.forEach(function(e){a+=e.totalHeight}),o>e.height)e.y=r.y+o/2-e.height/2;else if(1!==t.length||e.height>a){var s=e.y+(e.height-o)/2-r.y;t.forEach(function(e){e.translate(0,s)})}else e.y=(r.y+r.height/2+i.y+i.height/2)/2-e.height/2}}var Dy={getSubTreeSep:function(){return 0}};function Ly(e,t){return Ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ly(e,t)}var Iy=function(e,t){void 0===t&&(t={}),t=Ay.assign({},Dy,t),e.parent={x:0,width:0,height:0,y:0},e.BFTraverse(function(e){e.x=e.parent.x+e.parent.width}),e.parent=null,Ry(e,t),e.startY=0,e.y=e.totalHeight/2-e.height/2,e.eachNode(function(e){var t=e.children,n=t.length;if(n){var r=t[0];if(r.startY=e.startY+e._subTreeSep,1===n)r.y=e.y+e.height/2-r.height/2;else{r.y=r.startY+r.totalHeight/2-r.height/2;for(var i=1;i<n;i++){var o=t[i];o.startY=t[i-1].startY+t[i-1].totalHeight,o.y=o.startY+o.totalHeight/2-o.height/2}}}}),_y(e)},zy=ty,Fy=Lm,jy=function(e){function t(){return e.apply(this,arguments)||this}var n,r;return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,Ly(n,r),t.prototype.execute=function(){return zy(this.rootNode,this.options,Iy)},t}(Vm),By={};var Hy=function(e,t){return t=Fy.assign({},By,t),new jy(e,t).execute()},Vy={compactBox:ly,dendrogram:by,indented:Py,mindmap:Hy};const Uy=(e,t)=>{if("next"!==e&&"prev"!==e)return t},Wy=e=>{e.prev.next=e.next,e.next.prev=e.prev,delete e.next,delete e.prev};let Gy=class{constructor(){const e={};e.prev=e,e.next=e.prev,this.shortcut=e}dequeue(){const e=this.shortcut,t=e.prev;if(t&&t!==e)return Wy(t),t}enqueue(e){const t=this.shortcut;e.prev&&e.next&&Wy(e),e.next=t.next,t.next.prev=e,t.next=e,e.prev=t}toString(){const e=[],t=this.shortcut;let n=t.prev;for(;n!==t;)e.push(JSON.stringify(n,Uy)),n=null==n?void 0:n.prev;return`[${e.join(", ")}]`}},$y=class extends Gy{};const qy=()=>1,Yy=(e,t,n)=>{let r=[];const i=t[t.length-1],o=t[0];let a;for(;e.getAllNodes().length;){for(;a=o.dequeue();)Xy(e,t,n,a);for(;a=i.dequeue();)Xy(e,t,n,a);if(e.getAllNodes().length)for(let i=t.length-2;i>0;--i)if(a=t[i].dequeue(),a){r=r.concat(Xy(e,t,n,a,!0));break}}return r},Xy=(e,t,n,r,i)=>{var o,a;const s=[];return e.hasNode(r.v)&&(null===(o=e.getRelatedEdges(r.v,"in"))||void 0===o||o.forEach(r=>{const o=r.data.weight,a=e.getNode(r.source);i&&s.push({v:r.source,w:r.target,in:0,out:0}),void 0===a.data.out&&(a.data.out=0),a.data.out-=o,Qy(t,n,Object.assign({v:a.id},a.data))}),null===(a=e.getRelatedEdges(r.v,"out"))||void 0===a||a.forEach(r=>{const i=r.data.weight,o=r.target,a=e.getNode(o);void 0===a.data.in&&(a.data.in=0),a.data.in-=i,Qy(t,n,Object.assign({v:a.id},a.data))}),e.removeNode(r.v)),i?s:void 0},Ky=(e,t)=>{const n=new ym;let r=0,i=0;e.getAllNodes().forEach(e=>{n.addNode({id:e.id,data:{v:e.id,in:0,out:0}})}),e.getAllEdges().forEach(e=>{const o=n.getRelatedEdges(e.source,"out").find(t=>t.target===e.target),a=(null==t?void 0:t(e))||1;o?n.updateEdgeData(null==o?void 0:o.id,Object.assign(Object.assign({},o.data),{weight:o.data.weight+a})):n.addEdge({id:e.id,source:e.source,target:e.target,data:{weight:a}}),i=Math.max(i,n.getNode(e.source).data.out+=a),r=Math.max(r,n.getNode(e.target).data.in+=a)});const o=[],a=i+r+3;for(let e=0;e<a;e++)o.push(new $y);const s=r+1;return n.getAllNodes().forEach(e=>{Qy(o,s,Object.assign({v:e.id},n.getNode(e.id).data))}),{buckets:o,zeroIdx:s,graph:n}},Qy=(e,t,n)=>{n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)},Zy=(e,t)=>{const n=((e,t)=>{var n;if(e.getAllNodes().length<=1)return[];const r=Ky(e,t||qy);return null===(n=Yy(r.graph,r.buckets,r.zeroIdx).map(t=>e.getRelatedEdges(t.v,"out").filter(({target:e})=>e===t.w)))||void 0===n?void 0:n.flat()})(e,e=>e.data.weight||1);null==n||n.forEach(t=>{const n=t.data;e.removeEdge(t.id),n.forwardName=t.data.name,n.reversed=!0,e.addEdge({id:t.id,source:t.target,target:t.source,data:Object.assign({},n)})})},Jy=(e,t,n,r)=>{let i;do{i=`${r}${Math.random()}`}while(e.hasNode(i));return n.dummy=t,e.addNode({id:i,data:n}),i},ev=e=>{const t=new ym;return e.getAllNodes().forEach(n=>{e.getChildren(n.id).length||t.addNode(Object.assign({},n))}),e.getAllEdges().forEach(e=>{t.addEdge(e)}),t},tv=(e,t)=>{const n=Number(e.x),r=Number(e.y),i=Number(t.x)-n,o=Number(t.y)-r;let a,s,l=Number(e.width)/2,u=Number(e.height)/2;return i||o?(Math.abs(o)*l>Math.abs(i)*u?(o<0&&(u=-u),a=u*i/o,s=u):(i<0&&(l=-l),a=l,s=l*o/i),{x:n+a,y:r+s}):{x:0,y:0}},nv=e=>{const t=[],n=iv(e)+1;for(let e=0;e<n;e++)t.push([]);e.getAllNodes().forEach(e=>{const n=e.data.rank;void 0!==n&&t[n]&&t[n].push(e.id)});for(let r=0;r<n;r++)t[r]=t[r].sort((t,n)=>{return r=e.getNode(t).data.order,i=e.getNode(n).data.order,Number(r)-Number(i);var r,i});return t},rv=(e,t,n,r)=>{const i={width:0,height:0};return st(n)&&st(r)&&(i.rank=n,i.order=r),Jy(e,"border",i,t)},iv=e=>{let t;return e.getAllNodes().forEach(e=>{const n=e.data.rank;void 0!==n&&(void 0===t||n>t)&&(t=n)}),t||(t=0),t},ov=(e,t)=>e.reduce((e,n)=>t(e)>t(n)?n:e),av=(e,t,n,r,i,o)=>{r.includes(t.id)||(r.push(t.id),n||o.push(t.id),i(t.id).forEach(t=>av(e,t,n,r,i,o)),n&&o.push(t.id))},sv=(e,t,n,r)=>{const i=Array.isArray(t)?t:[t],o=t=>e.getNeighbors(t),a=[],s=[];return i.forEach(t=>{if(!e.hasNode(t.id))throw new Error(`Graph does not have node: ${t}`);av(e,t,"post"===n,s,o,a)}),a},lv=(e,t,n,r,i,o)=>{const a={rank:o,borderType:t,width:0,height:0},s=i.data[t][o-1],l=Jy(e,"border",a,n);i.data[t][o]=l,e.setParent(l,r),s&&e.addEdge({id:`e${Math.random()}`,source:s,target:l,data:{weight:1}})},uv=e=>{e.getAllNodes().forEach(e=>{cv(e)}),e.getAllEdges().forEach(e=>{cv(e)})},cv=e=>{const t=e.data.width;e.data.width=e.data.height,e.data.height=t},dv=e=>{e.getAllNodes().forEach(e=>{hv(e.data)}),e.getAllEdges().forEach(e=>{var t;null===(t=e.data.points)||void 0===t||t.forEach(e=>hv(e)),e.data.hasOwnProperty("y")&&hv(e.data)})},hv=e=>{(null==e?void 0:e.y)&&(e.y=-e.y)},fv=e=>{e.getAllNodes().forEach(e=>{pv(e.data)}),e.getAllEdges().forEach(e=>{var t;null===(t=e.data.points)||void 0===t||t.forEach(e=>pv(e)),e.data.hasOwnProperty("x")&&pv(e.data)})},pv=e=>{const t=e.x;e.x=e.y,e.y=t},gv=(e,t,n,r,i,o,a)=>{const s=e.getChildren(a);if(!(null==s?void 0:s.length))return void(a!==t&&e.addEdge({id:`e${Math.random()}`,source:t,target:a,data:{weight:0,minlen:n}}));const l=rv(e,"_bt"),u=rv(e,"_bb"),c=e.getNode(a);e.setParent(l,a),c.data.borderTop=l,e.setParent(u,a),c.data.borderBottom=u,null==s||s.forEach(s=>{gv(e,t,n,r,i,o,s.id);const c=s.data.borderTop?s.data.borderTop:s.id,d=s.data.borderBottom?s.data.borderBottom:s.id,h=s.data.borderTop?r:2*r,f=c!==d?1:i-o[a]+1;e.addEdge({id:`e${Math.random()}`,source:l,target:c,data:{minlen:f,weight:h,nestingEdge:!0}}),e.addEdge({id:`e${Math.random()}`,source:d,target:u,data:{minlen:f,weight:h,nestingEdge:!0}})}),e.getParent(a)||e.addEdge({id:`e${Math.random()}`,source:t,target:l,data:{weight:0,minlen:i+o[a]}})},mv=e=>{const t={},n=(r,i)=>{const o=e.getChildren(r);null==o||o.forEach(e=>n(e.id,i+1)),t[r]=i};return e.getRoots().forEach(e=>n(e.id,1)),t},yv=e=>{let t=0;return e.getAllEdges().forEach(e=>{t+=e.data.weight}),t},vv="edge-label",bv=(e,t,n)=>{let r=t.source,i=e.getNode(r).data.rank;const o=t.target,a=e.getNode(o).data.rank,s=t.data.labelRank;if(a===i+1)return;let l,u,c;for(e.removeEdge(t.id),c=0,++i;i<a;++c,++i)t.data.points=[],u={originalEdge:t,width:0,height:0,rank:i},l=Jy(e,"edge",u,"_d"),i===s&&(u.width=t.data.width,u.height=t.data.height,u.dummy=vv,u.labelpos=t.data.labelpos),e.addEdge({id:`e${Math.random()}`,source:r,target:l,data:{weight:t.data.weight}}),0===c&&n.push(l),r=l;e.addEdge({id:`e${Math.random()}`,source:r,target:o,data:{weight:t.data.weight}})},wv=e=>{let t;for(;e.hasNode(t=`_root${Math.random()}`););return t},xv=(e,t,n)=>{const r=((e,t)=>null==e?void 0:e.reduce((e,n,r)=>(e[n]=t[r],e),{}))(n,n.map((e,t)=>t)),i=t.map(t=>{const n=e.getRelatedEdges(t,"out").map(e=>({pos:r[e.target]||0,weight:e.data.weight}));return null==n?void 0:n.sort((e,t)=>e.pos-t.pos)}),o=i.flat().filter(e=>void 0!==e);let a=1;for(;a<n.length;)a<<=1;const s=2*a-1;a-=1;const l=Array(s).fill(0,0,s);let u=0;return null==o||o.forEach(e=>{if(e){let t=e.pos+a;l[t]+=e.weight;let n=0;for(;t>0;)t%2&&(n+=l[t+1]),t=t-1>>1,l[t]+=e.weight;u+=e.weight*n}}),u},Ev=(e,t)=>{let n=0;for(let r=1;r<(null==t?void 0:t.length);r+=1)n+=xv(e,t[r-1],t[r]);return n},kv=e=>{const t={},n=e.getAllNodes(),r=n.map(e=>{var t;return null!==(t=e.data.rank)&&void 0!==t?t:-1/0}),i=Math.max(...r),o=[];for(let e=0;e<i+1;e++)o.push([]);const a=n.sort((t,n)=>e.getNode(t.id).data.rank-e.getNode(n.id).data.rank),s=a.filter(t=>void 0!==e.getNode(t.id).data.fixorder).sort((t,n)=>e.getNode(t.id).data.fixorder-e.getNode(n.id).data.fixorder);return null==s||s.forEach(n=>{isNaN(e.getNode(n.id).data.rank)||o[e.getNode(n.id).data.rank].push(n.id),t[n.id]=!0}),null==a||a.forEach(n=>e.dfsTree(n.id,e=>{if(t.hasOwnProperty(e.id))return!0;t[e.id]=!0,isNaN(e.data.rank)||o[e.data.rank].push(e.id)})),o},Sv=e=>{var t,n;const r=[];for(;null==e?void 0:e.length;){const i=e.pop();r.push(i),null===(t=i.in.reverse())||void 0===t||t.forEach(e=>{return(t=i,e=>{e.merged||(void 0===e.barycenter||void 0===t.barycenter||e.barycenter>=t.barycenter)&&Mv(t,e)})(e);var t}),null===(n=i.out)||void 0===n||n.forEach(t=>{return(n=i,t=>{t.in.push(n),0===--t.indegree&&e.push(t)})(t);var n})}const i=r.filter(e=>!e.merged),o=["vs","i","barycenter","weight"];return i.map(e=>{const t={};return null==o||o.forEach(n=>{void 0!==e[n]&&(t[n]=e[n])}),t})},Mv=(e,t)=>{var n;let r=0,i=0;e.weight&&(r+=e.barycenter*e.weight,i+=e.weight),t.weight&&(r+=t.barycenter*t.weight,i+=t.weight),e.vs=null===(n=t.vs)||void 0===n?void 0:n.concat(e.vs),e.barycenter=r/i,e.weight=i,e.i=Math.min(t.i,e.i),t.merged=!0},Tv=(e,t,n)=>{let r,i=n;for(;t.length&&(r=t[t.length-1]).i<=i;)t.pop(),null==e||e.push(r.vs),i++;return i},Ov=(e,t)=>(n,r)=>{if(void 0!==n.fixorder&&void 0!==r.fixorder)return n.fixorder-r.fixorder;if(n.barycenter<r.barycenter)return-1;if(n.barycenter>r.barycenter)return 1;if(t&&void 0!==n.order&&void 0!==r.order){if(n.order<r.order)return-1;if(n.order>r.order)return 1}return e?r.i-n.i:n.i-r.i},Cv=(e,t,n,r,i,o)=>{var a,s,l,u;let c=e.getChildren(t).map(e=>e.id);const d=e.getNode(t),h=d?d.data.borderLeft:void 0,f=d?d.data.borderRight:void 0,p={};h&&(c=null==c?void 0:c.filter(e=>e!==h&&e!==f));const g=((e,t)=>t.map(t=>{const n=e.getRelatedEdges(t,"in");if(!(null==n?void 0:n.length))return{v:t};const r={sum:0,weight:0};return null==n||n.forEach(t=>{const n=e.getNode(t.source);r.sum+=t.data.weight*n.data.order,r.weight+=t.data.weight}),{v:t,barycenter:r.sum/r.weight,weight:r.weight}}))(e,c||[]);null==g||g.forEach(t=>{var i;if(null===(i=e.getChildren(t.v))||void 0===i?void 0:i.length){const i=Cv(e,t.v,n,r,o);p[t.v]=i,i.hasOwnProperty("barycenter")&&Pv(t,i)}});const m=((e,t)=>{var n,r,i;const o={};null==e||e.forEach((e,t)=>{o[e.v]={i:t,indegree:0,in:[],out:[],vs:[e.v]};const n=o[e.v];void 0!==e.barycenter&&(n.barycenter=e.barycenter,n.weight=e.weight)}),null===(n=t.getAllEdges())||void 0===n||n.forEach(e=>{const t=o[e.source],n=o[e.target];void 0!==t&&void 0!==n&&(n.indegree++,t.out.push(o[e.target]))});const a=null===(i=(r=Object.values(o)).filter)||void 0===i?void 0:i.call(r,e=>!e.indegree);return Sv(a)})(g,n);Nv(m,p),null===(a=m.filter(e=>e.vs.length>0))||void 0===a||a.forEach(t=>{const n=e.getNode(t.vs[0]);n&&(t.fixorder=n.data.fixorder,t.order=n.data.order)});const y=((e,t,n,r)=>{const i=((e,t)=>{const n={lhs:[],rhs:[]};return null==e||e.forEach(e=>{t(e)?n.lhs.push(e):n.rhs.push(e)}),n})(e,e=>{const t=e.hasOwnProperty("fixorder")&&!isNaN(e.fixorder);return r?!t&&e.hasOwnProperty("barycenter"):t||e.hasOwnProperty("barycenter")}),o=i.lhs,a=i.rhs.sort((e,t)=>-e.i- -t.i),s=[];let l=0,u=0,c=0;null==o||o.sort(Ov(!!t,!!n)),c=Tv(s,a,c),null==o||o.forEach(e=>{var t;c+=null===(t=e.vs)||void 0===t?void 0:t.length,s.push(e.vs),l+=e.barycenter*e.weight,u+=e.weight,c=Tv(s,a,c)});const d={vs:s.flat()};return u&&(d.barycenter=l/u,d.weight=u),d})(m,r,i,o);if(h&&(y.vs=[h,y.vs,f].flat(),null===(s=e.getPredecessors(h))||void 0===s?void 0:s.length)){const t=e.getNode((null===(l=e.getPredecessors(h))||void 0===l?void 0:l[0].id)||""),n=e.getNode((null===(u=e.getPredecessors(f))||void 0===u?void 0:u[0].id)||"");y.hasOwnProperty("barycenter")||(y.barycenter=0,y.weight=0),y.barycenter=(y.barycenter*y.weight+t.data.order+n.data.order)/(y.weight+2),y.weight+=2}return y},Nv=(e,t)=>{null==e||e.forEach(e=>{var n;const r=null===(n=e.vs)||void 0===n?void 0:n.map(e=>t[e]?t[e].vs:e);e.vs=r.flat()})},Pv=(e,t)=>{void 0!==e.barycenter?(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight):(e.barycenter=t.barycenter,e.weight=t.weight)},Av=(e,t,n)=>t.map(t=>((e,t,n)=>{const r=wv(e),i=new ym({tree:[{id:r,children:[],data:{}}]});return e.getAllNodes().forEach(o=>{const a=e.getParent(o.id);(o.data.rank===t||o.data.minRank<=t&&t<=o.data.maxRank)&&(i.hasNode(o.id)||i.addNode(Object.assign({},o)),(null==a?void 0:a.id)&&!i.hasNode(null==a?void 0:a.id)&&i.addNode(Object.assign({},a)),i.setParent(o.id,(null==a?void 0:a.id)||r),e.getRelatedEdges(o.id,n).forEach(t=>{const n=t.source===o.id?t.target:t.source;i.hasNode(n)||i.addNode(Object.assign({},e.getNode(n)));const r=i.getRelatedEdges(n,"out").find(({target:e})=>e===o.id),a=void 0!==r?r.data.weight:0;r?i.updateEdgeData(r.id,Object.assign(Object.assign({},r.data),{weight:t.data.weight+a})):i.addEdge({id:t.id,source:n,target:o.id,data:{weight:t.data.weight+a}})}),o.data.hasOwnProperty("minRank")&&i.updateNodeData(o.id,Object.assign(Object.assign({},o.data),{borderLeft:o.data.borderLeft[t],borderRight:o.data.borderRight[t]})))}),i})(e,t,n)),Rv=(e,t,n,r)=>{const i=new ym;null==e||e.forEach(e=>{var o;const a=e.getRoots()[0].id,s=Cv(e,a,i,t,n,r);for(let t=0;t<(null===(o=s.vs)||void 0===o?void 0:o.length);t++){const n=e.getNode(s.vs[t]);n&&(n.data.order=t)}((e,t,n)=>{const r={};let i;null==n||n.forEach(n=>{let o,a,s=e.getParent(n);for(;s;){if(o=e.getParent(s.id),o?(a=r[o.id],r[o.id]=s.id):(a=i,i=s.id),a&&a!==s.id)return t.hasNode(a)||t.addNode({id:a,data:{}}),t.hasNode(s.id)||t.addNode({id:s.id,data:{}}),void(t.hasEdge(`e${a}-${s.id}`)||t.addEdge({id:`e${a}-${s.id}`,source:a,target:s.id,data:{}}));s=o}})})(e,i,s.vs)})},_v=(e,t)=>{null==t||t.forEach(t=>{null==t||t.forEach((t,n)=>{e.getNode(t).data.order=n})})},Dv=(e,t)=>{const n=(e=>{const t={};let n=0;const r=i=>{const o=n;e.getChildren(i).forEach(e=>r(e.id)),t[i]={low:o,lim:n++}};return e.getRoots().forEach(e=>r(e.id)),t})(e);t.forEach(t=>{var r,i;let o=t,a=e.getNode(o);const s=a.data.originalEdge;if(!s)return;const l=((e,t,n,r)=>{var i,o;const a=[],s=[],l=Math.min(t[n].low,t[r].low),u=Math.max(t[n].lim,t[r].lim);let c,d;c=n;do{c=null===(i=e.getParent(c))||void 0===i?void 0:i.id,a.push(c)}while(c&&(t[c].low>l||u>t[c].lim));for(d=c,c=r;c&&c!==d;)s.push(c),c=null===(o=e.getParent(c))||void 0===o?void 0:o.id;return{lca:d,path:a.concat(s.reverse())}})(e,n,s.source,s.target),u=l.path,c=l.lca;let d=0,h=u[d],f=!0;for(;o!==s.target;){if(a=e.getNode(o),f){for(;h!==c&&(null===(r=e.getNode(h))||void 0===r?void 0:r.data.maxRank)<a.data.rank;)d++,h=u[d];h===c&&(f=!1)}if(!f){for(;d<u.length-1&&(null===(i=e.getNode(u[d+1]))||void 0===i?void 0:i.data.minRank)<=a.data.rank;)d++;h=u[d]}e.hasNode(h)&&e.setParent(o,h),o=e.getSuccessors(o)[0].id}})},Lv=(e,t)=>{const n={};function r(t,r){const i=function(e){return JSON.stringify(e.slice(1))}(t);r.get(i)||(!function(t,r,i,o,a){var s,l;let u;for(let c=r;c<i;c++)u=t[c],(null===(s=e.getNode(u))||void 0===s?void 0:s.data.dummy)&&(null===(l=e.getPredecessors(u))||void 0===l||l.forEach(t=>{const r=e.getNode(t.id);r.data.dummy&&(r.data.order<o||r.data.order>a)&&zv(n,t.id,u)}))}(...t),r.set(i,!0))}const i=(t,n)=>{let i,o=-1,a=0;const s=new Map;return null==n||n.forEach((l,u)=>{var c;if("border"===(null===(c=e.getNode(l))||void 0===c?void 0:c.data.dummy)){const t=e.getPredecessors(l)||[];t.length&&(i=e.getNode(t[0].id).data.order,r([n,a,u,o,i],s),a=u,o=i)}r([n,a,n.length,i,t.length],s)}),n};return(null==t?void 0:t.length)&&t.reduce(i),n},Iv=(e,t)=>{var n,r;if(null===(n=e.getNode(t))||void 0===n?void 0:n.data.dummy)return null===(r=e.getPredecessors(t))||void 0===r?void 0:r.find(t=>e.getNode(t.id).data.dummy)},zv=(e,t,n)=>{let r=t,i=n;if(r>i){const e=r;r=i,i=e}let o=e[r];o||(e[r]=o={}),o[i]=!0},Fv=(e,t,n)=>{let r=t,i=n;if(r>n){r=n,i=t}return!!e[r]},jv=(e,t,n,r,i,o)=>{const a=new ym,s=Bv(r,i,o);return null==t||t.forEach(t=>{let r;null==t||t.forEach(t=>{const i=n[t];if(a.hasNode(i)||a.addNode({id:i,data:{}}),r){const o=n[r],l=a.getRelatedEdges(o,"out").find(e=>e.target===i);l?a.updateEdgeData(l.id,Object.assign(Object.assign({},l.data),{weight:Math.max(s(e,t,r),l.data.weight||0)})):a.addEdge({id:`e${Math.random()}`,source:o,target:i,data:{weight:Math.max(s(e,t,r),0)}})}r=t})}),a};const Bv=(e,t,n)=>(r,i,o)=>{const a=r.getNode(i),s=r.getNode(o);let l=0,u=0;if(l+=a.data.width/2,a.data.hasOwnProperty("labelpos"))switch((a.data.labelpos||"").toLowerCase()){case"l":u=-a.data.width/2;break;case"r":u=a.data.width/2}if(u&&(l+=n?u:-u),u=0,l+=(a.data.dummy?t:e)/2,l+=(s.data.dummy?t:e)/2,l+=s.data.width/2,s.data.labelpos)switch((s.data.labelpos||"").toLowerCase()){case"l":u=s.data.width/2;break;case"r":u=-s.data.width/2}return u&&(l+=n?u:-u),u=0,l},Hv=(e,t)=>e.getNode(t).data.width||0,Vv=(e,t)=>{const{align:n,nodesep:r=0,edgesep:i=0}=t||{},o=nv(e),a=Object.assign(((e,t)=>{const n={},r=(t,r)=>{let i=0,o=0;const a=t.length,s=null==r?void 0:r[(null==r?void 0:r.length)-1];return null==r||r.forEach((t,l)=>{var u;const c=Iv(e,t),d=c?e.getNode(c.id).data.order:a;(c||t===s)&&(null===(u=r.slice(o,l+1))||void 0===u||u.forEach(t=>{var r;null===(r=e.getPredecessors(t))||void 0===r||r.forEach(r=>{var o;const a=e.getNode(r.id),s=a.data.order;!(s<i||d<s)||a.data.dummy&&(null===(o=e.getNode(t))||void 0===o?void 0:o.data.dummy)||zv(n,r.id,t)})}),o=l+1,i=d)}),r};return(null==t?void 0:t.length)&&t.reduce(r),n})(e,o),Lv(e,o)),s={};let l=[];["u","d"].forEach(t=>{l="u"===t?o:Object.values(o).reverse(),["l","r"].forEach(n=>{"r"===n&&(l=l.map(e=>Object.values(e).reverse()));const o=("u"===t?e.getPredecessors:e.getSuccessors).bind(e),u=((e,t,n,r)=>{const i={},o={},a={};return null==t||t.forEach(e=>{null==e||e.forEach((e,t)=>{i[e]=e,o[e]=e,a[e]=t})}),null==t||t.forEach(e=>{let t=-1;null==e||e.forEach(e=>{let s=r(e).map(e=>e.id);if(s.length){s=s.sort((e,t)=>a[e]-a[t]);const r=(s.length-1)/2;for(let l=Math.floor(r),u=Math.ceil(r);l<=u;++l){const r=s[l];o[e]===e&&t<a[r]&&!Fv(n,e,r)&&(o[r]=e,o[e]=i[e]=i[r],t=a[r])}}})}),{root:i,align:o}})(0,l,a,o),c=((e,t,n,r,i,o,a)=>{var s;const l={},u=jv(e,t,n,i,o,a),c=a?"borderLeft":"borderRight",d=(e,t)=>{let n=u.getAllNodes(),r=n.pop();const i={};for(;r;)i[r.id]?e(r.id):(i[r.id]=!0,n.push(r),n=n.concat(t(r.id))),r=n.pop()};return d(e=>{l[e]=(u.getRelatedEdges(e,"in")||[]).reduce((e,t)=>Math.max(e,(l[t.source]||0)+t.data.weight),0)},u.getPredecessors.bind(u)),d(t=>{const n=(u.getRelatedEdges(t,"out")||[]).reduce((e,t)=>Math.min(e,(l[t.target]||0)-t.data.weight),Number.POSITIVE_INFINITY),r=e.getNode(t);n!==Number.POSITIVE_INFINITY&&r.data.borderType!==c&&(l[t]=Math.max(l[t],n))},u.getSuccessors.bind(u)),null===(s=Object.values(r))||void 0===s||s.forEach(e=>{l[e]=l[n[e]]}),l})(e,l,u.root,u.align,r,i,"r"===n);"r"===n&&Object.keys(c).forEach(e=>c[e]=-c[e]),s[t+n]=c})});const u=((e,t)=>ov(Object.values(t),t=>{var n;let r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return null===(n=Object.keys(t))||void 0===n||n.forEach(n=>{const o=t[n],a=Hv(e,n)/2;r=Math.max(o+a,r),i=Math.min(o-a,i)}),r-i}))(e,s);return u&&function(e,t){const n=Object.values(t),r=Math.min(...n),i=Math.max(...n);["u","d"].forEach(n=>{["l","r"].forEach(o=>{const a=n+o,s=e[a];let l;if(s===t)return;const u=Object.values(s);l="l"===o?r-Math.min(...u):i-Math.max(...u),l&&(e[a]={},Object.keys(s).forEach(t=>{e[a][t]=s[t]+l}))})})}(s,u),((e,t)=>{const n={};return Object.keys(e.ul).forEach(r=>{if(t)n[r]=e[t.toLowerCase()][r];else{const t=Object.values(e).map(e=>e[r]);n[r]=(t[0]+t[1])/2}}),n})(s,n)},Uv=(e,t)=>{var n;const r=ev(e);((e,t)=>{const{ranksep:n=0}=t||{},r=nv(e);let i=0;null==r||r.forEach(t=>{const r=t.map(t=>e.getNode(t).data.height),o=Math.max(...r,0);null==t||t.forEach(t=>{e.getNode(t).data.y=i+o/2}),i+=o+n})})(r,t);const i=Vv(r,t);null===(n=Object.keys(i))||void 0===n||n.forEach(e=>{r.getNode(e).data.x=i[e]})},Wv=e=>{const t={},n=r=>{var i;const o=e.getNode(r);if(!o)return 0;if(t[r])return o.data.rank;let a;return t[r]=!0,null===(i=e.getRelatedEdges(r,"out"))||void 0===i||i.forEach(e=>{const t=n(e.target)-e.data.minlen;t&&(void 0===a||t<a)&&(a=t)}),a||(a=0),o.data.rank=a,a};e.getAllNodes().filter(t=>0===e.getRelatedEdges(t.id,"in").length).forEach(e=>n(e.id))},Gv=(e,t)=>e.getNode(t.target).data.rank-e.getNode(t.source).data.rank-t.data.minlen,$v=(e,t)=>{const n=r=>{t.getRelatedEdges(r,"both").forEach(i=>{const o=i.source,a=r===o?i.target:o;e.hasNode(a)||Gv(t,i)||(e.addNode({id:a,data:{}}),e.addEdge({id:i.id,source:r,target:a,data:{}}),n(a))})};return e.getAllNodes().forEach(e=>n(e.id)),e.getAllNodes().length},qv=(e,t)=>{const n=r=>{var i;null===(i=t.getRelatedEdges(r,"both"))||void 0===i||i.forEach(i=>{const o=i.source,a=r===o?i.target:o;e.hasNode(a)||void 0===t.getNode(a).data.layer&&Gv(t,i)||(e.addNode({id:a,data:{}}),e.addEdge({id:i.id,source:r,target:a,data:{}}),n(a))})};return e.getAllNodes().forEach(e=>n(e.id)),e.getAllNodes().length},Yv=(e,t)=>ov(t.getAllEdges(),n=>e.hasNode(n.source)!==e.hasNode(n.target)?Gv(t,n):1/0),Xv=(e,t,n)=>{e.getAllNodes().forEach(e=>{const r=t.getNode(e.id);r.data.rank||(r.data.rank=0),r.data.rank+=n})},Kv=e=>{const t=(e=>{const t=new ym;return e.getAllNodes().forEach(e=>{t.addNode(Object.assign({},e))}),e.getAllEdges().forEach(e=>{const n=t.getRelatedEdges(e.source,"out").find(t=>t.target===e.target);n?t.updateEdgeData(null==n?void 0:n.id,Object.assign(Object.assign({},n.data),{weight:n.data.weight+e.data.weight||0,minlen:Math.max(n.data.minlen,e.data.minlen||1)})):t.addEdge({id:e.id,source:e.source,target:e.target,data:{weight:e.data.weight||0,minlen:e.data.minlen||1}})}),t})(e);Wv(t);const n=(e=>{const t=new ym({tree:[]}),n=e.getAllNodes()[0],r=e.getAllNodes().length;let i,o;for(t.addNode(n);$v(t,e)<r;)i=Yv(t,e),o=t.hasNode(i.source)?Gv(e,i):-Gv(e,i),Xv(t,e,o);return t})(t);let r,i;for(eb(n),Qv(n,t);r=nb(n);)i=rb(n,t,r),ib(n,t,r,i)},Qv=(e,t)=>{let n=sv(e,e.getAllNodes(),"post");n=n.slice(0,(null==n?void 0:n.length)-1),n.forEach(n=>{Zv(e,t,n)})},Zv=(e,t,n)=>{const r=e.getNode(n).data.parent;e.getRelatedEdges(n,"both").find(e=>e.target===r||e.source===r).data.cutvalue=Jv(e,t,n)},Jv=(e,t,n)=>{const r=e.getNode(n).data.parent;let i=!0,o=t.getRelatedEdges(n,"out").find(e=>e.target===r),a=0;return o||(i=!1,o=t.getRelatedEdges(r,"out").find(e=>e.target===n)),a=o.data.weight,t.getRelatedEdges(n,"both").forEach(t=>{const o=t.source===n,s=o?t.target:t.source;if(s!==r){const r=o===i,l=t.data.weight;if(a+=r?l:-l,ab(e,n,s)){const t=e.getRelatedEdges(n,"both").find(e=>e.source===s||e.target===s).data.cutvalue;a+=r?-t:t}}}),a},eb=(e,t=e.getAllNodes()[0].id)=>{tb(e,{},1,t)},tb=(e,t,n,r,i)=>{var o;const a=n;let s=n;const l=e.getNode(r);return t[r]=!0,null===(o=e.getNeighbors(r))||void 0===o||o.forEach(n=>{t[n.id]||(s=tb(e,t,s,n.id,r))}),l.data.low=a,l.data.lim=s++,i?l.data.parent=i:delete l.data.parent,s},nb=e=>e.getAllEdges().find(e=>e.data.cutvalue<0),rb=(e,t,n)=>{let r=n.source,i=n.target;t.getRelatedEdges(r,"out").find(e=>e.target===i)||(r=n.target,i=n.source);const o=e.getNode(r),a=e.getNode(i);let s=o,l=!1;o.data.lim>a.data.lim&&(s=a,l=!0);const u=t.getAllEdges().filter(t=>l===sb(e.getNode(t.source),s)&&l!==sb(e.getNode(t.target),s));return ov(u,e=>Gv(t,e))},ib=(e,t,n,r)=>{const i=e.getRelatedEdges(n.source,"both").find(e=>e.source===n.target||e.target===n.target);i&&e.removeEdge(i.id),e.addEdge({id:`e${Math.random()}`,source:r.source,target:r.target,data:{}}),eb(e),Qv(e,t),ob(e,t)},ob=(e,t)=>{const n=e.getAllNodes().find(e=>!e.data.parent);let r=sv(e,n,"pre");r=r.slice(1),r.forEach(n=>{const r=e.getNode(n).data.parent;let i=t.getRelatedEdges(n,"out").find(e=>e.target===r),o=!1;!i&&t.hasNode(r)&&(i=t.getRelatedEdges(r,"out").find(e=>e.target===n),o=!0),t.getNode(n).data.rank=(t.hasNode(r)&&t.getNode(r).data.rank||0)+(o?null==i?void 0:i.data.minlen:-(null==i?void 0:i.data.minlen))})},ab=(e,t,n)=>e.getRelatedEdges(t,"both").find(e=>e.source===n||e.target===n),sb=(e,t)=>t.data.low<=e.data.lim&&e.data.lim<=t.data.lim,lb=Wv,ub=e=>{(e=>{const t={};let n;const r=i=>{var o;const a=e.getNode(i);if(!a)return 0;if(t[i])return a.data.rank;let s;return t[i]=!0,null===(o=e.getRelatedEdges(i,"out"))||void 0===o||o.forEach(e=>{const t=r(e.target)-e.data.minlen;t&&(void 0===s||t<s)&&(s=t)}),s||(s=0),(void 0===n||s<n)&&(n=s),a.data.rank=s,s};e.getAllNodes().filter(t=>0===e.getRelatedEdges(t.id,"in").length).forEach(e=>{e&&r(e.id)}),void 0===n&&(n=0);const i={},o=(t,n)=>{var r;const a=e.getNode(t),s=isNaN(a.data.layer)?n:a.data.layer;(void 0===a.data.rank||a.data.rank<s)&&(a.data.rank=s),i[t]||(i[t]=!0,null===(r=e.getRelatedEdges(t,"out"))||void 0===r||r.forEach(e=>{o(e.target,s+e.data.minlen)}))};e.getAllNodes().forEach(e=>{const t=e.data;t&&(isNaN(t.layer)?t.rank-=n:o(e.id,t.layer))})})(e),(e=>{const t=new ym({tree:[]}),n=e.getAllNodes()[0],r=e.getAllNodes().length;let i,o;for(t.addNode(n);qv(t,e)<r;)i=Yv(t,e),o=t.hasNode(i.source)?Gv(e,i):-Gv(e,i),Xv(t,e,o)})(e)},cb=e=>{Kv(e)},db=(e,t)=>{const{ranker:n,rankdir:r="tb",nodeOrder:i,keepNodeOrder:o,align:a,nodesep:s=50,edgesep:l=20,ranksep:u=50}=t;Nb(e),Zy(e);const{nestingRoot:c,nodeRankFactor:d}=(e=>{const t=Jy(e,"root",{},"_root"),n=mv(e);let r=Math.max(...Object.values(n));Math.abs(r)===1/0&&(r=1);const i=r-1,o=2*i+1;e.getAllEdges().forEach(e=>{e.data.minlen*=o});const a=yv(e)+1;return e.getRoots().forEach(r=>{gv(e,t,o,a,i,n,r.id)}),{nestingRoot:t,nodeRankFactor:o}})(e);((e,t)=>{switch(t){case"network-simplex":cb(e);break;case"tight-tree":default:ub(e);break;case"longest-path":lb(e)}})(ev(e),n),xb(e),((e,t=0)=>{const n=e.getAllNodes(),r=n.filter(e=>void 0!==e.data.rank).map(e=>e.data.rank),i=Math.min(...r),o=[];n.forEach(e=>{const t=(e.data.rank||0)-i;o[t]||(o[t]=[]),o[t].push(e.id)});let a=0;for(let n=0;n<o.length;n++){const r=o[n];void 0===r?n%t!==0&&(a-=1):a&&(null==r||r.forEach(t=>{const n=e.getNode(t);n&&(n.data.rank=n.data.rank||0,n.data.rank+=a)}))}})(e,d),((e,t)=>{t&&e.removeNode(t),e.getAllEdges().forEach(t=>{t.data.nestingEdge&&e.removeEdge(t.id)})})(e,c),(e=>{const t=e.getAllNodes().filter(e=>void 0!==e.data.rank).map(e=>e.data.rank),n=Math.min(...t);e.getAllNodes().forEach(e=>{e.data.hasOwnProperty("rank")&&n!==1/0&&(e.data.rank-=n)})})(e),Eb(e),kb(e);const h=[];((e,t)=>{e.getAllEdges().forEach(n=>bv(e,n,t))})(e,h),Dv(e,h),(e=>{const t=n=>{const r=e.getChildren(n),i=e.getNode(n);if((null==r?void 0:r.length)&&r.forEach(e=>t(e.id)),i.data.hasOwnProperty("minRank")){i.data.borderLeft=[],i.data.borderRight=[];for(let t=i.data.minRank,r=i.data.maxRank+1;t<r;t+=1)lv(e,"borderLeft","_bl",n,i,t),lv(e,"borderRight","_br",n,i,t)}};e.getRoots().forEach(e=>t(e.id))})(e),o&&((e,t)=>{const n=e.getAllNodes().filter(t=>{var n;return!(null===(n=e.getChildren(t.id))||void 0===n?void 0:n.length)}).map(e=>e.data.rank),r=Math.max(...n),i=[];for(let e=0;e<r+1;e++)i[e]=[];null==t||t.forEach(t=>{const n=e.getNode(t);n&&!n.data.dummy&&(isNaN(n.data.rank)||(n.data.fixorder=i[n.data.rank].length,i[n.data.rank].push(t)))})})(e,i),((e,t)=>{const n=iv(e),r=[],i=[];for(let e=1;e<n+1;e++)r.push(e);for(let e=n-1;e>-1;e--)i.push(e);const o=Av(e,r,"in"),a=Av(e,i,"out");let s=kv(e);_v(e,s);let l,u=Number.POSITIVE_INFINITY;for(let n=0,r=0;r<4;++n,++r){Rv(n%2?o:a,n%4>=2,!1,t),s=nv(e);const i=Ev(e,s);i<u&&(r=0,l=vt(s),u=i)}s=kv(e),_v(e,s);for(let n=0,r=0;r<4;++n,++r){Rv(n%2?o:a,n%4>=2,!0,t),s=nv(e);const i=Ev(e,s);i<u&&(r=0,l=vt(s),u=i)}_v(e,l)})(e,o),Pb(e),((e,t)=>{const n=t.toLowerCase();"lr"!==n&&"rl"!==n||uv(e)})(e,r),Uv(e,{align:a,nodesep:s,edgesep:l,ranksep:u}),Ab(e),Cb(e),((e,t)=>{t.forEach(t=>{let n=e.getNode(t);const{data:r}=n,i=r.originalEdge;let o;i&&e.addEdge(i);let a=t;for(;n.data.dummy;)o=e.getSuccessors(a)[0],e.removeNode(a),i.data.points.push({x:n.data.x,y:n.data.y}),n.data.dummy===vv&&(i.data.x=n.data.x,i.data.y=n.data.y,i.data.width=n.data.width,i.data.height=n.data.height),a=o.id,n=e.getNode(a)})})(e,h),Tb(e),((e,t)=>{const n=t.toLowerCase();"bt"!==n&&"rl"!==n||dv(e),"lr"!==n&&"rl"!==n||(fv(e),uv(e))})(e,r);const{width:f,height:p}=Sb(e);return Mb(e),Ob(e),(e=>{e.getAllEdges().forEach(t=>{const n=t.data;if(n.reversed){e.removeEdge(t.id);const r=n.forwardName;delete n.reversed,delete n.forwardName,e.addEdge({id:t.id,source:t.target,target:t.source,data:Object.assign(Object.assign({},n),{forwardName:r})})}})})(e),{width:f,height:p}},hb=(e,t)=>{e.getAllNodes().forEach(n=>{const r=e.getNode(n.id);if(t.hasNode(n.id)){const e=t.getNode(n.id);r.data.fixorder=e.data._order,delete e.data._order}else delete r.data.fixorder})},fb=(e,t)=>{e.getAllNodes().forEach(n=>{var r;const i=e.getNode(n.id);if(i){const e=t.getNode(n.id);i.data.x=e.data.x,i.data.y=e.data.y,i.data._order=e.data.order,i.data._rank=e.data.rank,(null===(r=t.getChildren(n.id))||void 0===r?void 0:r.length)&&(i.data.width=e.data.width,i.data.height=e.data.height)}}),e.getAllEdges().forEach(n=>{const r=e.getEdge(n.id),i=t.getEdge(n.id);r.data.points=i?i.data.points:[],i&&i.data.hasOwnProperty("x")&&(r.data.x=i.data.x,r.data.y=i.data.y)})},pb=["width","height","layer","fixorder"],gb={width:0,height:0},mb=["minlen","weight","width","height","labeloffset"],yb={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},vb=["labelpos"],bb=e=>{const t=new ym({tree:[]});return e.getAllNodes().forEach(n=>{const r=_b(e.getNode(n.id).data),i=Object.assign(Object.assign({},gb),r),o=Rb(i,pb);t.hasNode(n.id)||t.addNode({id:n.id,data:Object.assign({},o)});const a=e.hasTreeStructure("combo")?e.getParent(n.id,"combo"):e.getParent(n.id);qe(a)||(t.hasNode(a.id)||t.addNode(Object.assign({},a)),t.setParent(n.id,a.id))}),e.getAllEdges().forEach(n=>{const r=_b(e.getEdge(n.id).data),i={};null==vb||vb.forEach(e=>{void 0!==r[e]&&(i[e]=r[e])}),t.addEdge({id:n.id,source:n.source,target:n.target,data:Object.assign({},yb,Rb(r,mb),i)})}),t},wb=(e,t)=>{const{ranksep:n=0,rankdir:r}=t;return e.getAllNodes().forEach(e=>{isNaN(e.data.layer)||e.data.layer||(e.data.layer=0)}),e.getAllEdges().forEach(e=>{var t;e.data.minlen*=2,"c"!==(null===(t=e.data.labelpos)||void 0===t?void 0:t.toLowerCase())&&("TB"===r||"BT"===r?e.data.width+=e.data.labeloffset:e.data.height+=e.data.labeloffset)}),n/2},xb=e=>{e.getAllEdges().forEach(t=>{if(t.data.width&&t.data.height){const n=e.getNode(t.source),r={e:t,rank:(e.getNode(t.target).data.rank-n.data.rank)/2+n.data.rank};Jy(e,"edge-proxy",r,"_ep")}})},Eb=e=>{let t=0;return e.getAllNodes().forEach(n=>{var r,i;n.data.borderTop&&(n.data.minRank=null===(r=e.getNode(n.data.borderTop))||void 0===r?void 0:r.data.rank,n.data.maxRank=null===(i=e.getNode(n.data.borderBottom))||void 0===i?void 0:i.data.rank,t=Math.max(t,n.data.maxRank||-1/0))}),t},kb=e=>{e.getAllNodes().forEach(t=>{"edge-proxy"===t.data.dummy&&(e.getEdge(t.data.e.id).data.labelRank=t.data.rank,e.removeNode(t.id))})},Sb=(e,t)=>{let n,r,i=0,o=0;const{marginx:a=0,marginy:s=0}={},l=e=>{if(!e.data)return;const t=e.data.x,a=e.data.y,s=e.data.width,l=e.data.height;isNaN(t)||isNaN(s)||(void 0===n&&(n=t-s/2),n=Math.min(n,t-s/2),i=Math.max(i,t+s/2)),isNaN(a)||isNaN(l)||(void 0===r&&(r=a-l/2),r=Math.min(r,a-l/2),o=Math.max(o,a+l/2))};return e.getAllNodes().forEach(e=>{l(e)}),e.getAllEdges().forEach(e=>{(null==e?void 0:e.data.hasOwnProperty("x"))&&l(e)}),n-=a,r-=s,e.getAllNodes().forEach(e=>{e.data.x-=n,e.data.y-=r}),e.getAllEdges().forEach(e=>{var t;null===(t=e.data.points)||void 0===t||t.forEach(e=>{e.x-=n,e.y-=r}),e.data.hasOwnProperty("x")&&(e.data.x-=n),e.data.hasOwnProperty("y")&&(e.data.y-=r)}),{width:i-n+a,height:o-r+s}},Mb=e=>{e.getAllEdges().forEach(t=>{const n=e.getNode(t.source),r=e.getNode(t.target);let i,o;t.data.points?(i=t.data.points[0],o=t.data.points[t.data.points.length-1]):(t.data.points=[],i={x:r.data.x,y:r.data.y},o={x:n.data.x,y:n.data.y}),t.data.points.unshift(tv(n.data,i)),t.data.points.push(tv(r.data,o))})},Tb=e=>{e.getAllEdges().forEach(e=>{if(e.data.hasOwnProperty("x"))switch("l"!==e.data.labelpos&&"r"!==e.data.labelpos||(e.data.width-=e.data.labeloffset),e.data.labelpos){case"l":e.data.x-=e.data.width/2+e.data.labeloffset;break;case"r":e.data.x+=e.data.width/2+e.data.labeloffset}})},Ob=e=>{e.getAllEdges().forEach(e=>{var t;e.data.reversed&&(null===(t=e.data.points)||void 0===t||t.reverse())})},Cb=e=>{e.getAllNodes().forEach(t=>{var n,r,i;if(null===(n=e.getChildren(t.id))||void 0===n?void 0:n.length){const n=e.getNode(t.id),o=e.getNode(n.data.borderTop),a=e.getNode(n.data.borderBottom),s=e.getNode(n.data.borderLeft[(null===(r=n.data.borderLeft)||void 0===r?void 0:r.length)-1]),l=e.getNode(n.data.borderRight[(null===(i=n.data.borderRight)||void 0===i?void 0:i.length)-1]);n.data.width=Math.abs((null==l?void 0:l.data.x)-(null==s?void 0:s.data.x))||10,n.data.height=Math.abs((null==a?void 0:a.data.y)-(null==o?void 0:o.data.y))||10,n.data.x=((null==s?void 0:s.data.x)||0)+n.data.width/2,n.data.y=((null==o?void 0:o.data.y)||0)+n.data.height/2}}),e.getAllNodes().forEach(t=>{"border"===t.data.dummy&&e.removeNode(t.id)})},Nb=e=>{e.getAllEdges().forEach(t=>{if(t.source===t.target){const n=e.getNode(t.source);n.data.selfEdges||(n.data.selfEdges=[]),n.data.selfEdges.push(t),e.removeEdge(t.id)}})},Pb=e=>{const t=nv(e);null==t||t.forEach(t=>{let n=0;null==t||t.forEach((t,r)=>{var i;const o=e.getNode(t);o.data.order=r+n,null===(i=o.data.selfEdges)||void 0===i||i.forEach(t=>{Jy(e,"selfedge",{width:t.data.width,height:t.data.height,rank:o.data.rank,order:r+ ++n,e:t},"_se")}),delete o.data.selfEdges})})},Ab=e=>{e.getAllNodes().forEach(t=>{const n=e.getNode(t.id);if("selfedge"===n.data.dummy){const r=e.getNode(n.data.e.source),i=r.data.x+r.data.width/2,o=r.data.y,a=n.data.x-i,s=r.data.height/2;e.hasEdge(n.data.e.id)?e.updateEdgeData(n.data.e.id,n.data.e.data):e.addEdge({id:n.data.e.id,source:n.data.e.source,target:n.data.e.target,data:n.data.e.data}),e.removeNode(t.id),n.data.e.data.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{y:o,x:i+a},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.data.e.data.x=n.data.x,n.data.e.data.y=n.data.y}})},Rb=(e,t)=>{const n={};return null==t||t.forEach(t=>{void 0!==e[t]&&(n[t]=+e[t])}),n},_b=(e={})=>{const t={};return Object.keys(e).forEach(n=>{t[n.toLowerCase()]=e[n]}),t},Db=Array.isArray,Lb=e=>{const t=[],n=e.length;for(let r=0;r<n;r+=1){t[r]=[];for(let i=0;i<n;i+=1)r===i?t[r][i]=0:0!==e[r][i]&&e[r][i]?t[r][i]=e[r][i]:t[r][i]=1/0}for(let e=0;e<n;e+=1)for(let r=0;r<n;r+=1)for(let i=0;i<n;i+=1)t[r][i]>t[r][e]+t[e][i]&&(t[r][i]=t[r][e]+t[e][i]);return t},Ib=(e,t)=>{const{nodes:n,edges:r}=e,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((e,t)=>{o[e.id]=t;i.push([])}),null==r||r.forEach(e=>{const{source:t,target:n}=e,r=o[t],a=o[n];void 0!==r&&void 0!==a&&(i[r][a]=1,i[a][r]=1)}),i},zb=(e,t)=>Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)),Fb=(e,t,n,r="TB",i,o={})=>{if(!(null==t?void 0:t.length))return;const{stopBranchFn:a,stopAllFn:s}=o;for(let l=0;l<t.length;l++){const u=t[l];if(e.hasNode(u.id)&&!(null==a?void 0:a(u))){if(null==s?void 0:s(u))return;"TB"===r&&n(u),Fb(e,e.getChildren(u.id,i),n,r,i,o),"TB"!==r&&n(u)}}},jb=e=>{if(null===e)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof Array){const t=[];return e.forEach(e=>{t.push(e)}),t.map(e=>jb(e))}if("object"==typeof e){const t={};return Object.keys(e).forEach(n=>{t[n]=jb(e[n])}),t}return e},Bb=(e,t)=>{const n=jb(e);return n.data=n.data||{},t&&(st(n.data.x)||(n.data.x=Math.random()*t[0]),st(n.data.y)||(n.data.y=Math.random()*t[1])),n};function Hb(e){if(!e)return[0,0,0];if(st(e))return[e,e,e];if(0===e.length)return[0,0,0];const[t,n=t,r=t]=e;return[t,n,r]}function Vb(e,t){let n;return n=$e(t)?t:st(t)?()=>t:()=>e,n}function Ub(e,t,n=!0){return t||0===t?$e(t)?t:st(t)?()=>t:Array.isArray(t)?()=>n?Math.max(...t)||e:t:Xe(t)&&t.width&&t.height?()=>n?Math.max(t.width,t.height)||e:[t.width,t.height]:()=>e:t=>{const{size:r}=t.data||{};return r?Array.isArray(r)?n?Math.max(...r)||e:r:Xe(r)&&r.width&&r.height?n?Math.max(r.width,r.height)||e:[r.width,r.height]:r:e}}const Wb=(e,t,n=10)=>{let r;const i="function"==typeof t?t:()=>t||0;r=e?Array.isArray(e)?t=>e:$e(e)?e:t=>e:e=>{var t,r,i;if(null===(t=e.data)||void 0===t?void 0:t.bboxSize)return null===(r=e.data)||void 0===r?void 0:r.bboxSize;if(null===(i=e.data)||void 0===i?void 0:i.size){const t=e.data.size;return Array.isArray(t)?t:Xe(t)?[t.width,t.height]:t}return n};return e=>{const t=r(e),n=i(e);return Math.max(...Hb(t))+n}},Gb={rankdir:"TB",nodesep:50,ranksep:50,edgeLabelSpace:!0,ranker:"tight-tree",controlPoints:!1,radial:!1,focusNode:null};const $b=(e,t,n,r,i,o,a)=>{let s=(null==e?void 0:e.slice(1,e.length-1))||[];if(t&&n){let{x:e,y:l}=t.data,{x:u,y:c}=n.data;if(i&&(e=t.data.y,l=t.data.x,u=n.data.y,c=n.data.x),c!==l&&e!==u){const d=r.indexOf(l),h=r[d+1];if(h){const e=s[0],t=i?{x:(l+h)/2,y:(null==e?void 0:e.y)||u}:{x:(null==e?void 0:e.x)||u,y:(l+h)/2};e&&!o(e,t)||s.unshift(t)}const f=r.indexOf(c),p=Math.abs(f-d);if(1===p)s=a(s,t.data,n.data),s.length||s.push(i?{x:(l+c)/2,y:e}:{x:e,y:(l+c)/2});else if(p>1){const t=r[f-1];if(t){const n=s[s.length-1],r=i?{x:(c+t)/2,y:(null==n?void 0:n.y)||u}:{x:(null==n?void 0:n.x)||e,y:(c+t)/2};n&&!o(n,r)||s.push(r)}}}}return s},qb=(e,t,n)=>{const r=e.getAllNodes(),i=e.getAllEdges();if(!(null==r?void 0:r.length)){return{nodes:[],edges:i}}if(1===r.length){t&&e.mergeNodeData(r[0].id,{x:n[0],y:n[1]});return{nodes:[Object.assign(Object.assign({},r[0]),{data:Object.assign(Object.assign({},r[0].data),{x:n[0],y:n[1]})})],edges:i}}},Yb={radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1};const Xb=(e,t,n=!1)=>{const r=[Bb(t[0])],i={},o=t.length;i[t[0].id]=!0;let a=0;return t.forEach((s,l)=>{if(0!==l)if(l!==o-1&&e.getDegree(s.id,"both")===e.getDegree(t[l+1].id,"both")&&!e.areNeighbors(r[a].id,s.id)||i[s.id]){const l=n?e.getSuccessors(r[a].id):e.getNeighbors(r[a].id);let u=!1;for(let t=0;t<l.length;t++){const n=l[t];if(e.getDegree(n.id)===e.getDegree(s.id)&&!i[n.id]){r.push(Bb(n)),i[n.id]=!0,u=!0;break}}let c=0;for(;!u&&(i[t[c].id]||(r.push(Bb(t[c])),i[t[c].id]=!0,u=!0),c++,c!==o););}else r.push(Bb(s)),i[s.id]=!0,a++}),r};const Kb=(e,t,n)=>{let r=e,i=t,o=n;return r||"undefined"==typeof window||(r=window.innerWidth),i||"undefined"==typeof window||(i=window.innerHeight),o||(o=[r/2,i/2]),[r,i,o]},Qb={nodeSize:30,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"};class Zb{constructor(e={}){this.options=e,this.id="concentric",this.options=Object.assign(Object.assign({},Qb),e)}execute(e,t){return Ht(this,void 0,void 0,function*(){return this.genericConcentricLayout(!1,e,t)})}assign(e,t){return Ht(this,void 0,void 0,function*(){yield this.genericConcentricLayout(!0,e,t)})}genericConcentricLayout(e,t,n){return Ht(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},this.options),n),{center:i,width:o,height:a,sortBy:s,maxLevelDiff:l,sweep:u,clockwise:c,equidistant:d,preventOverlap:h,startAngle:f=1.5*Math.PI,nodeSize:p,nodeSpacing:g}=r,m=t.getAllNodes(),y=t.getAllEdges(),v=o||"undefined"==typeof window?o:window.innerWidth,b=a||"undefined"==typeof window?a:window.innerHeight,w=i||[v/2,b/2];if(!(null==m?void 0:m.length)||1===m.length)return qb(t,e,w);const x=[];let E,k=0;Db(p)?E=Math.max(p[0],p[1]):$e(p)?(E=-1/0,m.forEach(e=>{const t=Math.max(...Hb(p(e)));t>E&&(E=t)})):E=p,Db(g)?k=Math.max(g[0],g[1]):st(g)&&(k=g),m.forEach(e=>{const t=Bb(e);x.push(t);let n=E;const{data:r}=t;Db(r.size)?n=Math.max(r.size[0],r.size[1]):st(r.size)?n=r.size:Xe(r.size)&&(n=Math.max(r.size.width,r.size.height)),E=Math.max(E,n),$e(g)&&(k=Math.max(g(e),k))});const S={};x.forEach((e,t)=>{S[e.id]=t});let M=s;rt(M)&&void 0!==x[0].data[M]||(M="degree"),"degree"===M?x.sort((e,n)=>t.getDegree(n.id,"both")-t.getDegree(e.id,"both")):x.sort((e,t)=>t.data[M]-e.data[M]);const T=x[0],O=(l||("degree"===M?t.getDegree(T.id,"both"):T.data[M]))/4,C=[{nodes:[]}];let N=C[0];x.forEach(e=>{if(N.nodes.length>0){const n="degree"===M?Math.abs(t.getDegree(N.nodes[0].id,"both")-t.getDegree(e.id,"both")):Math.abs(N.nodes[0].data[M]-e.data[M]);O&&n>=O&&(N={nodes:[]},C.push(N))}N.nodes.push(e)});let P=E+k;if(!h){const e=C.length>0&&C[0].nodes.length>1,t=(Math.min(v,b)/2-P)/(C.length+(e?1:0));P=Math.min(P,t)}let A=0;if(C.forEach(e=>{const t=void 0===u?2*Math.PI-2*Math.PI/e.nodes.length:u;if(e.dTheta=t/Math.max(1,e.nodes.length-1),e.nodes.length>1&&h){const t=Math.cos(e.dTheta)-Math.cos(0),n=Math.sin(e.dTheta)-Math.sin(0),r=Math.sqrt(P*P/(t*t+n*n));A=Math.max(r,A)}e.r=A,A+=P}),d){let e=0,t=0;for(let n=0;n<C.length;n++){const r=(C[n].r||0)-t;e=Math.max(e,r)}t=0,C.forEach((n,r)=>{0===r&&(t=n.r||0),n.r=t,t+=e})}C.forEach(e=>{const t=e.dTheta||0,n=e.r||0;e.nodes.forEach((e,r)=>{const i=f+(c?1:-1)*t*r;e.data.x=w[0]+n*Math.cos(i),e.data.y=w[1]+n*Math.sin(i)})}),e&&x.forEach(e=>t.mergeNodeData(e.id,{x:e.data.x,y:e.data.y}));return{nodes:x,edges:y}})}}function Jb(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,s,l,u,c,d,h,f=e._root,p={data:r},g=e._x0,m=e._y0,y=e._x1,v=e._y1;if(!f)return e._root=p,e;for(;f.length;)if((u=t>=(o=(g+y)/2))?g=o:y=o,(c=n>=(a=(m+v)/2))?m=a:v=a,i=f,!(f=f[d=c<<1|u]))return i[d]=p,e;if(s=+e._x.call(null,f.data),l=+e._y.call(null,f.data),t===s&&n===l)return p.next=f,i?i[d]=p:e._root=p,e;do{i=i?i[d]=new Array(4):e._root=new Array(4),(u=t>=(o=(g+y)/2))?g=o:y=o,(c=n>=(a=(m+v)/2))?m=a:v=a}while((d=c<<1|u)==(h=(l>=a)<<1|s>=o));return i[h]=f,i[d]=p,e}function ew(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function tw(e){return e[0]}function nw(e){return e[1]}function rw(e,t,n){var r=new iw(null==t?tw:t,null==n?nw:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function iw(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function ow(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var aw=rw.prototype=iw.prototype;function sw(e,t,n,r,i){if(isNaN(t)||isNaN(n)||isNaN(r))return e;var o,a,s,l,u,c,d,h,f,p,g,m,y=e._root,v={data:i},b=e._x0,w=e._y0,x=e._z0,E=e._x1,k=e._y1,S=e._z1;if(!y)return e._root=v,e;for(;y.length;)if((h=t>=(a=(b+E)/2))?b=a:E=a,(f=n>=(s=(w+k)/2))?w=s:k=s,(p=r>=(l=(x+S)/2))?x=l:S=l,o=y,!(y=y[g=p<<2|f<<1|h]))return o[g]=v,e;if(u=+e._x.call(null,y.data),c=+e._y.call(null,y.data),d=+e._z.call(null,y.data),t===u&&n===c&&r===d)return v.next=y,o?o[g]=v:e._root=v,e;do{o=o?o[g]=new Array(8):e._root=new Array(8),(h=t>=(a=(b+E)/2))?b=a:E=a,(f=n>=(s=(w+k)/2))?w=s:k=s,(p=r>=(l=(x+S)/2))?x=l:S=l}while((g=p<<2|f<<1|h)==(m=(d>=l)<<2|(c>=s)<<1|u>=a));return o[m]=y,o[g]=v,e}function lw(e,t,n,r,i,o,a){this.node=e,this.x0=t,this.y0=n,this.z0=r,this.x1=i,this.y1=o,this.z1=a}aw.copy=function(){var e,t,n=new iw(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=ow(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=ow(t));return n},aw.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return Jb(this.cover(t,n),t,n,e)},aw.addAll=function(e){var t,n,r,i,o=e.length,a=new Array(o),s=new Array(o),l=1/0,u=1/0,c=-1/0,d=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(a[n]=r,s[n]=i,r<l&&(l=r),r>c&&(c=r),i<u&&(u=i),i>d&&(d=i));if(l>c||u>d)return this;for(this.cover(l,u).cover(c,d),n=0;n<o;++n)Jb(this,a[n],s[n],e[n]);return this},aw.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a,s,l=i-n||1,u=this._root;n>e||e>=i||r>t||t>=o;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=u,u=a,l*=2,s){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},aw.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},aw.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},aw.find=function(e,t,n){var r,i,o,a,s,l,u,c=this._x0,d=this._y0,h=this._x1,f=this._y1,p=[],g=this._root;for(g&&p.push(new ew(g,c,d,h,f)),null==n?n=1/0:(c=e-n,d=t-n,h=e+n,f=t+n,n*=n);l=p.pop();)if(!(!(g=l.node)||(i=l.x0)>h||(o=l.y0)>f||(a=l.x1)<c||(s=l.y1)<d))if(g.length){var m=(i+a)/2,y=(o+s)/2;p.push(new ew(g[3],m,y,a,s),new ew(g[2],i,y,m,s),new ew(g[1],m,o,a,y),new ew(g[0],i,o,m,y)),(u=(t>=y)<<1|e>=m)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=l)}else{var v=e-+this._x.call(null,g.data),b=t-+this._y.call(null,g.data),w=v*v+b*b;if(w<n){var x=Math.sqrt(n=w);c=e-x,d=t-x,h=e+x,f=t+x,r=g.data}}return r},aw.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,s,l,u,c,d,h,f=this._root,p=this._x0,g=this._y0,m=this._x1,y=this._y1;if(!f)return this;if(f.length)for(;;){if((u=o>=(s=(p+m)/2))?p=s:m=s,(c=a>=(l=(g+y)/2))?g=l:y=l,t=f,!(f=f[d=c<<1|u]))return this;if(!f.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,h=d)}for(;f.data!==e;)if(r=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,r?(i?r.next=i:delete r.next,this):t?(i?t[d]=i:delete t[d],(f=t[0]||t[1]||t[2]||t[3])&&f===(t[3]||t[2]||t[1]||t[0])&&!f.length&&(n?n[h]=f:this._root=f),this):(this._root=i,this)},aw.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},aw.root=function(){return this._root},aw.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},aw.visit=function(e){var t,n,r,i,o,a,s=[],l=this._root;for(l&&s.push(new ew(l,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(l=t.node,r=t.x0,i=t.y0,o=t.x1,a=t.y1)&&l.length){var u=(r+o)/2,c=(i+a)/2;(n=l[3])&&s.push(new ew(n,u,c,o,a)),(n=l[2])&&s.push(new ew(n,r,c,u,a)),(n=l[1])&&s.push(new ew(n,u,i,o,c)),(n=l[0])&&s.push(new ew(n,r,i,u,c))}return this},aw.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new ew(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,a=t.x0,s=t.y0,l=t.x1,u=t.y1,c=(a+l)/2,d=(s+u)/2;(o=i[0])&&n.push(new ew(o,a,s,c,d)),(o=i[1])&&n.push(new ew(o,c,s,l,d)),(o=i[2])&&n.push(new ew(o,a,d,c,u)),(o=i[3])&&n.push(new ew(o,c,d,l,u))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},aw.x=function(e){return arguments.length?(this._x=e,this):this._x},aw.y=function(e){return arguments.length?(this._y=e,this):this._y};const uw=(e,t,n,r,i,o)=>Math.sqrt((e-r)**2+(t-i)**2+(n-o)**2);function cw(e){return e[0]}function dw(e){return e[1]}function hw(e){return e[2]}function fw(e,t,n,r){var i=new pw(null==t?cw:t,null==n?dw:n,null==r?hw:r,NaN,NaN,NaN,NaN,NaN,NaN);return null==e?i:i.addAll(e)}function pw(e,t,n,r,i,o,a,s,l){this._x=e,this._y=t,this._z=n,this._x0=r,this._y0=i,this._z0=o,this._x1=a,this._y1=s,this._z1=l,this._root=void 0}function gw(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var mw=fw.prototype=pw.prototype;mw.copy=function(){var e,t,n=new pw(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),r=this._root;if(!r)return n;if(!r.length)return n._root=gw(r),n;for(e=[{source:r,target:n._root=new Array(8)}];r=e.pop();)for(var i=0;i<8;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(8)}):r.target[i]=gw(t));return n},mw.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e),r=+this._z.call(null,e);return sw(this.cover(t,n,r),t,n,r,e)},mw.addAll=function(e){Array.isArray(e)||(e=Array.from(e));const t=e.length,n=new Float64Array(t),r=new Float64Array(t),i=new Float64Array(t);let o=1/0,a=1/0,s=1/0,l=-1/0,u=-1/0,c=-1/0;for(let d,h,f,p,g=0;g<t;++g)isNaN(h=+this._x.call(null,d=e[g]))||isNaN(f=+this._y.call(null,d))||isNaN(p=+this._z.call(null,d))||(n[g]=h,r[g]=f,i[g]=p,h<o&&(o=h),h>l&&(l=h),f<a&&(a=f),f>u&&(u=f),p<s&&(s=p),p>c&&(c=p));if(o>l||a>u||s>c)return this;this.cover(o,a,s).cover(l,u,c);for(let o=0;o<t;++o)sw(this,n[o],r[o],i[o],e[o]);return this},mw.cover=function(e,t,n){if(isNaN(e=+e)||isNaN(t=+t)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,o=this._z0,a=this._x1,s=this._y1,l=this._z1;if(isNaN(r))a=(r=Math.floor(e))+1,s=(i=Math.floor(t))+1,l=(o=Math.floor(n))+1;else{for(var u,c,d=a-r||1,h=this._root;r>e||e>=a||i>t||t>=s||o>n||n>=l;)switch(c=(n<o)<<2|(t<i)<<1|e<r,(u=new Array(8))[c]=h,h=u,d*=2,c){case 0:a=r+d,s=i+d,l=o+d;break;case 1:r=a-d,s=i+d,l=o+d;break;case 2:a=r+d,i=s-d,l=o+d;break;case 3:r=a-d,i=s-d,l=o+d;break;case 4:a=r+d,s=i+d,o=l-d;break;case 5:r=a-d,s=i+d,o=l-d;break;case 6:a=r+d,i=s-d,o=l-d;break;case 7:r=a-d,i=s-d,o=l-d}this._root&&this._root.length&&(this._root=h)}return this._x0=r,this._y0=i,this._z0=o,this._x1=a,this._y1=s,this._z1=l,this},mw.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},mw.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},mw.find=function(e,t,n,r){var i,o,a,s,l,u,c,d,h,f=this._x0,p=this._y0,g=this._z0,m=this._x1,y=this._y1,v=this._z1,b=[],w=this._root;for(w&&b.push(new lw(w,f,p,g,m,y,v)),null==r?r=1/0:(f=e-r,p=t-r,g=n-r,m=e+r,y=t+r,v=n+r,r*=r);d=b.pop();)if(!(!(w=d.node)||(o=d.x0)>m||(a=d.y0)>y||(s=d.z0)>v||(l=d.x1)<f||(u=d.y1)<p||(c=d.z1)<g))if(w.length){var x=(o+l)/2,E=(a+u)/2,k=(s+c)/2;b.push(new lw(w[7],x,E,k,l,u,c),new lw(w[6],o,E,k,x,u,c),new lw(w[5],x,a,k,l,E,c),new lw(w[4],o,a,k,x,E,c),new lw(w[3],x,E,s,l,u,k),new lw(w[2],o,E,s,x,u,k),new lw(w[1],x,a,s,l,E,k),new lw(w[0],o,a,s,x,E,k)),(h=(n>=k)<<2|(t>=E)<<1|e>=x)&&(d=b[b.length-1],b[b.length-1]=b[b.length-1-h],b[b.length-1-h]=d)}else{var S=e-+this._x.call(null,w.data),M=t-+this._y.call(null,w.data),T=n-+this._z.call(null,w.data),O=S*S+M*M+T*T;if(O<r){var C=Math.sqrt(r=O);f=e-C,p=t-C,g=n-C,m=e+C,y=t+C,v=n+C,i=w.data}}return i},mw.findAllWithinRadius=function(e,t,n,r){const i=[],o=e-r,a=t-r,s=n-r,l=e+r,u=t+r,c=n+r;return this.visit((d,h,f,p,g,m,y)=>{if(!d.length)do{const o=d.data;uw(e,t,n,this._x(o),this._y(o),this._z(o))<=r&&i.push(o)}while(d=d.next);return h>l||f>u||p>c||g<o||m<a||y<s}),i},mw.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e))||isNaN(s=+this._z.call(null,e)))return this;var t,n,r,i,o,a,s,l,u,c,d,h,f,p,g,m=this._root,y=this._x0,v=this._y0,b=this._z0,w=this._x1,x=this._y1,E=this._z1;if(!m)return this;if(m.length)for(;;){if((d=o>=(l=(y+w)/2))?y=l:w=l,(h=a>=(u=(v+x)/2))?v=u:x=u,(f=s>=(c=(b+E)/2))?b=c:E=c,t=m,!(m=m[p=f<<2|h<<1|d]))return this;if(!m.length)break;(t[p+1&7]||t[p+2&7]||t[p+3&7]||t[p+4&7]||t[p+5&7]||t[p+6&7]||t[p+7&7])&&(n=t,g=p)}for(;m.data!==e;)if(r=m,!(m=m.next))return this;return(i=m.next)&&delete m.next,r?(i?r.next=i:delete r.next,this):t?(i?t[p]=i:delete t[p],(m=t[0]||t[1]||t[2]||t[3]||t[4]||t[5]||t[6]||t[7])&&m===(t[7]||t[6]||t[5]||t[4]||t[3]||t[2]||t[1]||t[0])&&!m.length&&(n?n[g]=m:this._root=m),this):(this._root=i,this)},mw.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},mw.root=function(){return this._root},mw.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},mw.visit=function(e){var t,n,r,i,o,a,s,l,u=[],c=this._root;for(c&&u.push(new lw(c,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=u.pop();)if(!e(c=t.node,r=t.x0,i=t.y0,o=t.z0,a=t.x1,s=t.y1,l=t.z1)&&c.length){var d=(r+a)/2,h=(i+s)/2,f=(o+l)/2;(n=c[7])&&u.push(new lw(n,d,h,f,a,s,l)),(n=c[6])&&u.push(new lw(n,r,h,f,d,s,l)),(n=c[5])&&u.push(new lw(n,d,i,f,a,h,l)),(n=c[4])&&u.push(new lw(n,r,i,f,d,h,l)),(n=c[3])&&u.push(new lw(n,d,h,o,a,s,f)),(n=c[2])&&u.push(new lw(n,r,h,o,d,s,f)),(n=c[1])&&u.push(new lw(n,d,i,o,a,h,f)),(n=c[0])&&u.push(new lw(n,r,i,o,d,h,f))}return this},mw.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new lw(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=n.pop();){var i=t.node;if(i.length){var o,a=t.x0,s=t.y0,l=t.z0,u=t.x1,c=t.y1,d=t.z1,h=(a+u)/2,f=(s+c)/2,p=(l+d)/2;(o=i[0])&&n.push(new lw(o,a,s,l,h,f,p)),(o=i[1])&&n.push(new lw(o,h,s,l,u,f,p)),(o=i[2])&&n.push(new lw(o,a,f,l,h,c,p)),(o=i[3])&&n.push(new lw(o,h,f,l,u,c,p)),(o=i[4])&&n.push(new lw(o,a,s,p,h,f,d)),(o=i[5])&&n.push(new lw(o,h,s,p,u,f,d)),(o=i[6])&&n.push(new lw(o,a,f,p,h,c,d)),(o=i[7])&&n.push(new lw(o,h,f,p,u,c,d))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.z0,t.x1,t.y1,t.z1);return this},mw.x=function(e){return arguments.length?(this._x=e,this):this._x},mw.y=function(e){return arguments.length?(this._y=e,this):this._y},mw.z=function(e){return arguments.length?(this._z=e,this):this._z};function yw(e,t,n,r,i=2){const o=t/n,a=e.getAllNodes(),s=a.map((e,t)=>{const{nodeStrength:n,x:r,y:i,z:a,size:s}=e.data;return{x:r,y:i,z:a,size:s,index:t,id:e.id,vx:0,vy:0,vz:0,weight:o*n}}),l=(2===i?rw(s,e=>e.x,e=>e.y):fw(s,e=>e.x,e=>e.y,e=>e.z)).visitAfter(vw),u=new Map;return s.forEach(e=>{u.set(e.id,e),function(e,t,n){t.visit((t,r,i,o,a)=>bw(t,r,i,o,a,e,n))}(e,l,i)}),s.map((e,t)=>{const{id:n,data:i}=a[t],{mass:o=1}=i;r[n]={x:e.vx/o,y:e.vy/o,z:e.vz/o}}),r}function vw(e){let t=0,n=0,r=0,i=0,o=0;const a=e.length;if(a){for(let s=0;s<a;s++){const a=e[s];a&&a.weight&&(t+=a.weight,n+=a.x*a.weight,r+=a.y*a.weight,i+=a.z*a.weight,o+=a.size*a.weight)}e.x=n/t,e.y=r/t,e.z=i/t,e.size=o/t,e.weight=t}else{const t=e;e.x=t.data.x,e.y=t.data.y,e.z=t.data.z,e.size=t.data.size,e.weight=t.data.weight}}const bw=(e,t,n,r,i,o,a)=>{var s;if((null===(s=e.data)||void 0===s?void 0:s.id)===o.id)return;const l=[n,r,i][a-1],u=o.x-e.x||.1,c=o.y-e.y||.1,d=o.z-e.z||.1,h=[u,c,d],f=l-t;let p=0;for(let e=0;e<a;e++)p+=h[e]*h[e];const g=Math.sqrt(p)*p;if(f*f*.81<p){const t=e.weight/g;return o.vx+=u*t,o.vy+=c*t,o.vz+=d*t,!0}if(e.length)return!1;if(e.data!==o){const t=e.data.weight/g;o.vx+=u*t,o.vy+=c*t,o.vz+=d*t}};const ww={dimensions:2,maxIteration:500,gravity:10,factor:1,edgeStrength:50,nodeStrength:1e3,coulombDisScale:.005,damping:.9,maxSpeed:200,minMovement:.4,interval:.02,linkDistance:200,clusterNodeStrength:20,preventOverlap:!0,distanceThresholdMode:"mean"};class xw{constructor(e={}){this.options=e,this.id="force",this.timeInterval=0,this.judgingDistance=0,this.running=!1,this.options=Object.assign(Object.assign({},ww),e)}execute(e,t){return Ht(this,void 0,void 0,function*(){return this.genericForceLayout(!1,e,t)})}assign(e,t){return Ht(this,void 0,void 0,function*(){yield this.genericForceLayout(!0,e,t)})}stop(){this.timeInterval&&"undefined"!=typeof window&&window.clearInterval(this.timeInterval),this.running=!1}tick(e=this.options.maxIteration||1){if(this.lastResult)return this.lastResult;for(let t=0;(this.judgingDistance>this.lastOptions.minMovement||t<1)&&t<e;t++)this.runOneStep(this.lastCalcGraph,this.lastGraph,t,this.lastVelMap,this.lastOptions),this.updatePosition(this.lastGraph,this.lastCalcGraph,this.lastVelMap,this.lastOptions);const t={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&t.nodes.forEach(e=>this.lastGraph.mergeNodeData(e.id,{x:e.data.x,y:e.data.y,z:3===this.options.dimensions?e.data.z:void 0})),t}genericForceLayout(e,t,n){return Ht(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},this.options),n),i=t.getAllNodes(),o=t.getAllEdges(),a=this.formatOptions(r,t),{dimensions:s,width:l,height:u,nodeSize:c,getMass:d,nodeStrength:h,edgeStrength:f,linkDistance:p}=a,g=i.map((e,t)=>Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{x:st(e.data.x)?e.data.x:Math.random()*l,y:st(e.data.y)?e.data.y:Math.random()*u,z:st(e.data.z)?e.data.z:Math.random()*Math.sqrt(l*u),size:c(e)||30,mass:d(e),nodeStrength:h(e)})})),m=o.map(e=>Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{edgeStrength:f(e),linkDistance:p(e,t.getNode(e.source),t.getNode(e.target))})}));if(!(null==i?void 0:i.length))return this.lastResult={nodes:[],edges:o},{nodes:[],edges:o};const y={};i.forEach((e,t)=>{y[e.id]={x:0,y:0,z:0}});const v=new ym({nodes:g,edges:m});this.formatCentripetal(a,v);const{maxIteration:b,minMovement:w,onTick:x}=a;if(this.lastLayoutNodes=g,this.lastLayoutEdges=m,this.lastAssign=e,this.lastGraph=t,this.lastCalcGraph=v,this.lastOptions=a,this.lastVelMap=y,"undefined"==typeof window)return;let E=0;return new Promise(n=>{this.timeInterval=window.setInterval(()=>{i&&this.running||n({nodes:Tw(t,g),edges:o}),this.runOneStep(v,t,E,y,a),this.updatePosition(t,v,y,a),e&&g.forEach(e=>t.mergeNodeData(e.id,{x:e.data.x,y:e.data.y,z:3===s?e.data.z:void 0})),null==x||x({nodes:Tw(t,g),edges:o}),E++,(E>=b||this.judgingDistance<w)&&(window.clearInterval(this.timeInterval),n({nodes:Tw(t,g),edges:o}))},0),this.running=!0})})}formatOptions(e,t){const n=Object.assign({},e),{width:r,height:i,getMass:o}=e;n.width=r||"undefined"==typeof window?r:window.innerWidth,n.height=i||"undefined"==typeof window?i:window.innerHeight,e.center||(n.center=[n.width/2,n.height/2]),o||(n.getMass=e=>{let n=1;st(null==e?void 0:e.data.mass)&&(n=null==e?void 0:e.data.mass);const r=t.getDegree(e.id,"both");return!r||r<5?n:5*r*n}),n.nodeSize=Wb(e.nodeSize,e.nodeSpacing);const a=e.linkDistance?Vb(1,e.linkDistance):e=>1+n.nodeSize(t.getNode(e.source))+n.nodeSize(t.getNode(e.target));return n.linkDistance=a,n.nodeStrength=Vb(1,e.nodeStrength),n.edgeStrength=Vb(1,e.edgeStrength),n}formatCentripetal(e,t){const{dimensions:n,centripetalOptions:r,center:i,clusterNodeStrength:o,leafCluster:a,clustering:s,nodeClusterBy:l}=e,u=t.getAllNodes(),c=r||{leaf:2,single:2,others:1,center:e=>({x:i[0],y:i[1],z:3===n?i[2]:void 0})};let d,h;if("function"!=typeof o&&(e.clusterNodeStrength=e=>o),a&&l&&(d=Ew(t,l),h=Array.from(new Set(null==u?void 0:u.map(e=>e.data[l])))||[],e.centripetalOptions=Object.assign(c,{single:100,leaf:t=>{const{siblingLeaves:n,sameTypeLeaves:r}=d[t.id]||{};return(null==r?void 0:r.length)===(null==n?void 0:n.length)||1===(null==h?void 0:h.length)?1:e.clusterNodeStrength(t)},others:1,center:e=>{const n=t.getDegree(e.id,"both");if(!n)return{x:100,y:100,z:0};let r;if(1===n){const{sameTypeLeaves:t=[]}=d[e.id]||{};1===t.length?r=void 0:t.length>1&&(r=Mw(t))}else r=void 0;return{x:null==r?void 0:r.x,y:null==r?void 0:r.y,z:null==r?void 0:r.z}}})),s&&l){d||(d=Ew(t,l)),h||(h=Array.from(new Set(u.map(e=>e.data[l])))),h=h.filter(e=>void 0!==e);const n={};h.forEach(e=>{const r=u.filter(t=>t.data[l]===e).map(e=>t.getNode(e.id));n[e]=Mw(r)}),e.centripetalOptions=Object.assign(c,{single:t=>e.clusterNodeStrength(t),leaf:t=>e.clusterNodeStrength(t),others:t=>e.clusterNodeStrength(t),center:e=>{const t=n[e.data[l]];return{x:null==t?void 0:t.x,y:null==t?void 0:t.y,z:null==t?void 0:t.z}}})}const{leaf:f,single:p,others:g}=e.centripetalOptions||{};f&&"function"!=typeof f&&(e.centripetalOptions.leaf=()=>f),p&&"function"!=typeof p&&(e.centripetalOptions.single=()=>p),g&&"function"!=typeof g&&(e.centripetalOptions.others=()=>g)}runOneStep(e,t,n,r,i){const o={},a=e.getAllNodes(),s=e.getAllEdges();if(!(null==a?void 0:a.length))return;const{monitor:l}=i;if(this.calRepulsive(e,o,i),s&&this.calAttractive(e,o,i),this.calGravity(e,t,o,i),this.updateVelocity(e,o,r,i),l){l({energy:this.calTotalEnergy(o,a),nodes:t.getAllNodes(),edges:t.getAllEdges(),iterations:n})}}calTotalEnergy(e,t){if(!(null==t?void 0:t.length))return 0;let n=0;return t.forEach((t,r)=>{const i=e[t.id].x,o=e[t.id].y,a=3===this.options.dimensions?e[t.id].z:0,s=i*i+o*o+a*a,{mass:l=1}=t.data;n+=l*s*.5}),n}calRepulsive(e,t,n){const{dimensions:r,factor:i,coulombDisScale:o}=n;yw(e,i,o*o,t,r)}calAttractive(e,t,n){const{dimensions:r,nodeSize:i}=n;e.getAllEdges().forEach((n,o)=>{const{source:a,target:s}=n,l=e.getNode(a),u=e.getNode(s);if(!l||!u)return;let c=u.data.x-l.data.x,d=u.data.y-l.data.y,h=3===r?u.data.z-l.data.z:0;c||d||(c=.01*Math.random(),d=.01*Math.random(),3!==r||h||(h=.01*Math.random()));const f=Math.sqrt(c*c+d*d+h*h);if(f<i(l)+i(u))return;const p=c/f,g=d/f,m=h/f,{linkDistance:y=200,edgeStrength:v=200}=n.data||{},b=(y-f)*v,w=1/(l.data.mass||1),x=1/(u.data.mass||1),E=p*b,k=g*b,S=m*b;t[a].x-=E*w,t[a].y-=k*w,t[a].z-=S*w,t[s].x+=E*x,t[s].y+=k*x,t[s].z+=S*x})}calGravity(e,t,n,r){const{getCenter:i}=r,o=e.getAllNodes(),a=t.getAllNodes(),s=t.getAllEdges(),{width:l,height:u,center:c,gravity:d,centripetalOptions:h}=r;o&&o.forEach(r=>{const{id:o,data:f}=r,{mass:p,x:g,y:m,z:y}=f,v=t.getNode(o);let b=0,w=0,x=0,E=d;const k=e.getDegree(o,"in"),S=e.getDegree(o,"out"),M=e.getDegree(o,"both"),T=null==i?void 0:i(v,M);if(T){const[e,t,n]=T;b=g-e,w=m-t,E=n}else b=g-c[0],w=m-c[1],x=y-c[2];if(E&&(n[o].x-=E*b/p,n[o].y-=E*w/p,n[o].z-=E*x/p),h){const{leaf:e,single:t,others:r,center:i}=h,{x:c,y:d,z:f,centerStrength:b}=(null==i?void 0:i(v,a,s,l,u))||{x:0,y:0,z:0,centerStrength:0};if(!st(c)||!st(d))return;const w=(g-c)/p,x=(m-d)/p,E=(y-f)/p;if(b&&(n[o].x-=b*w,n[o].y-=b*x,n[o].z-=b*E),0===M){const e=t(v);if(!e)return;return n[o].x-=e*w,n[o].y-=e*x,void(n[o].z-=e*E)}if(0===k||0===S){const t=e(v,a,s);if(!t)return;return n[o].x-=t*w,n[o].y-=t*x,void(n[o].z-=t*E)}const T=r(v);if(!T)return;n[o].x-=T*w,n[o].y-=T*x,n[o].z-=T*E}})}updateVelocity(e,t,n,r){const{damping:i,maxSpeed:o,interval:a,dimensions:s}=r,l=e.getAllNodes();(null==l?void 0:l.length)&&l.forEach(e=>{const{id:r}=e;let l=(n[r].x+t[r].x*a)*i||.01,u=(n[r].y+t[r].y*a)*i||.01,c=3===s?(n[r].z+t[r].z*a)*i||.01:0;const d=Math.sqrt(l*l+u*u+c*c);if(d>o){const e=o/d;l*=e,u*=e,c*=e}n[r]={x:l,y:u,z:c}})}updatePosition(e,t,n,r){const{distanceThresholdMode:i,interval:o,dimensions:a}=r,s=t.getAllNodes();if(!(null==s?void 0:s.length))return void(this.judgingDistance=0);let l=0;"max"===i?this.judgingDistance=-1/0:"min"===i&&(this.judgingDistance=1/0),s.forEach(r=>{const{id:s}=r,u=e.getNode(s);if(st(u.data.fx)&&st(u.data.fy))return void t.mergeNodeData(s,{x:u.data.fx,y:u.data.fy,z:3===a?u.data.fz:void 0});const c=n[s].x*o,d=n[s].y*o,h=3===a?n[s].z*o:0;t.mergeNodeData(s,{x:r.data.x+c,y:r.data.y+d,z:r.data.z+h});const f=Math.sqrt(c*c+d*d+h*h);switch(i){case"max":this.judgingDistance<f&&(this.judgingDistance=f);break;case"min":this.judgingDistance>f&&(this.judgingDistance=f);break;default:l+=f}}),i&&"mean"!==i||(this.judgingDistance=l/s.length)}}const Ew=(e,t)=>{const n=e.getAllNodes();if(!(null==n?void 0:n.length))return{};const r={};return n.forEach((n,i)=>{1===e.getDegree(n.id,"both")&&(r[n.id]=kw(e,"leaf",n,t))}),r},kw=(e,t,n,r)=>{const i=e.getDegree(n.id,"in"),o=e.getDegree(n.id,"out");let a=n,s=[];0===i?(a=e.getSuccessors(n.id)[0],s=e.getNeighbors(a.id)):0===o&&(a=e.getPredecessors(n.id)[0],s=e.getNeighbors(a.id)),s=s.filter(t=>0===e.getDegree(t.id,"in")||0===e.getDegree(t.id,"out"));return{coreNode:a,siblingLeaves:s,sameTypeLeaves:Sw(e,t,r,n,s)}},Sw=(e,t,n,r,i)=>{const o=r.data[n]||"";let a=(null==i?void 0:i.filter(e=>e.data[n]===o))||[];return a=a.filter(t=>0===e.getDegree(t.id,"in")||0===e.getDegree(t.id,"out")),a},Mw=e=>{const t={x:0,y:0};e.forEach(e=>{const{x:n,y:r}=e.data;t.x+=n||0,t.y+=r||0});const n=e.length||1;return{x:t.x/n,y:t.y/n}},Tw=(e,t)=>t.map(t=>{const{id:n,data:r}=t,i=e.getNode(n);return Object.assign(Object.assign({},i),{data:Object.assign(Object.assign({},i.data),{x:r.x,y:r.y,z:r.z})})});var Ow={};const Cw=Object.prototype.toString;function Nw(e){const t=Cw.call(e);return t.endsWith("Array]")&&!t.includes("Big")}var Pw=k(Object.freeze({__proto__:null,isAnyArray:Nw}));var Aw=Object.freeze({__proto__:null,default:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Nw(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");if(void 0!==n.output){if(!Nw(n.output))throw new TypeError("output option must be an array if specified");t=n.output}else t=new Array(e.length);var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Nw(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");var n=t.fromIndex,r=void 0===n?0:n,i=t.toIndex,o=void 0===i?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>e.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=e[r],s=r+1;s<o;s++)e[s]<a&&(a=e[s]);return a}(e),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Nw(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");var n=t.fromIndex,r=void 0===n?0:n,i=t.toIndex,o=void 0===i?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>e.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=e[r],s=r+1;s<o;s++)e[s]>a&&(a=e[s]);return a}(e);if(r===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var o=n.min,a=void 0===o?n.autoMinMax?r:0:o,s=n.max,l=void 0===s?n.autoMinMax?i:1:s;if(a>=l)throw new RangeError("min option must be smaller than max option");for(var u=(l-a)/(i-r),c=0;c<e.length;c++)t[c]=(e[c]-r)*u+a;return t}}),Rw=k(Aw);Object.defineProperty(Ow,"__esModule",{value:!0});var _w=Pw,Dw=Rw;const Lw=" ".repeat(2),Iw=" ".repeat(4);function zw(e,t={}){const{maxRows:n=15,maxColumns:r=10,maxNumSize:i=8,padMinus:o="auto"}=t;return`${e.constructor.name} {\n${Lw}[\n${Iw}${function(e,t,n,r,i){const{rows:o,columns:a}=e,s=Math.min(o,t),l=Math.min(a,n),u=[];if("auto"===i){i=!1;e:for(let t=0;t<s;t++)for(let n=0;n<l;n++)if(e.get(t,n)<0){i=!0;break e}}for(let t=0;t<s;t++){let n=[];for(let o=0;o<l;o++)n.push(Fw(e.get(t,o),r,i));u.push(`${n.join(" ")}`)}l!==a&&(u[u.length-1]+=` ... ${a-n} more columns`);s!==o&&u.push(`... ${o-t} more rows`);return u.join(`\n${Iw}`)}(e,n,r,i,o)}\n${Lw}]\n${Lw}rows: ${e.rows}\n${Lw}columns: ${e.columns}\n}`}function Fw(e,t,n){return(e>=0&&n?` ${jw(e,t-1)}`:jw(e,t)).padEnd(t)}function jw(e,t){let n=e.toString();if(n.length<=t)return n;let r=e.toFixed(t);if(r.length>t&&(r=e.toFixed(Math.max(0,t-(r.length-t)))),r.length<=t&&!r.startsWith("0.000")&&!r.startsWith("-0.000"))return r;let i=e.toExponential(t);return i.length>t&&(i=e.toExponential(Math.max(0,t-(i.length-t)))),i.slice(0)}function Bw(e,t,n){let r=n?e.rows:e.rows-1;if(t<0||t>r)throw new RangeError("Row index out of range")}function Hw(e,t,n){let r=n?e.columns:e.columns-1;if(t<0||t>r)throw new RangeError("Column index out of range")}function Vw(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError("vector size must be the same as the number of columns");return t}function Uw(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError("vector size must be the same as the number of rows");return t}function Ww(e,t){if(!_w.isAnyArray(t))throw new TypeError("row indices must be an array");for(let n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.rows)throw new RangeError("row indices are out of range")}function Gw(e,t){if(!_w.isAnyArray(t))throw new TypeError("column indices must be an array");for(let n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.columns)throw new RangeError("column indices are out of range")}function $w(e,t,n,r,i){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(Yw("startRow",t),Yw("endRow",n),Yw("startColumn",r),Yw("endColumn",i),t>n||r>i||t<0||t>=e.rows||n<0||n>=e.rows||r<0||r>=e.columns||i<0||i>=e.columns)throw new RangeError("Submatrix indices are out of range")}function qw(e,t=0){let n=[];for(let r=0;r<e;r++)n.push(t);return n}function Yw(e,t){if("number"!=typeof t)throw new TypeError(`${e} must be a number`)}function Xw(e){if(e.isEmpty())throw new Error("Empty matrix has no elements to index")}class Kw{static from1DArray(e,t,n){if(e*t!==n.length)throw new RangeError("data length does not match given dimensions");let r=new Jw(e,t);for(let i=0;i<e;i++)for(let e=0;e<t;e++)r.set(i,e,n[i*t+e]);return r}static rowVector(e){let t=new Jw(1,e.length);for(let n=0;n<e.length;n++)t.set(0,n,e[n]);return t}static columnVector(e){let t=new Jw(e.length,1);for(let n=0;n<e.length;n++)t.set(n,0,e[n]);return t}static zeros(e,t){return new Jw(e,t)}static ones(e,t){return new Jw(e,t).fill(1)}static rand(e,t,n={}){if("object"!=typeof n)throw new TypeError("options must be an object");const{random:r=Math.random}=n;let i=new Jw(e,t);for(let n=0;n<e;n++)for(let e=0;e<t;e++)i.set(n,e,r());return i}static randInt(e,t,n={}){if("object"!=typeof n)throw new TypeError("options must be an object");const{min:r=0,max:i=1e3,random:o=Math.random}=n;if(!Number.isInteger(r))throw new TypeError("min must be an integer");if(!Number.isInteger(i))throw new TypeError("max must be an integer");if(r>=i)throw new RangeError("min must be smaller than max");let a=i-r,s=new Jw(e,t);for(let n=0;n<e;n++)for(let e=0;e<t;e++){let t=r+Math.round(o()*a);s.set(n,e,t)}return s}static eye(e,t,n){void 0===t&&(t=e),void 0===n&&(n=1);let r=Math.min(e,t),i=this.zeros(e,t);for(let e=0;e<r;e++)i.set(e,e,n);return i}static diag(e,t,n){let r=e.length;void 0===t&&(t=r),void 0===n&&(n=t);let i=Math.min(r,t,n),o=this.zeros(t,n);for(let t=0;t<i;t++)o.set(t,t,e[t]);return o}static min(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);let n=e.rows,r=e.columns,i=new Jw(n,r);for(let o=0;o<n;o++)for(let n=0;n<r;n++)i.set(o,n,Math.min(e.get(o,n),t.get(o,n)));return i}static max(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);let n=e.rows,r=e.columns,i=new this(n,r);for(let o=0;o<n;o++)for(let n=0;n<r;n++)i.set(o,n,Math.max(e.get(o,n),t.get(o,n)));return i}static checkMatrix(e){return Kw.isMatrix(e)?e:new Jw(e)}static isMatrix(e){return null!=e&&"Matrix"===e.klass}get size(){return this.rows*this.columns}apply(e){if("function"!=typeof e)throw new TypeError("callback must be a function");for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)e.call(this,t,n);return this}to1DArray(){let e=[];for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)e.push(this.get(t,n));return e}to2DArray(){let e=[];for(let t=0;t<this.rows;t++){e.push([]);for(let n=0;n<this.columns;n++)e[t].push(this.get(t,n))}return e}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isEmpty(){return 0===this.rows||0===this.columns}isSymmetric(){if(this.isSquare()){for(let e=0;e<this.rows;e++)for(let t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let e=0;e<this.rows;e++)if(0!==this.get(e,e))return!1;return!0}isEchelonForm(){let e=0,t=0,n=-1,r=!0,i=!1;for(;e<this.rows&&r;){for(t=0,i=!1;t<this.columns&&!1===i;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>n?(i=!0,n=t):(r=!1,i=!0);e++}return r}isReducedEchelonForm(){let e=0,t=0,n=-1,r=!0,i=!1;for(;e<this.rows&&r;){for(t=0,i=!1;t<this.columns&&!1===i;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>n?(i=!0,n=t):(r=!1,i=!0);for(let n=t+1;n<this.rows;n++)0!==this.get(e,n)&&(r=!1);e++}return r}echelonForm(){let e=this.clone(),t=0,n=0;for(;t<e.rows&&n<e.columns;){let r=t;for(let i=t;i<e.rows;i++)e.get(i,n)>e.get(r,n)&&(r=i);if(0===e.get(r,n))n++;else{e.swapRows(t,r);let i=e.get(t,n);for(let r=n;r<e.columns;r++)e.set(t,r,e.get(t,r)/i);for(let r=t+1;r<e.rows;r++){let i=e.get(r,n)/e.get(t,n);e.set(r,n,0);for(let o=n+1;o<e.columns;o++)e.set(r,o,e.get(r,o)-e.get(t,o)*i)}t++,n++}}return e}reducedEchelonForm(){let e=this.echelonForm(),t=e.columns,n=e.rows,r=n-1;for(;r>=0;)if(0===e.maxRow(r))r--;else{let i=0,o=!1;for(;i<n&&!1===o;)1===e.get(r,i)?o=!0:i++;for(let n=0;n<r;n++){let o=e.get(n,i);for(let a=i;a<t;a++){let t=e.get(n,a)-o*e.get(r,a);e.set(n,a,t)}}r--}return e}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(e={}){if("object"!=typeof e)throw new TypeError("options must be an object");const{rows:t=1,columns:n=1}=e;if(!Number.isInteger(t)||t<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(n)||n<=0)throw new TypeError("columns must be a positive integer");let r=new Jw(this.rows*t,this.columns*n);for(let e=0;e<t;e++)for(let t=0;t<n;t++)r.setSubMatrix(this,this.rows*e,this.columns*t);return r}fill(e){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,e);return this}neg(){return this.mulS(-1)}getRow(e){Bw(this,e);let t=[];for(let n=0;n<this.columns;n++)t.push(this.get(e,n));return t}getRowVector(e){return Jw.rowVector(this.getRow(e))}setRow(e,t){Bw(this,e),t=Vw(this,t);for(let n=0;n<this.columns;n++)this.set(e,n,t[n]);return this}swapRows(e,t){Bw(this,e),Bw(this,t);for(let n=0;n<this.columns;n++){let r=this.get(e,n);this.set(e,n,this.get(t,n)),this.set(t,n,r)}return this}getColumn(e){Hw(this,e);let t=[];for(let n=0;n<this.rows;n++)t.push(this.get(n,e));return t}getColumnVector(e){return Jw.columnVector(this.getColumn(e))}setColumn(e,t){Hw(this,e),t=Uw(this,t);for(let n=0;n<this.rows;n++)this.set(n,e,t[n]);return this}swapColumns(e,t){Hw(this,e),Hw(this,t);for(let n=0;n<this.rows;n++){let r=this.get(n,e);this.set(n,e,this.get(n,t)),this.set(n,t,r)}return this}addRowVector(e){e=Vw(this,e);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e[n]);return this}subRowVector(e){e=Vw(this,e);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e[n]);return this}mulRowVector(e){e=Vw(this,e);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e[n]);return this}divRowVector(e){e=Vw(this,e);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e[n]);return this}addColumnVector(e){e=Uw(this,e);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e[t]);return this}subColumnVector(e){e=Uw(this,e);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e[t]);return this}mulColumnVector(e){e=Uw(this,e);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e[t]);return this}divColumnVector(e){e=Uw(this,e);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e[t]);return this}mulRow(e,t){Bw(this,e);for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this}mulColumn(e,t){Hw(this,e);for(let n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*t);return this}max(e){if(this.isEmpty())return NaN;switch(e){case"row":{const e=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)>e[t]&&(e[t]=this.get(t,n));return e}case"column":{const e=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)>e[n]&&(e[n]=this.get(t,n));return e}case void 0:{let e=this.get(0,0);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}default:throw new Error(`invalid option: ${e}`)}}maxIndex(){Xw(this);let e=this.get(0,0),t=[0,0];for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.get(n,r)>e&&(e=this.get(n,r),t[0]=n,t[1]=r);return t}min(e){if(this.isEmpty())return NaN;switch(e){case"row":{const e=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)<e[t]&&(e[t]=this.get(t,n));return e}case"column":{const e=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)<e[n]&&(e[n]=this.get(t,n));return e}case void 0:{let e=this.get(0,0);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}default:throw new Error(`invalid option: ${e}`)}}minIndex(){Xw(this);let e=this.get(0,0),t=[0,0];for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.get(n,r)<e&&(e=this.get(n,r),t[0]=n,t[1]=r);return t}maxRow(e){if(Bw(this,e),this.isEmpty())return NaN;let t=this.get(e,0);for(let n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}maxRowIndex(e){Bw(this,e),Xw(this);let t=this.get(e,0),n=[e,0];for(let r=1;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r),n[1]=r);return n}minRow(e){if(Bw(this,e),this.isEmpty())return NaN;let t=this.get(e,0);for(let n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}minRowIndex(e){Bw(this,e),Xw(this);let t=this.get(e,0),n=[e,0];for(let r=1;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r),n[1]=r);return n}maxColumn(e){if(Hw(this,e),this.isEmpty())return NaN;let t=this.get(0,e);for(let n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e));return t}maxColumnIndex(e){Hw(this,e),Xw(this);let t=this.get(0,e),n=[0,e];for(let r=1;r<this.rows;r++)this.get(r,e)>t&&(t=this.get(r,e),n[0]=r);return n}minColumn(e){if(Hw(this,e),this.isEmpty())return NaN;let t=this.get(0,e);for(let n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e));return t}minColumnIndex(e){Hw(this,e),Xw(this);let t=this.get(0,e),n=[0,e];for(let r=1;r<this.rows;r++)this.get(r,e)<t&&(t=this.get(r,e),n[0]=r);return n}diag(){let e=Math.min(this.rows,this.columns),t=[];for(let n=0;n<e;n++)t.push(this.get(n,n));return t}norm(e="frobenius"){switch(e){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${e}`)}}cumulativeSum(){let e=0;for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)e+=this.get(t,n),this.set(t,n,e);return this}dot(e){Kw.isMatrix(e)&&(e=e.to1DArray());let t=this.to1DArray();if(t.length!==e.length)throw new RangeError("vectors do not have the same size");let n=0;for(let r=0;r<t.length;r++)n+=t[r]*e[r];return n}mmul(e){e=Jw.checkMatrix(e);let t=this.rows,n=this.columns,r=e.columns,i=new Jw(t,r),o=new Float64Array(n);for(let a=0;a<r;a++){for(let t=0;t<n;t++)o[t]=e.get(t,a);for(let e=0;e<t;e++){let t=0;for(let r=0;r<n;r++)t+=this.get(e,r)*o[r];i.set(e,a,t)}}return i}mpow(e){if(!this.isSquare())throw new RangeError("Matrix must be square");if(!Number.isInteger(e)||e<0)throw new RangeError("Exponent must be a non-negative integer");let t=Jw.eye(this.rows),n=this;for(let r=e;r>=1;r/=2)1&r&&(t=t.mmul(n)),n=n.mmul(n);return t}strassen2x2(e){e=Jw.checkMatrix(e);let t=new Jw(2,2);const n=this.get(0,0),r=e.get(0,0),i=this.get(0,1),o=e.get(0,1),a=this.get(1,0),s=e.get(1,0),l=this.get(1,1),u=e.get(1,1),c=(n+l)*(r+u),d=(a+l)*r,h=n*(o-u),f=l*(s-r),p=(n+i)*u,g=c+f-p+(i-l)*(s+u),m=h+p,y=d+f,v=c-d+h+(a-n)*(r+o);return t.set(0,0,g),t.set(0,1,m),t.set(1,0,y),t.set(1,1,v),t}strassen3x3(e){e=Jw.checkMatrix(e);let t=new Jw(3,3);const n=this.get(0,0),r=this.get(0,1),i=this.get(0,2),o=this.get(1,0),a=this.get(1,1),s=this.get(1,2),l=this.get(2,0),u=this.get(2,1),c=this.get(2,2),d=e.get(0,0),h=e.get(0,1),f=e.get(0,2),p=e.get(1,0),g=e.get(1,1),m=e.get(1,2),y=e.get(2,0),v=e.get(2,1),b=e.get(2,2),w=(n-o)*(-h+g),x=(-n+o+a)*(d-h+g),E=(o+a)*(-d+h),k=n*d,S=(-n+l+u)*(d-f+m),M=(-n+l)*(f-m),T=(l+u)*(-d+f),O=(-i+u+c)*(g+y-v),C=(i-c)*(g-v),N=i*y,P=(u+c)*(-y+v),A=(-i+a+s)*(m+y-b),R=(i-s)*(m-b),_=(a+s)*(-y+b),D=k+N+r*p,L=(n+r+i-o-a-u-c)*g+x+E+k+O+N+P,I=k+S+T+(n+r+i-a-s-l-u)*m+N+A+_,z=w+a*(-d+h+p-g-m-y+b)+x+k+N+A+R,F=w+x+E+k+s*v,j=N+A+R+_+o*f,B=k+S+M+u*(-d+f+p-g-m-y+v)+O+C+N,H=O+C+N+P+l*h,V=k+S+M+T+c*b;return t.set(0,0,D),t.set(0,1,L),t.set(0,2,I),t.set(1,0,z),t.set(1,1,F),t.set(1,2,j),t.set(2,0,B),t.set(2,1,H),t.set(2,2,V),t}mmulStrassen(e){e=Jw.checkMatrix(e);let t=this.clone(),n=t.rows,r=t.columns,i=e.rows,o=e.columns;function a(e,t,n){let r=e.rows,i=e.columns;if(r===t&&i===n)return e;{let r=Kw.zeros(t,n);return r=r.setSubMatrix(e,0,0),r}}r!==i&&console.warn(`Multiplying ${n} x ${r} and ${i} x ${o} matrix: dimensions do not match.`);let s=Math.max(n,i),l=Math.max(r,o);return t=a(t,s,l),function e(t,n,r,i){if(r<=512||i<=512)return t.mmul(n);r%2==1&&i%2==1?(t=a(t,r+1,i+1),n=a(n,r+1,i+1)):r%2==1?(t=a(t,r+1,i),n=a(n,r+1,i)):i%2==1&&(t=a(t,r,i+1),n=a(n,r,i+1));let o=parseInt(t.rows/2,10),s=parseInt(t.columns/2,10),l=t.subMatrix(0,o-1,0,s-1),u=n.subMatrix(0,o-1,0,s-1),c=t.subMatrix(0,o-1,s,t.columns-1),d=n.subMatrix(0,o-1,s,n.columns-1),h=t.subMatrix(o,t.rows-1,0,s-1),f=n.subMatrix(o,n.rows-1,0,s-1),p=t.subMatrix(o,t.rows-1,s,t.columns-1),g=n.subMatrix(o,n.rows-1,s,n.columns-1),m=e(Kw.add(l,p),Kw.add(u,g),o,s),y=e(Kw.add(h,p),u,o,s),v=e(l,Kw.sub(d,g),o,s),b=e(p,Kw.sub(f,u),o,s),w=e(Kw.add(l,c),g,o,s),x=e(Kw.sub(h,l),Kw.add(u,d),o,s),E=e(Kw.sub(c,p),Kw.add(f,g),o,s),k=Kw.add(m,b);k.sub(w),k.add(E);let S=Kw.add(v,w),M=Kw.add(y,b),T=Kw.sub(m,y);T.add(v),T.add(x);let O=Kw.zeros(2*k.rows,2*k.columns);return O=O.setSubMatrix(k,0,0),O=O.setSubMatrix(S,k.rows,0),O=O.setSubMatrix(M,0,k.columns),O=O.setSubMatrix(T,k.rows,k.columns),O.subMatrix(0,r-1,0,i-1)}(t,e=a(e,s,l),s,l)}scaleRows(e={}){if("object"!=typeof e)throw new TypeError("options must be an object");const{min:t=0,max:n=1}=e;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(t>=n)throw new RangeError("min must be smaller than max");let r=new Jw(this.rows,this.columns);for(let e=0;e<this.rows;e++){const i=this.getRow(e);i.length>0&&Dw(i,{min:t,max:n,output:i}),r.setRow(e,i)}return r}scaleColumns(e={}){if("object"!=typeof e)throw new TypeError("options must be an object");const{min:t=0,max:n=1}=e;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(t>=n)throw new RangeError("min must be smaller than max");let r=new Jw(this.rows,this.columns);for(let e=0;e<this.columns;e++){const i=this.getColumn(e);i.length&&Dw(i,{min:t,max:n,output:i}),r.setColumn(e,i)}return r}flipRows(){const e=Math.ceil(this.columns/2);for(let t=0;t<this.rows;t++)for(let n=0;n<e;n++){let e=this.get(t,n),r=this.get(t,this.columns-1-n);this.set(t,n,r),this.set(t,this.columns-1-n,e)}return this}flipColumns(){const e=Math.ceil(this.rows/2);for(let t=0;t<this.columns;t++)for(let n=0;n<e;n++){let e=this.get(n,t),r=this.get(this.rows-1-n,t);this.set(n,t,r),this.set(this.rows-1-n,t,e)}return this}kroneckerProduct(e){e=Jw.checkMatrix(e);let t=this.rows,n=this.columns,r=e.rows,i=e.columns,o=new Jw(t*r,n*i);for(let a=0;a<t;a++)for(let t=0;t<n;t++)for(let n=0;n<r;n++)for(let s=0;s<i;s++)o.set(r*a+n,i*t+s,this.get(a,t)*e.get(n,s));return o}kroneckerSum(e){if(e=Jw.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let t=this.rows,n=e.rows,r=this.kroneckerProduct(Jw.eye(n,n)),i=Jw.eye(t,t).kroneckerProduct(e);return r.add(i)}transpose(){let e=new Jw(this.columns,this.rows);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)e.set(n,t,this.get(t,n));return e}sortRows(e=Qw){for(let t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}sortColumns(e=Qw){for(let t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}subMatrix(e,t,n,r){$w(this,e,t,n,r);let i=new Jw(t-e+1,r-n+1);for(let o=e;o<=t;o++)for(let t=n;t<=r;t++)i.set(o-e,t-n,this.get(o,t));return i}subMatrixRow(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.columns-1),t>n||t<0||t>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");let r=new Jw(e.length,n-t+1);for(let i=0;i<e.length;i++)for(let o=t;o<=n;o++){if(e[i]<0||e[i]>=this.rows)throw new RangeError(`Row index out of range: ${e[i]}`);r.set(i,o-t,this.get(e[i],o))}return r}subMatrixColumn(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.rows-1),t>n||t<0||t>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");let r=new Jw(n-t+1,e.length);for(let i=0;i<e.length;i++)for(let o=t;o<=n;o++){if(e[i]<0||e[i]>=this.columns)throw new RangeError(`Column index out of range: ${e[i]}`);r.set(o-t,i,this.get(o,e[i]))}return r}setSubMatrix(e,t,n){if((e=Jw.checkMatrix(e)).isEmpty())return this;$w(this,t,t+e.rows-1,n,n+e.columns-1);for(let r=0;r<e.rows;r++)for(let i=0;i<e.columns;i++)this.set(t+r,n+i,e.get(r,i));return this}selection(e,t){Ww(this,e),Gw(this,t);let n=new Jw(e.length,t.length);for(let r=0;r<e.length;r++){let i=e[r];for(let e=0;e<t.length;e++){let o=t[e];n.set(r,e,this.get(i,o))}}return n}trace(){let e=Math.min(this.rows,this.columns),t=0;for(let n=0;n<e;n++)t+=this.get(n,n);return t}clone(){return this.constructor.copy(this,new Jw(this.rows,this.columns))}static copy(e,t){for(const[n,r,i]of e.entries())t.set(n,r,i);return t}sum(e){switch(e){case"row":return function(e){let t=qw(e.rows);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[n]+=e.get(n,r);return t}(this);case"column":return function(e){let t=qw(e.columns);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[r]+=e.get(n,r);return t}(this);case void 0:return function(e){let t=0;for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)t+=e.get(n,r);return t}(this);default:throw new Error(`invalid option: ${e}`)}}product(e){switch(e){case"row":return function(e){let t=qw(e.rows,1);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[n]*=e.get(n,r);return t}(this);case"column":return function(e){let t=qw(e.columns,1);for(let n=0;n<e.rows;++n)for(let r=0;r<e.columns;++r)t[r]*=e.get(n,r);return t}(this);case void 0:return function(e){let t=1;for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)t*=e.get(n,r);return t}(this);default:throw new Error(`invalid option: ${e}`)}}mean(e){const t=this.sum(e);switch(e){case"row":for(let e=0;e<this.rows;e++)t[e]/=this.columns;return t;case"column":for(let e=0;e<this.columns;e++)t[e]/=this.rows;return t;case void 0:return t/this.size;default:throw new Error(`invalid option: ${e}`)}}variance(e,t={}){if("object"==typeof e&&(t=e,e=void 0),"object"!=typeof t)throw new TypeError("options must be an object");const{unbiased:n=!0,mean:r=this.mean(e)}=t;if("boolean"!=typeof n)throw new TypeError("unbiased must be a boolean");switch(e){case"row":if(!_w.isAnyArray(r))throw new TypeError("mean must be an array");return function(e,t,n){const r=e.rows,i=e.columns,o=[];for(let a=0;a<r;a++){let r=0,s=0,l=0;for(let t=0;t<i;t++)l=e.get(a,t)-n[a],r+=l,s+=l*l;t?o.push((s-r*r/i)/(i-1)):o.push((s-r*r/i)/i)}return o}(this,n,r);case"column":if(!_w.isAnyArray(r))throw new TypeError("mean must be an array");return function(e,t,n){const r=e.rows,i=e.columns,o=[];for(let a=0;a<i;a++){let i=0,s=0,l=0;for(let t=0;t<r;t++)l=e.get(t,a)-n[a],i+=l,s+=l*l;t?o.push((s-i*i/r)/(r-1)):o.push((s-i*i/r)/r)}return o}(this,n,r);case void 0:if("number"!=typeof r)throw new TypeError("mean must be a number");return function(e,t,n){const r=e.rows,i=e.columns,o=r*i;let a=0,s=0,l=0;for(let t=0;t<r;t++)for(let r=0;r<i;r++)l=e.get(t,r)-n,a+=l,s+=l*l;return t?(s-a*a/o)/(o-1):(s-a*a/o)/o}(this,n,r);default:throw new Error(`invalid option: ${e}`)}}standardDeviation(e,t){"object"==typeof e&&(t=e,e=void 0);const n=this.variance(e,t);if(void 0===e)return Math.sqrt(n);for(let e=0;e<n.length;e++)n[e]=Math.sqrt(n[e]);return n}center(e,t={}){if("object"==typeof e&&(t=e,e=void 0),"object"!=typeof t)throw new TypeError("options must be an object");const{center:n=this.mean(e)}=t;switch(e){case"row":if(!_w.isAnyArray(n))throw new TypeError("center must be an array");return function(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[n])}(this,n),this;case"column":if(!_w.isAnyArray(n))throw new TypeError("center must be an array");return function(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[r])}(this,n),this;case void 0:if("number"!=typeof n)throw new TypeError("center must be a number");return function(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t)}(this,n),this;default:throw new Error(`invalid option: ${e}`)}}scale(e,t={}){if("object"==typeof e&&(t=e,e=void 0),"object"!=typeof t)throw new TypeError("options must be an object");let n=t.scale;switch(e){case"row":if(void 0===n)n=function(e){const t=[];for(let n=0;n<e.rows;n++){let r=0;for(let t=0;t<e.columns;t++)r+=e.get(n,t)**2/(e.columns-1);t.push(Math.sqrt(r))}return t}(this);else if(!_w.isAnyArray(n))throw new TypeError("scale must be an array");return function(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[n])}(this,n),this;case"column":if(void 0===n)n=function(e){const t=[];for(let n=0;n<e.columns;n++){let r=0;for(let t=0;t<e.rows;t++)r+=e.get(t,n)**2/(e.rows-1);t.push(Math.sqrt(r))}return t}(this);else if(!_w.isAnyArray(n))throw new TypeError("scale must be an array");return function(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[r])}(this,n),this;case void 0:if(void 0===n)n=function(e){const t=e.size-1;let n=0;for(let r=0;r<e.columns;r++)for(let i=0;i<e.rows;i++)n+=e.get(i,r)**2/t;return Math.sqrt(n)}(this);else if("number"!=typeof n)throw new TypeError("scale must be a number");return function(e,t){for(let n=0;n<e.rows;n++)for(let r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t)}(this,n),this;default:throw new Error(`invalid option: ${e}`)}}toString(e){return zw(this,e)}[Symbol.iterator](){return this.entries()}*entries(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)yield[e,t,this.get(e,t)]}*values(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)yield this.get(e,t)}}function Qw(e,t){return e-t}function Zw(e){return e.every(e=>"number"==typeof e)}Kw.prototype.klass="Matrix","undefined"!=typeof Symbol&&(Kw.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return zw(this)}),Kw.random=Kw.rand,Kw.randomInt=Kw.randInt,Kw.diagonal=Kw.diag,Kw.prototype.diagonal=Kw.prototype.diag,Kw.identity=Kw.eye,Kw.prototype.negate=Kw.prototype.neg,Kw.prototype.tensorProduct=Kw.prototype.kroneckerProduct;let Jw=class e extends Kw{data;#e(e,t){if(this.data=[],!(Number.isInteger(t)&&t>=0))throw new TypeError("nColumns must be a positive integer");for(let n=0;n<e;n++)this.data.push(new Float64Array(t));this.rows=e,this.columns=t}constructor(t,n){if(super(),e.isMatrix(t))this.#e(t.rows,t.columns),e.copy(t,this);else if(Number.isInteger(t)&&t>=0)this.#e(t,n);else{if(!_w.isAnyArray(t))throw new TypeError("First argument must be a positive number or an array");{const e=t;if("number"!=typeof(n=(t=e.length)?e[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let r=0;r<t;r++){if(e[r].length!==n)throw new RangeError("Inconsistent array dimensions");if(!Zw(e[r]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(e[r]))}this.rows=t,this.columns=n}}}set(e,t,n){return this.data[e][t]=n,this}get(e,t){return this.data[e][t]}removeRow(e){return Bw(this,e),this.data.splice(e,1),this.rows-=1,this}addRow(e,t){return void 0===t&&(t=e,e=this.rows),Bw(this,e,!0),t=Float64Array.from(Vw(this,t)),this.data.splice(e,0,t),this.rows+=1,this}removeColumn(e){Hw(this,e);for(let t=0;t<this.rows;t++){const n=new Float64Array(this.columns-1);for(let r=0;r<e;r++)n[r]=this.data[t][r];for(let r=e+1;r<this.columns;r++)n[r-1]=this.data[t][r];this.data[t]=n}return this.columns-=1,this}addColumn(e,t){void 0===t&&(t=e,e=this.columns),Hw(this,e,!0),t=Uw(this,t);for(let n=0;n<this.rows;n++){const r=new Float64Array(this.columns+1);let i=0;for(;i<e;i++)r[i]=this.data[n][i];for(r[i++]=t[n];i<this.columns+1;i++)r[i]=this.data[n][i-1];this.data[n]=r}return this.columns+=1,this}};!function(e,t){e.prototype.add=function(e){return"number"==typeof e?this.addS(e):this.addM(e)},e.prototype.addS=function(e){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e);return this},e.prototype.addM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e.get(t,n));return this},e.add=function(e,n){return new t(e).add(n)},e.prototype.sub=function(e){return"number"==typeof e?this.subS(e):this.subM(e)},e.prototype.subS=function(e){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e);return this},e.prototype.subM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e.get(t,n));return this},e.sub=function(e,n){return new t(e).sub(n)},e.prototype.subtract=e.prototype.sub,e.prototype.subtractS=e.prototype.subS,e.prototype.subtractM=e.prototype.subM,e.subtract=e.sub,e.prototype.mul=function(e){return"number"==typeof e?this.mulS(e):this.mulM(e)},e.prototype.mulS=function(e){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this},e.prototype.mulM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e.get(t,n));return this},e.mul=function(e,n){return new t(e).mul(n)},e.prototype.multiply=e.prototype.mul,e.prototype.multiplyS=e.prototype.mulS,e.prototype.multiplyM=e.prototype.mulM,e.multiply=e.mul,e.prototype.div=function(e){return"number"==typeof e?this.divS(e):this.divM(e)},e.prototype.divS=function(e){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e);return this},e.prototype.divM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e.get(t,n));return this},e.div=function(e,n){return new t(e).div(n)},e.prototype.divide=e.prototype.div,e.prototype.divideS=e.prototype.divS,e.prototype.divideM=e.prototype.divM,e.divide=e.div,e.prototype.mod=function(e){return"number"==typeof e?this.modS(e):this.modM(e)},e.prototype.modS=function(e){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)%e);return this},e.prototype.modM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)%e.get(t,n));return this},e.mod=function(e,n){return new t(e).mod(n)},e.prototype.modulus=e.prototype.mod,e.prototype.modulusS=e.prototype.modS,e.prototype.modulusM=e.prototype.modM,e.modulus=e.mod,e.prototype.and=function(e){return"number"==typeof e?this.andS(e):this.andM(e)},e.prototype.andS=function(e){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)&e);return this},e.prototype.andM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)&e.get(t,n));return this},e.and=function(e,n){return new t(e).and(n)},e.prototype.or=function(e){return"number"==typeof e?this.orS(e):this.orM(e)},e.prototype.orS=function(e){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)|e);return this},e.prototype.orM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)|e.get(t,n));return this},e.or=function(e,n){return new t(e).or(n)},e.prototype.xor=function(e){return"number"==typeof e?this.xorS(e):this.xorM(e)},e.prototype.xorS=function(e){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)^e);return this},e.prototype.xorM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)^e.get(t,n));return this},e.xor=function(e,n){return new t(e).xor(n)},e.prototype.leftShift=function(e){return"number"==typeof e?this.leftShiftS(e):this.leftShiftM(e)},e.prototype.leftShiftS=function(e){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)<<e);return this},e.prototype.leftShiftM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)<<e.get(t,n));return this},e.leftShift=function(e,n){return new t(e).leftShift(n)},e.prototype.signPropagatingRightShift=function(e){return"number"==typeof e?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},e.prototype.signPropagatingRightShiftS=function(e){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>e);return this},e.prototype.signPropagatingRightShiftM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>e.get(t,n));return this},e.signPropagatingRightShift=function(e,n){return new t(e).signPropagatingRightShift(n)},e.prototype.rightShift=function(e){return"number"==typeof e?this.rightShiftS(e):this.rightShiftM(e)},e.prototype.rightShiftS=function(e){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>>e);return this},e.prototype.rightShiftM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>>e.get(t,n));return this},e.rightShift=function(e,n){return new t(e).rightShift(n)},e.prototype.zeroFillRightShift=e.prototype.rightShift,e.prototype.zeroFillRightShiftS=e.prototype.rightShiftS,e.prototype.zeroFillRightShiftM=e.prototype.rightShiftM,e.zeroFillRightShift=e.rightShift,e.prototype.not=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,~this.get(e,t));return this},e.not=function(e){return new t(e).not()},e.prototype.abs=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.abs(this.get(e,t)));return this},e.abs=function(e){return new t(e).abs()},e.prototype.acos=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.acos(this.get(e,t)));return this},e.acos=function(e){return new t(e).acos()},e.prototype.acosh=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.acosh(this.get(e,t)));return this},e.acosh=function(e){return new t(e).acosh()},e.prototype.asin=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.asin(this.get(e,t)));return this},e.asin=function(e){return new t(e).asin()},e.prototype.asinh=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.asinh(this.get(e,t)));return this},e.asinh=function(e){return new t(e).asinh()},e.prototype.atan=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.atan(this.get(e,t)));return this},e.atan=function(e){return new t(e).atan()},e.prototype.atanh=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.atanh(this.get(e,t)));return this},e.atanh=function(e){return new t(e).atanh()},e.prototype.cbrt=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.cbrt(this.get(e,t)));return this},e.cbrt=function(e){return new t(e).cbrt()},e.prototype.ceil=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.ceil(this.get(e,t)));return this},e.ceil=function(e){return new t(e).ceil()},e.prototype.clz32=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.clz32(this.get(e,t)));return this},e.clz32=function(e){return new t(e).clz32()},e.prototype.cos=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.cos(this.get(e,t)));return this},e.cos=function(e){return new t(e).cos()},e.prototype.cosh=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.cosh(this.get(e,t)));return this},e.cosh=function(e){return new t(e).cosh()},e.prototype.exp=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.exp(this.get(e,t)));return this},e.exp=function(e){return new t(e).exp()},e.prototype.expm1=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.expm1(this.get(e,t)));return this},e.expm1=function(e){return new t(e).expm1()},e.prototype.floor=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.floor(this.get(e,t)));return this},e.floor=function(e){return new t(e).floor()},e.prototype.fround=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.fround(this.get(e,t)));return this},e.fround=function(e){return new t(e).fround()},e.prototype.log=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.log(this.get(e,t)));return this},e.log=function(e){return new t(e).log()},e.prototype.log1p=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.log1p(this.get(e,t)));return this},e.log1p=function(e){return new t(e).log1p()},e.prototype.log10=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.log10(this.get(e,t)));return this},e.log10=function(e){return new t(e).log10()},e.prototype.log2=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.log2(this.get(e,t)));return this},e.log2=function(e){return new t(e).log2()},e.prototype.round=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.round(this.get(e,t)));return this},e.round=function(e){return new t(e).round()},e.prototype.sign=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.sign(this.get(e,t)));return this},e.sign=function(e){return new t(e).sign()},e.prototype.sin=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.sin(this.get(e,t)));return this},e.sin=function(e){return new t(e).sin()},e.prototype.sinh=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.sinh(this.get(e,t)));return this},e.sinh=function(e){return new t(e).sinh()},e.prototype.sqrt=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.sqrt(this.get(e,t)));return this},e.sqrt=function(e){return new t(e).sqrt()},e.prototype.tan=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.tan(this.get(e,t)));return this},e.tan=function(e){return new t(e).tan()},e.prototype.tanh=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.tanh(this.get(e,t)));return this},e.tanh=function(e){return new t(e).tanh()},e.prototype.trunc=function(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)this.set(e,t,Math.trunc(this.get(e,t)));return this},e.trunc=function(e){return new t(e).trunc()},e.pow=function(e,n){return new t(e).pow(n)},e.prototype.pow=function(e){return"number"==typeof e?this.powS(e):this.powM(e)},e.prototype.powS=function(e){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)**e);return this},e.prototype.powM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)**e.get(t,n));return this}}(Kw,Jw);class ex extends Kw{#t;get size(){return this.#t.size}get rows(){return this.#t.rows}get columns(){return this.#t.columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(e){return Jw.isMatrix(e)&&"SymmetricMatrix"===e.klassType}static zeros(e){return new this(e)}static ones(e){return new this(e).fill(1)}constructor(e){if(super(),Jw.isMatrix(e)){if(!e.isSymmetric())throw new TypeError("not symmetric data");this.#t=Jw.copy(e,new Jw(e.rows,e.rows))}else if(Number.isInteger(e)&&e>=0)this.#t=new Jw(e,e);else if(this.#t=new Jw(e),!this.isSymmetric())throw new TypeError("not symmetric data")}clone(){const e=new ex(this.diagonalSize);for(const[t,n,r]of this.upperRightEntries())e.set(t,n,r);return e}toMatrix(){return new Jw(this)}get(e,t){return this.#t.get(e,t)}set(e,t,n){return this.#t.set(e,t,n),this.#t.set(t,e,n),this}removeCross(e){return this.#t.removeRow(e),this.#t.removeColumn(e),this}addCross(e,t){void 0===t&&(t=e,e=this.diagonalSize);const n=t.slice();return n.splice(e,1),this.#t.addRow(e,n),this.#t.addColumn(e,t),this}applyMask(e){if(e.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const t=[];for(const[n,r]of e.entries())r||t.push(n);t.reverse();for(const e of t)this.removeCross(e);return this}toCompact(){const{diagonalSize:e}=this,t=new Array(e*(e+1)/2);for(let n=0,r=0,i=0;i<t.length;i++)t[i]=this.get(r,n),++n>=e&&(n=++r);return t}static fromCompact(e){const t=e.length,n=(Math.sqrt(8*t+1)-1)/2;if(!Number.isInteger(n))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(e)}`);const r=new ex(n);for(let i=0,o=0,a=0;a<t;a++)r.set(i,o,e[a]),++i>=n&&(i=++o);return r}*upperRightEntries(){for(let e=0,t=0;e<this.diagonalSize;void 0){const n=this.get(e,t);yield[e,t,n],++t>=this.diagonalSize&&(t=++e)}}*upperRightValues(){for(let e=0,t=0;e<this.diagonalSize;void 0){const n=this.get(e,t);yield n,++t>=this.diagonalSize&&(t=++e)}}}ex.prototype.klassType="SymmetricMatrix";class tx extends ex{static isDistanceMatrix(e){return ex.isSymmetricMatrix(e)&&"DistanceMatrix"===e.klassSubType}constructor(e){if(super(e),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(e,t,n){return e===t&&(n=0),super.set(e,t,n)}addCross(e,t){return void 0===t&&(t=e,e=this.diagonalSize),(t=t.slice())[e]=0,super.addCross(e,t)}toSymmetricMatrix(){return new ex(this)}clone(){const e=new tx(this.diagonalSize);for(const[t,n,r]of this.upperRightEntries())t!==n&&e.set(t,n,r);return e}toCompact(){const{diagonalSize:e}=this,t=new Array((e-1)*e/2);for(let n=1,r=0,i=0;i<t.length;i++)t[i]=this.get(r,n),++n>=e&&(n=1+ ++r);return t}static fromCompact(e){const t=e.length;if(0===t)return new this(0);const n=(Math.sqrt(8*t+1)+1)/2;if(!Number.isInteger(n))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(e)}`);const r=new this(n);for(let i=1,o=0,a=0;a<t;a++)r.set(i,o,e[a]),++i>=n&&(i=1+ ++o);return r}}tx.prototype.klassSubType="DistanceMatrix";class nx extends Kw{constructor(e,t,n){super(),this.matrix=e,this.rows=t,this.columns=n}}class rx extends nx{constructor(e,t,n){Ww(e,t),Gw(e,n),super(e,t.length,n.length),this.rowIndices=t,this.columnIndices=n}set(e,t,n){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],n),this}get(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}}class ix extends Kw{constructor(e,t={}){const{rows:n=1}=t;if(e.length%n!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=n,this.columns=e.length/n,this.data=e}set(e,t,n){let r=this._calculateIndex(e,t);return this.data[r]=n,this}get(e,t){let n=this._calculateIndex(e,t);return this.data[n]}_calculateIndex(e,t){return e*this.columns+t}}class ox extends Kw{constructor(e){super(),this.data=e,this.rows=e.length,this.columns=e[0].length}set(e,t,n){return this.data[e][t]=n,this}get(e,t){return this.data[e][t]}}class ax{constructor(e){let t,n,r,i,o,a,s,l,u,c=(e=ox.checkMatrix(e)).clone(),d=c.rows,h=c.columns,f=new Float64Array(d),p=1;for(t=0;t<d;t++)f[t]=t;for(l=new Float64Array(d),n=0;n<h;n++){for(t=0;t<d;t++)l[t]=c.get(t,n);for(t=0;t<d;t++){for(u=Math.min(t,n),o=0,r=0;r<u;r++)o+=c.get(t,r)*l[r];l[t]-=o,c.set(t,n,l[t])}for(i=n,t=n+1;t<d;t++)Math.abs(l[t])>Math.abs(l[i])&&(i=t);if(i!==n){for(r=0;r<h;r++)a=c.get(i,r),c.set(i,r,c.get(n,r)),c.set(n,r,a);s=f[i],f[i]=f[n],f[n]=s,p=-p}if(n<d&&0!==c.get(n,n))for(t=n+1;t<d;t++)c.set(t,n,c.get(t,n)/c.get(n,n))}this.LU=c,this.pivotVector=f,this.pivotSign=p}isSingular(){let e=this.LU,t=e.columns;for(let n=0;n<t;n++)if(0===e.get(n,n))return!0;return!1}solve(e){e=Jw.checkMatrix(e);let t=this.LU;if(t.rows!==e.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let n,r,i,o=e.columns,a=e.subMatrixRow(this.pivotVector,0,o-1),s=t.columns;for(i=0;i<s;i++)for(n=i+1;n<s;n++)for(r=0;r<o;r++)a.set(n,r,a.get(n,r)-a.get(i,r)*t.get(n,i));for(i=s-1;i>=0;i--){for(r=0;r<o;r++)a.set(i,r,a.get(i,r)/t.get(i,i));for(n=0;n<i;n++)for(r=0;r<o;r++)a.set(n,r,a.get(n,r)-a.get(i,r)*t.get(n,i))}return a}get determinant(){let e=this.LU;if(!e.isSquare())throw new Error("Matrix must be square");let t=this.pivotSign,n=e.columns;for(let r=0;r<n;r++)t*=e.get(r,r);return t}get lowerTriangularMatrix(){let e=this.LU,t=e.rows,n=e.columns,r=new Jw(t,n);for(let i=0;i<t;i++)for(let t=0;t<n;t++)i>t?r.set(i,t,e.get(i,t)):i===t?r.set(i,t,1):r.set(i,t,0);return r}get upperTriangularMatrix(){let e=this.LU,t=e.rows,n=e.columns,r=new Jw(t,n);for(let i=0;i<t;i++)for(let t=0;t<n;t++)i<=t?r.set(i,t,e.get(i,t)):r.set(i,t,0);return r}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function sx(e,t){let n=0;return Math.abs(e)>Math.abs(t)?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):0!==t?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):0}class lx{constructor(e){let t,n,r,i,o=(e=ox.checkMatrix(e)).clone(),a=e.rows,s=e.columns,l=new Float64Array(s);for(r=0;r<s;r++){let e=0;for(t=r;t<a;t++)e=sx(e,o.get(t,r));if(0!==e){for(o.get(r,r)<0&&(e=-e),t=r;t<a;t++)o.set(t,r,o.get(t,r)/e);for(o.set(r,r,o.get(r,r)+1),n=r+1;n<s;n++){for(i=0,t=r;t<a;t++)i+=o.get(t,r)*o.get(t,n);for(i=-i/o.get(r,r),t=r;t<a;t++)o.set(t,n,o.get(t,n)+i*o.get(t,r))}}l[r]=-e}this.QR=o,this.Rdiag=l}solve(e){e=Jw.checkMatrix(e);let t=this.QR,n=t.rows;if(e.rows!==n)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let r,i,o,a,s=e.columns,l=e.clone(),u=t.columns;for(o=0;o<u;o++)for(i=0;i<s;i++){for(a=0,r=o;r<n;r++)a+=t.get(r,o)*l.get(r,i);for(a=-a/t.get(o,o),r=o;r<n;r++)l.set(r,i,l.get(r,i)+a*t.get(r,o))}for(o=u-1;o>=0;o--){for(i=0;i<s;i++)l.set(o,i,l.get(o,i)/this.Rdiag[o]);for(r=0;r<o;r++)for(i=0;i<s;i++)l.set(r,i,l.get(r,i)-l.get(o,i)*t.get(r,o))}return l.subMatrix(0,u-1,0,s-1)}isFullRank(){let e=this.QR.columns;for(let t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0}get upperTriangularMatrix(){let e,t,n=this.QR,r=n.columns,i=new Jw(r,r);for(e=0;e<r;e++)for(t=0;t<r;t++)e<t?i.set(e,t,n.get(e,t)):e===t?i.set(e,t,this.Rdiag[e]):i.set(e,t,0);return i}get orthogonalMatrix(){let e,t,n,r,i=this.QR,o=i.rows,a=i.columns,s=new Jw(o,a);for(n=a-1;n>=0;n--){for(e=0;e<o;e++)s.set(e,n,0);for(s.set(n,n,1),t=n;t<a;t++)if(0!==i.get(n,n)){for(r=0,e=n;e<o;e++)r+=i.get(e,n)*s.get(e,t);for(r=-r/i.get(n,n),e=n;e<o;e++)s.set(e,t,s.get(e,t)+r*i.get(e,n))}}return s}}let ux=class{constructor(e,t={}){if((e=ox.checkMatrix(e)).isEmpty())throw new Error("Matrix must be non-empty");let n=e.rows,r=e.columns;const{computeLeftSingularVectors:i=!0,computeRightSingularVectors:o=!0,autoTranspose:a=!1}=t;let s,l=Boolean(i),u=Boolean(o),c=!1;if(n<r)if(a){s=e.transpose(),n=s.rows,r=s.columns,c=!0;let t=l;l=u,u=t}else s=e.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else s=e.clone();let d=Math.min(n,r),h=Math.min(n+1,r),f=new Float64Array(h),p=new Jw(n,d),g=new Jw(r,r),m=new Float64Array(r),y=new Float64Array(n),v=new Float64Array(h);for(let e=0;e<h;e++)v[e]=e;let b=Math.min(n-1,r),w=Math.max(0,Math.min(r-2,n)),x=Math.max(b,w);for(let e=0;e<x;e++){if(e<b){f[e]=0;for(let t=e;t<n;t++)f[e]=sx(f[e],s.get(t,e));if(0!==f[e]){s.get(e,e)<0&&(f[e]=-f[e]);for(let t=e;t<n;t++)s.set(t,e,s.get(t,e)/f[e]);s.set(e,e,s.get(e,e)+1)}f[e]=-f[e]}for(let t=e+1;t<r;t++){if(e<b&&0!==f[e]){let r=0;for(let i=e;i<n;i++)r+=s.get(i,e)*s.get(i,t);r=-r/s.get(e,e);for(let i=e;i<n;i++)s.set(i,t,s.get(i,t)+r*s.get(i,e))}m[t]=s.get(e,t)}if(l&&e<b)for(let t=e;t<n;t++)p.set(t,e,s.get(t,e));if(e<w){m[e]=0;for(let t=e+1;t<r;t++)m[e]=sx(m[e],m[t]);if(0!==m[e]){m[e+1]<0&&(m[e]=0-m[e]);for(let t=e+1;t<r;t++)m[t]/=m[e];m[e+1]+=1}if(m[e]=-m[e],e+1<n&&0!==m[e]){for(let t=e+1;t<n;t++)y[t]=0;for(let t=e+1;t<n;t++)for(let n=e+1;n<r;n++)y[t]+=m[n]*s.get(t,n);for(let t=e+1;t<r;t++){let r=-m[t]/m[e+1];for(let i=e+1;i<n;i++)s.set(i,t,s.get(i,t)+r*y[i])}}if(u)for(let t=e+1;t<r;t++)g.set(t,e,m[t])}}let E=Math.min(r,n+1);if(b<r&&(f[b]=s.get(b,b)),n<E&&(f[E-1]=0),w+1<E&&(m[w]=s.get(w,E-1)),m[E-1]=0,l){for(let e=b;e<d;e++){for(let t=0;t<n;t++)p.set(t,e,0);p.set(e,e,1)}for(let e=b-1;e>=0;e--)if(0!==f[e]){for(let t=e+1;t<d;t++){let r=0;for(let i=e;i<n;i++)r+=p.get(i,e)*p.get(i,t);r=-r/p.get(e,e);for(let i=e;i<n;i++)p.set(i,t,p.get(i,t)+r*p.get(i,e))}for(let t=e;t<n;t++)p.set(t,e,-p.get(t,e));p.set(e,e,1+p.get(e,e));for(let t=0;t<e-1;t++)p.set(t,e,0)}else{for(let t=0;t<n;t++)p.set(t,e,0);p.set(e,e,1)}}if(u)for(let e=r-1;e>=0;e--){if(e<w&&0!==m[e])for(let t=e+1;t<r;t++){let n=0;for(let i=e+1;i<r;i++)n+=g.get(i,e)*g.get(i,t);n=-n/g.get(e+1,e);for(let i=e+1;i<r;i++)g.set(i,t,g.get(i,t)+n*g.get(i,e))}for(let t=0;t<r;t++)g.set(t,e,0);g.set(e,e,1)}let k=E-1,S=Number.EPSILON;for(;E>0;){let e,t;for(e=E-2;e>=-1&&-1!==e;e--){const t=Number.MIN_VALUE+S*Math.abs(f[e]+Math.abs(f[e+1]));if(Math.abs(m[e])<=t||Number.isNaN(m[e])){m[e]=0;break}}if(e===E-2)t=4;else{let n;for(n=E-1;n>=e&&n!==e;n--){let t=(n!==E?Math.abs(m[n]):0)+(n!==e+1?Math.abs(m[n-1]):0);if(Math.abs(f[n])<=S*t){f[n]=0;break}}n===e?t=3:n===E-1?t=1:(t=2,e=n)}switch(e++,t){case 1:{let t=m[E-2];m[E-2]=0;for(let n=E-2;n>=e;n--){let i=sx(f[n],t),o=f[n]/i,a=t/i;if(f[n]=i,n!==e&&(t=-a*m[n-1],m[n-1]=o*m[n-1]),u)for(let e=0;e<r;e++)i=o*g.get(e,n)+a*g.get(e,E-1),g.set(e,E-1,-a*g.get(e,n)+o*g.get(e,E-1)),g.set(e,n,i)}break}case 2:{let t=m[e-1];m[e-1]=0;for(let r=e;r<E;r++){let i=sx(f[r],t),o=f[r]/i,a=t/i;if(f[r]=i,t=-a*m[r],m[r]=o*m[r],l)for(let t=0;t<n;t++)i=o*p.get(t,r)+a*p.get(t,e-1),p.set(t,e-1,-a*p.get(t,r)+o*p.get(t,e-1)),p.set(t,r,i)}break}case 3:{const t=Math.max(Math.abs(f[E-1]),Math.abs(f[E-2]),Math.abs(m[E-2]),Math.abs(f[e]),Math.abs(m[e])),i=f[E-1]/t,o=f[E-2]/t,a=m[E-2]/t,s=f[e]/t,c=m[e]/t,d=((o+i)*(o-i)+a*a)/2,h=i*a*(i*a);let y=0;0===d&&0===h||(y=d<0?0-Math.sqrt(d*d+h):Math.sqrt(d*d+h),y=h/(d+y));let v=(s+i)*(s-i)+y,b=s*c;for(let t=e;t<E-1;t++){let i=sx(v,b);0===i&&(i=Number.MIN_VALUE);let o=v/i,a=b/i;if(t!==e&&(m[t-1]=i),v=o*f[t]+a*m[t],m[t]=o*m[t]-a*f[t],b=a*f[t+1],f[t+1]=o*f[t+1],u)for(let e=0;e<r;e++)i=o*g.get(e,t)+a*g.get(e,t+1),g.set(e,t+1,-a*g.get(e,t)+o*g.get(e,t+1)),g.set(e,t,i);if(i=sx(v,b),0===i&&(i=Number.MIN_VALUE),o=v/i,a=b/i,f[t]=i,v=o*m[t]+a*f[t+1],f[t+1]=-a*m[t]+o*f[t+1],b=a*m[t+1],m[t+1]=o*m[t+1],l&&t<n-1)for(let e=0;e<n;e++)i=o*p.get(e,t)+a*p.get(e,t+1),p.set(e,t+1,-a*p.get(e,t)+o*p.get(e,t+1)),p.set(e,t,i)}m[E-2]=v;break}case 4:if(f[e]<=0&&(f[e]=f[e]<0?-f[e]:0,u))for(let t=0;t<=k;t++)g.set(t,e,-g.get(t,e));for(;e<k&&!(f[e]>=f[e+1]);){let t=f[e];if(f[e]=f[e+1],f[e+1]=t,u&&e<r-1)for(let n=0;n<r;n++)t=g.get(n,e+1),g.set(n,e+1,g.get(n,e)),g.set(n,e,t);if(l&&e<n-1)for(let r=0;r<n;r++)t=p.get(r,e+1),p.set(r,e+1,p.get(r,e)),p.set(r,e,t);e++}E--}}if(c){let e=g;g=p,p=e}this.m=n,this.n=r,this.s=f,this.U=p,this.V=g}solve(e){let t=e,n=this.threshold,r=this.s.length,i=Jw.zeros(r,r);for(let e=0;e<r;e++)Math.abs(this.s[e])<=n?i.set(e,e,0):i.set(e,e,1/this.s[e]);let o=this.U,a=this.rightSingularVectors,s=a.mmul(i),l=a.rows,u=o.rows,c=Jw.zeros(l,u);for(let e=0;e<l;e++)for(let t=0;t<u;t++){let n=0;for(let i=0;i<r;i++)n+=s.get(e,i)*o.get(t,i);c.set(e,t,n)}return c.mmul(t)}solveForDiagonal(e){return this.solve(Jw.diag(e))}inverse(){let e=this.V,t=this.threshold,n=e.rows,r=e.columns,i=new Jw(n,this.s.length);for(let o=0;o<n;o++)for(let n=0;n<r;n++)Math.abs(this.s[n])>t&&i.set(o,n,e.get(o,n)/this.s[n]);let o=this.U,a=o.rows,s=o.columns,l=new Jw(n,a);for(let e=0;e<n;e++)for(let t=0;t<a;t++){let n=0;for(let r=0;r<s;r++)n+=i.get(e,r)*o.get(t,r);l.set(e,t,n)}return l}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let e=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,t=0,n=this.s;for(let r=0,i=n.length;r<i;r++)n[r]>e&&t++;return t}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return Jw.diag(this.s)}};function cx(e,t,n=!1){return e=ox.checkMatrix(e),t=ox.checkMatrix(t),n?new ux(e).solve(t):e.isSquare()?new ax(e).solve(t):new lx(e).solve(t)}function dx(e,t){let n=[];for(let r=0;r<e;r++)r!==t&&n.push(r);return n}function hx(e,t,n,r=1e-9,i=1e-9){if(e>i)return new Array(t.rows+1).fill(0);{let e=t.addRow(n,[0]);for(let t=0;t<e.rows;t++)Math.abs(e.get(t,0))<r&&e.set(t,0,0);return e.to1DArray()}}class fx{constructor(e,t={}){const{assumeSymmetric:n=!1}=t;if(!(e=ox.checkMatrix(e)).isSquare())throw new Error("Matrix is not a square matrix");if(e.isEmpty())throw new Error("Matrix must be non-empty");let r,i,o=e.columns,a=new Jw(o,o),s=new Float64Array(o),l=new Float64Array(o),u=e,c=!1;if(c=!!n||e.isSymmetric(),c){for(r=0;r<o;r++)for(i=0;i<o;i++)a.set(r,i,u.get(r,i));!function(e,t,n,r){let i,o,a,s,l,u,c,d;for(l=0;l<e;l++)n[l]=r.get(e-1,l);for(s=e-1;s>0;s--){for(d=0,a=0,u=0;u<s;u++)d+=Math.abs(n[u]);if(0===d)for(t[s]=n[s-1],l=0;l<s;l++)n[l]=r.get(s-1,l),r.set(s,l,0),r.set(l,s,0);else{for(u=0;u<s;u++)n[u]/=d,a+=n[u]*n[u];for(i=n[s-1],o=Math.sqrt(a),i>0&&(o=-o),t[s]=d*o,a-=i*o,n[s-1]=i-o,l=0;l<s;l++)t[l]=0;for(l=0;l<s;l++){for(i=n[l],r.set(l,s,i),o=t[l]+r.get(l,l)*i,u=l+1;u<=s-1;u++)o+=r.get(u,l)*n[u],t[u]+=r.get(u,l)*i;t[l]=o}for(i=0,l=0;l<s;l++)t[l]/=a,i+=t[l]*n[l];for(c=i/(a+a),l=0;l<s;l++)t[l]-=c*n[l];for(l=0;l<s;l++){for(i=n[l],o=t[l],u=l;u<=s-1;u++)r.set(u,l,r.get(u,l)-(i*t[u]+o*n[u]));n[l]=r.get(s-1,l),r.set(s,l,0)}}n[s]=a}for(s=0;s<e-1;s++){if(r.set(e-1,s,r.get(s,s)),r.set(s,s,1),a=n[s+1],0!==a){for(u=0;u<=s;u++)n[u]=r.get(u,s+1)/a;for(l=0;l<=s;l++){for(o=0,u=0;u<=s;u++)o+=r.get(u,s+1)*r.get(u,l);for(u=0;u<=s;u++)r.set(u,l,r.get(u,l)-o*n[u])}}for(u=0;u<=s;u++)r.set(u,s+1,0)}for(l=0;l<e;l++)n[l]=r.get(e-1,l),r.set(e-1,l,0);r.set(e-1,e-1,1),t[0]=0}(o,l,s,a),function(e,t,n,r){let i,o,a,s,l,u,c,d,h,f,p,g,m,y,v,b;for(a=1;a<e;a++)t[a-1]=t[a];t[e-1]=0;let w=0,x=0,E=Number.EPSILON;for(u=0;u<e;u++){for(x=Math.max(x,Math.abs(n[u])+Math.abs(t[u])),c=u;c<e&&!(Math.abs(t[c])<=E*x);)c++;if(c>u)do{for(i=n[u],d=(n[u+1]-i)/(2*t[u]),h=sx(d,1),d<0&&(h=-h),n[u]=t[u]/(d+h),n[u+1]=t[u]*(d+h),f=n[u+1],o=i-n[u],a=u+2;a<e;a++)n[a]-=o;for(w+=o,d=n[c],p=1,g=p,m=p,y=t[u+1],v=0,b=0,a=c-1;a>=u;a--)for(m=g,g=p,b=v,i=p*t[a],o=p*d,h=sx(d,t[a]),t[a+1]=v*h,v=t[a]/h,p=d/h,d=p*n[a]-v*i,n[a+1]=o+v*(p*i+v*n[a]),l=0;l<e;l++)o=r.get(l,a+1),r.set(l,a+1,v*r.get(l,a)+p*o),r.set(l,a,p*r.get(l,a)-v*o);d=-v*b*m*y*t[u]/f,t[u]=v*d,n[u]=p*d}while(Math.abs(t[u])>E*x);n[u]=n[u]+w,t[u]=0}for(a=0;a<e-1;a++){for(l=a,d=n[a],s=a+1;s<e;s++)n[s]<d&&(l=s,d=n[s]);if(l!==a)for(n[l]=n[a],n[a]=d,s=0;s<e;s++)d=r.get(s,a),r.set(s,a,r.get(s,l)),r.set(s,l,d)}}(o,l,s,a)}else{let e=new Jw(o,o),t=new Float64Array(o);for(i=0;i<o;i++)for(r=0;r<o;r++)e.set(r,i,u.get(r,i));!function(e,t,n,r){let i,o,a,s,l,u,c,d=0,h=e-1;for(u=d+1;u<=h-1;u++){for(c=0,s=u;s<=h;s++)c+=Math.abs(t.get(s,u-1));if(0!==c){for(a=0,s=h;s>=u;s--)n[s]=t.get(s,u-1)/c,a+=n[s]*n[s];for(o=Math.sqrt(a),n[u]>0&&(o=-o),a-=n[u]*o,n[u]=n[u]-o,l=u;l<e;l++){for(i=0,s=h;s>=u;s--)i+=n[s]*t.get(s,l);for(i/=a,s=u;s<=h;s++)t.set(s,l,t.get(s,l)-i*n[s])}for(s=0;s<=h;s++){for(i=0,l=h;l>=u;l--)i+=n[l]*t.get(s,l);for(i/=a,l=u;l<=h;l++)t.set(s,l,t.get(s,l)-i*n[l])}n[u]=c*n[u],t.set(u,u-1,c*o)}}for(s=0;s<e;s++)for(l=0;l<e;l++)r.set(s,l,s===l?1:0);for(u=h-1;u>=d+1;u--)if(0!==t.get(u,u-1)){for(s=u+1;s<=h;s++)n[s]=t.get(s,u-1);for(l=u;l<=h;l++){for(o=0,s=u;s<=h;s++)o+=n[s]*r.get(s,l);for(o=o/n[u]/t.get(u,u-1),s=u;s<=h;s++)r.set(s,l,r.get(s,l)+o*n[s])}}}(o,e,t,a),function(e,t,n,r,i){let o,a,s,l,u,c,d,h,f,p,g,m,y,v,b,w=e-1,x=0,E=e-1,k=Number.EPSILON,S=0,M=0,T=0,O=0,C=0,N=0,P=0,A=0;for(o=0;o<e;o++)for((o<x||o>E)&&(n[o]=i.get(o,o),t[o]=0),a=Math.max(o-1,0);a<e;a++)M+=Math.abs(i.get(o,a));for(;w>=x;){for(l=w;l>x&&(N=Math.abs(i.get(l-1,l-1))+Math.abs(i.get(l,l)),0===N&&(N=M),!(Math.abs(i.get(l,l-1))<k*N));)l--;if(l===w)i.set(w,w,i.get(w,w)+S),n[w]=i.get(w,w),t[w]=0,w--,A=0;else if(l===w-1){if(d=i.get(w,w-1)*i.get(w-1,w),T=(i.get(w-1,w-1)-i.get(w,w))/2,O=T*T+d,P=Math.sqrt(Math.abs(O)),i.set(w,w,i.get(w,w)+S),i.set(w-1,w-1,i.get(w-1,w-1)+S),h=i.get(w,w),O>=0){for(P=T>=0?T+P:T-P,n[w-1]=h+P,n[w]=n[w-1],0!==P&&(n[w]=h-d/P),t[w-1]=0,t[w]=0,h=i.get(w,w-1),N=Math.abs(h)+Math.abs(P),T=h/N,O=P/N,C=Math.sqrt(T*T+O*O),T/=C,O/=C,a=w-1;a<e;a++)P=i.get(w-1,a),i.set(w-1,a,O*P+T*i.get(w,a)),i.set(w,a,O*i.get(w,a)-T*P);for(o=0;o<=w;o++)P=i.get(o,w-1),i.set(o,w-1,O*P+T*i.get(o,w)),i.set(o,w,O*i.get(o,w)-T*P);for(o=x;o<=E;o++)P=r.get(o,w-1),r.set(o,w-1,O*P+T*r.get(o,w)),r.set(o,w,O*r.get(o,w)-T*P)}else n[w-1]=h+T,n[w]=h+T,t[w-1]=P,t[w]=-P;w-=2,A=0}else{if(h=i.get(w,w),f=0,d=0,l<w&&(f=i.get(w-1,w-1),d=i.get(w,w-1)*i.get(w-1,w)),10===A){for(S+=h,o=x;o<=w;o++)i.set(o,o,i.get(o,o)-h);N=Math.abs(i.get(w,w-1))+Math.abs(i.get(w-1,w-2)),h=f=.75*N,d=-.4375*N*N}if(30===A&&(N=(f-h)/2,N=N*N+d,N>0)){for(N=Math.sqrt(N),f<h&&(N=-N),N=h-d/((f-h)/2+N),o=x;o<=w;o++)i.set(o,o,i.get(o,o)-N);S+=N,h=f=d=.964}for(A+=1,u=w-2;u>=l&&(P=i.get(u,u),C=h-P,N=f-P,T=(C*N-d)/i.get(u+1,u)+i.get(u,u+1),O=i.get(u+1,u+1)-P-C-N,C=i.get(u+2,u+1),N=Math.abs(T)+Math.abs(O)+Math.abs(C),T/=N,O/=N,C/=N,u!==l)&&!(Math.abs(i.get(u,u-1))*(Math.abs(O)+Math.abs(C))<k*(Math.abs(T)*(Math.abs(i.get(u-1,u-1))+Math.abs(P)+Math.abs(i.get(u+1,u+1)))));)u--;for(o=u+2;o<=w;o++)i.set(o,o-2,0),o>u+2&&i.set(o,o-3,0);for(s=u;s<=w-1&&(v=s!==w-1,s!==u&&(T=i.get(s,s-1),O=i.get(s+1,s-1),C=v?i.get(s+2,s-1):0,h=Math.abs(T)+Math.abs(O)+Math.abs(C),0!==h&&(T/=h,O/=h,C/=h)),0!==h);s++)if(N=Math.sqrt(T*T+O*O+C*C),T<0&&(N=-N),0!==N){for(s!==u?i.set(s,s-1,-N*h):l!==u&&i.set(s,s-1,-i.get(s,s-1)),T+=N,h=T/N,f=O/N,P=C/N,O/=T,C/=T,a=s;a<e;a++)T=i.get(s,a)+O*i.get(s+1,a),v&&(T+=C*i.get(s+2,a),i.set(s+2,a,i.get(s+2,a)-T*P)),i.set(s,a,i.get(s,a)-T*h),i.set(s+1,a,i.get(s+1,a)-T*f);for(o=0;o<=Math.min(w,s+3);o++)T=h*i.get(o,s)+f*i.get(o,s+1),v&&(T+=P*i.get(o,s+2),i.set(o,s+2,i.get(o,s+2)-T*C)),i.set(o,s,i.get(o,s)-T),i.set(o,s+1,i.get(o,s+1)-T*O);for(o=x;o<=E;o++)T=h*r.get(o,s)+f*r.get(o,s+1),v&&(T+=P*r.get(o,s+2),r.set(o,s+2,r.get(o,s+2)-T*C)),r.set(o,s,r.get(o,s)-T),r.set(o,s+1,r.get(o,s+1)-T*O)}}}if(0===M)return;for(w=e-1;w>=0;w--)if(T=n[w],O=t[w],0===O)for(l=w,i.set(w,w,1),o=w-1;o>=0;o--){for(d=i.get(o,o)-T,C=0,a=l;a<=w;a++)C+=i.get(o,a)*i.get(a,w);if(t[o]<0)P=d,N=C;else if(l=o,0===t[o]?i.set(o,w,0!==d?-C/d:-C/(k*M)):(h=i.get(o,o+1),f=i.get(o+1,o),O=(n[o]-T)*(n[o]-T)+t[o]*t[o],c=(h*N-P*C)/O,i.set(o,w,c),i.set(o+1,w,Math.abs(h)>Math.abs(P)?(-C-d*c)/h:(-N-f*c)/P)),c=Math.abs(i.get(o,w)),k*c*c>1)for(a=o;a<=w;a++)i.set(a,w,i.get(a,w)/c)}else if(O<0)for(l=w-1,Math.abs(i.get(w,w-1))>Math.abs(i.get(w-1,w))?(i.set(w-1,w-1,O/i.get(w,w-1)),i.set(w-1,w,-(i.get(w,w)-T)/i.get(w,w-1))):(b=px(0,-i.get(w-1,w),i.get(w-1,w-1)-T,O),i.set(w-1,w-1,b[0]),i.set(w-1,w,b[1])),i.set(w,w-1,0),i.set(w,w,1),o=w-2;o>=0;o--){for(p=0,g=0,a=l;a<=w;a++)p+=i.get(o,a)*i.get(a,w-1),g+=i.get(o,a)*i.get(a,w);if(d=i.get(o,o)-T,t[o]<0)P=d,C=p,N=g;else if(l=o,0===t[o]?(b=px(-p,-g,d,O),i.set(o,w-1,b[0]),i.set(o,w,b[1])):(h=i.get(o,o+1),f=i.get(o+1,o),m=(n[o]-T)*(n[o]-T)+t[o]*t[o]-O*O,y=2*(n[o]-T)*O,0===m&&0===y&&(m=k*M*(Math.abs(d)+Math.abs(O)+Math.abs(h)+Math.abs(f)+Math.abs(P))),b=px(h*C-P*p+O*g,h*N-P*g-O*p,m,y),i.set(o,w-1,b[0]),i.set(o,w,b[1]),Math.abs(h)>Math.abs(P)+Math.abs(O)?(i.set(o+1,w-1,(-p-d*i.get(o,w-1)+O*i.get(o,w))/h),i.set(o+1,w,(-g-d*i.get(o,w)-O*i.get(o,w-1))/h)):(b=px(-C-f*i.get(o,w-1),-N-f*i.get(o,w),P,O),i.set(o+1,w-1,b[0]),i.set(o+1,w,b[1]))),c=Math.max(Math.abs(i.get(o,w-1)),Math.abs(i.get(o,w))),k*c*c>1)for(a=o;a<=w;a++)i.set(a,w-1,i.get(a,w-1)/c),i.set(a,w,i.get(a,w)/c)}for(o=0;o<e;o++)if(o<x||o>E)for(a=o;a<e;a++)r.set(o,a,i.get(o,a));for(a=e-1;a>=x;a--)for(o=x;o<=E;o++){for(P=0,s=x;s<=Math.min(a,E);s++)P+=r.get(o,s)*i.get(s,a);r.set(o,a,P)}}(o,l,s,a,e)}this.n=o,this.e=l,this.d=s,this.V=a}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let e,t,n=this.n,r=this.e,i=this.d,o=new Jw(n,n);for(e=0;e<n;e++){for(t=0;t<n;t++)o.set(e,t,0);o.set(e,e,i[e]),r[e]>0?o.set(e,e+1,r[e]):r[e]<0&&o.set(e,e-1,r[e])}return o}}function px(e,t,n,r){let i,o;return Math.abs(n)>Math.abs(r)?(i=r/n,o=n+i*r,[(e+i*t)/o,(t-i*e)/o]):(i=n/r,o=r+i*n,[(i*e+t)/o,(i*t-e)/o])}class gx{constructor(e){if(!(e=ox.checkMatrix(e)).isSymmetric())throw new Error("Matrix is not symmetric");let t,n,r,i=e,o=i.rows,a=new Jw(o,o),s=!0;for(n=0;n<o;n++){let e=0;for(r=0;r<n;r++){let o=0;for(t=0;t<r;t++)o+=a.get(r,t)*a.get(n,t);o=(i.get(n,r)-o)/a.get(r,r),a.set(n,r,o),e+=o*o}for(e=i.get(n,n)-e,s&&=e>0,a.set(n,n,Math.sqrt(Math.max(e,0))),r=n+1;r<o;r++)a.set(n,r,0)}this.L=a,this.positiveDefinite=s}isPositiveDefinite(){return this.positiveDefinite}solve(e){e=ox.checkMatrix(e);let t=this.L,n=t.rows;if(e.rows!==n)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");let r,i,o,a=e.columns,s=e.clone();for(o=0;o<n;o++)for(i=0;i<a;i++){for(r=0;r<o;r++)s.set(o,i,s.get(o,i)-s.get(r,i)*t.get(o,r));s.set(o,i,s.get(o,i)/t.get(o,o))}for(o=n-1;o>=0;o--)for(i=0;i<a;i++){for(r=o+1;r<n;r++)s.set(o,i,s.get(o,i)-s.get(r,i)*t.get(r,o));s.set(o,i,s.get(o,i)/t.get(o,o))}return s}get lowerTriangularMatrix(){return this.L}}class mx{constructor(e,t={}){e=ox.checkMatrix(e);let{Y:n}=t;const{scaleScores:r=!1,maxIterations:i=1e3,terminationCriteria:o=1e-10}=t;let a;if(n){if(n=_w.isAnyArray(n)&&"number"==typeof n[0]?Jw.columnVector(n):ox.checkMatrix(n),n.rows!==e.rows)throw new Error("Y should have the same number of rows as X");a=n.getColumnVector(0)}else a=e.getColumnVector(0);let s,l,u,c,d=1;for(let t=0;t<i&&d>o;t++)u=e.transpose().mmul(a).div(a.transpose().mmul(a).get(0,0)),u=u.div(u.norm()),s=e.mmul(u).div(u.transpose().mmul(u).get(0,0)),t>0&&(d=s.clone().sub(c).pow(2).sum()),c=s.clone(),n?(l=n.transpose().mmul(s).div(s.transpose().mmul(s).get(0,0)),l=l.div(l.norm()),a=n.mmul(l).div(l.transpose().mmul(l).get(0,0))):a=s;if(n){let t=e.transpose().mmul(s).div(s.transpose().mmul(s).get(0,0));t=t.div(t.norm());let r=e.clone().sub(s.clone().mmul(t.transpose())),i=a.transpose().mmul(s).div(s.transpose().mmul(s).get(0,0)),o=n.clone().sub(s.clone().mulS(i.get(0,0)).mmul(l.transpose()));this.t=s,this.p=t.transpose(),this.w=u.transpose(),this.q=l,this.u=a,this.s=s.transpose().mmul(s),this.xResidual=r,this.yResidual=o,this.betas=i}else this.w=u.transpose(),this.s=s.transpose().mmul(s).sqrt(),this.t=r?s.clone().div(this.s.get(0,0)):s,this.xResidual=e.sub(s.mmul(u.transpose()))}}Ow.AbstractMatrix=Kw,Ow.CHO=gx,Ow.CholeskyDecomposition=gx,Ow.DistanceMatrix=tx,Ow.EVD=fx,Ow.EigenvalueDecomposition=fx,Ow.LU=ax,Ow.LuDecomposition=ax;var yx=Ow.Matrix=Jw;Ow.MatrixColumnSelectionView=class extends nx{constructor(e,t){Gw(e,t),super(e,e.rows,t.length),this.columnIndices=t}set(e,t,n){return this.matrix.set(e,this.columnIndices[t],n),this}get(e,t){return this.matrix.get(e,this.columnIndices[t])}},Ow.MatrixColumnView=class extends nx{constructor(e,t){Hw(e,t),super(e,e.rows,1),this.column=t}set(e,t,n){return this.matrix.set(e,this.column,n),this}get(e){return this.matrix.get(e,this.column)}},Ow.MatrixFlipColumnView=class extends nx{constructor(e){super(e,e.rows,e.columns)}set(e,t,n){return this.matrix.set(e,this.columns-t-1,n),this}get(e,t){return this.matrix.get(e,this.columns-t-1)}},Ow.MatrixFlipRowView=class extends nx{constructor(e){super(e,e.rows,e.columns)}set(e,t,n){return this.matrix.set(this.rows-e-1,t,n),this}get(e,t){return this.matrix.get(this.rows-e-1,t)}},Ow.MatrixRowSelectionView=class extends nx{constructor(e,t){Ww(e,t),super(e,t.length,e.columns),this.rowIndices=t}set(e,t,n){return this.matrix.set(this.rowIndices[e],t,n),this}get(e,t){return this.matrix.get(this.rowIndices[e],t)}},Ow.MatrixRowView=class extends nx{constructor(e,t){Bw(e,t),super(e,1,e.columns),this.row=t}set(e,t,n){return this.matrix.set(this.row,t,n),this}get(e,t){return this.matrix.get(this.row,t)}},Ow.MatrixSelectionView=rx,Ow.MatrixSubView=class extends nx{constructor(e,t,n,r,i){$w(e,t,n,r,i),super(e,n-t+1,i-r+1),this.startRow=t,this.startColumn=r}set(e,t,n){return this.matrix.set(this.startRow+e,this.startColumn+t,n),this}get(e,t){return this.matrix.get(this.startRow+e,this.startColumn+t)}},Ow.MatrixTransposeView=class extends nx{constructor(e){super(e,e.columns,e.rows)}set(e,t,n){return this.matrix.set(t,e,n),this}get(e,t){return this.matrix.get(t,e)}},Ow.NIPALS=mx,Ow.Nipals=mx,Ow.QR=lx,Ow.QrDecomposition=lx,Ow.SVD=ux;var vx=Ow.SingularValueDecomposition=ux;Ow.SymmetricMatrix=ex,Ow.WrapperMatrix1D=ix,Ow.WrapperMatrix2D=ox,Ow.correlation=function(e,t=e,n={}){e=new Jw(e);let r=!1;if("object"!=typeof t||Jw.isMatrix(t)||_w.isAnyArray(t)?t=new Jw(t):(n=t,t=e,r=!0),e.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:i=!0,scale:o=!0}=n;i&&(e.center("column"),r||t.center("column")),o&&(e.scale("column"),r||t.scale("column"));const a=e.standardDeviation("column",{unbiased:!0}),s=r?a:t.standardDeviation("column",{unbiased:!0}),l=e.transpose().mmul(t);for(let t=0;t<l.rows;t++)for(let n=0;n<l.columns;n++)l.set(t,n,l.get(t,n)*(1/(a[t]*s[n]))*(1/(e.rows-1)));return l},Ow.covariance=function(e,t=e,n={}){e=new Jw(e);let r=!1;if("object"!=typeof t||Jw.isMatrix(t)||_w.isAnyArray(t)?t=new Jw(t):(n=t,t=e,r=!0),e.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:i=!0}=n;i&&(e=e.center("column"),r||(t=t.center("column")));const o=e.transpose().mmul(t);for(let t=0;t<o.rows;t++)for(let n=0;n<o.columns;n++)o.set(t,n,o.get(t,n)*(1/(e.rows-1)));return o};var bx=Ow.default=Jw;Ow.determinant=function e(t){if((t=Jw.checkMatrix(t)).isSquare()){if(0===t.columns)return 1;let n,r,i,o;if(2===t.columns)return n=t.get(0,0),r=t.get(0,1),i=t.get(1,0),o=t.get(1,1),n*o-r*i;if(3===t.columns){let o,a,s;return o=new rx(t,[1,2],[1,2]),a=new rx(t,[1,2],[0,2]),s=new rx(t,[1,2],[0,1]),n=t.get(0,0),r=t.get(0,1),i=t.get(0,2),n*e(o)-r*e(a)+i*e(s)}return new ax(t).determinant}throw Error("determinant can only be calculated for a square matrix")},Ow.inverse=function(e,t=!1){return e=ox.checkMatrix(e),t?new ux(e).inverse():cx(e,Jw.eye(e.rows))},Ow.linearDependencies=function(e,t={}){const{thresholdValue:n=1e-9,thresholdError:r=1e-9}=t;let i=(e=Jw.checkMatrix(e)).rows,o=new Jw(i,i);for(let t=0;t<i;t++){let a=Jw.columnVector(e.getRow(t)),s=e.subMatrixRow(dx(i,t)).transpose(),l=new ux(s).solve(a),u=Jw.sub(a,s.mmul(l)).abs().max();o.setRow(t,hx(u,l,t,n,r))}return o},Ow.pseudoInverse=function(e,t=Number.EPSILON){if((e=Jw.checkMatrix(e)).isEmpty())return e.transpose();let n=new ux(e,{autoTranspose:!0}),r=n.leftSingularVectors,i=n.rightSingularVectors,o=n.diagonal;for(let e=0;e<o.length;e++)Math.abs(o[e])>t?o[e]=1/o[e]:o[e]=0;return i.mmul(Jw.diag(o).mmul(r.transpose()))},Ow.solve=cx,Ow.wrap=function(e,t){if(_w.isAnyArray(e))return e[0]&&_w.isAnyArray(e[0])?new ox(e):new ix(e,t);throw new Error("the argument is not an array")};const wx=yx,xx=vx;bx.Matrix&&bx.Matrix;const Ex={center:[0,0],linkDistance:50};class kx{constructor(e={}){this.options=e,this.id="mds",this.options=Object.assign(Object.assign({},Ex),e)}execute(e,t){return Ht(this,void 0,void 0,function*(){return this.genericMDSLayout(!1,e,t)})}assign(e,t){return Ht(this,void 0,void 0,function*(){yield this.genericMDSLayout(!0,e,t)})}genericMDSLayout(e,t,n){return Ht(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},this.options),n),{center:i=[0,0],linkDistance:o=50}=r,a=t.getAllNodes(),s=t.getAllEdges();if(!(null==a?void 0:a.length)||1===a.length)return qb(t,e,i);const l=Ib({nodes:a,edges:s}),u=Lb(l);Sx(u);const c=((e,t)=>{const n=[];return e.forEach(e=>{const r=[];e.forEach(e=>{r.push(e*t)}),n.push(r)}),n})(u,o),d=Mx(c),h=[];d.forEach((e,t)=>{const n=Bb(a[t]);n.data.x=e[0]+i[0],n.data.y=e[1]+i[1],h.push(n)}),e&&h.forEach(e=>t.mergeNodeData(e.id,{x:e.data.x,y:e.data.y}));return{nodes:h,edges:s}})}}const Sx=e=>{let t=-999999;e.forEach(e=>{e.forEach(e=>{e!==1/0&&t<e&&(t=e)})}),e.forEach((n,r)=>{n.forEach((n,i)=>{n===1/0&&(e[r][i]=t)})})},Mx=e=>{const t=wx.mul(wx.pow(e,2),-.5),n=t.mean("row"),r=t.mean("column"),i=t.mean();t.add(i).subRowVector(n).subColumnVector(r);const o=new xx(t),a=wx.sqrt(o.diagonalMatrix).diagonal();return o.leftSingularVectors.toJSON().map(e=>wx.mul([e],[a]).toJSON()[0].splice(0,2))};function Tx(e){return!!e.tick&&!!e.stop}const Ox={gForce:!0,force2:!0,d3force:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0},Cx={center:[0,0],comboPadding:10,treeKey:"combo"};function Nx(e,t,n,r){var i;return Ht(this,void 0,void 0,function*(){return Tx(e)?(e.execute(t,n),e.stop(),e.tick(null!==(i=n.iterations)&&void 0!==i?i:300)):r?yield e.assign(t,n):yield e.execute(t,n)})}function Px(e,t){var n,r=1;function i(){var i,o,a=n.length,s=0,l=0;for(i=0;i<a;++i)s+=(o=n[i]).x,l+=o.y;for(s=(s/a-e)*r,l=(l/a-t)*r,i=0;i<a;++i)(o=n[i]).x-=s,o.y-=l}return null==e&&(e=0),null==t&&(t=0),i.initialize=function(e){n=e},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(e){return arguments.length?(t=+e,i):t},i.strength=function(e){return arguments.length?(r=+e,i):r},i}function Ax(e){return function(){return e}}function Rx(e){return 1e-6*(e()-.5)}function _x(e){return e.x+e.vx}function Dx(e){return e.y+e.vy}function Lx(e){var t,n,r,i=1,o=1;function a(){for(var e,a,l,u,c,d,h,f=t.length,p=0;p<o;++p)for(a=rw(t,_x,Dx).visitAfter(s),e=0;e<f;++e)l=t[e],d=n[l.index],h=d*d,u=l.x+l.vx,c=l.y+l.vy,a.visit(g);function g(e,t,n,o,a){var s=e.data,f=e.r,p=d+f;if(!s)return t>u+p||o<u-p||n>c+p||a<c-p;if(s.index>l.index){var g=u-s.x-s.vx,m=c-s.y-s.vy,y=g*g+m*m;y<p*p&&(0===g&&(y+=(g=Rx(r))*g),0===m&&(y+=(m=Rx(r))*m),y=(p-(y=Math.sqrt(y)))/y*i,l.vx+=(g*=y)*(p=(f*=f)/(h+f)),l.vy+=(m*=y)*p,s.vx-=g*(p=1-p),s.vy-=m*p)}}}function s(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function l(){if(t){var r,i,o=t.length;for(n=new Array(o),r=0;r<o;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!=typeof e&&(e=Ax(null==e?1:+e)),a.initialize=function(e,n){t=e,r=n,l()},a.iterations=function(e){return arguments.length?(o=+e,a):o},a.strength=function(e){return arguments.length?(i=+e,a):i},a.radius=function(t){return arguments.length?(e="function"==typeof t?t:Ax(+t),l(),a):e},a}function Ix(e){return e.index}function zx(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function Fx(e){var t,n,r,i,o,a,s=Ix,l=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},u=Ax(30),c=1;function d(r){for(var i=0,s=e.length;i<c;++i)for(var l,u,d,h,f,p,g,m=0;m<s;++m)u=(l=e[m]).source,h=(d=l.target).x+d.vx-u.x-u.vx||Rx(a),f=d.y+d.vy-u.y-u.vy||Rx(a),h*=p=((p=Math.sqrt(h*h+f*f))-n[m])/p*r*t[m],f*=p,d.vx-=h*(g=o[m]),d.vy-=f*g,u.vx+=h*(g=1-g),u.vy+=f*g}function h(){if(r){var a,l,u=r.length,c=e.length,d=new Map(r.map((e,t)=>[s(e,t,r),e]));for(a=0,i=new Array(u);a<c;++a)(l=e[a]).index=a,"object"!=typeof l.source&&(l.source=zx(d,l.source)),"object"!=typeof l.target&&(l.target=zx(d,l.target)),i[l.source.index]=(i[l.source.index]||0)+1,i[l.target.index]=(i[l.target.index]||0)+1;for(a=0,o=new Array(c);a<c;++a)l=e[a],o[a]=i[l.source.index]/(i[l.source.index]+i[l.target.index]);t=new Array(c),f(),n=new Array(c),p()}}function f(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+l(e[n],n,e)}function p(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+u(e[t],t,e)}return null==e&&(e=[]),d.initialize=function(e,t){r=e,a=t,h()},d.links=function(t){return arguments.length?(e=t,h(),d):e},d.id=function(e){return arguments.length?(s=e,d):s},d.iterations=function(e){return arguments.length?(c=+e,d):c},d.strength=function(e){return arguments.length?(l="function"==typeof e?e:Ax(+e),f(),d):l},d.distance=function(e){return arguments.length?(u="function"==typeof e?e:Ax(+e),p(),d):u},d}var jx={value:()=>{}};function Bx(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Hx(r)}function Hx(e){this._=e}function Vx(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function Ux(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=jx,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Hx.prototype=Bx.prototype={constructor:Hx,on:function(e,t){var n,r,i=this._,o=(r=i,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=o[a]).type)i[n]=Ux(i[n],e.name,t);else if(null==t)for(n in i)i[n]=Ux(i[n],e.name,null);return this}for(;++a<s;)if((n=(e=o[a]).type)&&(n=Vx(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Hx(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var Wx,Gx,$x=0,qx=0,Yx=0,Xx=0,Kx=0,Qx=0,Zx="object"==typeof performance&&performance.now?performance:Date,Jx="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function eE(){return Kx||(Jx(tE),Kx=Zx.now()+Qx)}function tE(){Kx=0}function nE(){this._call=this._time=this._next=null}function rE(e,t,n){var r=new nE;return r.restart(e,t,n),r}function iE(){Kx=(Xx=Zx.now())+Qx,$x=qx=0;try{!function(){eE(),++$x;for(var e,t=Wx;t;)(e=Kx-t._time)>=0&&t._call.call(void 0,e),t=t._next;--$x}()}finally{$x=0,function(){var e,t,n=Wx,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Wx=t);Gx=e,aE(r)}(),Kx=0}}function oE(){var e=Zx.now(),t=e-Xx;t>1e3&&(Qx-=t,Xx=e)}function aE(e){$x||(qx&&(qx=clearTimeout(qx)),e-Kx>24?(e<1/0&&(qx=setTimeout(iE,e-Zx.now()-Qx)),Yx&&(Yx=clearInterval(Yx))):(Yx||(Xx=Zx.now(),Yx=setInterval(oE,1e3)),$x=1,Jx(iE)))}nE.prototype=rE.prototype={constructor:nE,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?eE():+n)+(null==t?0:+t),this._next||Gx===this||(Gx?Gx._next=this:Wx=this,Gx=this),this._call=e,this._time=n,aE()},stop:function(){this._call&&(this._call=null,this._time=1/0,aE())}};const sE=4294967296;function lE(e){return e.x}function uE(e){return e.y}var cE=Math.PI*(3-Math.sqrt(5));function dE(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,l=rE(d),u=Bx("tick","end"),c=function(){let e=1;return()=>(e=(1664525*e+1013904223)%sE)/sE}();function d(){h(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function h(r){var l,u,c=e.length;void 0===r&&(r=1);for(var d=0;d<r;++d)for(n+=(o-n)*i,s.forEach(function(e){e(n)}),l=0;l<c;++l)null==(u=e[l]).fx?u.x+=u.vx*=a:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=a:(u.y=u.fy,u.vy=0);return t}function f(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(.5+n),o=n*cE;t.x=i*Math.cos(o),t.y=i*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,c),t}return null==e&&(e=[]),f(),t={tick:h,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(n){return arguments.length?(e=n,f(),s.forEach(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(o=+e,t):o},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},randomSource:function(e){return arguments.length?(c=e,s.forEach(p),t):c},force:function(e,n){return arguments.length>1?(null==n?s.delete(e):s.set(e,p(n)),t):s.get(e)},find:function(t,n,r){var i,o,a,s,l,u=0,c=e.length;for(null==r?r=1/0:r*=r,u=0;u<c;++u)(a=(i=t-(s=e[u]).x)*i+(o=n-s.y)*o)<r&&(l=s,r=a);return l},on:function(e,n){return arguments.length>1?(u.on(e,n),t):u.on(e)}}}function hE(){var e,t,n,r,i,o=Ax(-30),a=1,s=1/0,l=.81;function u(n){var i,o=e.length,a=rw(e,lE,uE).visitAfter(d);for(r=n,i=0;i<o;++i)t=e[i],a.visit(h)}function c(){if(e){var t,n,r=e.length;for(i=new Array(r),t=0;t<r;++t)n=e[t],i[n.index]=+o(n,t,e)}}function d(e){var t,n,r,o,a,s=0,l=0;if(e.length){for(r=o=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(s+=t.value,l+=n,r+=n*t.x,o+=n*t.y);e.x=r/l,e.y=o/l}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=i[t.data.index]}while(t=t.next)}e.value=s}function h(e,o,u,c){if(!e.value)return!0;var d=e.x-t.x,h=e.y-t.y,f=c-o,p=d*d+h*h;if(f*f/l<p)return p<s&&(0===d&&(p+=(d=Rx(n))*d),0===h&&(p+=(h=Rx(n))*h),p<a&&(p=Math.sqrt(a*p)),t.vx+=d*e.value*r/p,t.vy+=h*e.value*r/p),!0;if(!(e.length||p>=s)){(e.data!==t||e.next)&&(0===d&&(p+=(d=Rx(n))*d),0===h&&(p+=(h=Rx(n))*h),p<a&&(p=Math.sqrt(a*p)));do{e.data!==t&&(f=i[e.data.index]*r/p,t.vx+=d*f,t.vy+=h*f)}while(e=e.next)}}return u.initialize=function(t,r){e=t,n=r,c()},u.strength=function(e){return arguments.length?(o="function"==typeof e?e:Ax(+e),c(),u):o},u.distanceMin=function(e){return arguments.length?(a=e*e,u):Math.sqrt(a)},u.distanceMax=function(e){return arguments.length?(s=e*e,u):Math.sqrt(s)},u.theta=function(e){return arguments.length?(l=e*e,u):Math.sqrt(l)},u}function fE(e,t,n){var r,i,o,a=Ax(.1);function s(e){for(var a=0,s=r.length;a<s;++a){var l=r[a],u=l.x-t||1e-6,c=l.y-n||1e-6,d=Math.sqrt(u*u+c*c),h=(o[a]-d)*i[a]*e/d;l.vx+=u*h,l.vy+=c*h}}function l(){if(r){var t,n=r.length;for(i=new Array(n),o=new Array(n),t=0;t<n;++t)o[t]=+e(r[t],t,r),i[t]=isNaN(o[t])?0:+a(r[t],t,r)}}return"function"!=typeof e&&(e=Ax(+e)),null==t&&(t=0),null==n&&(n=0),s.initialize=function(e){r=e,l()},s.strength=function(e){return arguments.length?(a="function"==typeof e?e:Ax(+e),l(),s):a},s.radius=function(t){return arguments.length?(e="function"==typeof t?t:Ax(+t),l(),s):e},s.x=function(e){return arguments.length?(t=+e,s):t},s.y=function(e){return arguments.length?(n=+e,s):n},s}function pE(e){var t,n,r,i=Ax(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vx+=(r[o]-i.x)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!=typeof e&&(e=Ax(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"==typeof e?e:Ax(+e),a(),o):i},o.x=function(t){return arguments.length?(e="function"==typeof t?t:Ax(+t),a(),o):e},o}function gE(e){var t,n,r,i=Ax(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vy+=(r[o]-i.y)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!=typeof e&&(e=Ax(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"==typeof e?e:Ax(+e),a(),o):i},o.y=function(t){return arguments.length?(e="function"==typeof t?t:Ax(+t),a(),o):e},o}const mE=(e,t)=>t.reduce((t,[n,r])=>t[n]&&void 0!==r?t[n].call(e,r):t,e);var yE,vE,bE,wE,xE,EE,kE,SE,ME,TE,OE,CE,NE,PE,AE,RE,_E,DE,LE,IE,zE,FE,jE,BE,HE,VE,UE,WE,GE,$E,qE,YE,XE,KE,QE,ZE,JE,ek,tk,nk,rk,ik,ok,ak,sk,lk,uk,ck,dk,hk,fk,pk,gk,mk,yk,vk,bk,wk,xk,Ek,kk,Sk,Mk,Tk,Ok,Ck,Nk,Pk,Ak,Rk,_k,Dk,Lk,Ik,zk,Fk,jk,Bk,Hk,Vk,Uk,Wk,Gk,$k,qk,Yk,Xk,Kk,Qk,Zk,Jk,eS,tS,nS,rS,iS,oS,aS,sS,lS,uS,cS,dS,hS,fS,pS,gS,mS;function yS(){if(wE)return bE;return wE=1,bE=function(e,t){return e===t||e!=e&&t!=t}}function vS(){if(EE)return xE;EE=1;var e=yS();return xE=function(t,n){for(var r=t.length;r--;)if(e(t[r][0],n))return r;return-1},xE}function bS(){if(RE)return AE;RE=1;var e=vE?yE:(vE=1,yE=function(){this.__data__=[],this.size=0}),t=function(){if(SE)return kE;SE=1;var e=vS(),t=Array.prototype.splice;return kE=function(n){var r=this.__data__,i=e(r,n);return!(i<0||(i==r.length-1?r.pop():t.call(r,i,1),--this.size,0))},kE}(),n=function(){if(TE)return ME;TE=1;var e=vS();return ME=function(t){var n=this.__data__,r=e(n,t);return r<0?void 0:n[r][1]},ME}(),r=function(){if(CE)return OE;CE=1;var e=vS();return OE=function(t){return e(this.__data__,t)>-1}}(),i=function(){if(PE)return NE;PE=1;var e=vS();return NE=function(t,n){var r=this.__data__,i=e(r,t);return i<0?(++this.size,r.push([t,n])):r[i][1]=n,this},NE}();function o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,AE=o}function wS(){if(VE)return HE;VE=1;var e="object"==typeof x&&x&&x.Object===Object&&x;return HE=e}function xS(){if(WE)return UE;WE=1;var e=wS(),t="object"==typeof self&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return UE=n}function ES(){if($E)return GE;$E=1;var e=xS().Symbol;return GE=e}function kS(){if(ZE)return QE;ZE=1;var e=ES(),t=function(){if(YE)return qE;YE=1;var e=ES(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;return qE=function(e){var t=n.call(e,i),o=e[i];try{e[i]=void 0;var a=!0}catch(e){}var s=r.call(e);return a&&(t?e[i]=o:delete e[i]),s}}(),n=function(){if(KE)return XE;KE=1;var e=Object.prototype.toString;return XE=function(t){return e.call(t)}}(),r=e?e.toStringTag:void 0;return QE=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":r&&r in Object(e)?t(e):n(e)}}function SS(){if(ek)return JE;return ek=1,JE=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}}function MS(){if(nk)return tk;nk=1;var e=kS(),t=SS();return tk=function(n){if(!t(n))return!1;var r=e(n);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r}}function TS(){if(ak)return ok;ak=1;var e,t=function(){if(ik)return rk;ik=1;var e=xS()["__core-js_shared__"];return rk=e}(),n=(e=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";return ok=function(e){return!!n&&n in e}}function OS(){if(lk)return sk;lk=1;var e=Function.prototype.toString;return sk=function(t){if(null!=t){try{return e.call(t)}catch(e){}try{return t+""}catch(e){}}return""}}function CS(){if(pk)return fk;pk=1;var e=function(){if(ck)return uk;ck=1;var e=MS(),t=TS(),n=SS(),r=OS(),i=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,s=o.toString,l=a.hasOwnProperty,u=RegExp("^"+s.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return uk=function(o){return!(!n(o)||t(o))&&(e(o)?u:i).test(r(o))}}(),t=hk?dk:(hk=1,dk=function(e,t){return null==e?void 0:e[t]});return fk=function(n,r){var i=t(n,r);return e(i)?i:void 0}}function NS(){if(mk)return gk;mk=1;var e=CS()(xS(),"Map");return gk=e}function PS(){if(vk)return yk;vk=1;var e=CS()(Object,"create");return yk=e}function AS(){if(Pk)return Nk;Pk=1;var e=function(){if(wk)return bk;wk=1;var e=PS();return bk=function(){this.__data__=e?e(null):{},this.size=0}}(),t=Ek?xk:(Ek=1,xk=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}),n=function(){if(Sk)return kk;Sk=1;var e=PS(),t=Object.prototype.hasOwnProperty;return kk=function(n){var r=this.__data__;if(e){var i=r[n];return"__lodash_hash_undefined__"===i?void 0:i}return t.call(r,n)?r[n]:void 0},kk}(),r=function(){if(Tk)return Mk;Tk=1;var e=PS(),t=Object.prototype.hasOwnProperty;return Mk=function(n){var r=this.__data__;return e?void 0!==r[n]:t.call(r,n)},Mk}(),i=function(){if(Ck)return Ok;Ck=1;var e=PS();return Ok=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=e&&void 0===n?"__lodash_hash_undefined__":n,this},Ok}();function o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Nk=o}function RS(){if(Ik)return Lk;Ik=1;var e=Dk?_k:(Dk=1,_k=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e});return Lk=function(t,n){var r=t.__data__;return e(n)?r["string"==typeof n?"string":"hash"]:r.map},Lk}function _S(){if($k)return Gk;$k=1;var e=function(){if(Rk)return Ak;Rk=1;var e=AS(),t=bS(),n=NS();return Ak=function(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}}(),t=function(){if(Fk)return zk;Fk=1;var e=RS();return zk=function(t){var n=e(this,t).delete(t);return this.size-=n?1:0,n}}(),n=function(){if(Bk)return jk;Bk=1;var e=RS();return jk=function(t){return e(this,t).get(t)}}(),r=function(){if(Vk)return Hk;Vk=1;var e=RS();return Hk=function(t){return e(this,t).has(t)}}(),i=function(){if(Wk)return Uk;Wk=1;var e=RS();return Uk=function(t,n){var r=e(this,t),i=r.size;return r.set(t,n),this.size+=r.size==i?0:1,this},Uk}();function o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Gk=o}function DS(){if(Kk)return Xk;Kk=1;var e=bS(),t=function(){if(DE)return _E;DE=1;var e=bS();return _E=function(){this.__data__=new e,this.size=0}}(),n=(IE||(IE=1,LE=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}),LE),r=FE?zE:(FE=1,zE=function(e){return this.__data__.get(e)}),i=BE?jE:(BE=1,jE=function(e){return this.__data__.has(e)}),o=function(){if(Yk)return qk;Yk=1;var e=bS(),t=NS(),n=_S();return qk=function(r,i){var o=this.__data__;if(o instanceof e){var a=o.__data__;if(!t||a.length<199)return a.push([r,i]),this.size=++o.size,this;o=this.__data__=new n(a)}return o.set(r,i),this.size=o.size,this},qk}();function a(t){var n=this.__data__=new e(t);this.size=n.size}return a.prototype.clear=t,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=o,Xk=a}function LS(){if(Zk)return Qk;return Zk=1,Qk=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},Qk}function IS(){if(eS)return Jk;eS=1;var e=CS(),t=function(){try{var t=e(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();return Jk=t}function zS(){if(nS)return tS;nS=1;var e=IS();return tS=function(t,n,r){"__proto__"==n&&e?e(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r}}function FS(){if(iS)return rS;iS=1;var e=zS(),t=yS(),n=Object.prototype.hasOwnProperty;return rS=function(r,i,o){var a=r[i];n.call(r,i)&&t(a,o)&&(void 0!==o||i in r)||e(r,i,o)}}function jS(){if(aS)return oS;aS=1;var e=FS(),t=zS();return oS=function(n,r,i,o){var a=!i;i||(i={});for(var s=-1,l=r.length;++s<l;){var u=r[s],c=o?o(i[u],n[u],u,i,n):void 0;void 0===c&&(c=n[u]),a?t(i,u,c):e(i,u,c)}return i},oS}function BS(){if(cS)return uS;return cS=1,uS=function(e){return null!=e&&"object"==typeof e}}function HS(){if(pS)return fS;pS=1;var e=function(){if(hS)return dS;hS=1;var e=kS(),t=BS();return dS=function(n){return t(n)&&"[object Arguments]"==e(n)}}(),t=BS(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(e){return t(e)&&r.call(e,"callee")&&!i.call(e,"callee")};return fS=o}function VS(){if(mS)return gS;mS=1;var e=Array.isArray;return gS=e}var US,WS,GS,$S,qS,YS,XS,KS,QS,ZS,JS,eM={exports:{}};function tM(){return GS||(GS=1,function(e,t){var n=xS(),r=WS?US:(WS=1,US=function(){return!1}),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?n.Buffer:void 0,s=(a?a.isBuffer:void 0)||r;e.exports=s}(eM,eM.exports)),eM.exports}function nM(){if(qS)return $S;qS=1;var e=/^(?:0|[1-9]\d*)$/;return $S=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n},$S}function rM(){if(XS)return YS;XS=1;return YS=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}}function iM(){if(JS)return ZS;return JS=1,ZS=function(e){return function(t){return e(t)}}}var oM,aM,sM,lM,uM,cM,dM,hM,fM,pM,gM,mM,yM,vM,bM,wM,xM,EM,kM,SM,MM,TM,OM,CM,NM,PM,AM,RM={exports:{}};function _M(){return oM||(oM=1,function(e,t){var n=wS(),r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,o=i&&i.exports===r&&n.process,a=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=a}(RM,RM.exports)),RM.exports}function DM(){if(sM)return aM;sM=1;var e=function(){if(QS)return KS;QS=1;var e=kS(),t=rM(),n=BS(),r={};return r["[object Float32Array]"]=r["[object Float64Array]"]=r["[object Int8Array]"]=r["[object Int16Array]"]=r["[object Int32Array]"]=r["[object Uint8Array]"]=r["[object Uint8ClampedArray]"]=r["[object Uint16Array]"]=r["[object Uint32Array]"]=!0,r["[object Arguments]"]=r["[object Array]"]=r["[object ArrayBuffer]"]=r["[object Boolean]"]=r["[object DataView]"]=r["[object Date]"]=r["[object Error]"]=r["[object Function]"]=r["[object Map]"]=r["[object Number]"]=r["[object Object]"]=r["[object RegExp]"]=r["[object Set]"]=r["[object String]"]=r["[object WeakMap]"]=!1,KS=function(i){return n(i)&&t(i.length)&&!!r[e(i)]}}(),t=iM(),n=_M(),r=n&&n.isTypedArray,i=r?t(r):e;return aM=i}function LM(){if(uM)return lM;uM=1;var e=(lS||(lS=1,sS=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}),sS),t=HS(),n=VS(),r=tM(),i=nM(),o=DM(),a=Object.prototype.hasOwnProperty;return lM=function(s,l){var u=n(s),c=!u&&t(s),d=!u&&!c&&r(s),h=!u&&!c&&!d&&o(s),f=u||c||d||h,p=f?e(s.length,String):[],g=p.length;for(var m in s)!l&&!a.call(s,m)||f&&("length"==m||d&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||i(m,g))||p.push(m);return p},lM}function IM(){if(dM)return cM;dM=1;var e=Object.prototype;return cM=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}}function zM(){if(fM)return hM;return fM=1,hM=function(e,t){return function(n){return e(t(n))}}}function FM(){if(yM)return mM;yM=1;var e=IM(),t=function(){if(gM)return pM;gM=1;var e=zM()(Object.keys,Object);return pM=e}(),n=Object.prototype.hasOwnProperty;return mM=function(r){if(!e(r))return t(r);var i=[];for(var o in Object(r))n.call(r,o)&&"constructor"!=o&&i.push(o);return i}}function jM(){if(bM)return vM;bM=1;var e=MS(),t=rM();return vM=function(n){return null!=n&&t(n.length)&&!e(n)}}function BM(){if(xM)return wM;xM=1;var e=LM(),t=FM(),n=jM();return wM=function(r){return n(r)?e(r):t(r)}}function HM(){if(OM)return TM;OM=1;var e=SS(),t=IM(),n=MM?SM:(MM=1,SM=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}),r=Object.prototype.hasOwnProperty;return TM=function(i){if(!e(i))return n(i);var o=t(i),a=[];for(var s in i)("constructor"!=s||!o&&r.call(i,s))&&a.push(s);return a}}function VM(){if(NM)return CM;NM=1;var e=LM(),t=HM(),n=jM();return CM=function(r){return n(r)?e(r,!0):t(r)}}var UM,WM,GM,$M,qM,YM,XM,KM,QM,ZM,JM,eT,tT,nT,rT,iT,oT,aT,sT,lT,uT,cT,dT,hT,fT,pT,gT,mT,yT,vT,bT,wT,xT,ET,kT,ST,MT,TT,OT,CT,NT,PT,AT,RT,_T,DT,LT,IT,zT,FT,jT,BT,HT,VT,UT,WT,GT,$T,qT,YT,XT,KT,QT,ZT,JT,eO,tO,nO,rO,iO,oO,aO,sO,lO,uO,cO,dO,hO,fO,pO,gO,mO,yO,vO,bO,wO,xO,EO,kO,SO,MO,TO,OO,CO,NO,PO,AO,RO,_O,DO,LO,IO,zO,FO,jO,BO,HO,VO,UO,WO,GO,$O,qO,YO,XO,KO,QO,ZO,JO,eC,tC,nC,rC,iC,oC,aC,sC,lC,uC,cC,dC,hC,fC,pC,gC,mC,yC,vC,bC,wC,xC,EC,kC,SC,MC,TC,OC,CC,NC,PC,AC,RC,_C,DC,LC,IC,zC,FC,jC,BC,HC,VC,UC,WC,GC,$C,qC,YC,XC,KC,QC,ZC,JC,eN,tN,nN,rN,iN,oN,aN,sN,lN,uN,cN,dN,hN,fN,pN,gN,mN,yN,vN,bN,wN,xN,EN,kN,SN,MN,TN,ON,CN,NN,PN,AN,RN,_N,DN,LN,IN,zN,FN,jN,BN,HN,VN,UN,WN,GN,$N,qN,YN,XN,KN,QN,ZN,JN,eP,tP,nP,rP,iP,oP,aP,sP,lP,uP,cP,dP,hP,fP,pP,gP,mP,yP,vP,bP,wP,xP,EP,kP,SP,MP,TP,OP,CP,NP,PP,AP,RP,_P,DP,LP,IP,zP,FP,jP,BP,HP,VP,UP,WP,GP,$P,qP,YP,XP,KP,QP,ZP,JP={exports:{}};function eA(){return UM||(UM=1,function(e,t){var n=xS(),r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,o=i&&i.exports===r?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}}(JP,JP.exports)),JP.exports}function tA(){if(GM)return WM;return GM=1,WM=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},WM}function nA(){if(qM)return $M;return qM=1,$M=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o},$M}function rA(){if(XM)return YM;return XM=1,YM=function(){return[]}}function iA(){if(QM)return KM;QM=1;var e=nA(),t=rA(),n=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols;return KM=r?function(t){return null==t?[]:(t=Object(t),e(r(t),function(e){return n.call(t,e)}))}:t}function oA(){if(tT)return eT;return tT=1,eT=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},eT}function aA(){if(rT)return nT;rT=1;var e=zM()(Object.getPrototypeOf,Object);return nT=e}function sA(){if(oT)return iT;oT=1;var e=oA(),t=aA(),n=iA(),r=rA(),i=Object.getOwnPropertySymbols;return iT=i?function(r){for(var i=[];r;)e(i,n(r)),r=t(r);return i}:r}function lA(){if(uT)return lT;uT=1;var e=oA(),t=VS();return lT=function(n,r,i){var o=r(n);return t(n)?o:e(o,i(n))}}function uA(){if(dT)return cT;dT=1;var e=lA(),t=iA(),n=BM();return cT=function(r){return e(r,n,t)}}function cA(){if(bT)return vT;bT=1;var e=CS()(xS(),"Set");return vT=e}function dA(){if(kT)return ET;kT=1;var e=function(){if(gT)return pT;gT=1;var e=CS()(xS(),"DataView");return pT=e}(),t=NS(),n=function(){if(yT)return mT;yT=1;var e=CS()(xS(),"Promise");return mT=e}(),r=cA(),i=function(){if(xT)return wT;xT=1;var e=CS()(xS(),"WeakMap");return wT=e}(),o=kS(),a=OS(),s="[object Map]",l="[object Promise]",u="[object Set]",c="[object WeakMap]",d="[object DataView]",h=a(e),f=a(t),p=a(n),g=a(r),m=a(i),y=o;return(e&&y(new e(new ArrayBuffer(1)))!=d||t&&y(new t)!=s||n&&y(n.resolve())!=l||r&&y(new r)!=u||i&&y(new i)!=c)&&(y=function(e){var t=o(e),n="[object Object]"==t?e.constructor:void 0,r=n?a(n):"";if(r)switch(r){case h:return d;case f:return s;case p:return l;case g:return u;case m:return c}return t}),ET=y}function hA(){if(OT)return TT;OT=1;var e=xS().Uint8Array;return TT=e}function fA(){if(NT)return CT;NT=1;var e=hA();return CT=function(t){var n=new t.constructor(t.byteLength);return new e(n).set(new e(t)),n}}function pA(){if(zT)return IT;zT=1;var e=fA();return IT=function(t,n){var r=n?e(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}}function gA(){if(jT)return FT;jT=1;var e=fA(),t=function(){if(AT)return PT;AT=1;var e=fA();return PT=function(t,n){var r=n?e(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}}(),n=function(){if(_T)return RT;_T=1;var e=/\w*$/;return RT=function(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}}(),r=function(){if(LT)return DT;LT=1;var e=ES(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;return DT=function(e){return n?Object(n.call(e)):{}}}(),i=pA();return FT=function(o,a,s){var l=o.constructor;switch(a){case"[object ArrayBuffer]":return e(o);case"[object Boolean]":case"[object Date]":return new l(+o);case"[object DataView]":return t(o,s);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return i(o,s);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(o);case"[object RegExp]":return n(o);case"[object Symbol]":return r(o)}}}function mA(){if(HT)return BT;HT=1;var e=SS(),t=Object.create,n=function(){function n(){}return function(r){if(!e(r))return{};if(t)return t(r);n.prototype=r;var i=new n;return n.prototype=void 0,i}}();return BT=n}function yA(){if(UT)return VT;UT=1;var e=mA(),t=aA(),n=IM();return VT=function(r){return"function"!=typeof r.constructor||n(r)?{}:e(t(r))}}function vA(){if(qT)return $T;qT=1;var e=function(){if(GT)return WT;GT=1;var e=dA(),t=BS();return WT=function(n){return t(n)&&"[object Map]"==e(n)}}(),t=iM(),n=_M(),r=n&&n.isMap,i=r?t(r):e;return $T=i}function bA(){if(QT)return KT;QT=1;var e=function(){if(XT)return YT;XT=1;var e=dA(),t=BS();return YT=function(n){return t(n)&&"[object Set]"==e(n)}}(),t=iM(),n=_M(),r=n&&n.isSet,i=r?t(r):e;return KT=i}function wA(){if(JT)return ZT;JT=1;var e=DS(),t=LS(),n=FS(),r=function(){if(kM)return EM;kM=1;var e=jS(),t=BM();return EM=function(n,r){return n&&e(r,t(r),n)}}(),i=function(){if(AM)return PM;AM=1;var e=jS(),t=VM();return PM=function(n,r){return n&&e(r,t(r),n)}}(),o=eA(),a=tA(),s=function(){if(JM)return ZM;JM=1;var e=jS(),t=iA();return ZM=function(n,r){return e(n,t(n),r)}}(),l=function(){if(sT)return aT;sT=1;var e=jS(),t=sA();return aT=function(n,r){return e(n,t(n),r)}}(),u=uA(),c=function(){if(fT)return hT;fT=1;var e=lA(),t=sA(),n=VM();return hT=function(r){return e(r,n,t)}}(),d=dA(),h=function(){if(MT)return ST;MT=1;var e=Object.prototype.hasOwnProperty;return ST=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&e.call(t,"index")&&(r.index=t.index,r.input=t.input),r},ST}(),f=gA(),p=yA(),g=VS(),m=tM(),y=vA(),v=SS(),b=bA(),w=BM(),x=VM(),E="[object Arguments]",k="[object Function]",S="[object Object]",M={};return M[E]=M["[object Array]"]=M["[object ArrayBuffer]"]=M["[object DataView]"]=M["[object Boolean]"]=M["[object Date]"]=M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Map]"]=M["[object Number]"]=M[S]=M["[object RegExp]"]=M["[object Set]"]=M["[object String]"]=M["[object Symbol]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M["[object Error]"]=M[k]=M["[object WeakMap]"]=!1,ZT=function T(O,C,N,P,A,R){var _,D=1&C,L=2&C,I=4&C;if(N&&(_=A?N(O,P,A,R):N(O)),void 0!==_)return _;if(!v(O))return O;var z=g(O);if(z){if(_=h(O),!D)return a(O,_)}else{var F=d(O),j=F==k||"[object GeneratorFunction]"==F;if(m(O))return o(O,D);if(F==S||F==E||j&&!A){if(_=L||j?{}:p(O),!D)return L?l(O,i(_,O)):s(O,r(_,O))}else{if(!M[F])return A?O:{};_=f(O,F,D)}}R||(R=new e);var B=R.get(O);if(B)return B;R.set(O,_),b(O)?O.forEach(function(e){_.add(T(e,C,N,e,O,R))}):y(O)&&O.forEach(function(e,t){_.set(t,T(e,C,N,t,O,R))});var H=z?void 0:(I?L?c:u:L?x:w)(O);return t(H||O,function(e,t){H&&(e=O[t=e]),n(_,t,T(e,C,N,t,O,R))}),_},ZT}function xA(){if(tO)return eO;tO=1;var e=wA();return eO=function(t){return e(t,4)}}function EA(){if(rO)return nO;return rO=1,nO=function(e){return function(){return e}}}function kA(){if(sO)return aO;sO=1;var e=(oO||(oO=1,iO=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}),iO),t=e();return aO=t}function SA(){if(uO)return lO;uO=1;var e=kA(),t=BM();return lO=function(n,r){return n&&e(n,r,t)}}function MA(){if(fO)return hO;fO=1;var e=SA(),t=function(){if(dO)return cO;dO=1;var e=jM();return cO=function(t,n){return function(r,i){if(null==r)return r;if(!e(r))return t(r,i);for(var o=r.length,a=n?o:-1,s=Object(r);(n?a--:++a<o)&&!1!==i(s[a],a,s););return r}},cO}(),n=t(e);return hO=n}function TA(){if(gO)return pO;return gO=1,pO=function(e){return e}}function OA(){if(yO)return mO;yO=1;var e=TA();return mO=function(t){return"function"==typeof t?t:e}}function CA(){if(bO)return vO;bO=1;var e=LS(),t=MA(),n=OA(),r=VS();return vO=function(i,o){return(r(i)?e:t)(i,n(o))}}function NA(){return xO?wO:(xO=1,wO=CA())}function PA(){if(NO)return CO;NO=1;var e=_S(),t=MO?SO:(MO=1,SO=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}),n=OO?TO:(OO=1,TO=function(e){return this.__data__.has(e)});function r(t){var n=-1,r=null==t?0:t.length;for(this.__data__=new e;++n<r;)this.add(t[n])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,CO=r}function AA(){if(_O)return RO;return _O=1,RO=function(e,t){return e.has(t)}}function RA(){if(LO)return DO;LO=1;var e=PA(),t=(AO||(AO=1,PO=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}),PO),n=AA();return DO=function(r,i,o,a,s,l){var u=1&o,c=r.length,d=i.length;if(c!=d&&!(u&&d>c))return!1;var h=l.get(r),f=l.get(i);if(h&&f)return h==i&&f==r;var p=-1,g=!0,m=2&o?new e:void 0;for(l.set(r,i),l.set(i,r);++p<c;){var y=r[p],v=i[p];if(a)var b=u?a(v,y,p,i,r,l):a(y,v,p,r,i,l);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!t(i,function(e,t){if(!n(m,t)&&(y===e||s(y,e,o,a,l)))return m.push(t)})){g=!1;break}}else if(y!==v&&!s(y,v,o,a,l)){g=!1;break}}return l.delete(r),l.delete(i),g},DO}function _A(){if(jO)return FO;return jO=1,FO=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},FO}function DA(){if(HO)return BO;HO=1;var e=ES(),t=hA(),n=yS(),r=RA(),i=(zO||(zO=1,IO=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}),IO),o=_A(),a=e?e.prototype:void 0,s=a?a.valueOf:void 0;return BO=function(e,a,l,u,c,d,h){switch(l){case"[object DataView]":if(e.byteLength!=a.byteLength||e.byteOffset!=a.byteOffset)return!1;e=e.buffer,a=a.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=a.byteLength||!d(new t(e),new t(a)));case"[object Boolean]":case"[object Date]":case"[object Number]":return n(+e,+a);case"[object Error]":return e.name==a.name&&e.message==a.message;case"[object RegExp]":case"[object String]":return e==a+"";case"[object Map]":var f=i;case"[object Set]":var p=1&u;if(f||(f=o),e.size!=a.size&&!p)return!1;var g=h.get(e);if(g)return g==a;u|=2,h.set(e,a);var m=r(f(e),f(a),u,c,d,h);return h.delete(e),m;case"[object Symbol]":if(s)return s.call(e)==s.call(a)}return!1}}function LA(){if(GO)return WO;GO=1;var e=DS(),t=RA(),n=DA(),r=function(){if(UO)return VO;UO=1;var e=uA(),t=Object.prototype.hasOwnProperty;return VO=function(n,r,i,o,a,s){var l=1&i,u=e(n),c=u.length;if(c!=e(r).length&&!l)return!1;for(var d=c;d--;){var h=u[d];if(!(l?h in r:t.call(r,h)))return!1}var f=s.get(n),p=s.get(r);if(f&&p)return f==r&&p==n;var g=!0;s.set(n,r),s.set(r,n);for(var m=l;++d<c;){var y=n[h=u[d]],v=r[h];if(o)var b=l?o(v,y,h,r,n,s):o(y,v,h,n,r,s);if(!(void 0===b?y===v||a(y,v,i,o,s):b)){g=!1;break}m||(m="constructor"==h)}if(g&&!m){var w=n.constructor,x=r.constructor;w==x||!("constructor"in n)||!("constructor"in r)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(g=!1)}return s.delete(n),s.delete(r),g},VO}(),i=dA(),o=VS(),a=tM(),s=DM(),l="[object Arguments]",u="[object Array]",c="[object Object]",d=Object.prototype.hasOwnProperty;return WO=function(h,f,p,g,m,y){var v=o(h),b=o(f),w=v?u:i(h),x=b?u:i(f),E=(w=w==l?c:w)==c,k=(x=x==l?c:x)==c,S=w==x;if(S&&a(h)){if(!a(f))return!1;v=!0,E=!1}if(S&&!E)return y||(y=new e),v||s(h)?t(h,f,p,g,m,y):n(h,f,w,p,g,m,y);if(!(1&p)){var M=E&&d.call(h,"__wrapped__"),T=k&&d.call(f,"__wrapped__");if(M||T){var O=M?h.value():h,C=T?f.value():f;return y||(y=new e),m(O,C,p,g,y)}}return!!S&&(y||(y=new e),r(h,f,p,g,m,y))}}function IA(){if(qO)return $O;qO=1;var e=LA(),t=BS();return $O=function n(r,i,o,a,s){return r===i||(null==r||null==i||!t(r)&&!t(i)?r!=r&&i!=i:e(r,i,o,a,n,s))},$O}function zA(){if(QO)return KO;QO=1;var e=SS();return KO=function(t){return t==t&&!e(t)}}function FA(){if(tC)return eC;return tC=1,eC=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}}function jA(){if(rC)return nC;rC=1;var e=function(){if(XO)return YO;XO=1;var e=DS(),t=IA();return YO=function(n,r,i,o){var a=i.length,s=a,l=!o;if(null==n)return!s;for(n=Object(n);a--;){var u=i[a];if(l&&u[2]?u[1]!==n[u[0]]:!(u[0]in n))return!1}for(;++a<s;){var c=(u=i[a])[0],d=n[c],h=u[1];if(l&&u[2]){if(void 0===d&&!(c in n))return!1}else{var f=new e;if(o)var p=o(d,h,c,n,r,f);if(!(void 0===p?t(h,d,3,o,f):p))return!1}}return!0},YO}(),t=function(){if(JO)return ZO;JO=1;var e=zA(),t=BM();return ZO=function(n){for(var r=t(n),i=r.length;i--;){var o=r[i],a=n[o];r[i]=[o,a,e(a)]}return r},ZO}(),n=FA();return nC=function(r){var i=t(r);return 1==i.length&&i[0][2]?n(i[0][0],i[0][1]):function(t){return t===r||e(t,r,i)}}}function BA(){if(oC)return iC;oC=1;var e=kS(),t=BS();return iC=function(n){return"symbol"==typeof n||t(n)&&"[object Symbol]"==e(n)}}function HA(){if(sC)return aC;sC=1;var e=VS(),t=BA(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;return aC=function(i,o){if(e(i))return!1;var a=typeof i;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=i&&!t(i))||(r.test(i)||!n.test(i)||null!=o&&i in Object(o))}}function VA(){if(dC)return cC;dC=1;var e=function(){if(uC)return lC;uC=1;var e=_S();function t(n,r){if("function"!=typeof n||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var i=function(){var e=arguments,t=r?r.apply(this,e):e[0],o=i.cache;if(o.has(t))return o.get(t);var a=n.apply(this,e);return i.cache=o.set(t,a)||o,a};return i.cache=new(t.Cache||e),i}return t.Cache=e,lC=t}();return cC=function(t){var n=e(t,function(e){return 500===r.size&&r.clear(),e}),r=n.cache;return n}}function UA(){if(gC)return pC;return gC=1,pC=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},pC}function WA(){if(bC)return vC;bC=1;var e=function(){if(yC)return mC;yC=1;var e=ES(),t=UA(),n=VS(),r=BA(),i=e?e.prototype:void 0,o=i?i.toString:void 0;return mC=function e(i){if("string"==typeof i)return i;if(n(i))return t(i,e)+"";if(r(i))return o?o.call(i):"";var a=i+"";return"0"==a&&1/i==-1/0?"-0":a},mC}();return vC=function(t){return null==t?"":e(t)}}function GA(){if(xC)return wC;xC=1;var e=VS(),t=HA(),n=function(){if(fC)return hC;fC=1;var e=VA(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(e){var r=[];return 46===e.charCodeAt(0)&&r.push(""),e.replace(t,function(e,t,i,o){r.push(i?o.replace(n,"$1"):t||e)}),r});return hC=r}(),r=WA();return wC=function(i,o){return e(i)?i:t(i,o)?[i]:n(r(i))}}function $A(){if(kC)return EC;kC=1;var e=BA();return EC=function(t){if("string"==typeof t||e(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}}function qA(){if(MC)return SC;MC=1;var e=GA(),t=$A();return SC=function(n,r){for(var i=0,o=(r=e(r,n)).length;null!=n&&i<o;)n=n[t(r[i++])];return i&&i==o?n:void 0},SC}function YA(){if(AC)return PC;AC=1;var e=GA(),t=HS(),n=VS(),r=nM(),i=rM(),o=$A();return PC=function(a,s,l){for(var u=-1,c=(s=e(s,a)).length,d=!1;++u<c;){var h=o(s[u]);if(!(d=null!=a&&l(a,h)))break;a=a[h]}return d||++u!=c?d:!!(c=null==a?0:a.length)&&i(c)&&r(h,c)&&(n(a)||t(a))},PC}function XA(){if(_C)return RC;_C=1;var e=NC?CC:(NC=1,CC=function(e,t){return null!=e&&t in Object(e)}),t=YA();return RC=function(n,r){return null!=n&&t(n,r,e)}}function KA(){if(LC)return DC;LC=1;var e=IA(),t=function(){if(OC)return TC;OC=1;var e=qA();return TC=function(t,n,r){var i=null==t?void 0:e(t,n);return void 0===i?r:i}}(),n=XA(),r=HA(),i=zA(),o=FA(),a=$A();return DC=function(s,l){return r(s)&&i(l)?o(a(s),l):function(r){var i=t(r,s);return void 0===i&&i===l?n(r,s):e(l,i,3)}}}function QA(){if(zC)return IC;return zC=1,IC=function(e){return function(t){return null==t?void 0:t[e]}}}function ZA(){if(HC)return BC;HC=1;var e=QA(),t=function(){if(jC)return FC;jC=1;var e=qA();return FC=function(t){return function(n){return e(n,t)}}}(),n=HA(),r=$A();return BC=function(i){return n(i)?e(r(i)):t(i)}}function JA(){if(UC)return VC;UC=1;var e=jA(),t=KA(),n=TA(),r=VS(),i=ZA();return VC=function(o){return"function"==typeof o?o:null==o?n:"object"==typeof o?r(o)?t(o[0],o[1]):e(o):i(o)}}function eR(){if(GC)return WC;GC=1;var e=nA(),t=function(){if(kO)return EO;kO=1;var e=MA();return EO=function(t,n){var r=[];return e(t,function(e,t,i){n(e,t,i)&&r.push(e)}),r},EO}(),n=JA(),r=VS();return WC=function(i,o){return(r(i)?e:t)(i,n(o,3))}}function tR(){if(XC)return YC;XC=1;var e=function(){if(qC)return $C;qC=1;var e=Object.prototype.hasOwnProperty;return $C=function(t,n){return null!=t&&e.call(t,n)}}(),t=YA();return YC=function(n,r){return null!=n&&t(n,r,e)}}function nR(){if(QC)return KC;QC=1;var e=FM(),t=dA(),n=HS(),r=VS(),i=jM(),o=tM(),a=IM(),s=DM(),l=Object.prototype.hasOwnProperty;return KC=function(u){if(null==u)return!0;if(i(u)&&(r(u)||"string"==typeof u||"function"==typeof u.splice||o(u)||s(u)||n(u)))return!u.length;var c=t(u);if("[object Map]"==c||"[object Set]"==c)return!u.size;if(a(u))return!e(u).length;for(var d in u)if(l.call(u,d))return!1;return!0}}function rR(){if(JC)return ZC;return JC=1,ZC=function(e){return void 0===e}}function iR(){if(tN)return eN;tN=1;var e=MA(),t=jM();return eN=function(n,r){var i=-1,o=t(n)?Array(n.length):[];return e(n,function(e,t,n){o[++i]=r(e,t,n)}),o},eN}function oR(){if(rN)return nN;rN=1;var e=UA(),t=JA(),n=iR(),r=VS();return nN=function(i,o){return(r(i)?e:n)(i,t(o,3))}}function aR(){if(uN)return lN;uN=1;var e=(oN||(oN=1,iN=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}),iN),t=MA(),n=JA(),r=(sN||(sN=1,aN=function(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}),aN),i=VS();return lN=function(o,a,s){var l=i(o)?e:r,u=arguments.length<3;return l(o,n(a,4),s,u,t)},lN}function sR(){if(bN)return vN;bN=1;var e=function(){if(fN)return hN;fN=1;var e=QA()("length");return hN=e}(),t=function(){if(gN)return pN;gN=1;var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");return pN=function(t){return e.test(t)}}(),n=function(){if(yN)return mN;yN=1;var e="\\ud800-\\udfff",t="["+e+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^"+e+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+n+"|"+r+")?",l="[\\ufe0e\\ufe0f]?",u=l+s+"(?:\\u200d(?:"+[i,o,a].join("|")+")"+l+s+")*",c="(?:"+[i+n+"?",n,o,a,t].join("|")+")",d=RegExp(r+"(?="+r+")|"+c+u,"g");return mN=function(e){for(var t=d.lastIndex=0;d.test(e);)++t;return t}}();return vN=function(r){return t(r)?n(r):e(r)}}function lR(){if(xN)return wN;xN=1;var e=FM(),t=dA(),n=jM(),r=function(){if(dN)return cN;dN=1;var e=kS(),t=VS(),n=BS();return cN=function(r){return"string"==typeof r||!t(r)&&n(r)&&"[object String]"==e(r)}}(),i=sR();return wN=function(o){if(null==o)return 0;if(n(o))return r(o)?i(o):o.length;var a=t(o);return"[object Map]"==a||"[object Set]"==a?o.size:e(o).length}}function uR(){if(kN)return EN;kN=1;var e=LS(),t=mA(),n=SA(),r=JA(),i=aA(),o=VS(),a=tM(),s=MS(),l=SS(),u=DM();return EN=function(c,d,h){var f=o(c),p=f||a(c)||u(c);if(d=r(d,4),null==h){var g=c&&c.constructor;h=p?f?new g:[]:l(c)&&s(g)?t(i(c)):{}}return(p?e:n)(c,function(e,t,n){return d(h,e,t,n)}),h},EN}function cR(){if(ON)return TN;ON=1;var e=oA(),t=function(){if(MN)return SN;MN=1;var e=ES(),t=HS(),n=VS(),r=e?e.isConcatSpreadable:void 0;return SN=function(e){return n(e)||t(e)||!!(r&&e&&e[r])}}();return TN=function n(r,i,o,a,s){var l=-1,u=r.length;for(o||(o=t),s||(s=[]);++l<u;){var c=r[l];i>0&&o(c)?i>1?n(c,i-1,o,a,s):e(s,c):a||(s[s.length]=c)}return s},TN}function dR(){if(AN)return PN;AN=1;var e=NN?CN:(NN=1,CN=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}),t=Math.max;return PN=function(n,r,i){return r=t(void 0===r?n.length-1:r,0),function(){for(var o=arguments,a=-1,s=t(o.length-r,0),l=Array(s);++a<s;)l[a]=o[r+a];a=-1;for(var u=Array(r+1);++a<r;)u[a]=o[a];return u[r]=i(l),e(n,this,u)}},PN}function hR(){if(zN)return IN;zN=1;var e=function(){if(_N)return RN;_N=1;var e=EA(),t=IS(),n=TA();return RN=t?function(n,r){return t(n,"toString",{configurable:!0,enumerable:!1,value:e(r),writable:!0})}:n}(),t=function(){if(LN)return DN;LN=1;var e=Date.now;return DN=function(t){var n=0,r=0;return function(){var i=e(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}},DN}(),n=t(e);return IN=n}function fR(){if(jN)return FN;jN=1;var e=TA(),t=dR(),n=hR();return FN=function(r,i){return n(t(r,i,e),r+"")}}function pR(){if(HN)return BN;return HN=1,BN=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1},BN}function gR(){if(qN)return $N;qN=1;var e=pR(),t=UN?VN:(UN=1,VN=function(e){return e!=e}),n=(GN||(GN=1,WN=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}),WN);return $N=function(r,i,o){return i==i?n(r,i,o):e(r,t,o)}}function mR(){if(tP)return eP;tP=1;var e=cA(),t=JN?ZN:(JN=1,ZN=function(){}),n=_A(),r=e&&1/n(new e([,-0]))[1]==1/0?function(t){return new e(t)}:t;return eP=r}function yR(){if(rP)return nP;rP=1;var e=PA(),t=function(){if(XN)return YN;XN=1;var e=gR();return YN=function(t,n){return!(null==t||!t.length)&&e(t,n,0)>-1}}(),n=(QN||(QN=1,KN=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}),KN),r=AA(),i=mR(),o=_A();return nP=function(a,s,l){var u=-1,c=t,d=a.length,h=!0,f=[],p=f;if(l)h=!1,c=n;else if(d>=200){var g=s?null:i(a);if(g)return o(g);h=!1,c=r,p=new e}else p=s?[]:f;e:for(;++u<d;){var m=a[u],y=s?s(m):m;if(m=l||0!==m?m:0,h&&y==y){for(var v=p.length;v--;)if(p[v]===y)continue e;s&&p.push(y),f.push(m)}else c(p,y,l)||(p!==f&&p.push(y),f.push(m))}return f},nP}function vR(){if(oP)return iP;oP=1;var e=jM(),t=BS();return iP=function(n){return t(n)&&e(n)}}function bR(){if(sP)return aP;sP=1;var e=cR(),t=fR(),n=yR(),r=vR(),i=t(function(t){return n(e(t,1,r,!0))});return aP=i}function wR(){if(dP)return cP;dP=1;var e=function(){if(uP)return lP;uP=1;var e=UA();return lP=function(t,n){return e(n,function(e){return t[e]})}}(),t=BM();return cP=function(n){return null==n?[]:e(n,t(n))}}function xR(){if(fP)return hP;var e;fP=1;try{e={clone:xA(),constant:EA(),each:NA(),filter:eR(),has:tR(),isArray:VS(),isEmpty:nR(),isFunction:MS(),isUndefined:rR(),keys:BM(),map:oR(),reduce:aR(),size:lR(),transform:uR(),union:bR(),values:wR()}}catch(e){}return e||(e=window._),hP=e}function ER(){if(gP)return pP;gP=1;var e=xR();pP=n;var t="\0";function n(n){this._isDirected=!e.has(n,"directed")||n.directed,this._isMultigraph=!!e.has(n,"multigraph")&&n.multigraph,this._isCompound=!!e.has(n,"compound")&&n.compound,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[t]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function r(e,t){e[t]?e[t]++:e[t]=1}function i(e,t){--e[t]||delete e[t]}function o(t,n,r,i){var o=""+n,a=""+r;if(!t&&o>a){var s=o;o=a,a=s}return o+""+a+""+(e.isUndefined(i)?"\0":i)}function a(e,t){return o(e,t.v,t.w,t.name)}return n.prototype._nodeCount=0,n.prototype._edgeCount=0,n.prototype.isDirected=function(){return this._isDirected},n.prototype.isMultigraph=function(){return this._isMultigraph},n.prototype.isCompound=function(){return this._isCompound},n.prototype.setGraph=function(e){return this._label=e,this},n.prototype.graph=function(){return this._label},n.prototype.setDefaultNodeLabel=function(t){return e.isFunction(t)||(t=e.constant(t)),this._defaultNodeLabelFn=t,this},n.prototype.nodeCount=function(){return this._nodeCount},n.prototype.nodes=function(){return e.keys(this._nodes)},n.prototype.sources=function(){var t=this;return e.filter(this.nodes(),function(n){return e.isEmpty(t._in[n])})},n.prototype.sinks=function(){var t=this;return e.filter(this.nodes(),function(n){return e.isEmpty(t._out[n])})},n.prototype.setNodes=function(t,n){var r=arguments,i=this;return e.each(t,function(e){r.length>1?i.setNode(e,n):i.setNode(e)}),this},n.prototype.setNode=function(n,r){return e.has(this._nodes,n)?(arguments.length>1&&(this._nodes[n]=r),this):(this._nodes[n]=arguments.length>1?r:this._defaultNodeLabelFn(n),this._isCompound&&(this._parent[n]=t,this._children[n]={},this._children[t][n]=!0),this._in[n]={},this._preds[n]={},this._out[n]={},this._sucs[n]={},++this._nodeCount,this)},n.prototype.node=function(e){return this._nodes[e]},n.prototype.hasNode=function(t){return e.has(this._nodes,t)},n.prototype.removeNode=function(t){var n=this;if(e.has(this._nodes,t)){var r=function(e){n.removeEdge(n._edgeObjs[e])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],e.each(this.children(t),function(e){n.setParent(e)}),delete this._children[t]),e.each(e.keys(this._in[t]),r),delete this._in[t],delete this._preds[t],e.each(e.keys(this._out[t]),r),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},n.prototype.setParent=function(n,r){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(r))r=t;else{for(var i=r+="";!e.isUndefined(i);i=this.parent(i))if(i===n)throw new Error("Setting "+r+" as parent of "+n+" would create a cycle");this.setNode(r)}return this.setNode(n),this._removeFromParentsChildList(n),this._parent[n]=r,this._children[r][n]=!0,this},n.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},n.prototype.parent=function(e){if(this._isCompound){var n=this._parent[e];if(n!==t)return n}},n.prototype.children=function(n){if(e.isUndefined(n)&&(n=t),this._isCompound){var r=this._children[n];if(r)return e.keys(r)}else{if(n===t)return this.nodes();if(this.hasNode(n))return[]}},n.prototype.predecessors=function(t){var n=this._preds[t];if(n)return e.keys(n)},n.prototype.successors=function(t){var n=this._sucs[t];if(n)return e.keys(n)},n.prototype.neighbors=function(t){var n=this.predecessors(t);if(n)return e.union(n,this.successors(t))},n.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},n.prototype.filterNodes=function(t){var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph());var r=this;e.each(this._nodes,function(e,r){t(r)&&n.setNode(r,e)}),e.each(this._edgeObjs,function(e){n.hasNode(e.v)&&n.hasNode(e.w)&&n.setEdge(e,r.edge(e))});var i={};function o(e){var t=r.parent(e);return void 0===t||n.hasNode(t)?(i[e]=t,t):t in i?i[t]:o(t)}return this._isCompound&&e.each(n.nodes(),function(e){n.setParent(e,o(e))}),n},n.prototype.setDefaultEdgeLabel=function(t){return e.isFunction(t)||(t=e.constant(t)),this._defaultEdgeLabelFn=t,this},n.prototype.edgeCount=function(){return this._edgeCount},n.prototype.edges=function(){return e.values(this._edgeObjs)},n.prototype.setPath=function(t,n){var r=this,i=arguments;return e.reduce(t,function(e,t){return i.length>1?r.setEdge(e,t,n):r.setEdge(e,t),t}),this},n.prototype.setEdge=function(){var t,n,i,a,s=!1,l=arguments[0];"object"==typeof l&&null!==l&&"v"in l?(t=l.v,n=l.w,i=l.name,2===arguments.length&&(a=arguments[1],s=!0)):(t=l,n=arguments[1],i=arguments[3],arguments.length>2&&(a=arguments[2],s=!0)),t=""+t,n=""+n,e.isUndefined(i)||(i=""+i);var u=o(this._isDirected,t,n,i);if(e.has(this._edgeLabels,u))return s&&(this._edgeLabels[u]=a),this;if(!e.isUndefined(i)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(n),this._edgeLabels[u]=s?a:this._defaultEdgeLabelFn(t,n,i);var c=function(e,t,n,r){var i=""+t,o=""+n;if(!e&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};r&&(s.name=r);return s}(this._isDirected,t,n,i);return t=c.v,n=c.w,Object.freeze(c),this._edgeObjs[u]=c,r(this._preds[n],t),r(this._sucs[t],n),this._in[n][u]=c,this._out[t][u]=c,this._edgeCount++,this},n.prototype.edge=function(e,t,n){var r=1===arguments.length?a(this._isDirected,arguments[0]):o(this._isDirected,e,t,n);return this._edgeLabels[r]},n.prototype.hasEdge=function(t,n,r){var i=1===arguments.length?a(this._isDirected,arguments[0]):o(this._isDirected,t,n,r);return e.has(this._edgeLabels,i)},n.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?a(this._isDirected,arguments[0]):o(this._isDirected,e,t,n),s=this._edgeObjs[r];return s&&(e=s.v,t=s.w,delete this._edgeLabels[r],delete this._edgeObjs[r],i(this._preds[t],e),i(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},n.prototype.inEdges=function(t,n){var r=this._in[t];if(r){var i=e.values(r);return n?e.filter(i,function(e){return e.v===n}):i}},n.prototype.outEdges=function(t,n){var r=this._out[t];if(r){var i=e.values(r);return n?e.filter(i,function(e){return e.w===n}):i}},n.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))},pP}function kR(){return bP?vP:(bP=1,vP={Graph:ER(),version:yP?mP:(yP=1,mP="2.1.8")})}function SR(){if(xP)return wP;xP=1;var e=xR(),t=ER();function n(t){return e.map(t.nodes(),function(n){var r=t.node(n),i=t.parent(n),o={v:n};return e.isUndefined(r)||(o.value=r),e.isUndefined(i)||(o.parent=i),o})}function r(t){return e.map(t.edges(),function(n){var r=t.edge(n),i={v:n.v,w:n.w};return e.isUndefined(n.name)||(i.name=n.name),e.isUndefined(r)||(i.value=r),i})}return wP={write:function(t){var i={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:n(t),edges:r(t)};e.isUndefined(t.graph())||(i.value=e.clone(t.graph()));return i},read:function(n){var r=new t(n.options).setGraph(n.value);return e.each(n.nodes,function(e){r.setNode(e.v,e.value),e.parent&&r.setParent(e.v,e.parent)}),e.each(n.edges,function(e){r.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),r}}}function MR(){if(kP)return EP;kP=1;var e=xR();return EP=function(t){var n,r={},i=[];function o(i){e.has(r,i)||(r[i]=!0,n.push(i),e.each(t.successors(i),o),e.each(t.predecessors(i),o))}return e.each(t.nodes(),function(e){n=[],o(e),n.length&&i.push(n)}),i},EP}function TR(){if(MP)return SP;MP=1;var e=xR();function t(){this._arr=[],this._keyIndices={}}return SP=t,t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(e){return e.key})},t.prototype.has=function(t){return e.has(this._keyIndices,t)},t.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},t.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(t,n){var r=this._keyIndices;if(t=String(t),!e.has(r,t)){var i=this._arr,o=i.length;return r[t]=o,i.push({key:t,priority:n}),this._decrease(o),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},t.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},t.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,i=e;n<t.length&&(i=t[n].priority<t[i].priority?n:i,r<t.length&&(i=t[r].priority<t[i].priority?r:i),i!==e&&(this._swap(e,i),this._heapify(i)))},t.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},t.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,i=n[e],o=n[t];n[e]=o,n[t]=i,r[o.key]=e,r[i.key]=t},SP}function OR(){if(OP)return TP;OP=1;var e=xR(),t=TR();TP=function(e,r,i,o){return function(e,n,r,i){var o,a,s={},l=new t,u=function(e){var t=e.v!==o?e.v:e.w,n=s[t],i=r(e),u=a.distance+i;if(i<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+i);u<n.distance&&(n.distance=u,n.predecessor=o,l.decrease(t,u))};e.nodes().forEach(function(e){var t=e===n?0:Number.POSITIVE_INFINITY;s[e]={distance:t},l.add(e,t)});for(;l.size()>0&&(o=l.removeMin(),(a=s[o]).distance!==Number.POSITIVE_INFINITY);)i(o).forEach(u);return s}(e,String(r),i||n,o||function(t){return e.outEdges(t)})};var n=e.constant(1);return TP}function CR(){if(NP)return CP;NP=1;var e=OR(),t=xR();return CP=function(n,r,i){return t.transform(n.nodes(),function(t,o){t[o]=e(n,o,r,i)},{})}}function NR(){if(AP)return PP;AP=1;var e=xR();return PP=function(t){var n=0,r=[],i={},o=[];function a(s){var l=i[s]={onStack:!0,lowlink:n,index:n++};if(r.push(s),t.successors(s).forEach(function(t){e.has(i,t)?i[t].onStack&&(l.lowlink=Math.min(l.lowlink,i[t].index)):(a(t),l.lowlink=Math.min(l.lowlink,i[t].lowlink))}),l.lowlink===l.index){var u,c=[];do{u=r.pop(),i[u].onStack=!1,c.push(u)}while(s!==u);o.push(c)}}return t.nodes().forEach(function(t){e.has(i,t)||a(t)}),o},PP}function PR(){if(_P)return RP;_P=1;var e=xR(),t=NR();return RP=function(n){return e.filter(t(n),function(e){return e.length>1||1===e.length&&n.hasEdge(e[0],e[0])})}}function AR(){if(LP)return DP;LP=1;var e=xR();DP=function(e,n,r){return function(e,t,n){var r={},i=e.nodes();return i.forEach(function(e){r[e]={},r[e][e]={distance:0},i.forEach(function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})}),n(e).forEach(function(n){var i=n.v===e?n.w:n.v,o=t(n);r[e][i]={distance:o,predecessor:e}})}),i.forEach(function(e){var t=r[e];i.forEach(function(n){var o=r[n];i.forEach(function(n){var r=o[e],i=t[n],a=o[n],s=r.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)})})}),r}(e,n||t,r||function(t){return e.outEdges(t)})};var t=e.constant(1);return DP}function RR(){if(zP)return IP;zP=1;var e=xR();function t(t){var r={},i={},o=[];if(e.each(t.sinks(),function a(s){if(e.has(i,s))throw new n;e.has(r,s)||(i[s]=!0,r[s]=!0,e.each(t.predecessors(s),a),delete i[s],o.push(s))}),e.size(r)!==t.nodeCount())throw new n;return o}function n(){}return IP=t,t.CycleException=n,n.prototype=new Error,IP}function _R(){if(jP)return FP;jP=1;var e=RR();return FP=function(t){try{e(t)}catch(t){if(t instanceof e.CycleException)return!1;throw t}return!0}}function DR(){if(HP)return BP;HP=1;var e=xR();function t(n,r,i,o,a,s){e.has(o,r)||(o[r]=!0,i||s.push(r),e.each(a(r),function(e){t(n,e,i,o,a,s)}),i&&s.push(r))}return BP=function(n,r,i){e.isArray(r)||(r=[r]);var o=(n.isDirected()?n.successors:n.neighbors).bind(n),a=[],s={};return e.each(r,function(e){if(!n.hasNode(e))throw new Error("Graph does not have node: "+e);t(n,e,"post"===i,s,o,a)}),a},BP}function LR(){if(UP)return VP;UP=1;var e=DR();return VP=function(t,n){return e(t,n,"post")}}function IR(){if(GP)return WP;GP=1;var e=DR();return WP=function(t,n){return e(t,n,"pre")}}function zR(){if(qP)return $P;qP=1;var e=xR(),t=ER(),n=TR();return $P=function(r,i){var o,a=new t,s={},l=new n;function u(e){var t=e.v===o?e.w:e.v,n=l.priority(t);if(void 0!==n){var r=i(e);r<n&&(s[t]=o,l.decrease(t,r))}}if(0===r.nodeCount())return a;e.each(r.nodes(),function(e){l.add(e,Number.POSITIVE_INFINITY),a.setNode(e)}),l.decrease(r.nodes()[0],0);var c=!1;for(;l.size()>0;){if(o=l.removeMin(),e.has(s,o))a.setEdge(o,s[o]);else{if(c)throw new Error("Input graph is not connected: "+r);c=!0}r.nodeEdges(o).forEach(u)}return a}}try{ZP=function(){if(QP)return KP;QP=1;var e=kR();return KP={Graph:e.Graph,json:SR(),alg:XP?YP:(XP=1,YP={components:MR(),dijkstra:OR(),dijkstraAll:CR(),findCycles:PR(),floydWarshall:AR(),isAcyclic:_R(),postorder:LR(),preorder:IR(),prim:zR(),tarjan:NR(),topsort:RR()}),version:e.version}}()}catch(e){}ZP||(ZP=window.graphlib);var FR,jR,BR,HR,VR,UR,WR,GR,$R,qR,YR,XR,KR,QR,ZR,JR,e_,t_,n_,r_,i_,o_,a_,s_,l_,u_,c_,d_,h_,f_,p_,g_,m_,y_,v_,b_,w_,x_,E_,k_,S_,M_,T_,O_,C_,N_,P_,A_,R_,__,D_,L_,I_,z_,F_,j_,B_,H_,V_,U_,W_,G_,$_,q_,Y_,X_,K_,Q_,Z_,J_,eD,tD,nD,rD,iD,oD,aD,sD,lD,uD,cD,dD,hD,fD,pD,gD,mD,yD,vD,bD,wD,xD,ED,kD=ZP;function SD(){if(HR)return BR;HR=1;var e=yS(),t=jM(),n=nM(),r=SS();return BR=function(i,o,a){if(!r(a))return!1;var s=typeof o;return!!("number"==s?t(a)&&n(o,a.length):"string"==s&&o in a)&&e(a[o],i)},BR}function MD(){if(XR)return YR;XR=1;var e=function(){if(qR)return $R;qR=1;var e=/\s/;return $R=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n},$R}(),t=/^\s+/;return YR=function(n){return n?n.slice(0,e(n)+1).replace(t,""):n}}function TD(){if(JR)return ZR;JR=1;var e=function(){if(QR)return KR;QR=1;var e=MD(),t=SS(),n=BA(),r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;return KR=function(s){if("number"==typeof s)return s;if(n(s))return NaN;if(t(s)){var l="function"==typeof s.valueOf?s.valueOf():s;s=t(l)?l+"":l}if("string"!=typeof s)return 0===s?s:+s;s=e(s);var u=i.test(s);return u||o.test(s)?a(s.slice(2),u?2:8):r.test(s)?NaN:+s}}(),t=1/0;return ZR=function(n){return n?(n=e(n))===t||n===-1/0?17976931348623157e292*(n<0?-1:1):n==n?n:0:0===n?n:0}}function OD(){if(r_)return n_;r_=1;var e=pR(),t=JA(),n=function(){if(t_)return e_;t_=1;var e=TD();return e_=function(t){var n=e(t),r=n%1;return n==n?r?n-r:n:0}}(),r=Math.max;return n_=function(i,o,a){var s=null==i?0:i.length;if(!s)return-1;var l=null==a?0:n(a);return l<0&&(l=r(s+l,0)),e(i,t(o,3),l)},n_}function CD(){if(s_)return a_;s_=1;var e=cR();return a_=function(t){return(null==t?0:t.length)?e(t,1):[]}}function ND(){if(g_)return p_;g_=1;var e=BA();return p_=function(t,n,r){for(var i=-1,o=t.length;++i<o;){var a=t[i],s=n(a);if(null!=s&&(void 0===l?s==s&&!e(s):r(s,l)))var l=s,u=a}return u},p_}function PD(){if(x_)return w_;x_=1;var e=zS(),t=yS();return w_=function(n,r,i){(void 0!==i&&!t(n[r],i)||void 0===i&&!(r in n))&&e(n,r,i)}}function AD(){if(M_)return S_;return M_=1,S_=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}}function RD(){if(N_)return C_;N_=1;var e=PD(),t=eA(),n=pA(),r=tA(),i=yA(),o=HS(),a=VS(),s=vR(),l=tM(),u=MS(),c=SS(),d=function(){if(k_)return E_;k_=1;var e=kS(),t=aA(),n=BS(),r=Function.prototype,i=Object.prototype,o=r.toString,a=i.hasOwnProperty,s=o.call(Object);return E_=function(r){if(!n(r)||"[object Object]"!=e(r))return!1;var i=t(r);if(null===i)return!0;var l=a.call(i,"constructor")&&i.constructor;return"function"==typeof l&&l instanceof l&&o.call(l)==s}}(),h=DM(),f=AD(),p=function(){if(O_)return T_;O_=1;var e=jS(),t=VM();return T_=function(n){return e(n,t(n))}}();return C_=function(g,m,y,v,b,w,x){var E=f(g,y),k=f(m,y),S=x.get(k);if(S)e(g,y,S);else{var M=w?w(E,k,y+"",g,m,x):void 0,T=void 0===M;if(T){var O=a(k),C=!O&&l(k),N=!O&&!C&&h(k);M=k,O||C||N?a(E)?M=E:s(E)?M=r(E):C?(T=!1,M=t(k,!0)):N?(T=!1,M=n(k,!0)):M=[]:d(k)||o(k)?(M=E,o(E)?M=p(E):c(E)&&!u(E)||(M=i(k))):T=!1}T&&(x.set(k,M),b(M,k,v,w,x),x.delete(k)),e(g,y,M)}}}function _D(){if(z_)return I_;return z_=1,I_=function(e,t){return e<t}}function DD(){if(q_)return $_;q_=1;var e=qA(),t=function(){if(G_)return W_;G_=1;var e=FS(),t=GA(),n=nM(),r=SS(),i=$A();return W_=function(o,a,s,l){if(!r(o))return o;for(var u=-1,c=(a=t(a,o)).length,d=c-1,h=o;null!=h&&++u<c;){var f=i(a[u]),p=s;if("__proto__"===f||"constructor"===f||"prototype"===f)return o;if(u!=d){var g=h[f];void 0===(p=l?l(g,f,h):void 0)&&(p=r(g)?g:n(a[u+1])?[]:{})}e(h,f,p),h=h[f]}return o},W_}(),n=GA();return $_=function(r,i,o){for(var a=-1,s=i.length,l={};++a<s;){var u=i[a],c=e(r,u);o(c,u)&&t(l,n(u,r),c)}return l},$_}function LD(){if(rD)return nD;rD=1;var e=function(){if(tD)return eD;tD=1;var e=Math.ceil,t=Math.max;return eD=function(n,r,i,o){for(var a=-1,s=t(e((r-n)/(i||1)),0),l=Array(s);s--;)l[o?s:++a]=n,n+=i;return l},eD}(),t=SD(),n=TD();return nD=function(r){return function(i,o,a){return a&&"number"!=typeof a&&t(i,o,a)&&(o=a=void 0),i=n(i),void 0===o?(o=i,i=0):o=n(o),a=void 0===a?i<o?1:-1:n(a),e(i,o,a,r)}},nD}function ID(){if(dD)return cD;dD=1;var e=function(){if(uD)return lD;uD=1;var e=BA();return lD=function(t,n){if(t!==n){var r=void 0!==t,i=null===t,o=t==t,a=e(t),s=void 0!==n,l=null===n,u=n==n,c=e(n);if(!l&&!c&&!a&&t>n||a&&s&&u&&!l&&!c||i&&s&&u||!r&&u||!o)return 1;if(!i&&!a&&!c&&t<n||c&&r&&o&&!i&&!a||l&&r&&o||!s&&o||!u)return-1}return 0}}();return cD=function(t,n,r){for(var i=-1,o=t.criteria,a=n.criteria,s=o.length,l=r.length;++i<s;){var u=e(o[i],a[i]);if(u)return i>=l?u:u*("desc"==r[i]?-1:1)}return t.index-n.index},cD}function zD(){if(fD)return hD;fD=1;var e=UA(),t=qA(),n=JA(),r=iR(),i=(sD||(sD=1,aD=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}),aD),o=iM(),a=ID(),s=TA(),l=VS();return hD=function(u,c,d){c=c.length?e(c,function(e){return l(e)?function(n){return t(n,1===e.length?e[0]:e)}:e}):[s];var h=-1;c=e(c,o(n));var f=r(u,function(t,n,r){return{criteria:e(c,function(e){return e(t)}),index:++h,value:t}});return i(f,function(e,t){return a(e,t,d)})},hD}try{ED={cloneDeep:function(){if(jR)return FR;jR=1;var e=wA();return FR=function(t){return e(t,5)}}(),constant:EA(),defaults:function(){if(UR)return VR;UR=1;var e=fR(),t=yS(),n=SD(),r=VM(),i=Object.prototype,o=i.hasOwnProperty,a=e(function(e,a){e=Object(e);var s=-1,l=a.length,u=l>2?a[2]:void 0;for(u&&n(a[0],a[1],u)&&(l=1);++s<l;)for(var c=a[s],d=r(c),h=-1,f=d.length;++h<f;){var p=d[h],g=e[p];(void 0===g||t(g,i[p])&&!o.call(e,p))&&(e[p]=c[p])}return e});return VR=a}(),each:NA(),filter:eR(),find:function(){if(o_)return i_;o_=1;var e=function(){if(GR)return WR;GR=1;var e=JA(),t=jM(),n=BM();return WR=function(r){return function(i,o,a){var s=Object(i);if(!t(i)){var l=e(o,3);i=n(i),o=function(e){return l(s[e],e,s)}}var u=r(i,o,a);return u>-1?s[l?i[u]:u]:void 0}},WR}(),t=e(OD());return i_=t}(),flatten:CD(),forEach:CA(),forIn:function(){if(u_)return l_;u_=1;var e=kA(),t=OA(),n=VM();return l_=function(r,i){return null==r?r:e(r,t(i),n)}}(),has:tR(),isUndefined:rR(),last:(d_||(d_=1,c_=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}),c_),map:oR(),mapValues:function(){if(f_)return h_;f_=1;var e=zS(),t=SA(),n=JA();return h_=function(r,i){var o={};return i=n(i,3),t(r,function(t,n,r){e(o,n,i(t,n,r))}),o}}(),max:function(){if(b_)return v_;b_=1;var e=ND(),t=y_?m_:(y_=1,m_=function(e,t){return e>t}),n=TA();return v_=function(r){return r&&r.length?e(r,n,t):void 0}}(),merge:function(){if(L_)return D_;L_=1;var e=function(){if(A_)return P_;A_=1;var e=DS(),t=PD(),n=kA(),r=RD(),i=SS(),o=VM(),a=AD();return P_=function s(l,u,c,d,h){l!==u&&n(u,function(n,o){if(h||(h=new e),i(n))r(l,u,o,c,s,d,h);else{var f=d?d(a(l,o),n,o+"",l,u,h):void 0;void 0===f&&(f=n),t(l,o,f)}},o)},P_}(),t=function(){if(__)return R_;__=1;var e=fR(),t=SD();return R_=function(n){return e(function(e,r){var i=-1,o=r.length,a=o>1?r[o-1]:void 0,s=o>2?r[2]:void 0;for(a=n.length>3&&"function"==typeof a?(o--,a):void 0,s&&t(r[0],r[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++i<o;){var l=r[i];l&&n(e,l,i,a)}return e})},R_}(),n=t(function(t,n,r){e(t,n,r)});return D_=n}(),min:function(){if(j_)return F_;j_=1;var e=ND(),t=_D(),n=TA();return F_=function(r){return r&&r.length?e(r,n,t):void 0}}(),minBy:function(){if(H_)return B_;H_=1;var e=ND(),t=JA(),n=_D();return B_=function(r,i){return r&&r.length?e(r,t(i,2),n):void 0}}(),now:function(){if(U_)return V_;U_=1;var e=xS();return V_=function(){return e.Date.now()}}(),pick:function(){if(J_)return Z_;J_=1;var e=function(){if(X_)return Y_;X_=1;var e=DD(),t=XA();return Y_=function(n,r){return e(n,r,function(e,r){return t(n,r)})}}(),t=function(){if(Q_)return K_;Q_=1;var e=CD(),t=dR(),n=hR();return K_=function(r){return n(t(r,void 0,e),r+"")}}(),n=t(function(t,n){return null==t?{}:e(t,n)});return Z_=n}(),range:function(){if(oD)return iD;oD=1;var e=LD()();return iD=e}(),reduce:aR(),sortBy:function(){if(gD)return pD;gD=1;var e=cR(),t=zD(),n=fR(),r=SD(),i=n(function(n,i){if(null==n)return[];var o=i.length;return o>1&&r(n,i[0],i[1])?i=[]:o>2&&r(i[0],i[1],i[2])&&(i=[i[0]]),t(n,e(i,1),[])});return pD=i}(),uniqueId:function(){if(yD)return mD;yD=1;var e=WA(),t=0;return mD=function(n){var r=++t;return e(n)+r},mD}(),values:wR(),zipObject:function(){if(xD)return wD;xD=1;var e=FS(),t=(bD||(bD=1,vD=function(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:void 0;n(a,e[r],s)}return a}),vD);return wD=function(n,r){return t(n||[],r||[],e)},wD}()}}catch(e){}ED||(ED=window._);var FD=ED,jD=BD;function BD(){var e={};e._next=e._prev=e,this._sentinel=e}function HD(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function VD(e,t){if("_next"!==e&&"_prev"!==e)return t}BD.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return HD(t),t},BD.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&HD(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},BD.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,VD)),n=n._prev;return"["+e.join(", ")+"]"};var UD=FD,WD=kD.Graph,GD=jD,$D=function(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new WD,r=0,i=0;UD.forEach(e.nodes(),function(e){n.setNode(e,{v:e,in:0,out:0})}),UD.forEach(e.edges(),function(e){var o=n.edge(e.v,e.w)||0,a=t(e),s=o+a;n.setEdge(e.v,e.w,s),i=Math.max(i,n.node(e.v).out+=a),r=Math.max(r,n.node(e.w).in+=a)});var o=UD.range(i+r+3).map(function(){return new GD}),a=r+1;return UD.forEach(n.nodes(),function(e){XD(o,a,n.node(e))}),{graph:n,buckets:o,zeroIdx:a}}(e,t||qD),r=function(e,t,n){var r,i=[],o=t[t.length-1],a=t[0];for(;e.nodeCount();){for(;r=a.dequeue();)YD(e,t,n,r);for(;r=o.dequeue();)YD(e,t,n,r);if(e.nodeCount())for(var s=t.length-2;s>0;--s)if(r=t[s].dequeue()){i=i.concat(YD(e,t,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return UD.flatten(UD.map(r,function(t){return e.outEdges(t.v,t.w)}),!0)},qD=UD.constant(1);function YD(e,t,n,r,i){var o=i?[]:void 0;return UD.forEach(e.inEdges(r.v),function(r){var a=e.edge(r),s=e.node(r.v);i&&o.push({v:r.v,w:r.w}),s.out-=a,XD(t,n,s)}),UD.forEach(e.outEdges(r.v),function(r){var i=e.edge(r),o=r.w,a=e.node(o);a.in-=i,XD(t,n,a)}),e.removeNode(r.v),o}function XD(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var KD=FD,QD=$D,ZD={run:function(e){var t="greedy"===e.graph().acyclicer?QD(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},r={};function i(o){KD.has(r,o)||(r[o]=!0,n[o]=!0,KD.forEach(e.outEdges(o),function(e){KD.has(n,e.w)?t.push(e):i(e.w)}),delete n[o])}return KD.forEach(e.nodes(),i),t}(e);KD.forEach(t,function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,KD.uniqueId("rev"))})},undo:function(e){KD.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}};var JD=FD,eL=kD.Graph,tL={addDummyNode:nL,simplify:function(e){var t=(new eL).setGraph(e.graph());return JD.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),JD.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t},asNonCompoundGraph:function(e){var t=new eL({multigraph:e.isMultigraph()}).setGraph(e.graph());return JD.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),JD.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t},successorWeights:function(e){var t=JD.map(e.nodes(),function(t){var n={};return JD.forEach(e.outEdges(t),function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight}),n});return JD.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=JD.map(e.nodes(),function(t){var n={};return JD.forEach(e.inEdges(t),function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight}),n});return JD.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,r,i=e.x,o=e.y,a=t.x-i,s=t.y-o,l=e.width/2,u=e.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(s)*l>Math.abs(a)*u?(s<0&&(u=-u),n=u*a/s,r=u):(a<0&&(l=-l),n=l,r=l*s/a);return{x:i+n,y:o+r}},buildLayerMatrix:function(e){var t=JD.map(JD.range(rL(e)+1),function(){return[]});return JD.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;JD.isUndefined(i)||(t[i][r.order]=n)}),t},normalizeRanks:function(e){var t=JD.min(JD.map(e.nodes(),function(t){return e.node(t).rank}));JD.forEach(e.nodes(),function(n){var r=e.node(n);JD.has(r,"rank")&&(r.rank-=t)})},removeEmptyRanks:function(e){var t=JD.min(JD.map(e.nodes(),function(t){return e.node(t).rank})),n=[];JD.forEach(e.nodes(),function(r){var i=e.node(r).rank-t;n[i]||(n[i]=[]),n[i].push(r)});var r=0,i=e.graph().nodeRankFactor;JD.forEach(n,function(t,n){JD.isUndefined(t)&&n%i!==0?--r:r&&JD.forEach(t,function(t){e.node(t).rank+=r})})},addBorderNode:function(e,t,n,r){var i={width:0,height:0};arguments.length>=4&&(i.rank=n,i.order=r);return nL(e,"border",i,t)},maxRank:rL,partition:function(e,t){var n={lhs:[],rhs:[]};return JD.forEach(e,function(e){t(e)?n.lhs.push(e):n.rhs.push(e)}),n},time:function(e,t){var n=JD.now();try{return t()}finally{console.log(e+" time: "+(JD.now()-n)+"ms")}},notime:function(e,t){return t()}};function nL(e,t,n,r){var i;do{i=JD.uniqueId(r)}while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function rL(e){return JD.max(JD.map(e.nodes(),function(t){var n=e.node(t).rank;if(!JD.isUndefined(n))return n}))}var iL=FD,oL=tL,aL={run:function(e){e.graph().dummyChains=[],iL.forEach(e.edges(),function(t){!function(e,t){var n,r,i,o=t.v,a=e.node(o).rank,s=t.w,l=e.node(s).rank,u=t.name,c=e.edge(t),d=c.labelRank;if(l===a+1)return;for(e.removeEdge(t),i=0,++a;a<l;++i,++a)c.points=[],r={width:0,height:0,edgeLabel:c,edgeObj:t,rank:a},n=oL.addDummyNode(e,"edge",r,"_d"),a===d&&(r.width=c.width,r.height=c.height,r.dummy="edge-label",r.labelpos=c.labelpos),e.setEdge(o,n,{weight:c.weight},u),0===i&&e.graph().dummyChains.push(n),o=n;e.setEdge(o,s,{weight:c.weight},u)}(e,t)})},undo:function(e){iL.forEach(e.graph().dummyChains,function(t){var n,r=e.node(t),i=r.edgeLabel;for(e.setEdge(r.edgeObj,i);r.dummy;)n=e.successors(t)[0],e.removeNode(t),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),t=n,r=e.node(t)})}};var sL=FD,lL={longestPath:function(e){var t={};sL.forEach(e.sources(),function n(r){var i=e.node(r);if(sL.has(t,r))return i.rank;t[r]=!0;var o=sL.min(sL.map(e.outEdges(r),function(t){return n(t.w)-e.edge(t).minlen}));return o!==Number.POSITIVE_INFINITY&&null!=o||(o=0),i.rank=o})},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}};var uL=FD,cL=kD.Graph,dL=lL.slack,hL=function(e){var t,n,r=new cL({directed:!1}),i=e.nodes()[0],o=e.nodeCount();r.setNode(i,{});for(;fL(r,e)<o;)t=pL(r,e),n=r.hasNode(t.v)?dL(e,t):-dL(e,t),gL(r,e,n);return r};function fL(e,t){return uL.forEach(e.nodes(),function n(r){uL.forEach(t.nodeEdges(r),function(i){var o=i.v,a=r===o?i.w:o;e.hasNode(a)||dL(t,i)||(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))})}),e.nodeCount()}function pL(e,t){return uL.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return dL(t,n)})}function gL(e,t,n){uL.forEach(e.nodes(),function(e){t.node(e).rank+=n})}var mL=FD,yL=hL,vL=lL.slack,bL=lL.longestPath,wL=kD.alg.preorder,xL=kD.alg.postorder,EL=tL.simplify,kL=SL;function SL(e){e=EL(e),bL(e);var t,n=yL(e);for(OL(n),ML(n,e);t=NL(n);)AL(n,e,t,PL(n,e,t))}function ML(e,t){var n=xL(e,e.nodes());n=n.slice(0,n.length-1),mL.forEach(n,function(n){!function(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=TL(e,t,n)}(e,t,n)})}function TL(e,t,n){var r=e.node(n).parent,i=!0,o=t.edge(n,r),a=0;return o||(i=!1,o=t.edge(r,n)),a=o.weight,mL.forEach(t.nodeEdges(n),function(o){var s,l,u=o.v===n,c=u?o.w:o.v;if(c!==r){var d=u===i,h=t.edge(o).weight;if(a+=d?h:-h,s=n,l=c,e.hasEdge(s,l)){var f=e.edge(n,c).cutvalue;a+=d?-f:f}}}),a}function OL(e,t){arguments.length<2&&(t=e.nodes()[0]),CL(e,{},1,t)}function CL(e,t,n,r,i){var o=n,a=e.node(r);return t[r]=!0,mL.forEach(e.neighbors(r),function(i){mL.has(t,i)||(n=CL(e,t,n,i,r))}),a.low=o,a.lim=n++,i?a.parent=i:delete a.parent,n}function NL(e){return mL.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function PL(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),a=e.node(i),s=o,l=!1;o.lim>a.lim&&(s=a,l=!0);var u=mL.filter(t.edges(),function(t){return l===RL(e,e.node(t.v),s)&&l!==RL(e,e.node(t.w),s)});return mL.minBy(u,function(e){return vL(t,e)})}function AL(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),OL(e),ML(e,t),function(e,t){var n=mL.find(e.nodes(),function(e){return!t.node(e).parent}),r=wL(e,n);r=r.slice(1),mL.forEach(r,function(n){var r=e.node(n).parent,i=t.edge(n,r),o=!1;i||(i=t.edge(r,n),o=!0),t.node(n).rank=t.node(r).rank+(o?i.minlen:-i.minlen)})}(e,t)}function RL(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}SL.initLowLimValues=OL,SL.initCutValues=ML,SL.calcCutValue=TL,SL.leaveEdge=NL,SL.enterEdge=PL,SL.exchangeEdges=AL;var _L=lL.longestPath,DL=hL,LL=kL,IL=function(e){switch(e.graph().ranker){case"network-simplex":default:FL(e);break;case"tight-tree":!function(e){_L(e),DL(e)}(e);break;case"longest-path":zL(e)}};var zL=_L;function FL(e){LL(e)}var jL=FD,BL=function(e){var t=function(e){var t={},n=0;function r(i){var o=n;jL.forEach(e.children(i),r),t[i]={low:o,lim:n++}}return jL.forEach(e.children(),r),t}(e);jL.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,o=function(e,t,n,r){var i,o,a=[],s=[],l=Math.min(t[n].low,t[r].low),u=Math.max(t[n].lim,t[r].lim);i=n;do{i=e.parent(i),a.push(i)}while(i&&(t[i].low>l||u>t[i].lim));o=i,i=r;for(;(i=e.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}(e,t,i.v,i.w),a=o.path,s=o.lca,l=0,u=a[l],c=!0;n!==i.w;){if(r=e.node(n),c){for(;(u=a[l])!==s&&e.node(u).maxRank<r.rank;)l++;u===s&&(c=!1)}if(!c){for(;l<a.length-1&&e.node(u=a[l+1]).minRank<=r.rank;)l++;u=a[l]}e.setParent(n,u),n=e.successors(n)[0]}})};var HL=FD,VL=tL,UL={run:function(e){var t=VL.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&HL.forEach(o,function(e){n(e,i+1)}),t[r]=i}return HL.forEach(e.children(),function(e){n(e,1)}),t}(e),r=HL.max(HL.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,HL.forEach(e.edges(),function(t){e.edge(t).minlen*=i});var o=function(e){return HL.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}(e)+1;HL.forEach(e.children(),function(a){WL(e,t,i,o,r,n,a)}),e.graph().nodeRankFactor=i},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,HL.forEach(e.edges(),function(t){e.edge(t).nestingEdge&&e.removeEdge(t)})}};function WL(e,t,n,r,i,o,a){var s=e.children(a);if(s.length){var l=VL.addBorderNode(e,"_bt"),u=VL.addBorderNode(e,"_bb"),c=e.node(a);e.setParent(l,a),c.borderTop=l,e.setParent(u,a),c.borderBottom=u,HL.forEach(s,function(s){WL(e,t,n,r,i,o,s);var c=e.node(s),d=c.borderTop?c.borderTop:s,h=c.borderBottom?c.borderBottom:s,f=c.borderTop?r:2*r,p=d!==h?1:i-o[a]+1;e.setEdge(l,d,{weight:f,minlen:p,nestingEdge:!0}),e.setEdge(h,u,{weight:f,minlen:p,nestingEdge:!0})}),e.parent(a)||e.setEdge(t,l,{weight:0,minlen:i+o[a]})}else a!==t&&e.setEdge(t,a,{weight:0,minlen:n})}var GL=FD,$L=tL,qL=function(e){GL.forEach(e.children(),function t(n){var r=e.children(n),i=e.node(n);if(r.length&&GL.forEach(r,t),GL.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)YL(e,"borderLeft","_bl",n,i,o),YL(e,"borderRight","_br",n,i,o)}})};function YL(e,t,n,r,i,o){var a={width:0,height:0,rank:o,borderType:t},s=i[t][o-1],l=$L.addDummyNode(e,"border",a,n);i[t][o]=l,e.setParent(l,r),s&&e.setEdge(s,l,{weight:1})}var XL=FD,KL={adjust:function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||QL(e)},undo:function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){XL.forEach(e.nodes(),function(t){JL(e.node(t))}),XL.forEach(e.edges(),function(t){var n=e.edge(t);XL.forEach(n.points,JL),XL.has(n,"y")&&JL(n)})}(e);"lr"!==t&&"rl"!==t||(!function(e){XL.forEach(e.nodes(),function(t){eI(e.node(t))}),XL.forEach(e.edges(),function(t){var n=e.edge(t);XL.forEach(n.points,eI),XL.has(n,"x")&&eI(n)})}(e),QL(e))}};function QL(e){XL.forEach(e.nodes(),function(t){ZL(e.node(t))}),XL.forEach(e.edges(),function(t){ZL(e.edge(t))})}function ZL(e){var t=e.width;e.width=e.height,e.height=t}function JL(e){e.y=-e.y}function eI(e){var t=e.x;e.x=e.y,e.y=t}var tI=FD,nI=function(e){var t={},n=tI.filter(e.nodes(),function(t){return!e.children(t).length}),r=tI.max(tI.map(n,function(t){return e.node(t).rank})),i=tI.map(tI.range(r+1),function(){return[]});function o(n){if(!tI.has(t,n)){t[n]=!0;var r=e.node(n);i[r.rank].push(n),tI.forEach(e.successors(n),o)}}var a=tI.sortBy(n,function(t){return e.node(t).rank});return tI.forEach(a,o),i};var rI=FD,iI=function(e,t){for(var n=0,r=1;r<t.length;++r)n+=oI(e,t[r-1],t[r]);return n};function oI(e,t,n){for(var r=rI.zipObject(n,rI.map(n,function(e,t){return t})),i=rI.flatten(rI.map(t,function(t){return rI.sortBy(rI.map(e.outEdges(t),function(t){return{pos:r[t.w],weight:e.edge(t).weight}}),"pos")}),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var s=rI.map(new Array(a),function(){return 0}),l=0;return rI.forEach(i.forEach(function(e){var t=e.pos+o;s[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=s[t+1]),s[t=t-1>>1]+=e.weight;l+=e.weight*n})),l}var aI=FD;var sI=FD,lI=function(e,t){var n={};return sI.forEach(e,function(e,t){var r=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};sI.isUndefined(e.barycenter)||(r.barycenter=e.barycenter,r.weight=e.weight)}),sI.forEach(t.edges(),function(e){var t=n[e.v],r=n[e.w];sI.isUndefined(t)||sI.isUndefined(r)||(r.indegree++,t.out.push(n[e.w]))}),function(e){var t=[];function n(e){return function(t){t.merged||(sI.isUndefined(t.barycenter)||sI.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight);t.weight&&(n+=t.barycenter*t.weight,r+=t.weight);e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function r(t){return function(n){n.in.push(t),0===--n.indegree&&e.push(n)}}for(;e.length;){var i=e.pop();t.push(i),sI.forEach(i.in.reverse(),n(i)),sI.forEach(i.out,r(i))}return sI.map(sI.filter(t,function(e){return!e.merged}),function(e){return sI.pick(e,["vs","i","barycenter","weight"])})}(sI.filter(n,function(e){return!e.indegree}))};var uI=FD,cI=tL;function dI(e,t,n){for(var r;t.length&&(r=uI.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}var hI=FD,fI=function(e,t){return aI.map(t,function(t){var n=e.inEdges(t);if(n.length){var r=aI.reduce(n,function(t,n){var r=e.edge(n),i=e.node(n.v);return{sum:t.sum+r.weight*i.order,weight:t.weight+r.weight}},{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}}return{v:t}})},pI=lI,gI=function(e,t){var n=cI.partition(e,function(e){return uI.has(e,"barycenter")}),r=n.lhs,i=uI.sortBy(n.rhs,function(e){return-e.i}),o=[],a=0,s=0,l=0;r.sort((u=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:u?t.i-e.i:e.i-t.i})),l=dI(o,i,l),uI.forEach(r,function(e){l+=e.vs.length,o.push(e.vs),a+=e.barycenter*e.weight,s+=e.weight,l=dI(o,i,l)});var u;var c={vs:uI.flatten(o,!0)};s&&(c.barycenter=a/s,c.weight=s);return c},mI=function e(t,n,r,i){var o=t.children(n),a=t.node(n),s=a?a.borderLeft:void 0,l=a?a.borderRight:void 0,u={};s&&(o=hI.filter(o,function(e){return e!==s&&e!==l}));var c=fI(t,o);hI.forEach(c,function(n){if(t.children(n.v).length){var o=e(t,n.v,r,i);u[n.v]=o,hI.has(o,"barycenter")&&(a=n,s=o,hI.isUndefined(a.barycenter)?(a.barycenter=s.barycenter,a.weight=s.weight):(a.barycenter=(a.barycenter*a.weight+s.barycenter*s.weight)/(a.weight+s.weight),a.weight+=s.weight))}var a,s});var d=pI(c,r);!function(e,t){hI.forEach(e,function(e){e.vs=hI.flatten(e.vs.map(function(e){return t[e]?t[e].vs:e}),!0)})}(d,u);var h=gI(d,i);if(s&&(h.vs=hI.flatten([s,h.vs,l],!0),t.predecessors(s).length)){var f=t.node(t.predecessors(s)[0]),p=t.node(t.predecessors(l)[0]);hI.has(h,"barycenter")||(h.barycenter=0,h.weight=0),h.barycenter=(h.barycenter*h.weight+f.order+p.order)/(h.weight+2),h.weight+=2}return h};var yI=FD,vI=kD.Graph,bI=function(e,t,n){var r=function(e){var t;for(;e.hasNode(t=yI.uniqueId("_root")););return t}(e),i=new vI({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(t){return e.node(t)});return yI.forEach(e.nodes(),function(o){var a=e.node(o),s=e.parent(o);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(i.setNode(o),i.setParent(o,s||r),yI.forEach(e[n](o),function(t){var n=t.v===o?t.w:t.v,r=i.edge(n,o),a=yI.isUndefined(r)?0:r.weight;i.setEdge(n,o,{weight:e.edge(t).weight+a})}),yI.has(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))}),i};var wI=FD;var xI=FD,EI=nI,kI=iI,SI=mI,MI=bI,TI=function(e,t,n){var r,i={};wI.forEach(n,function(n){for(var o,a,s=e.parent(n);s;){if((o=e.parent(s))?(a=i[o],i[o]=s):(a=r,r=s),a&&a!==s)return void t.setEdge(a,s);s=o}})},OI=kD.Graph,CI=tL,NI=function(e){var t=CI.maxRank(e),n=PI(e,xI.range(1,t+1),"inEdges"),r=PI(e,xI.range(t-1,-1,-1),"outEdges"),i=EI(e);RI(e,i);for(var o,a=Number.POSITIVE_INFINITY,s=0,l=0;l<4;++s,++l){AI(s%2?n:r,s%4>=2),i=CI.buildLayerMatrix(e);var u=kI(e,i);u<a&&(l=0,o=xI.cloneDeep(i),a=u)}RI(e,o)};function PI(e,t,n){return xI.map(t,function(t){return MI(e,t,n)})}function AI(e,t){var n=new OI;xI.forEach(e,function(e){var r=e.graph().root,i=SI(e,r,n,t);xI.forEach(i.vs,function(t,n){e.node(t).order=n}),TI(e,n,i.vs)})}function RI(e,t){xI.forEach(t,function(t){xI.forEach(t,function(t,n){e.node(t).order=n})})}var _I=FD,DI=kD.Graph,LI=tL,II=function(e){var t,n=LI.buildLayerMatrix(e),r=_I.merge(function(e,t){var n={};function r(t,r){var i=0,o=0,a=t.length,s=_I.last(r);return _I.forEach(r,function(t,l){var u=function(e,t){if(e.node(t).dummy)return _I.find(e.predecessors(t),function(t){return e.node(t).dummy})}(e,t),c=u?e.node(u).order:a;(u||t===s)&&(_I.forEach(r.slice(o,l+1),function(t){_I.forEach(e.predecessors(t),function(r){var o=e.node(r),a=o.order;!(a<i||c<a)||o.dummy&&e.node(t).dummy||zI(n,r,t)})}),o=l+1,i=c)}),r}return _I.reduce(t,r),n}(e,n),function(e,t){var n={};function r(t,r,i,o,a){var s;_I.forEach(_I.range(r,i),function(r){s=t[r],e.node(s).dummy&&_I.forEach(e.predecessors(s),function(t){var r=e.node(t);r.dummy&&(r.order<o||r.order>a)&&zI(n,t,s)})})}function i(t,n){var i,o=-1,a=0;return _I.forEach(n,function(s,l){if("border"===e.node(s).dummy){var u=e.predecessors(s);u.length&&(i=e.node(u[0]).order,r(n,a,l,o,i),a=l,o=i)}r(n,a,n.length,i,t.length)}),n}return _I.reduce(t,i),n}(e,n)),i={};_I.forEach(["u","d"],function(o){t="u"===o?n:_I.values(n).reverse(),_I.forEach(["l","r"],function(n){"r"===n&&(t=_I.map(t,function(e){return _I.values(e).reverse()}));var a=("u"===o?e.predecessors:e.successors).bind(e),s=function(e,t,n,r){var i={},o={},a={};return _I.forEach(t,function(e){_I.forEach(e,function(e,t){i[e]=e,o[e]=e,a[e]=t})}),_I.forEach(t,function(e){var t=-1;_I.forEach(e,function(e){var s=r(e);if(s.length){s=_I.sortBy(s,function(e){return a[e]});for(var l=(s.length-1)/2,u=Math.floor(l),c=Math.ceil(l);u<=c;++u){var d=s[u];o[e]===e&&t<a[d]&&!FI(n,e,d)&&(o[d]=e,o[e]=i[e]=i[d],t=a[d])}}})}),{root:i,align:o}}(0,t,r,a),l=function(e,t,n,r,i){var o={},a=function(e,t,n,r){var i=new DI,o=e.graph(),a=function(e,t,n){return function(r,i,o){var a,s=r.node(i),l=r.node(o),u=0;if(u+=s.width/2,_I.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":a=-s.width/2;break;case"r":a=s.width/2}if(a&&(u+=n?a:-a),a=0,u+=(s.dummy?t:e)/2,u+=(l.dummy?t:e)/2,u+=l.width/2,_I.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":a=l.width/2;break;case"r":a=-l.width/2}return a&&(u+=n?a:-a),a=0,u}}(o.nodesep,o.edgesep,r);return _I.forEach(t,function(t){var r;_I.forEach(t,function(t){var o=n[t];if(i.setNode(o),r){var s=n[r],l=i.edge(s,o);i.setEdge(s,o,Math.max(a(e,t,r),l||0))}r=t})}),i}(e,t,n,i),s=i?"borderLeft":"borderRight";function l(e,t){for(var n=a.nodes(),r=n.pop(),i={};r;)i[r]?e(r):(i[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}function u(e){o[e]=a.inEdges(e).reduce(function(e,t){return Math.max(e,o[t.v]+a.edge(t))},0)}function c(t){var n=a.outEdges(t).reduce(function(e,t){return Math.min(e,o[t.w]-a.edge(t))},Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==s&&(o[t]=Math.max(o[t],n))}return l(u,a.predecessors.bind(a)),l(c,a.successors.bind(a)),_I.forEach(r,function(e){o[e]=o[n[e]]}),o}(e,t,s.root,s.align,"r"===n);"r"===n&&(l=_I.mapValues(l,function(e){return-e})),i[o+n]=l})});var o=function(e,t){return _I.minBy(_I.values(t),function(t){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return _I.forIn(t,function(t,i){var o=function(e,t){return e.node(t).width}(e,i)/2;n=Math.max(t+o,n),r=Math.min(t-o,r)}),n-r})}(e,i);return function(e,t){var n=_I.values(t),r=_I.min(n),i=_I.max(n);_I.forEach(["u","d"],function(n){_I.forEach(["l","r"],function(o){var a,s=n+o,l=e[s];if(l!==t){var u=_I.values(l);(a="l"===o?r-_I.min(u):i-_I.max(u))&&(e[s]=_I.mapValues(l,function(e){return e+a}))}})})}(i,o),function(e,t){return _I.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=_I.sortBy(_I.map(e,r));return(i[1]+i[2])/2})}(i,e.graph().align)};function zI(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function FI(e,t,n){if(t>n){var r=t;t=n,n=r}return _I.has(e[t],n)}var jI=FD,BI=tL,HI=II,VI=function(e){(function(e){var t=BI.buildLayerMatrix(e),n=e.graph().ranksep,r=0;jI.forEach(t,function(t){var i=jI.max(jI.map(t,function(t){return e.node(t).height}));jI.forEach(t,function(t){e.node(t).y=r+i/2}),r+=i+n})})(e=BI.asNonCompoundGraph(e)),jI.forEach(HI(e),function(t,n){e.node(n).x=t})};var UI=FD,WI=ZD,GI=aL,$I=IL,qI=tL.normalizeRanks,YI=BL,XI=tL.removeEmptyRanks,KI=UL,QI=qL,ZI=KL,JI=NI,ez=VI,tz=tL,nz=kD.Graph,rz=function(e,t){var n=t&&t.debugTiming?tz.time:tz.notime;n("layout",function(){var t=n("  buildLayoutGraph",function(){return function(e){var t=new nz({multigraph:!0,compound:!0}),n=fz(e.graph());return t.setGraph(UI.merge({},oz,hz(n,iz),UI.pick(n,az))),UI.forEach(e.nodes(),function(n){var r=fz(e.node(n));t.setNode(n,UI.defaults(hz(r,sz),lz)),t.setParent(n,e.parent(n))}),UI.forEach(e.edges(),function(n){var r=fz(e.edge(n));t.setEdge(n,UI.merge({},cz,hz(r,uz),UI.pick(r,dz)))}),t}(e)});n("  runLayout",function(){!function(e,t){t("    makeSpaceForEdgeLabels",function(){!function(e){var t=e.graph();t.ranksep/=2,UI.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}(e)}),t("    removeSelfEdges",function(){!function(e){UI.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}(e)}),t("    acyclic",function(){WI.run(e)}),t("    nestingGraph.run",function(){KI.run(e)}),t("    rank",function(){$I(tz.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){!function(e){UI.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i={rank:(e.node(t.w).rank-r.rank)/2+r.rank,e:t};tz.addDummyNode(e,"edge-proxy",i,"_ep")}})}(e)}),t("    removeEmptyRanks",function(){XI(e)}),t("    nestingGraph.cleanup",function(){KI.cleanup(e)}),t("    normalizeRanks",function(){qI(e)}),t("    assignRankMinMax",function(){!function(e){var t=0;UI.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=UI.max(t,r.maxRank))}),e.graph().maxRank=t}(e)}),t("    removeEdgeLabelProxies",function(){!function(e){UI.forEach(e.nodes(),function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}(e)}),t("    normalize.run",function(){GI.run(e)}),t("    parentDummyChains",function(){YI(e)}),t("    addBorderSegments",function(){QI(e)}),t("    order",function(){JI(e)}),t("    insertSelfEdges",function(){!function(e){var t=tz.buildLayerMatrix(e);UI.forEach(t,function(t){var n=0;UI.forEach(t,function(t,r){var i=e.node(t);i.order=r+n,UI.forEach(i.selfEdges,function(t){tz.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:r+ ++n,e:t.e,label:t.label},"_se")}),delete i.selfEdges})})}(e)}),t("    adjustCoordinateSystem",function(){ZI.adjust(e)}),t("    position",function(){ez(e)}),t("    positionSelfEdges",function(){!function(e){UI.forEach(e.nodes(),function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})}(e)}),t("    removeBorderNodes",function(){!function(e){UI.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(UI.last(n.borderLeft)),a=e.node(UI.last(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),UI.forEach(e.nodes(),function(t){"border"===e.node(t).dummy&&e.removeNode(t)})}(e)}),t("    normalize.undo",function(){GI.undo(e)}),t("    fixupEdgeLabelCoords",function(){!function(e){UI.forEach(e.edges(),function(t){var n=e.edge(t);if(UI.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}(e)}),t("    undoCoordinateSystem",function(){ZI.undo(e)}),t("    translateGraph",function(){!function(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),a=o.marginx||0,s=o.marginy||0;function l(e){var o=e.x,a=e.y,s=e.width,l=e.height;t=Math.min(t,o-s/2),n=Math.max(n,o+s/2),r=Math.min(r,a-l/2),i=Math.max(i,a+l/2)}UI.forEach(e.nodes(),function(t){l(e.node(t))}),UI.forEach(e.edges(),function(t){var n=e.edge(t);UI.has(n,"x")&&l(n)}),t-=a,r-=s,UI.forEach(e.nodes(),function(n){var i=e.node(n);i.x-=t,i.y-=r}),UI.forEach(e.edges(),function(n){var i=e.edge(n);UI.forEach(i.points,function(e){e.x-=t,e.y-=r}),UI.has(i,"x")&&(i.x-=t),UI.has(i,"y")&&(i.y-=r)}),o.width=n-t+a,o.height=i-r+s}(e)}),t("    assignNodeIntersects",function(){!function(e){UI.forEach(e.edges(),function(t){var n,r,i=e.edge(t),o=e.node(t.v),a=e.node(t.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(tz.intersectRect(o,n)),i.points.push(tz.intersectRect(a,r))})}(e)}),t("    reversePoints",function(){!function(e){UI.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}(e)}),t("    acyclic.undo",function(){WI.undo(e)})}(t,n)}),n("  updateInputGraph",function(){!function(e,t){UI.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),UI.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,UI.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,t)})})};var iz=["nodesep","edgesep","ranksep","marginx","marginy"],oz={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},az=["acyclicer","ranker","rankdir","align"],sz=["width","height"],lz={width:0,height:0},uz=["minlen","weight","width","height","labeloffset"],cz={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},dz=["labelpos"];function hz(e,t){return UI.mapValues(UI.pick(e,t),Number)}function fz(e){var t={};return UI.forEach(e,function(e,n){t[n.toLowerCase()]=e}),t}var pz=FD,gz=tL,mz=kD.Graph,yz={debugOrdering:function(e){var t=gz.buildLayerMatrix(e),n=new mz({compound:!0,multigraph:!0}).setGraph({});return pz.forEach(e.nodes(),function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)}),pz.forEach(e.edges(),function(e){n.setEdge(e.v,e.w,{},e.name)}),pz.forEach(t,function(e,t){var r="layer"+t;n.setNode(r,{rank:"same"}),pz.reduce(e,function(e,t){return n.setEdge(e,t,{style:"invis"}),t})}),n}};var vz={graphlib:kD,layout:rz,debug:yz,util:{time:tL.time,notime:tL.notime},version:"0.8.5"},bz=E(vz);class wz{constructor(e){this.id="dagre",this.options={},Object.assign(this.options,wz.defaultOptions,e)}execute(e,t){return Ht(this,void 0,void 0,function*(){return this.genericDagreLayout(!1,e,Object.assign(Object.assign({},this.options),t))})}assign(e,t){return Ht(this,void 0,void 0,function*(){yield this.genericDagreLayout(!0,e,Object.assign(Object.assign({},this.options),t))})}genericDagreLayout(e,t,n){return Ht(this,void 0,void 0,function*(){const{nodeSize:r}=n,i=new vz.graphlib.Graph;i.setGraph(n),i.setDefaultEdgeLabel(()=>({}));[...t.getAllNodes(),...t.getAllEdges()].some(({id:e})=>st(e))&&console.error("Dagre layout only support string id, it will convert number to string."),t.getAllNodes().forEach(e=>{const{id:t}=e,n=Object.assign({},e.data);if(void 0!==r){const[t,i]=Hb($e(r)?r(e):r);Object.assign(n,{width:t,height:i})}i.setNode(t.toString(),n)}),t.getAllEdges().forEach(({id:e,source:t,target:n})=>{i.setEdge(t.toString(),n.toString(),{id:e})}),bz.layout(i);const o={nodes:[],edges:[]};return i.nodes().forEach(n=>{const r=i.node(n);o.nodes.push({id:n,data:r}),e&&t.mergeNodeData(n,r)}),i.edges().forEach(n=>{const r=i.edge(n),{id:a}=r,s=Bt(r,["id"]),{v:l,w:u}=n;o.edges.push({id:a,source:l,target:u,data:s}),e&&t.mergeEdgeData(a,s)}),o})}}wz.defaultOptions={};class xz{constructor(e){this.id=e.id||0,this.rx=e.rx,this.ry=e.ry,this.fx=0,this.fy=0,this.mass=e.mass,this.degree=e.degree,this.g=e.g||0}distanceTo(e){const t=this.rx-e.rx,n=this.ry-e.ry;return Math.hypot(t,n)}setPos(e,t){this.rx=e,this.ry=t}resetForce(){this.fx=0,this.fy=0}addForce(e){const t=e.rx-this.rx,n=e.ry-this.ry;let r=Math.hypot(t,n);r=r<1e-4?1e-4:r;const i=this.g*(this.degree+1)*(e.degree+1)/r;this.fx+=i*t/r,this.fy+=i*n/r}in(e){return e.contains(this.rx,this.ry)}add(e){const t=this.mass+e.mass,n=(this.rx*this.mass+e.rx*e.mass)/t,r=(this.ry*this.mass+e.ry*e.mass)/t,i=this.degree+e.degree;return new xz({rx:n,ry:r,mass:t,degree:i})}}class Ez{constructor(e){this.xmid=e.xmid,this.ymid=e.ymid,this.length=e.length,this.massCenter=e.massCenter||[0,0],this.mass=e.mass||1}getLength(){return this.length}contains(e,t){const n=this.length/2;return e<=this.xmid+n&&e>=this.xmid-n&&t<=this.ymid+n&&t>=this.ymid-n}NW(){const e=this.xmid-this.length/4,t=this.ymid+this.length/4,n=this.length/2;return new Ez({xmid:e,ymid:t,length:n})}NE(){const e=this.xmid+this.length/4,t=this.ymid+this.length/4,n=this.length/2;return new Ez({xmid:e,ymid:t,length:n})}SW(){const e=this.xmid-this.length/4,t=this.ymid-this.length/4,n=this.length/2;return new Ez({xmid:e,ymid:t,length:n})}SE(){const e=this.xmid+this.length/4,t=this.ymid-this.length/4,n=this.length/2;return new Ez({xmid:e,ymid:t,length:n})}}class kz{constructor(e){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,null!=e&&(this.quad=e)}insert(e){null!=this.body?this._isExternal()?(this.quad&&(this.NW=new kz(this.quad.NW()),this.NE=new kz(this.quad.NE()),this.SW=new kz(this.quad.SW()),this.SE=new kz(this.quad.SE())),this._putBody(this.body),this._putBody(e),this.body=this.body.add(e)):(this.body=this.body.add(e),this._putBody(e)):this.body=e}_putBody(e){this.quad&&(e.in(this.quad.NW())&&this.NW?this.NW.insert(e):e.in(this.quad.NE())&&this.NE?this.NE.insert(e):e.in(this.quad.SW())&&this.SW?this.SW.insert(e):e.in(this.quad.SE())&&this.SE&&this.SE.insert(e))}_isExternal(){return null==this.NW&&null==this.NE&&null==this.SW&&null==this.SE}updateForce(e){if(null!=this.body&&e!==this.body)if(this._isExternal())e.addForce(this.body);else{(this.quad?this.quad.getLength():0)/this.body.distanceTo(e)<this.theta?e.addForce(this.body):(this.NW&&this.NW.updateForce(e),this.NE&&this.NE.updateForce(e),this.SW&&this.SW.updateForce(e),this.SE&&this.SE.updateForce(e))}}}const Sz={center:[0,0],width:300,height:300,kr:5,kg:1,mode:"normal",preventOverlap:!1,dissuadeHubs:!1,maxIteration:0,ks:.1,ksmax:10,tao:.1};const Mz={maxIteration:1e3,gravity:10,speed:5,clustering:!1,clusterGravity:10,width:300,height:300,nodeClusterBy:"cluster"};const Tz={begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30,width:300,height:300};const Oz=(e,t)=>{let n;const r=e.rows||5,i=e.cols||5;if(null==t)n=Math.min(r,i);else{Math.min(r,i)===e.rows?e.rows=t:e.cols=t}return n},Cz=(e,t)=>{let n;const r=e.rows||5,i=e.cols||5;if(null==t)n=Math.max(r,i);else{Math.max(r,i)===e.rows?e.rows=t:e.cols=t}return n},Nz=(e,t)=>e[`c-${t.row}-${t.col}`]||!1,Pz=(e,t)=>e[`c-${t.row}-${t.col}`]=!0,Az=(e,t)=>{const n=e.cols||5;t.col++,t.col>=n&&(t.col=0,t.row++)},Rz=(e,t,n,r,i,o,a,s)=>{let l,u;const c=i[e.id];if(c)l=c.col*n+n/2+t[0],u=c.row*r+r/2+t[1];else{for(;Nz(s,a);)Az(o,a);l=a.col*n+n/2+t[0],u=a.row*r+r/2+t[1],Pz(s,a),Az(o,a)}e.data.x=l,e.data.y=u},_z={iterations:10,height:10,width:10,speed:100,gravity:10,k:5},Dz=(e,t,n,r,i,o)=>{t.forEach((a,s)=>{n[s]={x:0,y:0},t.forEach((t,l)=>{if(s===l)return;if(i[s]!==i[l])return;let u=a.x-t.x,c=a.y-t.y,d=Math.sqrt(u*u+c*c);if(0===d){d=1;const e=s>l?1:-1;u=.01*e,c=.01*e}if(d<o(e[s])/2+o(e[l])/2){const e=r*r/d;n[s].x+=u/d*e,n[s].y+=c/d*e}})})},Lz=(e,t,n,r,i,o,a,s)=>{const l=o||a/10;return r&&t.forEach((t,n)=>{const r=e[n].x-e[i].x,o=e[n].y-e[i].y,a=Math.sqrt(r*r+o*o);let s=o/a,l=-r/a;const u=Math.sqrt(t.x*t.x+t.y*t.y);let c=Math.acos((s*t.x+l*t.y)/u);c>Math.PI/2&&(c-=Math.PI/2,s*=-1,l*=-1);const d=Math.cos(c)*u;t.x=s*d,t.y=l*d}),e.forEach((o,a)=>{if(a===i)return;const u=Math.sqrt(t[a].x*t[a].x+t[a].y*t[a].y);if(u>0&&a!==i){const c=Math.min(l*(n/800),u);if(o.x+=t[a].x/u*c,o.y+=t[a].y/u*c,r){let t=o.x-e[i].x,n=o.y-e[i].y;const r=Math.sqrt(t*t+n*n);t=t/r*s[a],n=n/r*s[a],o.x=e[i].x+t,o.y=e[i].y+n}}}),e},Iz={maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,strictRadial:!0,maxPreventOverlapIteration:200,sortStrength:10};const zz=(e,t,n,r,i,o,a)=>{if(!e)return[];const s=[];if(t){const l={};t.forEach((t,u)=>{const c=[];t.forEach((t,s)=>{var d,h;if(u===s)c.push(0);else if(r[u]===r[s])if("data"===o)c.push(t*(Math.abs(u-s)*a)/(r[u]/i));else if(o){let n,f;if(l[e[u].id])n=l[e[u].id];else{const t=("id"===o?e[u].id:null===(d=e[u].data)||void 0===d?void 0:d[o])||0;n=rt(t)?t.charCodeAt(0):t,l[e[u].id]=n}if(l[e[s].id])f=l[e[s].id];else{const t=("id"===o?e[s].id:null===(h=e[s].data)||void 0===h?void 0:h[o])||0;f=rt(t)?t.charCodeAt(0):t,l[e[s].id]=f}c.push(t*(Math.abs(n-f)*a)/(r[u]/i))}else c.push(t*n/(r[u]/i));else{const e=(n+i)/2;c.push(t*e)}}),s.push(c)})}return s},Fz=e=>{const t=e.length,n=e[0].length,r=[];for(let i=0;i<t;i++){const t=[];for(let r=0;r<n;r++)0!==e[i][r]?t.push(1/(e[i][r]*e[i][r])):t.push(0);r.push(t)}return r},jz=(e,t)=>{let n=-1;return e.forEach((e,r)=>{e.id===t&&(n=r)}),Math.max(n,0)},Bz=(e,t,n)=>{const r=e.length;for(let i=0;i<r;i++)if(e[t][i]===1/0){e[t][i]=n,e[i][t]=n;for(let o=0;o<r;o++)e[i][o]!==1/0&&e[t][o]===1/0&&(e[t][o]=n+e[i][o],e[o][t]=n+e[i][o])}for(let n=0;n<r;n++)if(n!==t)for(let i=0;i<r;i++)if(e[n][i]===1/0){let r=Math.abs(e[t][n]-e[t][i]);r=0===r?1:r,e[n][i]=r}},Hz=(e,t)=>{let n=0;for(let r=0;r<e[t].length;r++)e[t][r]!==1/0&&(n=e[t][r]>n?e[t][r]:n);return n},Vz={center:[0,0],width:300,height:300};
/**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   */
const Uz=Symbol("Comlink.proxy"),Wz=Symbol("Comlink.endpoint"),Gz=Symbol("Comlink.releaseProxy"),$z=Symbol("Comlink.finalizer"),qz=Symbol("Comlink.thrown"),Yz=e=>"object"==typeof e&&null!==e||"function"==typeof e,Xz=new Map([["proxy",{canHandle:e=>Yz(e)&&e[Uz],serialize(e){const{port1:t,port2:n}=new MessageChannel;return Kz(e,t),[n,[n]]},deserialize:e=>(e.start(),Zz(e))}],["throw",{canHandle:e=>Yz(e)&&qz in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function Kz(e,t=globalThis,n=["*"]){t.addEventListener("message",function r(i){if(!i||!i.data)return;if(!function(e,t){for(const n of e){if(t===n||"*"===n)return!0;if(n instanceof RegExp&&n.test(t))return!0}return!1}(n,i.origin))return void console.warn(`Invalid origin '${i.origin}' for comlink proxy`);const{id:o,type:a,path:s}=Object.assign({path:[]},i.data),l=(i.data.argumentList||[]).map(sF);let u;try{const t=s.slice(0,-1).reduce((e,t)=>e[t],e),n=s.reduce((e,t)=>e[t],e);switch(a){case"GET":u=n;break;case"SET":t[s.slice(-1)[0]]=sF(i.data.value),u=!0;break;case"APPLY":u=n.apply(t,l);break;case"CONSTRUCT":u=function(e){return Object.assign(e,{[Uz]:!0})}(new n(...l));break;case"ENDPOINT":{const{port1:t,port2:n}=new MessageChannel;Kz(e,n),u=function(e,t){return oF.set(e,t),e}(t,[t])}break;case"RELEASE":u=void 0;break;default:return}}catch(e){u={value:e,[qz]:0}}Promise.resolve(u).catch(e=>({value:e,[qz]:0})).then(n=>{const[i,s]=aF(n);t.postMessage(Object.assign(Object.assign({},i),{id:o}),s),"RELEASE"===a&&(t.removeEventListener("message",r),Qz(t),$z in e&&"function"==typeof e[$z]&&e[$z]())}).catch(e=>{const[n,r]=aF({value:new TypeError("Unserializable return value"),[qz]:0});t.postMessage(Object.assign(Object.assign({},n),{id:o}),r)})}),t.start&&t.start()}function Qz(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function Zz(e,t){const n=new Map;return e.addEventListener("message",function(e){const{data:t}=e;if(!t||!t.id)return;const r=n.get(t.id);if(r)try{r(t)}finally{n.delete(t.id)}}),rF(e,n,[],t)}function Jz(e){if(e)throw new Error("Proxy has been released and is not useable")}function eF(e){return lF(e,new Map,{type:"RELEASE"}).then(()=>{Qz(e)})}const tF=new WeakMap,nF="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{const t=(tF.get(e)||0)-1;tF.set(e,t),0===t&&eF(e)});function rF(e,t,n=[],r=function(){}){let i=!1;const o=new Proxy(r,{get(r,a){if(Jz(i),a===Gz)return()=>{!function(e){nF&&nF.unregister(e)}(o),eF(e),t.clear(),i=!0};if("then"===a){if(0===n.length)return{then:()=>o};const r=lF(e,t,{type:"GET",path:n.map(e=>e.toString())}).then(sF);return r.then.bind(r)}return rF(e,t,[...n,a])},set(r,o,a){Jz(i);const[s,l]=aF(a);return lF(e,t,{type:"SET",path:[...n,o].map(e=>e.toString()),value:s},l).then(sF)},apply(r,o,a){Jz(i);const s=n[n.length-1];if(s===Wz)return lF(e,t,{type:"ENDPOINT"}).then(sF);if("bind"===s)return rF(e,t,n.slice(0,-1));const[l,u]=iF(a);return lF(e,t,{type:"APPLY",path:n.map(e=>e.toString()),argumentList:l},u).then(sF)},construct(r,o){Jz(i);const[a,s]=iF(o);return lF(e,t,{type:"CONSTRUCT",path:n.map(e=>e.toString()),argumentList:a},s).then(sF)}});return function(e,t){const n=(tF.get(t)||0)+1;tF.set(t,n),nF&&nF.register(e,t,e)}(o,e),o}function iF(e){const t=e.map(aF);return[t.map(e=>e[0]),(n=t.map(e=>e[1]),Array.prototype.concat.apply([],n))];var n}const oF=new WeakMap;function aF(e){for(const[t,n]of Xz)if(n.canHandle(e)){const[r,i]=n.serialize(e);return[{type:"HANDLER",name:t,value:r},i]}return[{type:"RAW",value:e},oF.get(e)||[]]}function sF(e){switch(e.type){case"HANDLER":return Xz.get(e.name).deserialize(e.value);case"RAW":return e.value}}function lF(e,t,n,r){return new Promise(i=>{const o=new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");t.set(o,i),e.start&&e.start(),e.postMessage(Object.assign({id:o},n),r)})}class uF extends hm{constructor(e,t,n){super(),this.graph=e,this.layout=t,this.options=n,this.spawnWorker()}spawnWorker(){this.proxy=Zz(new Worker(new URL("./worker.js","undefined"==typeof document&&"undefined"==typeof location?require("url").pathToFileURL(__filename).href:"undefined"==typeof document?location.href:t&&"SCRIPT"===t.tagName.toUpperCase()&&t.src||new URL("g6-extension-react.min.js",document.baseURI).href),{type:"module"})),this.running&&(this.running=!1,this.execute())}execute(){var e;return Ht(this,void 0,void 0,function*(){if(this.running)return this;this.running=!0;const t=this.layout.options,{onTick:n}=t,r=Bt(t,["onTick"]),i={};Object.keys(r).forEach(e=>{$e(r[e])||(i[e]=r[e])});const o={layout:{id:this.layout.id,options:i,iterations:null===(e=this.options)||void 0===e?void 0:e.iterations},nodes:this.graph.getAllNodes(),edges:this.graph.getAllEdges()},a=new Float32Array([0]),[s]=yield this.proxy.calculateLayout(o,[a]);return s})}stop(){return this.running=!1,this.proxy.stopLayout(),this}kill(){this.proxy[Gz]()}isRunning(){return this.running}}var cF=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class dF extends vm{constructor(){super(...arguments),this.id="fishbone"}getRoot(){const e=this.context.model.getRootsData();if(!(Tt(e)||e.length>2))return e[0]}formatSize(e){const t="function"==typeof e?e:()=>e;return e=>Yh(t(e))}doLayout(e,t){const{hGap:n,getRibSep:r,vGap:i,nodeSize:o,height:a}=t,{model:s}=this.context,l=this.formatSize(o);let u=l(e)[0]+r(e);const c=(e,t=0)=>{var r;return t+=n*((e.children||[]).length+1),null===(r=e.children)||void 0===r||r.forEach(e=>{var n;null===(n=s.getNodeLikeDatum(e).children)||void 0===n||n.forEach(e=>{const n=s.getNodeLikeDatum(e);t=c(n,t)})}),t},d=e=>{if(1===e.depth)return u;const t=s.getParentData(e.id,"tree");if(pF(e)){const r=s.getParentData(t.id,"tree"),o=p(e)-p(r);return d(t)+o*n/i}{const n=(t.children||[]).indexOf(e.id),r=s.getNodeData((t.children||[]).slice(n));return h(t)-r.reduce((e,t)=>e+c(t),0)-l(t)[0]/2}},h=xt(e=>{if(fF(e))return l(e)[0]/2;const t=s.getParentData(e.id,"tree");if(pF(e))return d(e)+c(e)+l(e)[0]/2;{const r=p(e)-p(t),o=n/i;return d(e)+r*o}},e=>e.id),f=e=>p(s.getParentData(e,"tree")),p=xt(e=>{if(fF(e))return a/2;if(pF(e)){const t=s.getParentData(e.id,"tree"),n=t.children.indexOf(e.id);if(0===n)return f(t.id)+i;const r=s.getNodeLikeDatum(t.children[n-1]);if(Tt(r.children))return p(r)+i;const o=s.getDescendantsData(r.id);return Math.max(...o.map(e=>pF(e)?f(e.id):p(e)))+i}{if(Tt(e.children))return f(e.id)+i;const t=s.getNodeLikeDatum(e.children.slice(-1)[0]);if(Tt(t.children))return p(t)+i;const n=s.getDescendantsData(e.id).slice(-1)[0];return(pF(n)?f(n.id):p(n))+i}},e=>e.id);let g=0;const m={nodes:[],edges:[]},y=e=>{var t;null===(t=e.children)||void 0===t||t.forEach(e=>y(s.getNodeLikeDatum(e)));const n=p(e),i=h(e);if(m.nodes.push({id:e.id,x:i,y:n}),fF(e))return;const o=s.getRelatedEdgesData(e.id,"in")[0],a=[d(e),pF(e)?n:f(e.id)];m.edges.push({id:Ad(o),controlPoints:[a],relatedNodeId:e.id}),g=Math.max(g,i+r(e)),1===e.depth&&(u=g)};return y(e),m}placeAlterative(e,t){const n=(t.children||[]).filter((e,t)=>t%2!=0);if(0===n.length)return e;const{model:r}=this.context,i=e.nodes.find(e=>e.id===t.id).y,o=e=>{const t=r.getAncestorsData(e,"tree");if(Tt(t))return!1;const i=1===t.length?e:t[t.length-2].id;return n.includes(i)};e.nodes.forEach(e=>{o(e.id)&&(e.y=2*i-e.y)}),e.edges.forEach(e=>{o(e.relatedNodeId)&&(e.controlPoints=e.controlPoints.map(e=>[e[0],2*i-e[1]]))})}rightToLeft(e,t){return e.nodes.forEach(e=>e.x=t.width-e.x),e.edges.forEach(e=>{e.controlPoints=e.controlPoints.map(e=>[t.width-e[0],e[1]])}),e}execute(e,t){return cF(this,void 0,void 0,function*(){const n=Object.assign(Object.assign(Object.assign({},dF.defaultOptions),this.options),t),{direction:r,nodeSize:i}=n,o=this.getRoot();if(!o)return e;const a=this.formatSize(i);n.vGap||(n.vGap=Math.max(...(e.nodes||[]).map(e=>a(e)[1]))),n.hGap||(n.hGap=Math.max(...(e.nodes||[]).map(e=>a(e)[0])));let s=this.doLayout(o,n);this.placeAlterative(s,o),"RL"===r&&(s=this.rightToLeft(s,n));const{model:l}=this.context,u=[],c=[];return s.nodes.forEach(e=>{const{id:t,x:n,y:r}=e,i=l.getNodeLikeDatum(t);u.push(hF(i,{x:n,y:r}))}),s.edges.forEach(e=>{const{id:t,controlPoints:n}=e,r=l.getEdgeDatum(t);c.push(hF(r,{controlPoints:n}))}),{nodes:u,edges:c}})}}dF.defaultOptions={direction:"RL",getRibSep:()=>60};const hF=(e,t)=>Object.assign(Object.assign({},e),{style:Object.assign(Object.assign({},e.style||{}),t)}),fF=e=>0===e.depth,pF=e=>(e.depth||(e.depth=0))%2==0;var gF=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class mF extends vm{constructor(){super(...arguments),this.id="snake"}formatSize(e,t){const n="function"==typeof t?t:()=>t;return e.reduce((e,t)=>{const[r,i]=Yh(n(t))||[0,0];return[Math.max(e[0],r),Math.max(e[1],i)]},[0,0])}validate(e){const{nodes:t=[],edges:n=[]}=e,r={},i={},o={};t.forEach(e=>{r[e.id]=0,i[e.id]=0,o[e.id]=[]}),n.forEach(e=>{r[e.target]++,i[e.source]++,o[e.source].push(e.target)});const a=new Set,s=e=>{a.has(e)||(a.add(e),o[e].forEach(s))};if(s(t[0].id),a.size!==t.length)return!1;const l=t.filter(e=>0===r[e.id]),u=t.filter(e=>0===i[e.id]);if(1!==l.length||1!==u.length)return!1;return t.filter(e=>1===r[e.id]&&1===i[e.id]).length===t.length-2}execute(e,t){return gF(this,void 0,void 0,function*(){var n;if(!this.validate(e))return e;const{nodeSize:r,padding:i,sortBy:o,cols:a,colGap:s,rowGap:l,clockwise:u,width:c,height:d}=Object.assign({},mF.defaultOptions,this.options,t),[h,f,p,g]=id(i),m=this.formatSize(e.nodes||[],r),y=Math.ceil((e.nodes||[]).length/a);let v=s||(c-g-f-a*m[0])/(a-1),b=l||(d-h-p-y*m[1])/(y-1);(b===1/0||b<0)&&(b=0),(v===1/0||v<0)&&(v=0);const w=o?null===(n=e.nodes)||void 0===n?void 0:n.sort(o):function(e){const{nodes:t=[],edges:n=[]}=e,r={},i={};t.forEach(e=>{r[e.id]=0,i[e.id]=[]}),n.forEach(e=>{r[e.target]++,i[e.source].push(e.target)});const o=[],a=[];t.forEach(e=>{0===r[e.id]&&o.push(e.id)});for(;o.length>0;){const e=o.shift(),n=t.find(t=>t.id===e);a.push(n),i[e].forEach(e=>{r[e]--,0===r[e]&&o.push(e)})}return a}(e),x=(w||[]).map((e,t)=>{const n=Math.floor(t/a),r=t%a,i=g+(u?n%2==0?r:a-1-r:n%2==0?a-1-r:r)*(m[0]+v)+m[0]/2,o=h+n*(m[1]+b)+m[1]/2;return{id:e.id,style:{x:i,y:o}}});return{nodes:x}})}}mF.defaultOptions={padding:0,cols:5,clockwise:!0};class yF extends Gd{}function vF(e,t=!0,n){const r=document.createElement("div");return r.setAttribute("class",`g6-${e}`),Object.assign(r.style,{position:"absolute",display:"block"}),t&&Object.assign(r.style,{position:"unset",gridArea:"1 / 1 / 2 / 2",inset:"0px",height:"100%",width:"100%",overflow:"hidden",pointerEvents:"none"}),n&&Object.assign(r.style,n),r}function bF(e,t="div",n={},r="",i=document.body){const o=document.getElementById(e);o&&o.remove();const a=document.createElement(t);return a.innerHTML=r,a.id=e,Object.assign(a.style,n),i.appendChild(a),a}var wF,xF,EF=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class kF extends yF{constructor(e,t){super(e,Object.assign({},kF.defaultOptions,t)),this.$element=vF("background");this.context.canvas.getContainer().prepend(this.$element),this.update(t)}update(e){const t=Object.create(null,{update:{get:()=>super.update}});return EF(this,void 0,void 0,function*(){t.update.call(this,e),Object.assign(this.$element.style,Rt(this.options,["key","type"]))})}destroy(){super.destroy(),this.$element.remove()}}function SF(e,t,n,r,i,o){const a=n-e,s=r-t;let l=i-e,u=o-t,c=l*a+u*s,d=0;c<=0?d=0:(l=a-l,u=s-u,c=l*a+u*s,d=c<=0?0:c*c/(a*a+s*s));const h=l*l+u*u-d;return h<0?0:h}function MF(e,t,n,r){return(e-n)*(e-n)+(t-r)*(t-r)}function TF(e,t,n,r,i){return MF(e,t,n,r)<i*i}function OF(e){const t=Math.min(e.x1,e.x2),n=Math.max(e.x1,e.x2),r=Math.min(e.y1,e.y2),i=Math.max(e.y1,e.y2);return{x:t,y:r,x2:n,y2:i,width:n-t,height:i-r}}kF.defaultOptions={transition:"background 0.5s",backgroundSize:"cover",zIndex:"-1"};class CF{constructor(e,t,n,r){this.x1=e,this.y1=t,this.x2=n,this.y2=r}equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2}draw(e){e.moveTo(this.x1,this.y1),e.lineTo(this.x2,this.y2)}toString(){return`Line(from=(${this.x1},${this.y1}),to=(${this.x2},${this.y2}))`}static from(e){return new CF(e.x1,e.y1,e.x2,e.y2)}cuts(e,t){if(this.y1===this.y2)return!1;if(t<this.y1&&t<=this.y2||t>this.y1&&t>=this.y2)return!1;if(e>this.x1&&e>=this.x2)return!1;if(e<this.x1&&e<=this.x2)return!0;return e<=this.x1+(t-this.y1)*(this.x2-this.x1)/(this.y2-this.y1)}distSquare(e,t){return SF(this.x1,this.y1,this.x2,this.y2,e,t)}ptClose(e,t,n){if(this.x1<this.x2){if(e<this.x1-n||e>this.x2+n)return!1}else if(e<this.x2-n||e>this.x1+n)return!1;if(this.y1<this.y2){if(t<this.y1-n||t>this.y2+n)return!1}else if(t<this.y2-n||t>this.y1+n)return!1;return!0}}!function(e){e[e.POINT=1]="POINT",e[e.PARALLEL=2]="PARALLEL",e[e.COINCIDENT=3]="COINCIDENT",e[e.NONE=4]="NONE"}(wF||(wF={}));class NF{constructor(e,t=0,n=0){this.state=e,this.x=t,this.y=n}}function PF(e,t){const n=(t.x2-t.x1)*(e.y1-t.y1)-(t.y2-t.y1)*(e.x1-t.x1),r=(e.x2-e.x1)*(e.y1-t.y1)-(e.y2-e.y1)*(e.x1-t.x1),i=(t.y2-t.y1)*(e.x2-e.x1)-(t.x2-t.x1)*(e.y2-e.y1);if(i){const t=n/i,o=r/i;return 0<=t&&t<=1&&0<=o&&o<=1?new NF(wF.POINT,e.x1+t*(e.x2-e.x1),e.y1+t*(e.y2-e.y1)):new NF(wF.NONE)}return new NF(0===n||0===r?wF.COINCIDENT:wF.PARALLEL)}function AF(e,t){const n=(t.x2-t.x1)*(e.y1-t.y1)-(t.y2-t.y1)*(e.x1-t.x1),r=(e.x2-e.x1)*(e.y1-t.y1)-(e.y2-e.y1)*(e.x1-t.x1),i=(t.y2-t.y1)*(e.x2-e.x1)-(t.x2-t.x1)*(e.y2-e.y1);if(i){const e=n/i,t=r/i;if(0<=e&&e<=1&&0<=t&&t<=1)return e}return Number.POSITIVE_INFINITY}function RF(e,t,n){const r=new Set;return e.width<=0?(r.add(xF.LEFT),r.add(xF.RIGHT)):t<e.x?r.add(xF.LEFT):t>e.x+e.width&&r.add(xF.RIGHT),e.height<=0?(r.add(xF.TOP),r.add(xF.BOTTOM)):n<e.y?r.add(xF.TOP):n>e.y+e.height&&r.add(xF.BOTTOM),r}function _F(e,t){let n=t.x1,r=t.y1;const i=t.x2,o=t.y2,a=Array.from(RF(e,i,o));if(0===a.length)return!0;let s=RF(e,n,r);for(;0!==s.size;){for(const e of a)if(s.has(e))return!1;if(s.has(xF.RIGHT)||s.has(xF.LEFT)){let t=e.x;s.has(xF.RIGHT)&&(t+=e.width),r+=(t-n)*(o-r)/(i-n),n=t}else{let t=e.y;s.has(xF.BOTTOM)&&(t+=e.height),n+=(t-r)*(i-n)/(o-r),r=t}s=RF(e,n,r)}return!0}function DF(e,t){let n=Number.POSITIVE_INFINITY,r=0;function i(e,i,o,a){let s=AF(t,new CF(e,i,o,a));s=Math.abs(s-.5),s>=0&&s<=1&&(r++,s<n&&(n=s))}return i(e.x,e.y,e.x2,e.y),i(e.x,e.y,e.x,e.y2),r>1?n:(i(e.x,e.y2,e.x2,e.y2),r>1?n:(i(e.x2,e.y,e.x2,e.y2),0===r?-1:n))}function LF(e,t){let n=0;const r=PF(e,new CF(t.x,t.y,t.x2,t.y));n+=r.state===wF.POINT?1:0;const i=PF(e,new CF(t.x,t.y,t.x,t.y2));n+=i.state===wF.POINT?1:0;const o=PF(e,new CF(t.x,t.y2,t.x2,t.y2));n+=o.state===wF.POINT?1:0;const a=PF(e,new CF(t.x2,t.y,t.x2,t.y2));return n+=a.state===wF.POINT?1:0,{top:r,left:i,bottom:o,right:a,count:n}}!function(e){e[e.LEFT=0]="LEFT",e[e.TOP=1]="TOP",e[e.RIGHT=2]="RIGHT",e[e.BOTTOM=3]="BOTTOM"}(xF||(xF={}));class IF{constructor(e,t,n,r){this.x=e,this.y=t,this.width=n,this.height=r}get x2(){return this.x+this.width}get y2(){return this.y+this.height}get cx(){return this.x+this.width/2}get cy(){return this.y+this.height/2}get radius(){return Math.max(this.width,this.height)/2}static from(e){return new IF(e.x,e.y,e.width,e.height)}equals(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height}clone(){return new IF(this.x,this.y,this.width,this.height)}add(e){const t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),r=Math.max(this.x2,e.x+e.width),i=Math.max(this.y2,e.y+e.height);this.x=t,this.y=n,this.width=r-t,this.height=i-n}addPoint(e){const t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),r=Math.max(this.x2,e.x),i=Math.max(this.y2,e.y);this.x=t,this.y=n,this.width=r-t,this.height=i-n}toString(){return`Rectangle[x=${this.x}, y=${this.y}, w=${this.width}, h=${this.height}]`}draw(e){e.rect(this.x,this.y,this.width,this.height)}containsPt(e,t){return e>=this.x&&e<=this.x2&&t>=this.y&&t<=this.y2}get area(){return this.width*this.height}intersects(e){return!(this.area<=0||e.width<=0||e.height<=0)&&(e.x+e.width>this.x&&e.y+e.height>this.y&&e.x<this.x2&&e.y<this.y2)}distSquare(e,t){if(this.containsPt(e,t))return 0;const n=RF(this,e,t);return n.has(xF.TOP)?n.has(xF.LEFT)?MF(e,t,this.x,this.y):n.has(xF.RIGHT)?MF(e,t,this.x2,this.y):(this.y-t)*(this.y-t):n.has(xF.BOTTOM)?n.has(xF.LEFT)?MF(e,t,this.x,this.y2):n.has(xF.RIGHT)?MF(e,t,this.x2,this.y2):(t-this.y2)*(t-this.y2):n.has(xF.LEFT)?(this.x-e)*(this.x-e):n.has(xF.RIGHT)?(e-this.x2)*(e-this.x2):0}}class zF{constructor(e,t,n){this.cx=e,this.cy=t,this.radius=n}get x(){return this.cx-this.radius}get x2(){return this.cx+this.radius}get width(){return 2*this.radius}get y(){return this.cy-this.radius}get y2(){return this.cy+this.radius}get height(){return 2*this.radius}static from(e){return new zF(e.cx,e.cy,e.radius)}containsPt(e,t){return MF(this.cx,this.cy,e,t)<this.radius*this.radius}distSquare(e,t){const n=MF(this.cx,this.cy,e,t);if(n<this.radius*this.radius)return 0;const r=Math.sqrt(n)-this.radius;return r*r}draw(e){e.ellipse(this.cx,this.cy,this.radius,this.radius,0,0,2*Math.PI)}}class FF{constructor(e,t=0,n=0,r=0,i=0,o=10,a=10,s=new Float32Array(Math.max(0,o*a)).fill(0)){this.pixelGroup=e,this.i=t,this.j=n,this.pixelX=r,this.pixelY=i,this.width=o,this.height=a,this.area=s}createSub(e,t){return new FF(this.pixelGroup,e.x,e.y,t.x,t.y,e.width,e.height)}static fromPixelRegion(e,t){return new FF(t,0,0,e.x,e.y,Math.ceil(e.width/t),Math.ceil(e.height/t))}copy(e,t){return new FF(this.pixelGroup,this.scaleX(t.x),this.scaleY(t.y),t.x,t.y,e.width,e.height,e.area)}boundX(e){return e<this.i?this.i:e>=this.width?this.width-1:e}boundY(e){return e<this.j?this.j:e>=this.height?this.height-1:e}scaleX(e){return this.boundX(Math.floor((e-this.pixelX)/this.pixelGroup))}scaleY(e){return this.boundY(Math.floor((e-this.pixelY)/this.pixelGroup))}scale(e){const t=this.scaleX(e.x),n=this.scaleY(e.y),r=this.boundX(Math.ceil((e.x+e.width-this.pixelX)/this.pixelGroup)),i=this.boundY(Math.ceil((e.y+e.height-this.pixelY)/this.pixelGroup));return new IF(t,n,r-t,i-n)}invertScaleX(e){return Math.round(e*this.pixelGroup+this.pixelX)}invertScaleY(e){return Math.round(e*this.pixelGroup+this.pixelY)}addPadding(e,t){const n=Math.ceil(t/this.pixelGroup),r=this.boundX(e.x-n),i=this.boundY(e.y-n),o=this.boundX(e.x2+n),a=this.boundY(e.y2+n);return new IF(r,i,o-r,a-i)}get(e,t){return e<0||t<0||e>=this.width||t>=this.height?Number.NaN:this.area[e+t*this.width]}inc(e,t,n){e<0||t<0||e>=this.width||t>=this.height||(this.area[e+t*this.width]+=n)}set(e,t,n){e<0||t<0||e>=this.width||t>=this.height||(this.area[e+t*this.width]=n)}incArea(e,t){if(e.width<=0||e.height<=0||0===t)return;const n=this.width,r=e.width,i=Math.max(0,e.i),o=Math.max(0,e.j),a=Math.min(e.i+e.width,n),s=Math.min(e.j+e.height,this.height);if(!(s<=0||a<=0||i>=n||s>=this.height))for(let l=o;l<s;l++){const o=(l-e.j)*r,s=l*n;for(let n=i;n<a;n++){const r=e.area[n-e.i+o];0!==r&&(this.area[n+s]+=t*r)}}}fill(e){this.area.fill(e)}fillArea(e,t){const n=e.x+e.y*this.width;for(let r=0;r<e.height;r++){const i=n+r*this.width;this.area.fill(t,i,i+e.width)}}fillHorizontalLine(e,t,n,r){const i=e+t*this.width;this.area.fill(r,i,i+n)}fillVerticalLine(e,t,n,r){const i=e+t*this.width;for(let e=0;e<n;e++)this.area[i+e*this.width]=r}clear(){this.area.fill(0)}toString(){let e="";for(let t=0;t<this.height;t++){const n=t*this.width;for(let t=0;t<this.width;t++){e+=this.area[n+t].toFixed(1).padStart(6),e+=" "}e+="\n"}return e}draw(e,t=!0){if(this.width<=0||this.height<=0)return;e.save(),t&&e.translate(this.pixelX,this.pixelY);const n=this.area.reduce((e,t)=>Math.min(e,t),Number.POSITIVE_INFINITY),r=this.area.reduce((e,t)=>Math.max(e,t),Number.NEGATIVE_INFINITY),i=e=>(e-n)/(r-n);e.scale(this.pixelGroup,this.pixelGroup);for(let t=0;t<this.width;t++)for(let n=0;n<this.height;n++){const r=this.area[t+n*this.width];e.fillStyle=`rgba(0, 0, 0, ${i(r)})`,e.fillRect(t,n,1,1)}e.restore()}drawThreshold(e,t,n=!0){if(!(this.width<=0||this.height<=0)){e.save(),n&&e.translate(this.pixelX,this.pixelY),e.scale(this.pixelGroup,this.pixelGroup);for(let n=0;n<this.width;n++)for(let r=0;r<this.height;r++){const i=this.area[n+r*this.width];e.fillStyle=i>t?"black":"white",e.fillRect(n,r,1,1)}e.restore()}}}function jF(e,t){const n=e=>({x:e.x-t,y:e.y-t,width:e.width+2*t,height:e.height+2*t});return Array.isArray(e)?e.map(n):n(e)}function BF(e,t,n){return HF(Object.assign(OF(e),{distSquare:(t,n)=>SF(e.x1,e.y1,e.x2,e.y2,t,n)}),t,n)}function HF(e,t,n){const r=jF(e,n),i=t.scale(r),o=t.createSub(i,r);return function(e,t,n,r){const i=n*n;for(let o=0;o<e.height;o++)for(let a=0;a<e.width;a++){const s=r(t.invertScaleX(e.i+a),t.invertScaleY(e.j+o));if(0!==s){if(s<i){const t=n-Math.sqrt(s);e.set(a,o,t*t)}}else e.set(a,o,i)}}(o,t,n,(t,n)=>e.distSquare(t,n)),o}function VF(e,t){return{x:e,y:t}}function UF(e,t,n,r){if(0===e.length)return[];const i=function(e){if(e.length<2)return e;let t=0,n=0;return e.forEach(e=>{t+=e.cx,n+=e.cy}),t/=e.length,n/=e.length,e.map(e=>{const r=t-e.cx,i=n-e.cy;return[e,r*r+i*i]}).sort((e,t)=>e[1]-t[1]).map(e=>e[0])}(e);return i.map((e,o)=>{const a=i.slice(0,o);return function(e,t,n,r,i){const o=VF(t.cx,t.cy),a=function(e,t,n){let r=Number.POSITIVE_INFINITY;return t.reduce((t,i)=>{const o=MF(e.x,e.y,i.cx,i.cy);if(o>r)return t;const a=new CF(e.x,e.y,i.cx,i.cy),s=function(e,t){return e.reduce((e,n)=>_F(n,t)&&function(e,t){function n(e,n,r,i){let o=AF(t,new CF(e,n,r,i));return o=Math.abs(o-.5),o>=0&&o<=1?1:0}let r=n(e.x,e.y,e.x2,e.y);return r+=n(e.x,e.y,e.x,e.y2),r>1||(r+=n(e.x,e.y2,e.x2,e.y2),r>1||(r+=n(e.x2,e.y,e.x2,e.y2),r>0))}(n,t)?e+1:e,0)}(n,a);return o*(s+1)*(s+1)<r&&(t=i,r=o*(s+1)*(s+1)),t},null)}(o,n,e);if(null==a)return[];const s=function(e,t,n,r){const i=[],o=[];o.push(e);let a=!0;for(let e=0;e<n&&a;e++)for(a=!1;!a&&o.length>0;){const e=o.pop(),n=$F(t,e),s=n?LF(e,n):null;if(!n||!s||2!==s.count){a||i.push(e);continue}let l=r,u=qF(n,l,s,!0),c=GF(u,o)||GF(u,i),d=WF(u,t);for(;!c&&d&&l>=1;)l/=1.5,u=qF(n,l,s,!0),c=GF(u,o)||GF(u,i),d=WF(u,t);if(!u||c||d||(o.push(new CF(e.x1,e.y1,u.x,u.y)),o.push(new CF(u.x,u.y,e.x2,e.y2)),a=!0),a)continue;l=r,u=qF(n,l,s,!1);let h=GF(u,o)||GF(u,i);for(d=WF(u,t);!h&&d&&l>=1;)l/=1.5,u=qF(n,l,s,!1),h=GF(u,o)||GF(u,i),d=WF(u,t);u&&!h&&(o.push(new CF(e.x1,e.y1,u.x,u.y)),o.push(new CF(u.x,u.y,e.x2,e.y2)),a=!0),a||i.push(e)}for(;o.length>0;)i.push(o.pop());return i}(new CF(o.x,o.y,a.cx,a.cy),e,r,i);return function(e,t){const n=[];for(;e.length>0;){const r=e.pop();if(0===e.length){n.push(r);break}const i=e.pop(),o=new CF(r.x1,r.y1,i.x2,i.y2);$F(t,o)?(n.push(r),e.push(i)):e.push(o)}return n}(s,e)}(t,e,a,n,r)}).flat()}function WF(e,t){return t.some(t=>t.containsPt(e.x,e.y))}function GF(e,t){return t.some(t=>!!TF(t.x1,t.y1,e.x,e.y,.001)||!!TF(t.x2,t.y2,e.x,e.y,.001))}function $F(e,t){let n=Number.POSITIVE_INFINITY,r=null;for(const i of e){if(!_F(i,t))continue;const e=DF(i,t);e>=0&&e<n&&(r=i,n=e)}return r}function qF(e,t,n,r){const i=n.top,o=n.left,a=n.bottom,s=n.right;if(r){if(o.state===wF.POINT){if(i.state===wF.POINT)return VF(e.x-t,e.y-t);if(a.state===wF.POINT)return VF(e.x-t,e.y2+t);const n=e.width*e.height;return e.width*(.5*(o.y-e.y+(s.y-e.y)))<.5*n?o.y>s.y?VF(e.x-t,e.y-t):VF(e.x2+t,e.y-t):o.y<s.y?VF(e.x-t,e.y2+t):VF(e.x2+t,e.y2+t)}if(s.state===wF.POINT){if(i.state===wF.POINT)return VF(e.x2+t,e.y-t);if(a.state===wF.POINT)return VF(e.x2+t,e.y2+t)}const n=e.height*e.width;return e.height*(.5*(i.x-e.x+(s.x-e.x)))<.5*n?i.x>a.x?VF(e.x-t,e.y-t):VF(e.x-t,e.y2+t):i.x<a.x?VF(e.x2+t,e.y-t):VF(e.x2+t,e.y2+t)}if(o.state===wF.POINT){if(i.state===wF.POINT)return VF(e.x2+t,e.y2+t);if(a.state===wF.POINT)return VF(e.x2+t,e.y-t);const n=e.height*e.width;return e.width*(.5*(o.y-e.y+(s.y-e.y)))<.5*n?o.y>s.y?VF(e.x2+t,e.y2+t):VF(e.x-t,e.y2+t):o.y<s.y?VF(e.x2+t,e.y-t):VF(e.x-t,e.y-t)}if(s.state===wF.POINT){if(i.state===wF.POINT)return VF(e.x-t,e.y2+t);if(a.state===wF.POINT)return VF(e.x-t,e.y-t)}const l=e.height*e.width;return e.height*(.5*(i.x-e.x+(s.x-e.x)))<.5*l?i.x>a.x?VF(e.x2+t,e.y2+t):VF(e.x2+t,e.y-t):i.x<a.x?VF(e.x-t,e.y2+t):VF(e.x-t,e.y-t)}function YF(e,t,n,r){if(!(e.closed?n<e.length:n<e.length-1))return!1;const i=e.get(t),o=e.get(n+1);for(let a=t+1;a<=n;a++){const t=e.get(a);if(SF(i.x,i.y,o.x,o.y,t.x,t.y)>r)return!1}return!0}function XF(e,t){switch(e){case-2:return(((3-t)*t-3)*t+1)/6;case-1:return((3*t-6)*t*t+4)/6;case 0:return(((-3*t+3)*t+3)*t+1)/6;case 1:return t*t*t/6;default:throw new Error("unknown error")}}class KF{constructor(e=[],t=!0){this.points=e,this.closed=t}get(e){const t=e,n=this.points.length;return e<0?this.closed?this.get(e+n):this.points[0]:e>=n?this.closed?this.get(e-n):this.points[n-1]:this.points[t]}get length(){return this.points.length}toString(e=1/0){const t=this.points;if(0===t.length)return"";const n="function"==typeof e?e:function(e){if(!Number.isFinite(e))return e=>e;if(0===e)return Math.round;const t=Math.pow(10,e);return e=>Math.round(e*t)/t}(e);let r="M";for(const e of t)r+=`${n(e.x)},${n(e.y)} L`;return r=r.slice(0,-1),this.closed&&(r+=" Z"),r}draw(e){const t=this.points;if(0!==t.length){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(const n of t)e.lineTo(n.x,n.y);this.closed&&e.closePath()}}sample(e){return function(e=8){return t=>{let n=e,r=t.length;if(n>1)for(r=Math.floor(t.length/n);r<3&&n>1;)n-=1,r=Math.floor(t.length/n);const i=[];for(let e=0,o=0;o<r;o++,e+=n)i.push(t.get(e));return new KF(i)}}(e)(this)}simplify(e){return function(e=0){return t=>{if(e<0||t.length<3)return t;const n=[];let r=0;const i=e*e;for(;r<t.length;){let e=r+1;for(;YF(t,r,e,i);)e++;n.push(t.get(r)),r=e}return new KF(n)}}(e)(this)}bSplines(e){return function(e=6){function t(e,t,n){let r=0,i=0;for(let o=-2;o<=1;o++){const a=e.get(t+o),s=XF(o,n);r+=s*a.x,i+=s*a.y}return{x:r,y:i}}return n=>{if(n.length<3)return n;const r=[],i=n.closed,o=n.length+3-1+(i?0:2);r.push(t(n,2-(i?0:2),0));for(let a=2-(i?0:2);a<o;a++)for(let i=1;i<=e;i++)r.push(t(n,a,i/e));return new KF(r)}}(e)(this)}apply(e){return e(this)}containsElements(e){const t=function(e){if(0===e.length)return null;const t=e[0],n=new IF(t.x,t.y,0,0);for(const t of e)n.addPoint(t);return n}(this.points);return!!t&&e.every(e=>t.containsPt(e.cx,e.cy)&&this.withinArea(e.cx,e.cy))}withinArea(e,t){if(0===this.length)return!1;let n=0;const r=this.points[0],i=new CF(r.x,r.y,r.x,r.y);for(let r=1;r<this.points.length;r++){const o=this.points[r];i.x1=i.x2,i.y1=i.y2,i.x2=o.x,i.y2=o.y,i.cuts(e,t)&&n++}return i.x1=i.x2,i.y1=i.y2,i.x2=r.x,i.y2=r.y,i.cuts(e,t)&&n++,n%2==1}}class QF{constructor(e=0){this.count=0,this.arr=[],this.set=new Set,this.arr.length=e}add(e){this.set.add(`${e.x}x${e.y}`),this.arr[this.count++]=e}contains(e){return this.set.has(`${e.x}x${e.y}`)}isFirst(e){if(0===this.count)return!1;const t=this.arr[0];return null!=t&&t.x===e.x&&t.y===e.y}path(){return new KF(this.arr.slice(0,this.count))}clear(){this.set.clear(),this.count=0}get(e){return this.arr[e]}get length(){return this.count}}function ZF(e,t){const n=2*(Math.floor(e.width)+Math.floor(e.height)),r=new QF(n);function i(n,r,i,o){const a=e.get(n,r);return Number.isNaN(a)?Number.NaN:a>t?i+o:i}function o(e,t){let n=0;return n=i(e,t,n,1),n=i(e+1,t,n,2),n=i(e,t+1,n,4),n=i(e+1,t+1,n,8),Number.isNaN(n)?-1:n}let a=1;function s(t,n){let i=t,s=n,l=e.invertScaleX(i),u=e.invertScaleY(s);for(let t=0;t<e.width*e.height;t++){const t={x:l,y:u};if(r.contains(t)){if(r.isFirst(t))return!0}else r.add(t);const n=o(i,s);switch(n){case-1:return!0;case 0:case 3:case 2:case 7:a=2;break;case 12:case 14:case 4:a=3;break;case 6:a=0===a?3:2;break;case 1:case 13:case 5:a=0;break;case 9:a=2===a?0:1;break;case 10:case 8:case 11:a=1;break;default:return console.warn("Marching squares invalid state: "+n),!0}switch(a){case 0:s--,u-=e.pixelGroup;break;case 1:s++,u+=e.pixelGroup;break;case 3:i--,l-=e.pixelGroup;break;case 2:i++,l+=e.pixelGroup;break;default:return console.warn("Marching squares invalid state: "+n),!0}}return!0}for(let n=0;n<e.width;n++)for(let i=0;i<e.height;i++){if(e.get(n,i)<=t)continue;const a=o(n,i);if(!(a<0||15===a)&&s(n,i))return r.path()}return null}const JF={maxRoutingIterations:100,maxMarchingIterations:20,pixelGroup:4,edgeR0:10,edgeR1:20,nodeR0:15,nodeR1:50,morphBuffer:10,threshold:1,memberInfluenceFactor:1,edgeInfluenceFactor:1,nonMemberInfluenceFactor:-.8,virtualEdges:!0};function ej(e){return null!=e&&"number"==typeof e.radius}function tj(e,t){if(ej(e)!==ej(t))return!1;if(ej(e)){const n=t;return e.cx===n.cx&&e.cy===n.cy&&e.radius===n.radius}const n=t;return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}var nj;!function(e){e[e.MEMBERS=0]="MEMBERS",e[e.NON_MEMBERS=1]="NON_MEMBERS",e[e.EDGES=2]="EDGES"}(nj||(nj={}));let rj=class{constructor(e={}){this.dirty=new Set,this.members=[],this.nonMembers=[],this.virtualEdges=[],this.edges=[],this.activeRegion=new IF(0,0,0,0),this.potentialArea=new FF(1,0,0,0,0,0,0),this.o=Object.assign({},JF,e)}pushMember(...e){if(0!==e.length){this.dirty.add(nj.MEMBERS);for(const t of e)this.members.push({raw:t,obj:ej(t)?zF.from(t):IF.from(t),area:null})}}removeMember(e){const t=this.members.findIndex(t=>tj(t.raw,e));return!(t<0)&&(this.members.splice(t,1),this.dirty.add(nj.MEMBERS),!0)}removeNonMember(e){const t=this.nonMembers.findIndex(t=>tj(t.raw,e));return!(t<0)&&(this.nonMembers.splice(t,1),this.dirty.add(nj.NON_MEMBERS),!0)}removeEdge(e){const t=this.edges.findIndex(t=>t.obj.equals(e));return!(t<0)&&(this.edges.splice(t,1),this.dirty.add(nj.NON_MEMBERS),!0)}pushNonMember(...e){if(0!==e.length){this.dirty.add(nj.NON_MEMBERS);for(const t of e)this.nonMembers.push({raw:t,obj:ej(t)?zF.from(t):IF.from(t),area:null})}}pushEdge(...e){if(0!==e.length){this.dirty.add(nj.EDGES);for(const t of e)this.edges.push({raw:t,obj:CF.from(t),area:null})}}update(){const e=this.dirty.has(nj.MEMBERS),t=this.dirty.has(nj.NON_MEMBERS);let n=this.dirty.has(nj.EDGES);this.dirty.clear();const r=this.members.map(e=>e.obj);if(this.o.virtualEdges&&(e||t)){const e=UF(r,this.nonMembers.map(e=>e.obj),this.o.maxRoutingIterations,this.o.morphBuffer),t=new Map(this.virtualEdges.map(e=>[e.obj.toString(),e.area]));this.virtualEdges=e.map(e=>{var n;return{raw:e,obj:e,area:null!==(n=t.get(e.toString()))&&void 0!==n?n:null}}),n=!0}let i=!1;if(e||n){const e=function(e,t){if(0===e.length)return new IF(0,0,0,0);const n=IF.from(e[0]);for(const t of e)n.add(t);for(const e of t)n.add(OF(e));return n}(r,this.virtualEdges.concat(this.edges).map(e=>e.obj)),t=Math.max(this.o.edgeR1,this.o.nodeR1)+this.o.morphBuffer,n=IF.from(jF(e,t));n.equals(this.activeRegion)||(i=!0,this.activeRegion=n)}if(i){const e=Math.ceil(this.activeRegion.width/this.o.pixelGroup),t=Math.ceil(this.activeRegion.height/this.o.pixelGroup);this.activeRegion.x!==this.potentialArea.pixelX||this.activeRegion.y!==this.potentialArea.pixelY?(this.potentialArea=FF.fromPixelRegion(this.activeRegion,this.o.pixelGroup),this.members.forEach(e=>e.area=null),this.nonMembers.forEach(e=>e.area=null),this.edges.forEach(e=>e.area=null),this.virtualEdges.forEach(e=>e.area=null)):e===this.potentialArea.width&&t===this.potentialArea.height||(this.potentialArea=FF.fromPixelRegion(this.activeRegion,this.o.pixelGroup))}const o=new Map,a=e=>{if(e.area){const t=`${e.obj.width}x${e.obj.height}x${e.obj instanceof IF?"R":"C"}`;o.set(t,e.area)}},s=e=>{if(e.area)return;const t=`${e.obj.width}x${e.obj.height}x${e.obj instanceof IF?"R":"C"}`;if(o.has(t)){const n=o.get(t);return void(e.area=this.potentialArea.copy(n,{x:e.obj.x-this.o.nodeR1,y:e.obj.y-this.o.nodeR1}))}const n=e.obj instanceof IF?function(e,t,n){const r=t.scale(e),i=t.addPadding(r,n),o=t.createSub(i,{x:e.x-n,y:e.y-n}),a=r.x-i.x,s=r.y-i.y,l=i.x2-r.x2,u=i.y2-r.y2,c=i.width-a-l,d=i.height-s-u,h=n*n;o.fillArea({x:a,y:s,width:c+1,height:d+1},h);const f=[0],p=Math.max(s,a,l,u);{const i=t.invertScaleX(r.x+r.width/2);for(let o=1;o<p;o++){const a=t.invertScaleY(r.y-o),s=e.distSquare(i,a);if(!(s<h))break;{const e=n-Math.sqrt(s);f.push(e*e)}}}const g=[],m=Math.max(a,l),y=Math.max(s,l);for(let i=1;i<m;i++){const o=t.invertScaleX(r.x-i),a=[];for(let i=1;i<y;i++){const s=t.invertScaleY(r.y-i),l=e.distSquare(o,s);if(l<h){const e=n-Math.sqrt(l);a.push(e*e)}else a.push(0)}g.push(a)}for(let e=1;e<Math.min(s,f.length);e++){const t=f[e];o.fillHorizontalLine(a,s-e,c+1,t)}for(let e=1;e<Math.min(u,f.length);e++){const t=f[e];o.fillHorizontalLine(a,s+d+e,c+1,t)}for(let e=1;e<Math.min(a,f.length);e++){const t=f[e];o.fillVerticalLine(a-e,s,d+1,t)}for(let e=1;e<Math.min(u,f.length);e++){const t=f[e];o.fillVerticalLine(a+c+e,s,d+1,t)}for(let e=1;e<a;e++){const t=g[e-1],n=a-e;for(let e=1;e<s;e++)o.set(n,s-e,t[e-1]);for(let e=1;e<u;e++)o.set(n,s+d+e,t[e-1])}for(let e=1;e<l;e++){const t=g[e-1],n=a+c+e;for(let e=1;e<s;e++)o.set(n,s-e,t[e-1]);for(let e=1;e<u;e++)o.set(n,s+d+e,t[e-1])}return o}(e.obj,this.potentialArea,this.o.nodeR1):HF(e.obj,this.potentialArea,this.o.nodeR1);e.area=n,o.set(t,n)};this.members.forEach(a),this.nonMembers.forEach(a),this.members.forEach(s),this.nonMembers.forEach(e=>{this.activeRegion.intersects(e.obj)?s(e):e.area=null}),this.edges.forEach(e=>{e.area||(e.area=BF(e.obj,this.potentialArea,this.o.edgeR1))}),this.virtualEdges.forEach(e=>{e.area||(e.area=BF(e.obj,this.potentialArea,this.o.edgeR1))})}drawMembers(e){for(const t of this.members)t.obj.draw(e)}drawNonMembers(e){for(const t of this.nonMembers)t.obj.draw(e)}drawEdges(e){for(const t of this.edges)t.obj.draw(e)}drawPotentialArea(e,t=!0){this.potentialArea.draw(e,t)}compute(){if(0===this.members.length)return new KF([]);this.dirty.size>0&&this.update();const{o:e,potentialArea:t}=this,n=this.members.map(e=>e.area),r=this.virtualEdges.concat(this.edges).map(e=>e.area),i=this.nonMembers.filter(e=>null!=e.area).map(e=>e.area),o=this.members.map(e=>e.obj);return function(e,t,n,r,i,o={}){const a=Object.assign({},JF,o);let s=a.threshold,l=a.memberInfluenceFactor,u=a.edgeInfluenceFactor,c=a.nonMemberInfluenceFactor;const d=(a.nodeR0-a.nodeR1)*(a.nodeR0-a.nodeR1),h=(a.edgeR0-a.edgeR1)*(a.edgeR0-a.edgeR1);for(let o=0;o<a.maxMarchingIterations;o++){if(e.clear(),0!==l){const n=l/d;for(const r of t)e.incArea(r,n)}if(0!==u){const t=u/h;for(const r of n)e.incArea(r,t)}if(0!==c){const t=c/d;for(const n of r)e.incArea(n,t)}const f=ZF(e,s);if(f&&i(f))return f;if(s*=.95,o<=.5*a.maxMarchingIterations)l*=1.2,u*=1.2;else{if(!(0!==c&&r.length>0))break;c*=.8}}return new KF([])}(t,n,r,i,e=>e.containsElements(o),e)}};var ij=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class oj extends yF{constructor(e,t){super(e,St({},oj.defaultOptions,t)),this.members=new Map,this.avoidMembers=new Map,this.bubbleSetOptions={},this.drawBubbleSets=()=>{const{style:e,bubbleSetOptions:t}=this.parseOptions();Ot(this.bubbleSetOptions,t)||this.init(),this.bubbleSetOptions=Object.assign({},t);const n=Object.assign(Object.assign({},e),{d:this.getPath()});this.shape?this.shape.update(n):(this.shape=new ff({style:n}),this.context.canvas.appendChild(this.shape))},this.updateBubbleSetsPath=e=>{if(!this.shape)return;const t=Ad(e.data);[...this.options.members,...this.options.avoidMembers].includes(t)&&this.shape.update(Object.assign(Object.assign({},this.parseOptions().style),{d:this.getPath(t)}))},this.getPath=e=>{const{graph:t}=this.context,n=this.options.members,r=[...this.members.keys()],i=this.options.avoidMembers,o=[...this.avoidMembers.keys()];if(!e&&Ot(n,r)&&Ot(i,o))return this.path;const{enter:a=[],exit:s=[]}=Vd(r,n,e=>e),{enter:l=[],exit:u=[]}=Vd(o,i,e=>e);e&&(s.push(e),a.push(e));const c=(e,n,r)=>{e.forEach(e=>{const i=r?this.members:this.avoidMembers,o=r?"pushMember":"pushNonMember",a=r?"removeMember":"removeNonMember";if(n){let n;"edge"===t.getElementType(e)?([n]=sj(t,e),this.bubbleSets.pushEdge(n)):([n]=aj(t,e),this.bubbleSets[o](n)),i.set(e,n)}else{const n=i.get(e);n&&("edge"===t.getElementType(e)?this.bubbleSets.removeEdge(n):this.bubbleSets[a](n),i.delete(e))}})};c(s,!1,!0),c(a,!0,!0),c(u,!1,!1),c(l,!0,!1);const d=this.bubbleSets.compute().sample(8).simplify(0).bSplines().simplify(0);return this.path=df(d.points.map(gh)),this.path},this.bindEvents(),this.bubbleSets=new rj(this.options)}bindEvents(){this.context.graph.on(Ac.AFTER_RENDER,this.drawBubbleSets),this.context.graph.on(Ac.AFTER_ELEMENT_UPDATE,this.updateBubbleSetsPath)}init(){this.bubbleSets=new rj(this.options),this.members=new Map,this.avoidMembers=new Map}parseOptions(){const e=this.options,{type:t,key:n,members:r,avoidMembers:i}=e,o=ij(e,["type","key","members","avoidMembers"]),a=Object.keys(o).reduce((e,t)=>(t in JF?e.bubbleSetOptions[t]=o[t]:e.style[t]=o[t],e),{style:{},bubbleSetOptions:{}});return Object.assign({type:t,key:n,members:r,avoidMembers:i},a)}addMember(e){const t=Array.isArray(e)?e:[e];t.some(e=>this.options.avoidMembers.includes(e))&&(this.options.avoidMembers=this.options.avoidMembers.filter(e=>!t.includes(e))),this.options.members=[...new Set([...this.options.members,...t])],this.drawBubbleSets()}removeMember(e){const t=Array.isArray(e)?e:[e];this.options.members=this.options.members.filter(e=>!t.includes(e)),this.drawBubbleSets()}updateMember(e){this.options.members=$e(e)?e(this.options.members):e,this.drawBubbleSets()}getMember(){return this.options.members}addAvoidMember(e){const t=Array.isArray(e)?e:[e];t.some(e=>this.options.members.includes(e))&&(this.options.members=this.options.members.filter(e=>!t.includes(e))),this.options.avoidMembers=[...new Set([...this.options.avoidMembers,...t])],this.drawBubbleSets()}removeAvoidMember(e){const t=Array.isArray(e)?e:[e];this.options.avoidMembers.some(e=>t.includes(e))&&(this.options.avoidMembers=this.options.avoidMembers.filter(e=>!t.includes(e)),this.drawBubbleSets())}updateAvoidMember(e){this.options.avoidMembers=Array.isArray(e)?e:[e],this.drawBubbleSets()}getAvoidMember(){return this.options.avoidMembers}destroy(){this.context.graph.off(Ac.AFTER_RENDER,this.drawBubbleSets),this.context.graph.off(Ac.AFTER_ELEMENT_UPDATE,this.updateBubbleSetsPath),this.shape.destroy(),super.destroy()}}oj.defaultOptions=Object.assign({members:[],avoidMembers:[],fill:"lightblue",fillOpacity:.2,stroke:"blue",strokeOpacity:.2},JF);const aj=(e,t)=>(Array.isArray(t)?t:[t]).map(t=>{const n=e.getElementRenderBounds(t);return new IF(n.min[0],n.min[1],ad(n),sd(n))}),sj=(e,t)=>(Array.isArray(t)?t:[t]).map(t=>{const n=e.getEdgeData(t),r=e.getElementPosition(n.source),i=e.getElementPosition(n.target);return CF.from({x1:r[0],y1:r[1],x2:i[0],y2:i[1]})});var lj=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class uj extends yF{constructor(e,t){super(e,Object.assign({},uj.defaultOptions,t)),this.targetElement=null,this.onTriggerEvent=e=>{var t;null===(t=e.preventDefault)||void 0===t||t.call(e),this.show(e)},this.onMenuItemClick=e=>{const{onClick:t,trigger:n}=this.options;if(e.target instanceof HTMLElement&&e.target.className.includes("g6-contextmenu-li")){const n=e.target.getAttribute("value");null==t||t(n,e.target,this.targetElement),this.hide()}"click"!==n&&this.hide()},this.initElement(),this.update(t)}initElement(){this.$element=vF("contextmenu",!1,{zIndex:"99"});const{className:e}=this.options;e&&this.$element.classList.add(e);this.context.canvas.getContainer().appendChild(this.$element),bF("g6-contextmenu-css","style",{},"\n  .g6-contextmenu {\n    font-size: 12px;\n    background-color: rgba(255, 255, 255, 0.96);\n    border-radius: 4px;\n    overflow: hidden;\n    box-shadow: rgba(0, 0, 0, 0.12) 0px 6px 12px 0px;\n    transition: visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1) 0s, left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s;\n  }\n\n  .g6-contextmenu-ul {\n    max-width: 256px;\n    min-width: 96px;\n    list-style: none;\n    padding: 0;\n    margin: 0;\n  }\n\n  .g6-contextmenu-li {\n    padding: 8px 12px;\n    cursor: pointer;\n    user-select: none;\n  }\n\n  .g6-contextmenu-li:hover {\n    background-color: #f5f5f5;\n    cursor: pointer;\n  }\n",document.head)}show(e){return lj(this,void 0,void 0,function*(){const{enable:t,offset:n}=this.options;if("function"==typeof t&&!t(e)||!t)return void this.hide();const r=yield this.getDOMContent(e);r instanceof HTMLElement?(this.$element.innerHTML="",this.$element.appendChild(r)):this.$element.innerHTML=r;const i=this.context.graph.getCanvas().getContainer().getBoundingClientRect();this.$element.style.left=`${e.client.x-i.left+n[0]}px`,this.$element.style.top=`${e.client.y-i.top+n[1]}px`,this.$element.style.display="block",this.targetElement=e.target})}hide(){this.$element.style.display="none",this.targetElement=null}update(e){this.unbindEvents(),super.update(e),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy(),this.$element.remove()}getDOMContent(e){return lj(this,void 0,void 0,function*(){const{getContent:t,getItems:n}=this.options;return n?`\n    <ul class="g6-contextmenu-ul">\n      ${(yield n(e)).map(e=>`<li  class="g6-contextmenu-li" value="${e.value}">${e.name}</li>`).join("")}\n    </ul>\n  `:yield t(e)})}bindEvents(){const{graph:e}=this.context,{trigger:t}=this.options;e.on(`canvas:${t}`,this.onTriggerEvent),e.on(`node:${t}`,this.onTriggerEvent),e.on(`edge:${t}`,this.onTriggerEvent),e.on(`combo:${t}`,this.onTriggerEvent),document.addEventListener("click",this.onMenuItemClick)}unbindEvents(){const{graph:e}=this.context,{trigger:t}=this.options;e.off(`canvas:${t}`,this.onTriggerEvent),e.off(`node:${t}`,this.onTriggerEvent),e.off(`edge:${t}`,this.onTriggerEvent),e.off(`combo:${t}`,this.onTriggerEvent),document.removeEventListener("click",this.onMenuItemClick)}}uj.defaultOptions={trigger:"contextmenu",offset:[4,4],loadingContent:'<div class="g6-contextmenu-loading">Loading...</div>',getContent:()=>"It is a empty context menu.",enable:()=>!0};class cj extends yF{constructor(e,t){super(e,Object.assign({},cj.defaultOptions,t)),this.edgeBundles={},this.edgePoints={},this.onBundle=()=>{const{model:e,element:t}=this.context,n=e.getEdgeData();this.divideEdges(this.options.divisions);const{cycles:r,iterRate:i,divRate:o}=this.options;let{lambda:a,divisions:s,iterations:l}=this.options;for(let e=0;e<r;e++){for(let e=0;e<l;e++){const e={};n.forEach(t=>{var n;if(t.source===t.target)return;const r=Ad(t);e[r]=this.getEdgeForces(t,s,a);for(let t=0;t<s+1;t++)(n=this.edgePoints)[r]||(n[r]=[]),this.edgePoints[r][t]=Xd(this.edgePoints[r][t],e[r][t])})}a/=2,s*=o,l*=i,this.divideEdges(s)}n.forEach(e=>{const n=Ad(e),r=t.getElement(n);null==r||r.update({d:fg(this.edgePoints[n])})})},this.bindEvents()}get nodeMap(){const e=this.context.model.getNodeData();return Object.fromEntries(e.map(e=>[Ad(e),ah(hh(e))]))}divideEdges(e){this.context.model.getEdgeData().forEach(t=>{var n;const r=Ad(t);(n=this.edgePoints)[r]||(n[r]=[]);const i=this.nodeMap[t.source],o=this.nodeMap[t.target];if(1===e)this.edgePoints[r].push(i),this.edgePoints[r].push(Zd(Xd(i,o),2)),this.edgePoints[r].push(o);else{const t=(0===this.edgePoints[r].length?eh(i,o):yj(this.edgePoints[r]))/(e+1);let n=t;const a=[i];for(let e=1;e<this.edgePoints[r].length;e++){const i=this.edgePoints[r][e-1],o=this.edgePoints[r][e];let s=eh(o,i);for(;s>n;){const e=n/s,r=Xd(i,Qd(Kd(o,i),e));a.push(r),s-=n,n=t}n-=s}a.push(o),this.edgePoints[r]=a}})}getVectorPosition(e){const t=this.nodeMap[e.source],n=this.nodeMap[e.target],[r,i]=Kd(n,t);return{source:t,target:n,vx:r,vy:i,length:eh(t,n)}}measureEdgeCompatibility(e,t){const n=this.getVectorPosition(e),r=this.getVectorPosition(t);return dj(n,r)*hj(n,r)*fj(n,r)*mj(n,r)}getEdgeBundles(){const e={},t=this.options.bundleThreshold,n=this.context.model.getEdgeData();return n.forEach((r,i)=>{n.forEach((n,o)=>{var a,s;if(o<=i)return;this.measureEdgeCompatibility(r,n)>=t&&(e[a=Ad(r)]||(e[a]=[]),e[Ad(r)].push(n),e[s=Ad(n)]||(e[s]=[]),e[Ad(n)].push(r))})}),e}getSpringForce(e,t){const{pre:n,cur:r,next:i}=e;return Qd(Kd(Xd(n,i),Qd(r,2)),t)}getElectrostaticForce(e,t){Tt(this.edgeBundles)&&(this.edgeBundles=this.getEdgeBundles());const n=this.edgeBundles[Ad(t)];let r=[0,0];return null==n||n.forEach(n=>{const i=this.edgePoints[Ad(n)][e],o=this.edgePoints[Ad(t)][e],a=Kd(i,o),s=eh(i,o);r=Xd(r,Qd(a,1/s))}),r}getEdgeForces(e,t,n){const r=this.nodeMap[e.source],i=this.nodeMap[e.target],o=this.options.K/(eh(r,i)*(t+1)),a=[[0,0]],s=Ad(e);for(let r=1;r<t;r++){const t=this.getSpringForce({pre:this.edgePoints[s][r-1],cur:this.edgePoints[s][r],next:this.edgePoints[s][r+1]||[0,0]},o),i=this.getElectrostaticForce(r,e);a.push(Qd(Xd(t,i),n))}return a.push([0,0]),a}bindEvents(){const{graph:e}=this.context;e.on(Ac.AFTER_RENDER,this.onBundle)}unbindEvents(){const{graph:e}=this.context;e.off(Ac.AFTER_RENDER,this.onBundle)}destroy(){this.unbindEvents(),super.destroy()}}cj.defaultOptions={K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:2/3,bundleThreshold:.6};const dj=(e,t)=>Math.abs(function(e,t){return e.reduce((e,n,r)=>e+n*t[r],0)}([e.vx,e.vy],[t.vx,t.vy])/(e.length*t.length)),hj=(e,t)=>{const n=(e.length+t.length)/2;return 2/(n/Math.min(e.length,t.length)+Math.max(e.length,t.length)/n)},fj=(e,t)=>{const n=(e.length+t.length)/2;return n/(n+eh(Zd(Xd(e.source,e.target),2),Zd(Xd(t.source,t.target),2)))},pj=(e,t)=>{if(t.source[0]===t.target[0])return[t.source[0],e[1]];if(t.source[1]===t.target[1])return[e[0],t.source[1]];const n=(t.source[1]-t.target[1])/(t.source[0]-t.target[0]),r=(n*n*t.source[0]+n*(e[1]-t.source[1])+e[0])/(n*n+1);return[r,n*(r-t.source[0])+t.source[1]]},gj=(e,t)=>{const n=pj(t.source,e),r=pj(t.target,e),i=Zd(Xd(n,r),2),o=Zd(Xd(e.source,e.target),2);return 0===eh(n,r)?0:Math.max(0,1-2*eh(o,i)/eh(n,r))},mj=(e,t)=>Math.min(gj(e,t),gj(t,e)),yj=e=>{let t=0;for(let n=1;n<e.length;n++)t+=eh(e[n],e[n-1]);return t},vj={fill:"#fff",fillOpacity:1,lineWidth:1,stroke:"#000",strokeOpacity:.8,zIndex:-1/0};class bj extends yF{constructor(e,t){super(e,Object.assign({},bj.defaultOptions,t)),this.shapes=new Map,this.r=this.options.r,this.onEdgeFilter=e=>{if("drag"===this.options.trigger&&this.isLensOn)return;const t=gh(e.canvas);this.renderLens(t),this.renderFocusElements()},this.renderLens=e=>{const t=Object.assign({},vj,this.options.style);this.isLensOn||(this.lens=new kf({style:t}),this.canvas.appendChild(this.lens)),Object.assign(t,mh(e),{size:2*this.r}),this.lens.update(t)},this.getFilterData=()=>{const{filter:e}=this.options,{model:t}=this.context,n=t.getData();if(!e)return n;const{nodes:r,edges:i,combos:o}=n;return{nodes:r.filter(t=>e(Ad(t),"node")),edges:i.filter(t=>e(Ad(t),"edge")),combos:o.filter(t=>e(Ad(t),"combo"))}},this.getFocusElements=e=>{const{nodes:t,edges:n}=this.getFilterData(),r=t.filter(t=>eh(hh(t),e)<this.r),i=r.map(e=>Ad(e));return{nodes:r,edges:n.filter(e=>{const{source:t,target:n}=e,r=i.includes(t),o=i.includes(n);switch(this.options.nodeType){case"both":return r&&o;case"either":return r!==o;case"source":return r&&!o;case"target":return!r&&o;default:return!1}})}},this.renderFocusElements=()=>{const{element:e,graph:t}=this.context;if(!this.isLensOn)return;const n=this.lens.getCenter(),{nodes:r,edges:i}=this.getFocusElements(n),o=new Set,a=n=>{const r=Ad(n);o.add(r);const i=e.getElement(r);if(!i)return;const a=this.shapes.get(r)||i.cloneNode();a.setPosition(i.getPosition()),a.id=i.id,this.shapes.has(r)?Object.entries(i.attributes).forEach(([e,t])=>{a.style[e]!==t&&(a.style[e]=t)}):(this.canvas.appendChild(a),this.shapes.set(r,a));const s=t.getElementType(r),l=this.getElementStyle(s,n);a.update(l)};r.forEach(a),i.forEach(a),this.shapes.forEach((e,t)=>{o.has(t)||(e.destroy(),this.shapes.delete(t))})},this.scaleRByWheel=e=>{var t;this.options.preventDefault&&e.preventDefault();const{clientX:n,clientY:r,deltaX:i,deltaY:o}=e,{graph:a,canvas:s}=this.context,l=a.getCanvasByClient([n,r]),u=null===(t=this.lens)||void 0===t?void 0:t.getCenter();if(!this.isLensOn||eh(l,u)>this.r)return;const{maxR:c,minR:d}=this.options,h=i+o>0?1/.95:.95,f=Math.min(...s.getSize())/2;this.r=Math.max(d||0,Math.min(c||f,this.r*h)),this.renderLens(u),this.renderFocusElements()},this.isLensDragging=!1,this.onDragStart=e=>{var t;const n=gh(e.canvas),r=null===(t=this.lens)||void 0===t?void 0:t.getCenter();!this.isLensOn||eh(n,r)>this.r||(this.isLensDragging=!0)},this.onDrag=e=>{if(!this.isLensDragging)return;const t=gh(e.canvas);this.renderLens(t),this.renderFocusElements()},this.onDragEnd=()=>{this.isLensDragging=!1},this.bindEvents()}get canvas(){return this.context.canvas.getLayer("transient")}get isLensOn(){return this.lens&&!this.lens.destroyed}getElementStyle(e,t){const n="node"===e?this.options.nodeStyle:this.options.edgeStyle;return"function"==typeof n?n(t):n}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}bindEvents(){var e;const{graph:t}=this.context,{trigger:n,scaleRBy:r}=this.options,i=t.getCanvas().getLayer();["click","drag"].includes(n)&&i.addEventListener(Cc.CLICK,this.onEdgeFilter),"pointermove"===n?i.addEventListener(Cc.POINTER_MOVE,this.onEdgeFilter):"drag"===n&&(i.addEventListener(Cc.DRAG_START,this.onDragStart),i.addEventListener(Cc.DRAG,this.onDrag),i.addEventListener(Cc.DRAG_END,this.onDragEnd)),"wheel"===r&&(null===(e=this.graphDom)||void 0===e||e.addEventListener(Cc.WHEEL,this.scaleRByWheel,{passive:!1}))}unbindEvents(){var e;const{graph:t}=this.context,{trigger:n,scaleRBy:r}=this.options,i=t.getCanvas().getLayer();["click","drag"].includes(n)&&i.removeEventListener(Cc.CLICK,this.onEdgeFilter),"pointermove"===n?i.removeEventListener(Cc.POINTER_MOVE,this.onEdgeFilter):"drag"===n&&(i.removeEventListener(Cc.DRAG_START,this.onDragStart),i.removeEventListener(Cc.DRAG,this.onDrag),i.removeEventListener(Cc.DRAG_END,this.onDragEnd)),"wheel"===r&&(null===(e=this.graphDom)||void 0===e||e.removeEventListener(Cc.WHEEL,this.scaleRByWheel))}update(e){var t;this.unbindEvents(),super.update(e),this.r=null!==(t=e.r)&&void 0!==t?t:this.r,this.bindEvents()}destroy(){this.unbindEvents(),this.isLensOn&&this.lens.destroy(),this.shapes.forEach((e,t)=>{e.destroy(),this.shapes.delete(t)}),super.destroy()}}bj.defaultOptions={trigger:"pointermove",r:60,nodeType:"both",filter:()=>!0,style:{lineWidth:2},nodeStyle:{label:!1},edgeStyle:{label:!0},scaleRBy:"wheel",preventDefault:!0};const wj={fill:"#ccc",fillOpacity:.1,lineWidth:2,stroke:"#000",strokeOpacity:.8,labelFontSize:12};class xj extends yF{constructor(e,t){super(e,Object.assign({},xj.defaultOptions,t)),this.r=this.options.r,this.d=this.options.d,this.onCreateFisheye=e=>{if("drag"===this.options.trigger&&this.isLensOn)return;const t=gh(e.canvas);this.onMagnify(t)},this.onMagnify=e=>{e.some(isNaN)||(this.renderLens(e),this.renderFocusElements())},this.renderLens=e=>{const t=Object.assign({},wj,this.options.style);this.isLensOn||(this.lens=new kf({style:t}),this.canvas.appendChild(this.lens)),Object.assign(t,mh(e),{size:2*this.r,label:this.options.showDPercent,labelText:this.getDPercent()}),this.lens.update(t)},this.getDPercent=()=>{const{minD:e,maxD:t}=this.options;return`${Math.round((this.d-e)/(t-e)*100)}%`},this.prevMagnifiedStyleMap=new Map,this.prevOriginStyleMap=new Map,this.renderFocusElements=()=>{if(!this.isLensOn)return;const{graph:e}=this.context,t=this.lens.getCenter(),n=(this.d+1)*this.r,r=new Map,i=new Map;e.getNodeData().forEach(o=>{const a=hh(o),s=eh(a,t);if(s>this.r)return;const l=n*s/(this.d*s+this.r),[u,c]=a,[d,h]=t,f=[d+l*((u-d)/s),h+l*((c-h)/s)],p=Ad(o),g=this.getNodeStyle(o),m=At(e.getElementRenderStyle(p),Object.keys(g));r.set(p,Object.assign(Object.assign({},mh(f)),g)),i.set(p,Object.assign(Object.assign({},mh(a)),m))}),this.updateStyle(r,i)},this.getNodeStyle=e=>{const{nodeStyle:t}=this.options;return"function"==typeof t?t(e):t},this.updateStyle=(e,t)=>{const{graph:n,element:r}=this.context,{enter:i,exit:o,keep:a}=Vd(Array.from(this.prevMagnifiedStyleMap.keys()),Array.from(e.keys()),e=>e),s=new Set,l=(e,t)=>{const i=r.getElement(e);null==i||i.update(t),n.getRelatedEdgesData(e).forEach(e=>{s.add(Ad(e))})};[...i,...a].forEach(t=>{l(t,e.get(t))}),o.forEach(e=>{l(e,this.prevOriginStyleMap.get(e)),this.prevOriginStyleMap.delete(e)}),s.forEach(e=>{const t=r.getElement(e);null==t||t.update({})}),this.prevMagnifiedStyleMap=e,t.forEach((e,t)=>{this.prevOriginStyleMap.has(t)||this.prevOriginStyleMap.set(t,e)})},this.isWheelValid=e=>{if(this.options.preventDefault&&e.preventDefault(),!this.isLensOn)return!1;const{clientX:t,clientY:n}=e;return!(eh(this.context.graph.getCanvasByClient([t,n]),this.lens.getCenter())>this.r)},this.scaleR=e=>{const{maxR:t,minR:n}=this.options,r=e?1/.95:.95,i=Math.min(...this.context.canvas.getSize())/2;this.r=Math.max(n||0,Math.min(t||i,this.r*r))},this.scaleD=e=>{const{maxD:t,minD:n}=this.options,r=e?this.d+.1:this.d-.1;this.d=Math.max(n,Math.min(t,r))},this.scaleRByWheel=e=>{if(!this.isWheelValid(e))return;const{deltaX:t,deltaY:n}=e;this.scaleR(t+n>0);const r=this.lens.getCenter();this.onMagnify(r)},this.scaleDByWheel=e=>{if(!this.isWheelValid(e))return;const{deltaX:t,deltaY:n}=e;this.scaleD(t+n>0);const r=this.lens.getCenter();this.onMagnify(r)},this.isDragValid=e=>{if(this.options.preventDefault&&e.preventDefault(),!this.isLensOn)return!1;return!(eh(gh(e.canvas),this.lens.getCenter())>this.r)},this.isLensDragging=!1,this.onDragStart=e=>{this.isDragValid(e)&&(this.isLensDragging=!0)},this.onDrag=e=>{if(!this.isLensDragging)return;const t=gh(e.canvas);this.onMagnify(t)},this.onDragEnd=()=>{this.isLensDragging=!1},this.scaleRByDrag=e=>{if(!this.isLensDragging)return;const{dx:t,dy:n}=e;this.scaleR(t-n>0);const r=this.lens.getCenter();this.onMagnify(r)},this.scaleDByDrag=e=>{if(!this.isLensDragging)return;const{dx:t,dy:n}=e;this.scaleD(t-n>0);const r=this.lens.getCenter();this.onMagnify(r)},this.bindEvents()}get canvas(){return this.context.canvas.getLayer("transient")}get isLensOn(){return this.lens&&!this.lens.destroyed}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}bindEvents(){var e;const{graph:t}=this.context,{trigger:n,scaleRBy:r,scaleDBy:i}=this.options,o=t.getCanvas().getLayer();if(["click","drag"].includes(n)&&o.addEventListener(Cc.CLICK,this.onCreateFisheye),"pointermove"===n&&o.addEventListener(Cc.POINTER_MOVE,this.onCreateFisheye),"drag"===n||"drag"===r||"drag"===i){o.addEventListener(Cc.DRAG_START,this.onDragStart),o.addEventListener(Cc.DRAG_END,this.onDragEnd);const e="drag"===n?this.onDrag:"drag"===r?this.scaleRByDrag:this.scaleDByDrag;o.addEventListener(Cc.DRAG,e)}if("wheel"===r||"wheel"===i){const t="wheel"===r?this.scaleRByWheel:this.scaleDByWheel;null===(e=this.graphDom)||void 0===e||e.addEventListener(Cc.WHEEL,t,{passive:!1})}}unbindEvents(){var e;const{graph:t}=this.context,{trigger:n,scaleRBy:r,scaleDBy:i}=this.options,o=t.getCanvas().getLayer();if(["click","drag"].includes(n)&&o.removeEventListener(Cc.CLICK,this.onCreateFisheye),"pointermove"===n&&o.removeEventListener(Cc.POINTER_MOVE,this.onCreateFisheye),"drag"===n||"drag"===r||"drag"===i){o.removeEventListener(Cc.DRAG_START,this.onDragStart),o.removeEventListener(Cc.DRAG_END,this.onDragEnd);const e="drag"===n?this.onDrag:"drag"===r?this.scaleRByDrag:this.scaleDByDrag;o.removeEventListener(Cc.DRAG,e)}if("wheel"===r||"wheel"===i){const t="wheel"===r?this.scaleRByWheel:this.scaleDByWheel;null===(e=this.graphDom)||void 0===e||e.removeEventListener(Cc.WHEEL,t)}}update(e){var t,n;this.unbindEvents(),super.update(e),this.r=null!==(t=e.r)&&void 0!==t?t:this.r,this.d=null!==(n=e.d)&&void 0!==n?n:this.d,this.bindEvents()}destroy(){var e;this.unbindEvents(),this.isLensOn&&(null===(e=this.lens)||void 0===e||e.destroy()),this.prevMagnifiedStyleMap.clear(),this.prevOriginStyleMap.clear(),super.destroy()}}xj.defaultOptions={trigger:"pointermove",r:120,d:1.5,maxD:5,minD:0,showDPercent:!0,style:{},nodeStyle:{label:!0},preventDefault:!0};class Ej extends yF{constructor(e,t){super(e,Object.assign({},Ej.defaultOptions,t)),this.$el=this.context.canvas.getContainer(),this.graphSize=[0,0],this.onFullscreenChange=()=>{var e,t,n,r;const i=!!document.fullscreenElement;this.options.autoFit&&this.setGraphSize(i),i?null===(t=(e=this.options).onEnter)||void 0===t||t.call(e):null===(r=(n=this.options).onExit)||void 0===r||r.call(n)},this.shortcut=new Ah(e.graph),this.bindEvents(),this.style=document.createElement("style"),document.head.appendChild(this.style),this.style.innerHTML="\n      :not(:root):fullscreen::backdrop {\n        background: transparent;\n      }\n    "}bindEvents(){this.unbindEvents(),this.shortcut.unbindAll();const{request:e=[],exit:t=[]}=this.options.trigger;this.shortcut.bind(e,this.request),this.shortcut.bind(t,this.exit);["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"].forEach(e=>{document.addEventListener(e,this.onFullscreenChange,!1)})}unbindEvents(){this.shortcut.unbindAll();["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"].forEach(e=>{document.removeEventListener(e,this.onFullscreenChange,!1)})}setGraphSize(e=!0){var t,n;let r,i;e?(r=(null===(t=globalThis.screen)||void 0===t?void 0:t.width)||0,i=(null===(n=globalThis.screen)||void 0===n?void 0:n.height)||0,this.graphSize=this.context.graph.getSize()):[r,i]=this.graphSize,this.context.graph.setSize(r,i),this.context.graph.render()}request(){!document.fullscreenElement&&(document.fullscreenEnabled||Reflect.get(document,"webkitFullscreenEnabled")||Reflect.get(document,"mozFullscreenEnabled")||Reflect.get(document,"msFullscreenEnabled"))&&this.$el.requestFullscreen().catch(e=>{Bc(`Error attempting to enable full-screen: ${e.message} (${e.name})`)})}exit(){document.fullscreenElement&&document.exitFullscreen()}update(e){this.unbindEvents(),super.update(e),this.bindEvents()}destroy(){this.exit(),this.style.remove(),super.destroy()}}Ej.defaultOptions={trigger:{},autoFit:!0};class kj extends yF{constructor(e,t){super(e,Object.assign({},kj.defaultOptions,t)),this.$element=vF("grid-line",!0),this.offset=[0,0],this.currentScale=1,this.followZoom=e=>{const{data:{scale:t,origin:n}}=e;if(!t)return;const r=this.currentScale;this.currentScale=t;const i=t/r,o=Qd(n||this.context.graph.getCanvasCenter(),1-i),a=this.baseSize*t,s=Xd(oh(Qd(this.offset,i),a),o);this.$element.style.backgroundSize=`${a}px ${a}px`,this.$element.style.backgroundPosition=`${s[0]}px ${s[1]}px`,this.offset=oh(s,a)},this.followTranslate=e=>{if(!this.options.follow)return;const{data:{translate:t}}=e;t&&this.updateOffset(t)},this.onTransform=e=>{const t=this.parseFollow(this.options.follow);t.zoom&&this.followZoom(e),t.translate&&this.followTranslate(e)};this.context.canvas.getContainer().prepend(this.$element),this.baseSize=this.options.size,this.updateStyle(),this.bindEvents()}update(e){super.update(e),void 0!==e.size&&(this.baseSize=e.size),this.updateStyle()}bindEvents(){const{graph:e}=this.context;e.on(Ac.AFTER_TRANSFORM,this.onTransform)}updateStyle(){const{stroke:e,lineWidth:t,border:n,borderLineWidth:r,borderStroke:i,borderStyle:o}=this.options,a=this.baseSize*this.currentScale;Object.assign(this.$element.style,{border:n?`${r}px ${o} ${i}`:"none",backgroundImage:`linear-gradient(${e} ${t}px, transparent ${t}px), linear-gradient(90deg, ${e} ${t}px, transparent ${t}px)`,backgroundSize:`${a}px ${a}px`,backgroundRepeat:"repeat"})}updateOffset(e){const t=this.baseSize*this.currentScale;this.offset=oh(Xd(this.offset,e),t),this.$element.style.backgroundPosition=`${this.offset[0]}px ${this.offset[1]}px`}parseFollow(e){var t,n;return gt(e)?{translate:e,zoom:e}:{translate:null!==(t=null==e?void 0:e.translate)&&void 0!==t&&t,zoom:null!==(n=null==e?void 0:e.zoom)&&void 0!==n&&n}}destroy(){this.context.graph.off(Ac.AFTER_TRANSFORM,this.onTransform),this.$element.remove(),super.destroy()}}function Sj(e){const t={Added:new Map,Updated:new Map,Removed:new Map};return e.forEach(e=>{const{type:n,value:r}=e,i=Ad(r);if("NodeAdded"===n||"EdgeAdded"===n||"ComboAdded"===n)t.Added.set(i,e);else if("NodeUpdated"===n||"EdgeUpdated"===n||"ComboUpdated"===n)if(t.Added.has(i))t.Added.set(i,{type:n.replace("Updated","Added"),value:r});else if(t.Updated.has(i)){const{original:e}=t.Updated.get(i);t.Updated.set(i,{type:n,value:r,original:e})}else t.Removed.has(i)||t.Updated.set(i,e);else"NodeRemoved"!==n&&"EdgeRemoved"!==n&&"ComboRemoved"!==n||(t.Added.has(i)?t.Added.delete(i):t.Updated.has(i)?(t.Updated.delete(i),t.Removed.set(i,e)):t.Removed.set(i,e))}),[...Array.from(t.Added.values()),...Array.from(t.Updated.values()),...Array.from(t.Removed.values())]}function Mj(e){const{NodeAdded:t=[],NodeUpdated:n=[],NodeRemoved:r=[],EdgeAdded:i=[],EdgeUpdated:o=[],EdgeRemoved:a=[],ComboAdded:s=[],ComboUpdated:l=[],ComboRemoved:u=[]}=ot(e,e=>e.type);return{add:{nodes:t,edges:i,combos:s},update:{nodes:n,edges:o,combos:l},remove:{nodes:r,edges:a,combos:u}}}function Tj(e,t){for(const n in e)Xe(e[n])&&!Array.isArray(e[n])&&null!==e[n]?(t[n]||(t[n]={}),Tj(e[n],t[n])):void 0===t[n]&&(t[n]=Wc(n))}function Oj(e,t=!1,n){const r={animation:t,current:{add:{},update:{},remove:{}},original:{add:{},update:{},remove:{}}},{add:i,update:o,remove:a}=Mj(Sj(e));return["nodes","edges","combos"].forEach(e=>{o[e]&&o[e].forEach(t=>{var i,o;const a=Object.assign({},t.value);let s=Object.assign({},t.original);if(n){const e=n.graph.getElementType(Ad(t.original)),r="edge"===e?"stroke":"fill",i=n.element.getElementComputedStyle(e,t.original);s=Object.assign(Object.assign({},t.original),{style:Object.assign({[r]:i[r]},t.original.style)})}Tj(a,s),(i=r.current.update)[e]||(i[e]=[]),r.current.update[e].push(a),(o=r.original.update)[e]||(o[e]=[]),r.original.update[e].push(s)}),i[e]&&i[e].forEach(t=>{var n,i;const o=Object.assign({},t.value);(n=r.current.add)[e]||(n[e]=[]),r.current.add[e].push(o),(i=r.original.remove)[e]||(i[e]=[]),r.original.remove[e].push(o)}),a[e]&&a[e].forEach(t=>{var n,i;const o=Object.assign({},t.value);(n=r.current.remove)[e]||(n[e]=[]),r.current.remove[e].push(o),(i=r.original.add)[e]||(i[e]=[]),r.original.add[e].push(o)})}),r}kj.defaultOptions={border:!0,borderLineWidth:1,borderStroke:"#eee",borderStyle:"solid",lineWidth:1,size:20,stroke:"#eee"};class Cj extends yF{constructor(e,t){super(e,Object.assign({},Cj.defaultOptions,t)),this.batchChanges=null,this.batchAnimation=!1,this.undoStack=[],this.redoStack=[],this.freezed=!1,this.executeCommand=(e,t=!0)=>{var n,r,i;this.freezed=!0,null===(r=(n=this.options).executeCommand)||void 0===r||r.call(n,e);const o=t?e.original:e.current;this.context.graph.addData(o.add),this.context.graph.updateData(o.update),this.context.graph.removeData(_d(o.remove,!1)),null===(i=this.context.element)||void 0===i||i.draw({silence:!0,animation:e.animation}),this.freezed=!1},this.addCommand=e=>{var t;if(!this.freezed){if(e.type===Ac.AFTER_DRAW){const{dataChanges:n=[],animation:r=!0}=e.data;if(null===(t=this.context.batch)||void 0===t?void 0:t.isBatching){if(!this.batchChanges)return;return this.batchChanges.push(n),void(this.batchAnimation&&(this.batchAnimation=r))}this.batchChanges=[n],this.batchAnimation=r}this.undoStackPush(Oj(this.batchChanges.flat(),this.batchAnimation,this.context)),this.notify(Rc.ADD,this.undoStack[this.undoStack.length-1])}},this.initBatchCommand=e=>{const{initiate:t}=e.data;if(this.batchAnimation=!1,t)this.batchChanges=[];else{this.undoStack.pop()||(this.batchChanges=null)}},this.emitter=new hm;const{graph:n}=this.context;n.on(Ac.AFTER_DRAW,this.addCommand),n.on(Ac.BATCH_START,this.initBatchCommand),n.on(Ac.BATCH_END,this.addCommand)}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}undo(){var e,t,n,r;const i=this.undoStack.pop();if(i){this.executeCommand(i);if(!1===(null===(t=(e=this.options).beforeAddCommand)||void 0===t?void 0:t.call(e,i,!1)))return;this.redoStack.push(i),null===(r=(n=this.options).afterAddCommand)||void 0===r||r.call(n,i,!1),this.notify(Rc.UNDO,i)}return this}redo(){const e=this.redoStack.pop();return e&&(this.executeCommand(e,!1),this.undoStackPush(e),this.notify(Rc.REDO,e)),this}undoAndCancel(){const e=this.undoStack.pop();return e&&(this.executeCommand(e,!1),this.redoStack=[],this.notify(Rc.CANCEL,e)),this}undoStackPush(e){var t,n,r,i;const{stackSize:o}=this.options;0!==o&&this.undoStack.length>=o&&this.undoStack.shift();!1!==(null===(n=(t=this.options).beforeAddCommand)||void 0===n?void 0:n.call(t,e,!0))&&(this.undoStack.push(e),null===(i=(r=this.options).afterAddCommand)||void 0===i||i.call(r,e,!0))}clear(){this.undoStack=[],this.redoStack=[],this.batchChanges=null,this.batchAnimation=!1,this.notify(Rc.CLEAR,null)}notify(e,t){this.emitter.emit(e,{cmd:t}),this.emitter.emit(Rc.CHANGE,{cmd:t})}on(e,t){this.emitter.on(e,t)}destroy(){const{graph:e}=this.context;e.off(Ac.AFTER_DRAW,this.addCommand),e.off(Ac.BATCH_START,this.initBatchCommand),e.off(Ac.BATCH_END,this.addCommand),this.emitter.off(),super.destroy(),this.undoStack=[],this.redoStack=[]}}Cj.defaultOptions={stackSize:0};const Nj={toXy(e,t){if(!t)return[...e];const n=t[0].slice(1),r=t[1].slice(1);return e.map(e=>[e[n],e[r]])},fromXy(e,t){if(!t)return[...e];const n=t[0].slice(1),r=t[1].slice(1);return e.map(([e,t])=>({[n]:e,[r]:t}))}};let Pj=class{constructor(e,t){this._cells=[],this._cellSize=t,this._reverseCellSize=1/t;for(const t of e){const e=this.coordToCellNum(t[0]),n=this.coordToCellNum(t[1]);this._cells[e]||(this._cells[e]=[]),this._cells[e][n]||(this._cells[e][n]=[]),this._cells[e][n].push(t)}}cellPoints(e,t){var n;return(null===(n=this._cells[e])||void 0===n?void 0:n[t])||[]}rangePoints(e){const t=this.coordToCellNum(e[0]),n=this.coordToCellNum(e[1]),r=this.coordToCellNum(e[2]),i=this.coordToCellNum(e[3]),o=[];for(let e=t;e<=r;e++)for(let t=n;t<=i;t++){const n=this.cellPoints(e,t);for(const e of n)o.push(e)}return o}removePoint(e){const t=this.coordToCellNum(e[0]),n=this.coordToCellNum(e[1]),r=this._cells[t][n],i=r.findIndex(([t,n])=>t===e[0]&&n===e[1]);return i>-1&&r.splice(i,1),r}trunc(e){return Math.trunc(e)}coordToCellNum(e){return this.trunc(e*this._reverseCellSize)}extendBbox(e,t){return[e[0]-t*this._cellSize,e[1]-t*this._cellSize,e[2]+t*this._cellSize,e[3]+t*this._cellSize]}};const Aj=+(Math.pow(2,27)+1);function Rj(e,t,n){const r=e*t,i=Aj*e,o=i-(i-e),a=e-o,s=Aj*t,l=s-(s-t),u=t-l,c=a*u-(r-o*l-a*l-o*u);return n?(n[0]=c,n[1]=r,n):[c,r]}function _j(e,t,n){const r=e+t,i=r-e,o=t-i,a=e-(r-i);return n?(n[0]=a+o,n[1]=r,n):[a+o,r]}function Dj(e,t){const n=e.length;if(1===n){const n=Rj(e[0],t);return n[0]?n:[n[1]]}const r=new Array(2*n),i=[.1,.1],o=[.1,.1];let a=0;Rj(e[0],t,i),i[0]&&(r[a++]=i[0]);for(let s=1;s<n;++s){Rj(e[s],t,o);_j(i[1],o[0],i),i[0]&&(r[a++]=i[0]);const n=o[1],l=i[1],u=n+l,c=l-(u-n);i[1]=u,c&&(r[a++]=c)}return i[1]&&(r[a++]=i[1]),0===a&&(r[a++]=0),r.length=a,r}function Lj(e,t){const n=0|e.length,r=0|t.length;if(1===n&&1===r)return function(e,t){const n=e+t,r=n-e,i=e-(n-r)+(t-r);return i?[i,n]:[n]}(e[0],-t[0]);const i=new Array(n+r);let o=0,a=0,s=0;const l=Math.abs;let u,c,d=e[a],h=l(d),f=-t[s],p=l(f);h<p?(c=d,a+=1,a<n&&(d=e[a],h=l(d))):(c=f,s+=1,s<r&&(f=-t[s],p=l(f))),a<n&&h<p||s>=r?(u=d,a+=1,a<n&&(d=e[a],h=l(d))):(u=f,s+=1,s<r&&(f=-t[s],p=l(f)));let g,m,y,v,b,w=u+c,x=w-u,E=c-x,k=E,S=w;for(;a<n&&s<r;)h<p?(u=d,a+=1,a<n&&(d=e[a],h=l(d))):(u=f,s+=1,s<r&&(f=-t[s],p=l(f))),c=k,w=u+c,x=w-u,E=c-x,E&&(i[o++]=E),g=S+w,m=g-S,y=g-m,v=w-m,b=S-y,k=b+v,S=g;for(;a<n;)u=d,c=k,w=u+c,x=w-u,E=c-x,E&&(i[o++]=E),g=S+w,m=g-S,y=g-m,v=w-m,b=S-y,k=b+v,S=g,a+=1,a<n&&(d=e[a]);for(;s<r;)u=f,c=k,w=u+c,x=w-u,E=c-x,E&&(i[o++]=E),g=S+w,m=g-S,y=g-m,v=w-m,b=S-y,k=b+v,S=g,s+=1,s<r&&(f=-t[s]);return k&&(i[o++]=k),S&&(i[o++]=S),o||(i[o++]=0),i.length=o,i}function Ij(e,t){const n=0|e.length,r=0|t.length;if(1===n&&1===r)return function(e,t){const n=e+t,r=n-e,i=e-(n-r)+(t-r);return i?[i,n]:[n]}(e[0],t[0]);const i=new Array(n+r);let o=0,a=0,s=0;const l=Math.abs;let u,c,d=e[a],h=l(d),f=t[s],p=l(f);h<p?(c=d,a+=1,a<n&&(d=e[a],h=l(d))):(c=f,s+=1,s<r&&(f=t[s],p=l(f))),a<n&&h<p||s>=r?(u=d,a+=1,a<n&&(d=e[a],h=l(d))):(u=f,s+=1,s<r&&(f=t[s],p=l(f)));let g,m,y,v,b,w=u+c,x=w-u,E=c-x,k=E,S=w;for(;a<n&&s<r;)h<p?(u=d,a+=1,a<n&&(d=e[a],h=l(d))):(u=f,s+=1,s<r&&(f=t[s],p=l(f))),c=k,w=u+c,x=w-u,E=c-x,E&&(i[o++]=E),g=S+w,m=g-S,y=g-m,v=w-m,b=S-y,k=b+v,S=g;for(;a<n;)u=d,c=k,w=u+c,x=w-u,E=c-x,E&&(i[o++]=E),g=S+w,m=g-S,y=g-m,v=w-m,b=S-y,k=b+v,S=g,a+=1,a<n&&(d=e[a]);for(;s<r;)u=f,c=k,w=u+c,x=w-u,E=c-x,E&&(i[o++]=E),g=S+w,m=g-S,y=g-m,v=w-m,b=S-y,k=b+v,S=g,s+=1,s<r&&(f=t[s]);return k&&(i[o++]=k),S&&(i[o++]=S),o||(i[o++]=0),i.length=o,i}function zj(e,t,n,r){return function(n,i,o){const a=e(e(t(i[1],o[0]),t(-o[1],i[0])),e(t(n[1],i[0]),t(-i[1],n[0]))),s=e(t(n[1],o[0]),t(-o[1],n[0])),l=r(a,s);return l[l.length-1]}}function Fj(e,t,n,r){return function(i,o,a,s){const l=e(e(n(e(t(a[1],s[0]),t(-s[1],a[0])),o[2]),e(n(e(t(o[1],s[0]),t(-s[1],o[0])),-a[2]),n(e(t(o[1],a[0]),t(-a[1],o[0])),s[2]))),e(n(e(t(o[1],s[0]),t(-s[1],o[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),s[2])))),u=e(e(n(e(t(a[1],s[0]),t(-s[1],a[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-a[2]),n(e(t(i[1],a[0]),t(-a[1],i[0])),s[2]))),e(n(e(t(o[1],a[0]),t(-a[1],o[0])),i[2]),e(n(e(t(i[1],a[0]),t(-a[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),a[2])))),c=r(l,u);return c[c.length-1]}}function jj(e,t,n,r){return function(i,o,a,s,l){const u=e(e(e(n(e(n(e(t(s[1],l[0]),t(-l[1],s[0])),a[2]),e(n(e(t(a[1],l[0]),t(-l[1],a[0])),-s[2]),n(e(t(a[1],s[0]),t(-s[1],a[0])),l[2]))),o[3]),e(n(e(n(e(t(s[1],l[0]),t(-l[1],s[0])),o[2]),e(n(e(t(o[1],l[0]),t(-l[1],o[0])),-s[2]),n(e(t(o[1],s[0]),t(-s[1],o[0])),l[2]))),-a[3]),n(e(n(e(t(a[1],l[0]),t(-l[1],a[0])),o[2]),e(n(e(t(o[1],l[0]),t(-l[1],o[0])),-a[2]),n(e(t(o[1],a[0]),t(-a[1],o[0])),l[2]))),s[3]))),e(n(e(n(e(t(a[1],s[0]),t(-s[1],a[0])),o[2]),e(n(e(t(o[1],s[0]),t(-s[1],o[0])),-a[2]),n(e(t(o[1],a[0]),t(-a[1],o[0])),s[2]))),-l[3]),e(n(e(n(e(t(s[1],l[0]),t(-l[1],s[0])),o[2]),e(n(e(t(o[1],l[0]),t(-l[1],o[0])),-s[2]),n(e(t(o[1],s[0]),t(-s[1],o[0])),l[2]))),i[3]),n(e(n(e(t(s[1],l[0]),t(-l[1],s[0])),i[2]),e(n(e(t(i[1],l[0]),t(-l[1],i[0])),-s[2]),n(e(t(i[1],s[0]),t(-s[1],i[0])),l[2]))),-o[3])))),e(e(n(e(n(e(t(o[1],l[0]),t(-l[1],o[0])),i[2]),e(n(e(t(i[1],l[0]),t(-l[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),l[2]))),s[3]),e(n(e(n(e(t(o[1],s[0]),t(-s[1],o[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),s[2]))),-l[3]),n(e(n(e(t(a[1],s[0]),t(-s[1],a[0])),o[2]),e(n(e(t(o[1],s[0]),t(-s[1],o[0])),-a[2]),n(e(t(o[1],a[0]),t(-a[1],o[0])),s[2]))),i[3]))),e(n(e(n(e(t(a[1],s[0]),t(-s[1],a[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-a[2]),n(e(t(i[1],a[0]),t(-a[1],i[0])),s[2]))),-o[3]),e(n(e(n(e(t(o[1],s[0]),t(-s[1],o[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),s[2]))),a[3]),n(e(n(e(t(o[1],a[0]),t(-a[1],o[0])),i[2]),e(n(e(t(i[1],a[0]),t(-a[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),a[2]))),-s[3]))))),c=e(e(e(n(e(n(e(t(s[1],l[0]),t(-l[1],s[0])),a[2]),e(n(e(t(a[1],l[0]),t(-l[1],a[0])),-s[2]),n(e(t(a[1],s[0]),t(-s[1],a[0])),l[2]))),i[3]),n(e(n(e(t(s[1],l[0]),t(-l[1],s[0])),i[2]),e(n(e(t(i[1],l[0]),t(-l[1],i[0])),-s[2]),n(e(t(i[1],s[0]),t(-s[1],i[0])),l[2]))),-a[3])),e(n(e(n(e(t(a[1],l[0]),t(-l[1],a[0])),i[2]),e(n(e(t(i[1],l[0]),t(-l[1],i[0])),-a[2]),n(e(t(i[1],a[0]),t(-a[1],i[0])),l[2]))),s[3]),n(e(n(e(t(a[1],s[0]),t(-s[1],a[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-a[2]),n(e(t(i[1],a[0]),t(-a[1],i[0])),s[2]))),-l[3]))),e(e(n(e(n(e(t(a[1],l[0]),t(-l[1],a[0])),o[2]),e(n(e(t(o[1],l[0]),t(-l[1],o[0])),-a[2]),n(e(t(o[1],a[0]),t(-a[1],o[0])),l[2]))),i[3]),n(e(n(e(t(a[1],l[0]),t(-l[1],a[0])),i[2]),e(n(e(t(i[1],l[0]),t(-l[1],i[0])),-a[2]),n(e(t(i[1],a[0]),t(-a[1],i[0])),l[2]))),-o[3])),e(n(e(n(e(t(o[1],l[0]),t(-l[1],o[0])),i[2]),e(n(e(t(i[1],l[0]),t(-l[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),l[2]))),a[3]),n(e(n(e(t(o[1],a[0]),t(-a[1],o[0])),i[2]),e(n(e(t(i[1],a[0]),t(-a[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),a[2]))),-l[3])))),d=r(u,c);return d[d.length-1]}}function Bj(e){return(3===e?zj:4===e?Fj:jj)(Ij,Rj,Dj,Lj)}const Hj=Bj(3),Vj=Bj(4),Uj=[function(){return 0},function(){return 0},function(e,t){return t[0]-e[0]},function(e,t,n){const r=(e[1]-n[1])*(t[0]-n[0]),i=(e[0]-n[0])*(t[1]-n[1]),o=r-i;let a;if(r>0){if(i<=0)return o;a=r+i}else{if(!(r<0))return o;if(i>=0)return o;a=-(r+i)}const s=33306690738754716e-32*a;return o>=s||o<=-s?o:Hj(e,t,n)},function(e,t,n,r){const i=e[0]-r[0],o=t[0]-r[0],a=n[0]-r[0],s=e[1]-r[1],l=t[1]-r[1],u=n[1]-r[1],c=e[2]-r[2],d=t[2]-r[2],h=n[2]-r[2],f=o*u,p=a*l,g=a*s,m=i*u,y=i*l,v=o*s,b=c*(f-p)+d*(g-m)+h*(y-v),w=7771561172376103e-31*((Math.abs(f)+Math.abs(p))*Math.abs(c)+(Math.abs(g)+Math.abs(m))*Math.abs(d)+(Math.abs(y)+Math.abs(v))*Math.abs(h));return b>w||-b>w?b:Vj(e,t,n,r)}];function Wj(e){let t=Uj[e.length];return t||(t=Uj[e.length]=Bj(e.length)),t.apply(void 0,...e)}var Gj=function(){for(;Uj.length<=5;)Uj.push(Bj(Uj.length));const e=function(e,t,n,r,i,o,a){return function(...t){switch(t.length){case 0:case 1:return 0;case 2:return r(t[0],t[1]);case 3:return i(t[0],t[1],t[2]);case 4:return o(t[0],t[1],t[2],t[3]);case 5:return a(t[0],t[1],t[2],t[3],t[4])}return e(t)}}(void 0,Wj,...Uj);for(let t=0;t<=5;++t)e[t]=Uj[t];return e}();const $j=Gj[3];function qj(e,t,n,r){const i=Gj(e,n,r),o=Gj(t,n,r);if(i>0&&o>0||i<0&&o<0)return!1;const a=Gj(n,e,t),s=Gj(r,e,t);return!(a>0&&s>0||a<0&&s<0)&&(0!==i||0!==o||0!==a||0!==s||function(e,t,n,r){for(let i=0;i<2;++i){const o=e[i],a=t[i],[s,l]=[Math.min(o,a),Math.max(o,a)],u=n[i],c=r[i],[d,h]=[Math.min(u,c),Math.max(u,c)];if(h<s||l<d)return!1}return!0}(e,t,n,r))}function Yj(e,t){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function Xj(e,t,n){const r=[t[0]-e[0],t[1]-e[1]],i=[n[0]-e[0],n[1]-e[1]],o=Yj(e,t),a=Yj(e,n);return(r[0]*i[0]+r[1]*i[1])/Math.sqrt(o*a)}function Kj(e,t){for(let n=0;n<t.length-1;n++){const r=[t[n],t[n+1]];if(!(e[0][0]===r[0][0]&&e[0][1]===r[0][1]||e[0][0]===r[1][0]&&e[0][1]===r[1][1])&&qj(e[0],e[1],r[0],r[1]))return!0}return!1}function Qj(e){return[Math.min(e[0][0],e[1][0]),Math.min(e[0][1],e[1][1]),Math.max(e[0][0],e[1][0]),Math.max(e[0][1],e[1][1])]}function Zj(e,t,n){let r,i,o=null,a=tB,s=tB;for(let l=0;l<t.length;l++)r=Xj(e[0],e[1],t[l]),i=Xj(e[1],e[0],t[l]),r>a&&i>s&&!Kj([e[0],t[l]],n)&&!Kj([e[1],t[l]],n)&&(a=r,s=i,o=t[l]);return o}function Jj(e,t,n,r,i){let o=!1;for(let a=0;a<e.length-1;a++){const s=[e[a],e[a+1]],l=s[0][0]+","+s[0][1]+","+s[1][0]+","+s[1][1];if(Yj(s[0],s[1])<t||i.has(l))continue;let u,c,d,h=0,f=Qj(s);do{f=r.extendBbox(f,h),u=f[2]-f[0],c=f[3]-f[1],d=Zj(s,r.rangePoints(f),e),h++}while(null===d&&(n[0]>u||n[1]>c));u>=n[0]&&c>=n[1]&&i.add(l),null!==d&&(e.splice(a+1,0,d),r.removePoint(d),o=!0)}return o?Jj(e,t,n,r,i):e}function eB(e,t,n){const r=t||20,i=function(e){const t=[e[0]];let n=e[0];for(let r=1;r<e.length;r++){const i=e[r];n[0]===i[0]&&n[1]===i[1]||t.push(i),n=i}return t}(function(e){return e.sort(function(e,t){return e[0]-t[0]||e[1]-t[1]})}(Nj.toXy(e,n)));if(i.length<4){const e=i.concat([i[0]]);return n?Nj.fromXy(e,n):e}const o=function(e){let t=1/0,n=1/0,r=-1/0,i=-1/0;for(let o=e.length-1;o>=0;o--)e[o][0]<t&&(t=e[o][0]),e[o][1]<n&&(n=e[o][1]),e[o][0]>r&&(r=e[o][0]),e[o][1]>i&&(i=e[o][1]);return[r-t,i-n]}(i),a=[o[0]*nB,o[1]*nB],s=function(e){const t=e.length;if(t<3){const n=new Array(t);for(let e=0;e<t;++e)n[e]=e;return 2===t&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]?[0]:n}const n=new Array(t);for(let e=0;e<t;++e)n[e]=e;n.sort((t,n)=>e[t][0]-e[n][0]||e[t][1]-e[n][1]);const r=[n[0],n[1]],i=[n[0],n[1]];for(let o=2;o<t;++o){const t=n[o],a=e[t];let s=r.length;for(;s>1&&$j(e[r[s-2]],e[r[s-1]],a)<=0;)s-=1,r.pop();for(r.push(t),s=i.length;s>1&&$j(e[i[s-2]],e[i[s-1]],a)>=0;)s-=1,i.pop();i.push(t)}const o=new Array(i.length+r.length-2);let a=0;for(let e=0,t=r.length;e<t;++e)o[a++]=r[e];for(let e=i.length-2;e>0;--e)o[a++]=i[e];return o}(i).reverse().map(e=>i[e]);s.push(s[0]);const l=i.filter(function(e){return s.indexOf(e)<0}),u=Math.ceil(1/(i.length/(o[0]*o[1]))),c=Jj(s,Math.pow(r,2),a,function(e,t){return new Pj(e,t)}(l,u),new Set);return n?Nj.fromXy(c,n):c}const tB=Math.cos(90/(180/Math.PI)),nB=.6;const rB=(e,t,n)=>{if("sharp"===n)return[["M",e[0]-t,e[1]-t],["L",e[0]+t,e[1]-t],["L",e[0]+t,e[1]+t],["L",e[0]-t,e[1]+t],["Z"]];const r=[t,t,0,0,0];return[["M",e[0],e[1]-t],["A",...r,e[0],e[1]+t],["A",...r,e[0],e[1]-t]]},iB=(e,t,n)=>{const r=[t,t,0,0,0],i="sharp"===n?Xd(e[0],Jd(nh(Kd(e[0],e[1])),t)):e[0],o="sharp"===n?Xd(e[1],Jd(nh(Kd(e[1],e[0])),t)):e[1],a=Jd(nh(ih(Kd(i,o),!1)),t),s=Jd(a,-1),l=Xd(i,a),u=Xd(o,a),c=Xd(o,s),d=Xd(i,s);return"sharp"===n?[["M",l[0],l[1]],["L",u[0],u[1]],["L",c[0],c[1]],["L",d[0],d[1]],["Z"]]:[["M",l[0],l[1]],["L",u[0],u[1]],["A",...r,c[0],c[1]],["L",d[0],d[1]],["A",...r,l[0],l[1]]]},oB=(e,t)=>{const n=Oh(e).map((n,r)=>{const i=(r-2+e.length)%e.length,o=(r-1+e.length)%e.length,a=(r+1)%e.length,s=e[i],l=e[o],u=e[a],c=Kd(s,l),d=Kd(l,n),h=Kd(n,u),f=(e,t)=>rh(e,t,!0)<Math.PI,p=f(c,d),g=f(d,h),m=e=>Jd(nh(ih(e,!1)),t),y=m(d);return[{p:ah(Xd(l,p?m(c):y)),concave:p&&l},{p:ah(Xd(n,g?m(h):y)),concave:g&&n}]}),r=[t,t,0,0,0],i=n.findIndex((e,t)=>!(n[(t-1+n.length)%n.length][0].concave||n[(t-1+n.length)%n.length][1].concave||e[0].concave||e[0].concave||e[1].concave)),o=n.slice(i).concat(n.slice(0,i));let a=[];return o.flatMap((e,t)=>{const i=[],s=o[n.length-1];return 0===t&&i.push(["M",...s[1].p]),e[0].concave?a.push(e[0].p,e[1].p):i.push(["A",...r,...e[0].p]),e[1].concave?a.unshift(e[1].p):i.push(["L",...e[1].p]),3===a.length&&(i.pop(),i.push(["C",...a.flat()]),a=[]),i})},aB=(e,t)=>{const n=Oh(e).map((t,n)=>({p:t,v:nh(Kd(e[(n+1)%e.length],t))}));return n.forEach((r,i)=>{const o=i>0?i-1:e.length-1,a=n[o].v,s=nh(Xd(a,Jd(r.v,rh(a,r.v,!0)<Math.PI?1:-1)));r.p=Xd(r.p,Jd(s,t))}),df(n.map(e=>e.p))},sB=(e,t)=>{const n=e.map((n,r)=>{const i=e[0===r?e.length-1:r-1],o=sh(Jd(nh(ih(Kd(i,n),!1)),t));return[Xd(i,o),Xd(n,o)]}),r=n.flat();return r.map((e,t)=>{if(t%2==0)return null;return ch([r[(t-1)%r.length],r[t%r.length]],[r[(t+1)%r.length],r[(t+2)%r.length]],!0)}).filter(Boolean).map((e,t)=>[0===t?"M":"L",e[0],e[1]]).concat([["Z"]])};var lB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class uB extends yF{constructor(e,t){super(e,Object.assign({},uB.defaultOptions,t)),this.hullMemberIds=[],this.drawHull=()=>{if(this.shape){const e=!Ot(this.optionsCache,this.options);this.shape.update(this.getHullStyle(e))}else this.shape=new ff({style:this.getHullStyle()}),this.context.canvas.appendChild(this.shape);this.optionsCache=Object.assign({},this.options)},this.updateHullPath=e=>{this.shape&&this.options.members.includes(Ad(e.data))&&this.shape.update({d:this.getHullPath(!0)})},this.getHullPath=(e=!1)=>{const{graph:t}=this.context,n=this.getMember();if(0===n.length)return"";const r=n.map(e=>t.getNodeData(e)),i=eB(r.map(hh),this.options.concavity).slice(1).reverse(),o=i.flatMap(e=>r.filter(t=>Ot(hh(t),e)).map(Ad));return Ot(o,this.hullMemberIds)&&!e||(this.hullMemberIds=o,this.path=function(e,t,n){if(1===e.length)return rB(e[0],t,n);if(2===e.length)return iB(e,t,n);if(3===e.length){const[r,i,o]=Oh(e);if(xh(r,i,o))return iB([r,o],t,n)}switch(n){case"smooth":return aB(e,t);case"sharp":return sB(e,t);default:return oB(e,t)}}(i,this.getPadding(),this.options.corner)),this.path},this.bindEvents()}bindEvents(){this.context.graph.on(Ac.AFTER_RENDER,this.drawHull),this.context.graph.on(Ac.AFTER_ELEMENT_UPDATE,this.updateHullPath)}unbindEvents(){this.context.graph.off(Ac.AFTER_RENDER,this.drawHull),this.context.graph.off(Ac.AFTER_ELEMENT_UPDATE,this.updateHullPath)}getHullStyle(e){const t=this.options,{members:n,padding:r,corner:i}=t,o=lB(t,["members","padding","corner"]);return Object.assign(Object.assign({},o),{d:this.getHullPath(e)})}getPadding(){const{graph:e}=this.context,t=this.hullMemberIds.reduce((t,n)=>{const{halfExtents:r}=e.getElementRenderBounds(n),i=Math.max(r[0],r[1]);return Math.max(t,i)},0);return t+this.options.padding}addMember(e){const t=Array.isArray(e)?e:[e];this.options.members=[...new Set([...this.options.members,...t])],this.shape.update({d:this.getHullPath()})}removeMember(e){const t=Array.isArray(e)?e:[e];this.options.members=this.options.members.filter(e=>!t.includes(e)),t.some(e=>this.hullMemberIds.includes(e))&&this.shape.update({d:this.getHullPath()})}updateMember(e){this.options.members=$e(e)?e(this.options.members):e,this.shape.update(this.getHullStyle(!0))}getMember(){return this.options.members}destroy(){this.unbindEvents(),this.shape.destroy(),this.hullMemberIds=[],super.destroy()}}function cB(e,t){t(e),e.children&&e.children.forEach(function(e){e&&cB(e,t)})}function dB(e){fB(e,!0)}function hB(e){fB(e,!1)}function fB(e,t){var n=t?"visible":"hidden";cB(e,function(e){e.attr("visibility",n)})}uB.defaultOptions={members:[],padding:10,corner:"rounded",concavity:1/0,fill:"lightblue",fillOpacity:.2,labelOpacity:1,stroke:"blue",strokeOpacity:.2};var pB=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(this,Wt([],Ut(t),!1))||this;return r.isMutationObserved=!0,r.addEventListener(el.INSERTED,function(){hB(r)}),r}return Ft(t,e),t}(Xl);function gB(e){var t=e.appendChild(new pB({class:"offscreen"}));return hB(t),t}var mB=function(e){function t(t){void 0===t&&(t={});var n=t.style,r=Bt(t,["style"]);return e.call(this,jt({style:jt({text:"",fill:"black",fontFamily:"sans-serif",fontSize:16,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1,textAlign:"start",textBaseline:"middle"},n)},r))||this}return Ft(t,e),Object.defineProperty(t.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=gB(this)),this._offscreen},enumerable:!1,configurable:!0}),t.prototype.disconnectedCallback=function(){var e;null===(e=this._offscreen)||void 0===e||e.destroy()},t}(uu);function yB(e){return e*Math.PI/180}function vB(e){return Number((180*e/Math.PI).toPrecision(5))}var bB=function(){function e(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=e,this.y=t,this.width=n,this.height=r}return Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},e.prototype.isPointIn=function(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom},e}();function wB(e,t){return $e(e)?e.apply(void 0,Wt([],Ut(t),!1)):e}var xB,EB=function(e,t){var n=function(e){return"".concat(t,"-").concat(e)},r=Object.fromEntries(Object.entries(e).map(function(e){var t=Ut(e,2),r=t[0],i=t[1],o=n(i);return[r,{name:o,class:".".concat(o),id:"#".concat(o),toString:function(){return o}}]}));return Object.assign(r,{prefix:n}),r},kB=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=5),Object.entries(t).forEach(function(i){var o=Ut(i,2),a=o[0],s=o[1],l=e;Object.prototype.hasOwnProperty.call(t,a)&&(s?et(s)?(et(e[a])||(l[a]={}),n<r?kB(e[a],s,n+1,r):l[a]=t[a]):Ye(s)?(l[a]=[],l[a]=l[a].concat(s)):l[a]=s:l[a]=s)})},SB=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)kB(e,t[r]);return e},MB=function(e){return void 0!==e&&null!=e&&!Number.isNaN(e)},TB=xt(function(e,t){var n=t.fontSize,r=t.fontFamily,i=t.fontWeight,o=t.fontStyle,a=t.fontVariant;return xB||(xB=Al.offscreenCanvasCreator.getOrCreateContext(void 0)),xB.font=[o,a,i,"".concat(n,"px"),r].join(" "),xB.measureText(e).width},function(e,t){return[e,Object.values(t||OB(e)).join()].join("")},4096),OB=function(e){var t=e.style.fontFamily||"sans-serif",n=e.style.fontWeight||"normal",r=e.style.fontStyle||"normal",i=e.style.fontVariant,o=e.style.fontSize;return{fontSize:o="object"==typeof o?o.value:o,fontFamily:t,fontWeight:n,fontStyle:r,fontVariant:i}};function CB(e){return"text"===e.nodeName?e:"g"===e.nodeName&&1===e.children.length&&"text"===e.children[0].nodeName?e.children[0]:null}function NB(e,t){var n=CB(e);n&&n.attr(t)}function PB(e,t,n){void 0===n&&(n="..."),NB(e,{wordWrap:!0,wordWrapWidth:t,maxLines:1,textOverflow:n})}function AB(e){var t=e.canvas,n=e.touches,r=e.offsetX,i=e.offsetY;if(t)return[t.x,t.y];if(n){var o=n[0];return[o.clientX,o.clientY]}return r&&i?[r,i]:[0,0]}function RB(e){return"function"==typeof e?e():rt(e)||st(e)?new mB({style:{text:String(e)}}):e}function _B(e,t,n,r,i){return void 0===r&&(r=!0),void 0===i&&(i=function(e){e.node().removeChildren()}),e?n(t):(r&&i(t),null)}function DB(e,t,n,r,i){return void 0===r&&(r=!0),void 0===i&&(i=!1),!!(r&&e===t||i&&e===n)||e>t&&e<n}function LB(e,t){return"number"==typeof e&&"number"==typeof t?function(e,t){return function(n){return e*(1-n)+t*n}}(e,t):Array.isArray(e)&&Array.isArray(t)?function(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0;return function(i){var o=new Array(r),a=new Array(n),s=0;for(s=0;s<r;++s)o[s]=LB(e[s],t[s]);for(;s<n;++s)a[s]=t[s];for(s=0;s<r;++s)a[s]=o[s](i);return a}}(e,t):"object"==typeof e&&"object"==typeof t?function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n={},r={};return Object.entries(t).forEach(function(t){var i=Ut(t,2),o=i[0],a=i[1];o in e?n[o]=LB(e[o],a):r[o]=a}),function(e){return Object.entries(n).forEach(function(t){var n=Ut(t,2),i=n[0],o=n[1];return r[i]=o(e)}),r}}(e,t):function(t){return e}}function IB(e,t){return[e[0]*t,e[1]*t]}function zB(e,t){return[e[0]+t[0],e[1]+t[1]]}function FB(e,t){return[e[0]-t[0],e[1]-t[1]]}function jB(e,t){return[Math.min(e[0],t[0]),Math.min(e[1],t[1])]}function BB(e,t){return[Math.max(e[0],t[0]),Math.max(e[1],t[1])]}function HB(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function VB(e){if(0===e[0]&&0===e[1])return[0,0];var t=Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2));return[e[0]/t,e[1]/t]}function UB(e,t){return+e.toPrecision(t)}function WB(e,t){var n={},r=Array.isArray(t)?t:[t];for(var i in e)r.includes(i)||(n[i]=e[i]);return n}function GB(e,t,n){void 0===n&&(n=[[0,0],[1,1]]);for(var r=[],i=0,o=e.length;i<o;i+=2)r.push([e[i],e[i+1]]);var a,s,l,u=function(e,t,n,r){var i,o,a,s,l,u,c=[],d=!!r,h=[1/0,1/0],f=[-1/0,-1/0];if(d){h=(i=Ut(r,2))[0],f=i[1];for(var p=0,g=e.length;p<g;p+=1)h=jB(h,y=e[p]),f=BB(f,y)}p=0;for(var m=e.length;p<m;p+=1){var y=e[p];if(0===p)u=y;else if(p===m-1)l=y,c.push(u),c.push(l);else{o=e[p-1];var v=[0,0];v=IB(v=FB(a=e[p+1],o),t);var b=HB(y,o),w=HB(y,a),x=b+w;0!==x&&(b/=x,w/=x);var E=IB(v,-b),k=IB(v,w);l=zB(y,E),s=jB(s=zB(y,k),BB(a,y)),s=BB(s,jB(a,y)),l=jB(l=zB(y,E=IB(E=FB(s,y),-b/w)),BB(o,y)),s=zB(y,k=IB(k=FB(y,l=BB(l,jB(o,y))),w/b)),d&&(l=jB(l=BB(l,h),f),s=jB(s=BB(s,h),f)),c.push(u),c.push(l),u=s}}return c}(r,.4,0,n),c=r.length,d=[];for(i=0;i<c-1;i+=1)a=u[2*i],s=u[2*i+1],l=r[i+1],d.push(["C",a[0],a[1],s[0],s[1],l[0],l[1]]);return d}var $B=["$el","cx","cy","d","dx","dy","fill","fillOpacity","filter","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","img","increasedLineWidthForHitTesting","innerHTML","isBillboard","billboardRotation","isSizeAttenuation","isClosed","isOverflowing","leading","letterSpacing","lineDash","lineHeight","lineWidth","markerEnd","markerEndOffset","markerMid","markerStart","markerStartOffset","maxLines","metrics","miterLimit","offsetX","offsetY","opacity","path","points","r","radius","rx","ry","shadowColor","src","stroke","strokeOpacity","text","textAlign","textBaseline","textDecorationColor","textDecorationLine","textDecorationStyle","textOverflow","textPath","textPathSide","textPathStartOffset","transform","transformOrigin","visibility","width","wordWrap","wordWrapWidth","x","x1","x2","y","y1","y2","z1","z2","zIndex"];function qB(e){return $B.includes(e)}function YB(e){var t={};for(var n in e)qB(n)&&(t[n]=e[n]);return t}function XB(e,t,n){var r=e.getBBox(),i=r.width,o=r.height,a=t/Math.max(i,o);return e.style.transform="scale(".concat(a,")"),a}var KB=function(){function e(e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=[null,null,null,null,null]),void 0===a&&(a=[]),void 0===s&&(s=[]),t.add(this),this._elements=Array.from(e),this._data=n,this._parent=r,this._document=i,this._enter=o[0],this._update=o[1],this._exit=o[2],this._merge=o[3],this._split=o[4],this._transitions=a,this._facetElements=s}var t,n,r;return e.prototype.selectAll=function(e){var t="string"==typeof e?this._parent.querySelectorAll(e):e;return new n(t,null,this._elements[0],this._document)},e.prototype.selectFacetAll=function(e){var t="string"==typeof e?this._parent.querySelectorAll(e):e;return new n(this._elements,null,this._parent,this._document,void 0,void 0,t)},e.prototype.select=function(e){var t="string"==typeof e?this._parent.querySelectorAll(e)[0]||null:e;return new n([t],null,t,this._document)},e.prototype.append=function(e){var t=this,r="function"==typeof e?e:function(){return t.createElement(e)},i=[];if(null!==this._data){for(var o=0;o<this._data.length;o++){var a=this._data[o],s=Ut(Array.isArray(a)?a:[a,null],2),l=s[0],u=s[1];(d=r(l,o)).__data__=l,null!==u&&(d.__fromElements__=u),this._parent.appendChild(d),i.push(d)}return new n(i,null,this._parent,this._document)}for(o=0;o<this._elements.length;o++){var c=this._elements[o],d=r(l=c.__data__,o);c.appendChild(d),i.push(d)}return new n(i,null,i[0],this._document)},e.prototype.maybeAppend=function(e,n){var i=Gt(this,t,"m",r).call(this,"#"===e[0]?e:"#".concat(e),n);return i.attr("id",e),i},e.prototype.maybeAppendByClassName=function(e,n){var i=e.toString(),o=Gt(this,t,"m",r).call(this,"."===i[0]?i:".".concat(i),n);return o.attr("className",i),o},e.prototype.maybeAppendByName=function(e,n){var i=Gt(this,t,"m",r).call(this,'[name="'.concat(e,'"]'),n);return i.attr("name",e),i},e.prototype.data=function(e,t,r){var i,o;void 0===t&&(t=function(e){return e}),void 0===r&&(r=function(){return null});for(var a,s,l,u=[],c=[],d=new Set(this._elements),h=[],f=new Set,p=new Map(this._elements.map(function(e,n){return[t(e.__data__,n),e]})),g=new Map(this._facetElements.map(function(e,n){return[t(e.__data__,n),e]})),m=(a=this._elements,s=function(e){return r(e.__data__)},l=new Map,a.forEach(function(e){var t=s(e);l.has(t)||l.set(t,[]),l.get(t).push(e)}),l),y=0;y<e.length;y++){var v=e[y],b=t(v,y),w=r(v,y);if(p.has(b))(S=p.get(b)).__data__=v,S.__facet__=!1,c.push(S),d.delete(S),p.delete(b);else if(g.has(b)){(S=g.get(b)).__data__=v,S.__facet__=!0,c.push(S),g.delete(b)}else if(m.has(b)){var x=m.get(b);h.push([v,x]);try{for(var E=(i=void 0,Vt(x)),k=E.next();!k.done;k=E.next()){var S=k.value;d.delete(S)}}catch(e){i={error:e}}finally{try{k&&!k.done&&(o=E.return)&&o.call(E)}finally{if(i)throw i.error}}m.delete(b)}else if(p.has(w)){(S=p.get(w)).__toData__?S.__toData__.push(v):S.__toData__=[v],f.add(S),d.delete(S)}else u.push(v)}var M=[new n([],u,this._parent,this._document),new n(c,null,this._parent,this._document),new n(d,null,this._parent,this._document),new n([],h,this._parent,this._document),new n(f,null,this._parent,this._document)];return new n(this._elements,null,this._parent,this._document,M)},e.prototype.merge=function(e){var t=Wt(Wt([],Ut(this._elements),!1),Ut(e._elements),!1),r=Wt(Wt([],Ut(this._transitions),!1),Ut(e._transitions),!1);return new n(t,null,this._parent,this._document,void 0,r)},e.prototype.createElement=function(e){if(this._document)return this._document.createElement(e,{});var t=n.registry[e];return t?new t:function(e){throw new Error(e)}("Unknown node type: ".concat(e))},e.prototype.join=function(e,t,n,r,i){void 0===e&&(e=function(e){return e}),void 0===t&&(t=function(e){return e}),void 0===n&&(n=function(e){return e.remove()}),void 0===r&&(r=function(e){return e}),void 0===i&&(i=function(e){return e.remove()});var o=e(this._enter),a=t(this._update),s=n(this._exit),l=r(this._merge),u=i(this._split);return a.merge(o).merge(s).merge(l).merge(u)},e.prototype.remove=function(){for(var e=function(e){var n=t._elements[e],r=t._transitions[e];r?r.then(function(){return n.remove()}):n.remove()},t=this,r=0;r<this._elements.length;r++)e(r);return new n([],null,this._parent,this._document,void 0,this._transitions)},e.prototype.each=function(e){for(var t=0;t<this._elements.length;t++){var n=this._elements[t],r=n.__data__;e.call(n,r,t)}return this},e.prototype.attr=function(e,t){var n="function"!=typeof t?function(){return t}:t;return this.each(function(r,i){void 0!==t&&(this[e]=n.call(this,r,i))})},e.prototype.style=function(e,t,n){void 0===n&&(n=!0);var r="function"==typeof t&&n?t:function(){return t};return this.each(function(n,i){void 0!==t&&(this.style[e]=r.call(this,n,i))})},e.prototype.styles=function(e,t){return void 0===e&&(e={}),void 0===t&&(t=!0),this.each(function(n,r){var i=this;Object.entries(e).forEach(function(e){var o=Ut(e,2),a=o[0],s=o[1],l="function"==typeof s&&t?s:function(){return s};void 0!==s&&i.attr(a,l.call(i,n,r))})})},e.prototype.update=function(e,t){void 0===t&&(t=!0);var n="function"==typeof e&&t?e:function(){return e};return this.each(function(t,r){e&&this.update&&this.update(n.call(this,t,r))})},e.prototype.maybeUpdate=function(e,t){void 0===t&&(t=!0);var n="function"==typeof e&&t?e:function(){return e};return this.each(function(t,r){e&&this.update&&this.update(n.call(this,t,r))})},e.prototype.transition=function(e){this._transitions;var t=new Array(this._elements.length);return this.each(function(n,r){t[r]=e.call(this,n,r)}),this._transitions=function(e){if(!Ye(e))return[];for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);return t}(t),this},e.prototype.on=function(e,t){return this.each(function(){this.addEventListener(e,t)}),this},e.prototype.call=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.call.apply(e,Wt([this._parent,this],Ut(t),!1)),this},e.prototype.node=function(){return this._elements[0]},e.prototype.nodes=function(){return this._elements},e.prototype.transitions=function(){return this._transitions.filter(function(e){return!!e})},e.prototype.parent=function(){return this._parent},n=e,t=new WeakSet,r=function(e,t){var r=this._elements[0],i=r.querySelector(e);if(i)return new n([i],null,this._parent,this._document);var o="string"==typeof t?this.createElement(t):t();return r.appendChild(o),new n([o],null,this._parent,this._document)},e.registry={g:Xl,rect:su,circle:Gl,path:nu,text:mB,ellipse:Yl,image:Zl,line:eu,polygon:iu,polyline:au,html:Ql},e}();function QB(e){return new KB([e],null,e,e.ownerDocument)}function ZB(e){if(st(e))return[e,e,e,e];if(Ye(e)){var t=e.length;if(1===t)return[e[0],e[0],e[0],e[0]];if(2===t)return[e[0],e[1],e[0],e[1]];if(3===t)return[e[0],e[1],e[2],e[1]];if(4===t)return e}return[0,0,0,0]}function JB(e){var t=e.getLocalBounds(),n=Ut([t.min,t.max],2),r=Ut(n[0],2),i=r[0],o=r[1],a=Ut(n[1],2),s=a[0],l=a[1];return{x:i,y:o,width:s-i,height:l-o,left:i,bottom:l,top:o,right:s}}function eH(e,t){var n=Ut(e,2),r=n[0],i=n[1],o=Ut(t,2),a=o[0],s=o[1];return r!==a&&i===s}function tH(e){return e.toString().charAt(0).toUpperCase()+e.toString().slice(1)}function nH(e,t,n){var r;void 0===n&&(n=!0);var i=t||(null===(r=e.match(/^([a-z][a-z0-9]+)/))||void 0===r?void 0:r[0])||"",o=e.replace(new RegExp("^(".concat(i,")")),"");return n?function(e){return e.toString().charAt(0).toLowerCase()+e.toString().slice(1)}(o):o}var rH=function(e,t){if(!(null==e?void 0:e.startsWith(t)))return!1;var n=e[t.length];return n>="A"&&n<="Z"};function iH(e,t,n){void 0===n&&(n=!1);var r={};return Object.entries(e).forEach(function(e){var i=Ut(e,2),o=i[0],a=i[1];if("className"===o||"class"===o);else if(rH(o,"show")&&rH(nH(o,"show"),t)!==n)o===function(e,t){return"".concat(t).concat(tH(e))}(t,"show")?r[o]=a:r[o.replace(new RegExp(tH(t)),"")]=a;else if(!rH(o,"show")&&rH(o,t)!==n){var s=nH(o,t);"filter"===s&&"function"==typeof a||(r[s]=a)}}),r}function oH(e,t){return Object.entries(e).reduce(function(e,n){var r=Ut(n,2),i=r[0],o=r[1];return i.startsWith("show")?e["show".concat(t).concat(i.slice(4))]=o:e["".concat(t).concat(tH(i))]=o,e},{})}function aH(e,t){void 0===t&&(t=["x","y","class","className"]);var n=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],r={},i={};return Object.entries(e).forEach(function(e){var o=Ut(e,2),a=o[0],s=o[1];t.includes(a)||(-1!==n.indexOf(a)?i[a]=s:r[a]=s)}),[r,i]}function sH(e,t){var n={YYYY:e.getFullYear(),MM:e.getMonth()+1,DD:e.getDate(),HH:e.getHours(),mm:e.getMinutes(),ss:e.getSeconds()},r=t;return Object.keys(n).forEach(function(e){var t=n[e];r=r.replace(e,"YYYY"===e?"".concat(t):"".concat(t).padStart(2,"0"))}),r}function lH(e,t){if(t)try{var n=t.replace(/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,function(t,n,r){return"translate(".concat(function(e,t,n){var r=e.getBBox(),i=r.width,o=r.height,a=Ut([t,n].map(function(e,t){var n;return e.includes("%")?parseFloat((null===(n=e.match(/[+-]?([0-9]*[.])?[0-9]+/))||void 0===n?void 0:n[0])||"0")/100*(0===t?i:o):e}),2);return[a[0],a[1]]}(e,n,r),")")});e.attr("transform",n)}catch(e){}}var uH=function(e,t){null!=t?e.replaceChildren?Array.isArray(t)?e.replaceChildren.apply(e,Wt([],Ut(t),!1)):e.replaceChildren(t):(e.innerHTML="",Array.isArray(t)?t.forEach(function(t){return e.appendChild(t)}):e.appendChild(t)):e.innerHTML=""};function cH(){fB(this,"hidden"!==this.attributes.visibility)}var dH=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this,SB({},{style:n},t))||this;return r.initialized=!1,r._defaultOptions=n,r}return Ft(t,e),Object.defineProperty(t.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=gB(this)),this._offscreen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultOptions",{get:function(){return this._defaultOptions},enumerable:!1,configurable:!0}),t.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this),this.initialized=!0},t.prototype.disconnectedCallback=function(){var e;null===(e=this._offscreen)||void 0===e||e.destroy()},t.prototype.attributeChangedCallback=function(e){"visibility"===e&&cH.call(this)},t.prototype.update=function(e,t){var n;return this.attr(SB({},this.attributes,e||{})),null===(n=this.render)||void 0===n?void 0:n.call(this,this.attributes,this,t)},t.prototype.clear=function(){this.removeChildren()},t.prototype.bindEvents=function(e,t){},t.prototype.getSubShapeStyle=function(e){return e.x,e.y,e.transform,e.transformOrigin,e.class,e.className,e.zIndex,Bt(e,["x","y","transform","transformOrigin","class","className","zIndex"])},t}(ql),hH=function(e,t,n){return[["M",e-n,t],["A",n,n,0,1,0,e+n,t],["A",n,n,0,1,0,e-n,t],["Z"]]},fH=hH,pH=function(e,t,n){return[["M",e,t+n],["L",e,t-n]]},gH=function(e,t,n){return[["M",e-n,t],["L",e+n,t]]},mH=gH;var yH=function(e,t,n){return[["M",e-n,t-n],["L",e+n,t],["L",e-n,t+n],["Z"]]};function vH(e){var t=function(e){var t="default";if(Xe(e)&&e instanceof Image)t="image";else if($e(e))t="symbol";else if(rt(e)){var n=new RegExp("data:(image|text)");t=e.match(n)?"base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(e)?"url":"symbol"}return t}(e);return["base64","url","image"].includes(t)?"image":e&&"symbol"===t?"path":null}var bH=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ft(t,e),t.prototype.render=function(e,n){var r=e.x,i=void 0===r?0:r,o=e.y,a=void 0===o?0:o,s=this.getSubShapeStyle(e),l=s.symbol,u=s.size,c=void 0===u?16:u,d=Bt(s,["symbol","size"]),h=vH(l);_B(!!h,QB(n),function(e){e.maybeAppendByClassName("marker",h).attr("className","marker ".concat(h,"-marker")).call(function(e){if("image"===h){var n=2*c;e.styles({img:l,width:n,height:n,x:i-c,y:a-c})}else{n=c/2;var r=$e(l)?l:t.getSymbol(l);e.styles(jt({d:null==r?void 0:r(i,a,n)},d))}})})},t.MARKER_SYMBOL_MAP=new Map,t.registerSymbol=function(e,n){t.MARKER_SYMBOL_MAP.set(e,n)},t.getSymbol=function(e){return t.MARKER_SYMBOL_MAP.get(e)},t.getSymbols=function(){return Array.from(t.MARKER_SYMBOL_MAP.keys())},t}(dH);function wH(e,...t){return t.reduce((e,t)=>n=>e(t(n)),e)}function xH(e,t){return t-e?n=>(n-e)/(t-e):e=>.5}bH.registerSymbol("cross",function(e,t,n){return[["M",e-n,t-n],["L",e+n,t+n],["M",e+n,t-n],["L",e-n,t+n]]}),bH.registerSymbol("hyphen",function(e,t,n){return[["M",e-n,t],["L",e+n,t]]}),bH.registerSymbol("line",pH),bH.registerSymbol("plus",function(e,t,n){return[["M",e-n,t],["L",e+n,t],["M",e,t-n],["L",e,t+n]]}),bH.registerSymbol("tick",function(e,t,n){return[["M",e-n/2,t-n],["L",e+n/2,t-n],["M",e,t-n],["L",e,t+n],["M",e-n/2,t+n],["L",e+n/2,t+n]]}),bH.registerSymbol("circle",hH),bH.registerSymbol("point",fH),bH.registerSymbol("bowtie",function(e,t,n){var r=n-1.5;return[["M",e-n,t-r],["L",e+n,t+r],["L",e+n,t-r],["L",e-n,t+r],["Z"]]}),bH.registerSymbol("hexagon",function(e,t,n){var r=n/2*Math.sqrt(3);return[["M",e,t-n],["L",e+r,t-n/2],["L",e+r,t+n/2],["L",e,t+n],["L",e-r,t+n/2],["L",e-r,t-n/2],["Z"]]}),bH.registerSymbol("square",function(e,t,n){return[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]]}),bH.registerSymbol("diamond",function(e,t,n){return[["M",e-n,t],["L",e,t-n],["L",e+n,t],["L",e,t+n],["Z"]]}),bH.registerSymbol("triangle",function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t+r],["L",e,t-r],["L",e+n,t+r],["Z"]]}),bH.registerSymbol("triangle-down",function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t-r],["L",e+n,t-r],["L",e,t+r],["Z"]]}),bH.registerSymbol("line",pH),bH.registerSymbol("dot",gH),bH.registerSymbol("dash",mH),bH.registerSymbol("smooth",function(e,t,n){return[["M",e-n,t],["A",n/2,n/2,0,1,1,e,t],["A",n/2,n/2,0,1,0,e+n,t]]}),bH.registerSymbol("hv",function(e,t,n){return[["M",e-n-1,t-2.5],["L",e,t-2.5],["L",e,t+2.5],["L",e+n+1,t+2.5]]}),bH.registerSymbol("vh",function(e,t,n){return[["M",e-n-1,t+2.5],["L",e,t+2.5],["L",e,t-2.5],["L",e+n+1,t-2.5]]}),bH.registerSymbol("hvh",function(e,t,n){return[["M",e-(n+1),t+2.5],["L",e-n/2,t+2.5],["L",e-n/2,t-2.5],["L",e+n/2,t-2.5],["L",e+n/2,t+2.5],["L",e+n+1,t+2.5]]}),bH.registerSymbol("vhv",function(e,t){return[["M",e-5,t+2.5],["L",e-5,t],["L",e,t],["L",e,t-3],["L",e,t+3],["L",e+6.5,t+3]]});const EH=Math.sqrt(50),kH=Math.sqrt(10),SH=Math.sqrt(2);function MH(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/10**i;return i>=0?(o>=EH?10:o>=kH?5:o>=SH?2:1)*10**i:-(10**-i)/(o>=EH?10:o>=kH?5:o>=SH?2:1)}const TH=(e,t,n=5)=>{const r=[e,t];let i,o=0,a=r.length-1,s=r[o],l=r[a];return l<s&&([s,l]=[l,s],[o,a]=[a,o]),i=MH(s,l,n),i>0?(s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i,i=MH(s,l,n)):i<0&&(s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i,i=MH(s,l,n)),i>0?(r[o]=Math.floor(s/i)*i,r[a]=Math.ceil(l/i)*i):i<0&&(r[o]=Math.ceil(s*i)/i,r[a]=Math.floor(l*i)/i),r};function OH(e){return!(yt(e)||(t=e,null===t)||Number.isNaN(e));var t}var CH={exports:{}},NH={exports:{}},PH=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))},AH=Array.prototype.concat,RH=Array.prototype.slice,_H=NH.exports=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];PH(i)?t=AH.call(t,RH.call(i)):t.push(i)}return t};_H.wrap=function(e){return function(){return e(_H(arguments))}};var DH=NH.exports,LH={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},IH=DH,zH=Object.hasOwnProperty,FH=Object.create(null);for(var jH in LH)zH.call(LH,jH)&&(FH[LH[jH]]=jH);var BH=CH.exports={to:{},get:{}};function HH(e,t,n){return Math.min(Math.max(t,e),n)}function VH(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}BH.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=BH.get.hsl(e),n="hsl";break;case"hwb":t=BH.get.hwb(e),n="hwb";break;default:t=BH.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},BH.get.rgb=function(e){if(!e)return null;var t,n,r,i=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(r=t[2],t=t[1],n=0;n<3;n++){var o=2*n;i[n]=parseInt(t.slice(o,o+2),16)}r&&(i[3]=parseInt(r,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(r=(t=t[1])[3],n=0;n<3;n++)i[n]=parseInt(t[n]+t[n],16);r&&(i[3]=parseInt(r+r,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)i[n]=parseInt(t[n+1],0);t[4]&&(t[5]?i[3]=.01*parseFloat(t[4]):i[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:zH.call(LH,t[1])?((i=LH[t[1]])[3]=1,i):null:null;for(n=0;n<3;n++)i[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(t[5]?i[3]=.01*parseFloat(t[4]):i[3]=parseFloat(t[4]))}for(n=0;n<3;n++)i[n]=HH(i[n],0,255);return i[3]=HH(i[3],0,1),i},BH.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,HH(parseFloat(t[2]),0,100),HH(parseFloat(t[3]),0,100),HH(isNaN(n)?1:n,0,1)]}return null},BH.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,HH(parseFloat(t[2]),0,100),HH(parseFloat(t[3]),0,100),HH(isNaN(n)?1:n,0,1)]}return null},BH.to.hex=function(){var e=IH(arguments);return"#"+VH(e[0])+VH(e[1])+VH(e[2])+(e[3]<1?VH(Math.round(255*e[3])):"")},BH.to.rgb=function(){var e=IH(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},BH.to.rgb.percent=function(){var e=IH(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},BH.to.hsl=function(){var e=IH(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},BH.to.hwb=function(){var e=IH(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},BH.to.keyword=function(e){return FH[e.slice(0,3)]};var UH=E(CH.exports);function WH(e,t,n){let r=n;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function GH(e){const t=UH.get(e);if(!t)return null;const{model:n,value:r}=t;return"rgb"===n?r:"hsl"===n?function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100,i=e[3];if(0===n)return[255*r,255*r,255*r,i];const o=r<.5?r*(1+n):r+n-r*n,a=2*r-o;return[255*WH(a,o,t+1/3),255*WH(a,o,t),255*WH(a,o,t-1/3),i]}(r):null}const $H=(e,t)=>n=>e*(1-n)+t*n,qH=(e,t)=>"number"==typeof e&&"number"==typeof t?$H(e,t):"string"==typeof e&&"string"==typeof t?((e,t)=>{const n=GH(e),r=GH(t);return null===n||null===r?n?()=>e:()=>t:e=>{const t=new Array(4);for(let i=0;i<4;i+=1){const o=n[i],a=r[i];t[i]=o*(1-e)+a*e}const[i,o,a,s]=t;return`rgba(${Math.round(i)}, ${Math.round(o)}, ${Math.round(a)}, ${s})`}})(e,t):()=>e,YH=(e,t)=>{const n=$H(e,t);return e=>Math.round(n(e))};function XH({map:e,initKey:t},n){const r=t(n);return e.has(r)?e.get(r):n}function KH(e){return"object"==typeof e?e.valueOf():e}class QH extends Map{constructor(e){if(super(),this.map=new Map,this.initKey=KH,null!==e)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(XH({map:this.map,initKey:this.initKey},e))}has(e){return super.has(XH({map:this.map,initKey:this.initKey},e))}set(e,t){return super.set(function({map:e,initKey:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}({map:this.map,initKey:this.initKey},e),t)}delete(e){return super.delete(function({map:e,initKey:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}({map:this.map,initKey:this.initKey},e))}}class ZH{constructor(e){this.options=St({},this.getDefaultOptions()),this.update(e)}getOptions(){return this.options}update(e={}){this.options=St({},this.options,e),this.rescale(e)}rescale(e){}}const JH=Symbol("defaultUnknown");function eV(e,t,n){for(let r=0;r<t.length;r+=1)e.has(t[r])||e.set(n(t[r]),r)}function tV(e){const{value:t,from:n,to:r,mapper:i,notFoundReturn:o}=e;let a=i.get(t);if(void 0===a){if(o!==JH)return o;a=n.push(t)-1,i.set(t,a)}return r[a%r.length]}function nV(e){return e instanceof Date?e=>`${e}`:"object"==typeof e?e=>JSON.stringify(e):e=>e}class rV extends ZH{getDefaultOptions(){return{domain:[],range:[],unknown:JH}}constructor(e){super(e)}map(e){return 0===this.domainIndexMap.size&&eV(this.domainIndexMap,this.getDomain(),this.domainKey),tV({value:this.domainKey(e),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(e){return 0===this.rangeIndexMap.size&&eV(this.rangeIndexMap,this.getRange(),this.rangeKey),tV({value:this.rangeKey(e),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(e){const[t]=this.options.domain,[n]=this.options.range;if(this.domainKey=nV(t),this.rangeKey=nV(n),!this.rangeIndexMap)return this.rangeIndexMap=new Map,void(this.domainIndexMap=new Map);e&&!e.range||this.rangeIndexMap.clear(),(!e||e.domain||e.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new rV(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:e,compare:t}=this.options;return this.sortedDomain=t?[...e].sort(t):e,this.sortedDomain}}function iV(e){return Math.round(1e12*e)/1e12}function oV(e){const{domain:t,range:n,paddingOuter:r,paddingInner:i,flex:o,round:a,align:s}=e,l=t.length,u=function(e,t){const n=t-e.length;return n>0?[...e,...new Array(n).fill(1)]:n<0?e.slice(0,t):e}(o,l),[c,d]=n,h=d-c,f=h/(2/l*r+1-1/l*i),p=f*i/l,g=f-l*p,m=function(e){const t=Math.min(...e);return e.map(e=>e/t)}(u),y=g/m.reduce((e,t)=>e+t),v=new QH(t.map((e,t)=>{const n=m[t]*y;return[e,a?Math.floor(n):n]})),b=new QH(t.map((e,t)=>{const n=m[t]*y+p;return[e,a?Math.floor(n):n]})),w=Array.from(b.values()).reduce((e,t)=>e+t),x=c+(h-(w-w/l*i))*s;let E=a?Math.round(x):x;const k=new Array(l);for(let e=0;e<l;e+=1){k[e]=iV(E);const n=t[e];E+=b.get(n)}return{valueBandWidth:v,valueStep:b,adjustedRange:k}}class aV extends rV{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:JH,flex:[]}}constructor(e){super(e)}clone(){return new aV(this.options)}getStep(e){return void 0===this.valueStep?1:"number"==typeof this.valueStep?this.valueStep:void 0===e?Array.from(this.valueStep.values())[0]:this.valueStep.get(e)}getBandWidth(e){return void 0===this.valueBandWidth?1:"number"==typeof this.valueBandWidth?this.valueBandWidth:void 0===e?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(e)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:e,paddingInner:t}=this.options;return e>0?e:t}getPaddingOuter(){const{padding:e,paddingOuter:t}=this.options;return e>0?e:t}rescale(){super.rescale();const{align:e,domain:t,range:n,round:r,flex:i}=this.options,{adjustedRange:o,valueBandWidth:a,valueStep:s}=function(e){var t;const{domain:n}=e,r=n.length;if(0===r)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(null===(t=e.flex)||void 0===t?void 0:t.length)return oV(e);const{range:i,paddingOuter:o,paddingInner:a,round:s,align:l}=e;let u,c,d=i[0];const h=i[1]-d,f=2*o,p=r-a;u=h/Math.max(1,f+p),s&&(u=Math.floor(u)),d+=(h-u*(r-a))*l,c=u*(1-a),s&&(d=Math.round(d),c=Math.round(c));const g=new Array(r).fill(0).map((e,t)=>d+t*u);return{valueStep:u,valueBandWidth:c,adjustedRange:g}}({align:e,range:n,round:r,flex:i,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:t});this.valueStep=s,this.valueBandWidth=a,this.adjustedRange=o}}const sV=(e,t,n)=>{let r,i,o=e,a=t;if(o===a&&n>0)return[o];let s=MH(o,a,n);if(0===s||!Number.isFinite(s))return[];if(s>0){o=Math.ceil(o/s),a=Math.floor(a/s),i=new Array(r=Math.ceil(a-o+1));for(let e=0;e<r;e+=1)i[e]=(o+e)*s}else{s=-s,o=Math.ceil(o*s),a=Math.floor(a*s),i=new Array(r=Math.ceil(a-o+1));for(let e=0;e<r;e+=1)i[e]=(o+e)/s}return i},lV=(e,t,n)=>{const[r,i]=e,[o,a]=t;let s,l;return r<i?(s=xH(r,i),l=n(o,a)):(s=xH(i,r),l=n(a,o)),wH(l,s)},uV=(e,t,n)=>{const r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=e[0]>e[r],s=a?[...e].reverse():e,l=a?[...t].reverse():t;for(let e=0;e<r;e+=1)i[e]=xH(s[e],s[e+1]),o[e]=n(l[e],l[e+1]);return t=>{const n=function(e,t,n,r){let i=n,o=r||e.length;const a=e=>e;for(;i<o;){const n=Math.floor((i+o)/2);a(e[n])>t?o=n:i=n+1}return i}(e,t,1,r)-1,a=i[n];return wH(o[n],a)(t)}},cV=(e,t,n,r)=>(Math.min(e.length,t.length)>2?uV:lV)(e,t,r?YH:n);class dV extends ZH{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:$H,tickCount:5}}map(e){return OH(e)?this.output(e):this.options.unknown}invert(e){return OH(e)?this.input(e):this.options.unknown}nice(){if(!this.options.nice)return;const[e,t,n,...r]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(e,t,n,...r)}getTicks(){const{tickMethod:e}=this.options,[t,n,r,...i]=this.getTickMethodOptions();return e(t,n,r,...i)}getTickMethodOptions(){const{domain:e,tickCount:t}=this.options;return[e[0],e[e.length-1],t]}chooseNice(){return TH}rescale(){this.nice();const[e,t]=this.chooseTransforms();this.composeOutput(e,this.chooseClamp(e)),this.composeInput(e,t,this.chooseClamp(t))}chooseClamp(e){const{clamp:t,range:n}=this.options,r=this.options.domain.map(e),i=Math.min(r.length,n.length);return t?function(e,t){const n=t<e?t:e,r=e>t?e:t;return e=>Math.min(Math.max(n,e),r)}(r[0],r[i-1]):It}composeOutput(e,t){const{domain:n,range:r,round:i,interpolate:o}=this.options,a=cV(n.map(e),r,o,i);this.output=wH(a,t,e)}composeInput(e,t,n){const{domain:r,range:i}=this.options,o=cV(i,r.map(e),$H);this.input=wH(t,n,o)}}class hV extends dV{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:qH,tickMethod:sV,tickCount:5}}chooseTransforms(){return[It,It]}clone(){return new hV(this.options)}}var fV=function(e){function t(t){var n=this,r=t.style,i=Bt(t,["style"]);return(n=e.call(this,St({},{type:"column"},jt({style:r},i)))||this).columnsGroup=new Xl({name:"columns"}),n.appendChild(n.columnsGroup),n.render(),n}return Ft(t,e),t.prototype.render=function(){var e=this.attributes,t=e.columns,n=e.x,r=e.y;this.columnsGroup.style.transform="translate(".concat(n,", ").concat(r,")"),QB(this.columnsGroup).selectAll(".column").data(t.flat()).join(function(e){return e.append("rect").attr("className","column").each(function(e){this.attr(e)})},function(e){return e.each(function(e){this.attr(e)})},function(e){return e.remove()})},t.prototype.update=function(e){this.attr(SB({},this.attributes,e)),this.render()},t.prototype.clear=function(){this.removeChildren()},t}(Wl),pV=function(e){function t(t){var n=this,r=t.style,i=Bt(t,["style"]);return(n=e.call(this,St({},{type:"lines"},jt({style:r},i)))||this).linesGroup=n.appendChild(new Xl),n.areasGroup=n.appendChild(new Xl),n.render(),n}return Ft(t,e),t.prototype.render=function(){var e=this.attributes,t=e.lines,n=e.areas,r=e.x,i=e.y;this.style.transform="translate(".concat(r,", ").concat(i,")"),t&&this.renderLines(t),n&&this.renderAreas(n)},t.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},t.prototype.update=function(e){this.attr(SB({},this.attributes,e)),this.render()},t.prototype.renderLines=function(e){QB(this.linesGroup).selectAll(".line").data(e).join(function(e){return e.append("path").attr("className","line").each(function(e){this.attr(e)})},function(e){return e.each(function(e){this.attr(e)})},function(e){return e.remove()})},t.prototype.renderAreas=function(e){QB(this.linesGroup).selectAll(".area").data(e).join(function(e){return e.append("path").attr("className","area").each(function(e){this.attr(e)})},function(e){return e.each(function(e){this.style(e)})},function(e){return e.remove()})},t}(Wl);function gV(e,t){void 0===t&&(t=!1);var n=t?e.length-1:0,r=e.map(function(e,t){return Wt([t===n?"M":"L"],Ut(e),!1)});return t?r.reverse():r}function mV(e,t){if(void 0===t&&(t=!1),e.length<=2)return gV(e);for(var n=[],r=e.length,i=0;i<r;i+=1){var o=t?e[r-i-1]:e[i];Ot(o,n.slice(-2))||n.push.apply(n,Wt([],Ut(o),!1))}var a=GB(n);return t?a.unshift(Wt(["M"],Ut(e[r-1]),!1)):a.unshift(Wt(["M"],Ut(e[0]),!1)),a}function yV(e,t,n){var r=vt(e);return r.push(["L",t,n],["L",0,n],["Z"]),r}function vV(e){return 0===e.length?[0,0]:[nt(ct(e,function(e){return nt(e)||0})),tt(ut(e,function(e){return tt(e)||0}))]}function bV(e){for(var t=vt(e),n=t[0].length,r=Ut([Array(n).fill(0),Array(n).fill(0)],2),i=r[0],o=r[1],a=0;a<t.length;a+=1)for(var s=t[a],l=0;l<n;l+=1)s[l]>=0?(s[l]+=i[l],i[l]=s[l]):(s[l]+=o[l],o[l]=s[l]);return t}var wV=function(e){function t(t){return e.call(this,t,{type:"line",x:0,y:0,width:200,height:20,isStack:!1,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff",scale:1,spacing:0})||this}return Ft(t,e),Object.defineProperty(t.prototype,"rawData",{get:function(){var e=this.attributes.data;if(!e||0===(null==e?void 0:e.length))return[[]];var t=vt(e);return st(t[0])?[t]:t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.attributes.isStack?bV(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseline",{get:function(){var e=this.scales.y,t=Ut(e.getOptions().domain||[0,0],2),n=t[0],r=t[1];return r<0?e.map(r):e.map(n<0?0:n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerShape",{get:function(){var e=this.attributes;return{width:e.width,height:e.height}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linesStyle",{get:function(){var e=this,t=this.attributes,n=t.type,r=t.isStack,i=t.smooth;if("line"!==n)throw new Error("linesStyle can only be used in line type");var o=iH(this.attributes,"area"),a=iH(this.attributes,"line"),s=this.containerShape.width,l=this.data;if(0===l[0].length)return{lines:[],areas:[]};var u=this.scales,c=function(e,t){var n,r=t.x,i=t.y,o=Ut(i.getOptions().range||[0,0],2),a=o[0],s=o[1];return s>a&&(n=Ut([a,s],2),s=n[0],a=n[1]),e.map(function(e){return e.map(function(e,t){return[r.map(t),at(i.map(e),s,a)]})})}(l,{x:u.x,y:u.y}),d=[];if(o){var h=this.baseline;d=r?i?function(e,t,n){for(var r=[],i=e.length-1;i>=0;i-=1){var o=e[i],a=mV(o),s=void 0;if(0===i)s=yV(a,t,n);else{var l=mV(e[i-1],!0),u=o[0];l[0][0]="L",s=Wt(Wt(Wt([],Ut(a),!1),Ut(l),!1),[Wt(["M"],Ut(u),!1),["Z"]],!1)}r.push(s)}return r}(c,s,h):function(e,t,n){for(var r=[],i=e.length-1;i>=0;i-=1){var o=gV(e[i]),a=void 0;if(0===i)a=yV(o,t,n);else{var s=gV(e[i-1],!0);s[0][0]="L",a=Wt(Wt(Wt([],Ut(o),!1),Ut(s),!1),[["Z"]],!1)}r.push(a)}return r}(c,s,h):function(e,t,n,r){return e.map(function(e){return yV(t?mV(e):gV(e),n,r)})}(c,i,s,h)}return{lines:c.map(function(t,n){return jt({stroke:e.getColor(n),d:i?mV(t):gV(t)},a)}),areas:d.map(function(t,n){return jt({d:t,fill:e.getColor(n)},o)})}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnsStyle",{get:function(){var e=this,t=iH(this.attributes,"column"),n=this.attributes,r=n.isStack,i=n.type,o=n.scale;if("column"!==i)throw new Error("columnsStyle can only be used in column type");var a=this.containerShape.height,s=this.rawData;if(!s)return{columns:[]};r&&(s=bV(s));var l=this.createScales(s),u=l.x,c=l.y,d=Ut(vV(s),2),h=d[0],f=d[1],p=new hV({domain:[0,f-(h>0?0:h)],range:[0,a*o]}),g=u.getBandWidth(),m=this.rawData;return{columns:s.map(function(n,i){return n.map(function(n,o){var a=g/s.length;return jt(jt({fill:e.getColor(i)},t),r?{x:u.map(o),y:c.map(n),width:g,height:p.map(m[i][o])}:{x:u.map(o)+a*i,y:n>=0?c.map(n):c.map(0),width:a,height:p.map(Math.abs(n))})})})}},enumerable:!1,configurable:!0}),t.prototype.render=function(e,t){var n,r,i;(n=t,r=".container",i="rect",n.querySelector(r)?QB(n).select(r):QB(n).append(i)).attr("className","container").node();var o=e.type,a=e.x,s=e.y,l="spark".concat(o),u=jt({x:a,y:s},"line"===o?this.linesStyle:this.columnsStyle);QB(t).selectAll(".spark").data([o]).join(function(e){return e.append(function(e){return"line"===e?new pV({className:l,style:u}):new fV({className:l,style:u})}).attr("className","spark ".concat(l))},function(e){return e.update(u)},function(e){return e.remove()})},t.prototype.getColor=function(e){var t=this.attributes.color;return Ye(t)?t[e%t.length]:$e(t)?t.call(null,e):t},t.prototype.createScales=function(e){var t,n,r=this.attributes,i=r.type,o=r.scale,a=r.range,s=void 0===a?[]:a,l=r.spacing,u=this.containerShape,c=u.width,d=u.height,h=Ut(vV(e),2),f=h[0],p=h[1],g=new hV({domain:[null!==(t=s[0])&&void 0!==t?t:f,null!==(n=s[1])&&void 0!==n?n:p],range:[d,d*(1-o)]});return"line"===i?{type:i,x:new hV({domain:[0,e[0].length-1],range:[0,c]}),y:g}:{type:i,x:new aV({domain:e[0].map(function(e,t){return t}),range:[0,c],paddingInner:l,paddingOuter:l/2,align:.5}),y:g}},t.tag="sparkline",t}(dH);function xV(e){if(!e)return{enter:!1,update:!1,exit:!1};var t=["enter","update","exit"],n=Object.fromEntries(Object.entries(e).filter(function(e){var n=Ut(e,1)[0];return!t.includes(n)}));return Object.fromEntries(t.map(function(t){return function(e){return"boolean"!=typeof e&&"enter"in e&&"update"in e&&"exit"in e}(e)?!1===e[t]?[t,!1]:[t,jt(jt({},e[t]),n)]:[t,n]}))}function EV(e,t){e?e.finished.then(t):t()}function kV(e,t){"update"in e?e.update(t):e.attr(t)}function SV(e,t,n){return 0===t.length?null:n?e.animate(t,n):(kV(e,{style:t.slice(-1)[0]}),null)}function MV(e,t,n){var r={},i={};return Object.entries(t).forEach(function(t){var n=Ut(t,2),o=n[0],a=n[1];if(!qe(a)){var s=e.style[o]||e.parsedStyle[o]||0;s!==a&&(r[o]=s,i[o]=a)}}),n?SV(e,[r,i],jt({fill:"both"},n)):(kV(e,i),null)}function TV(e,t){return e.style.opacity||(e.style.opacity=1),MV(e,{opacity:0},t)}var OV={fill:"#fff",lineWidth:1,radius:2,size:10,stroke:"#bfbfbf",strokeOpacity:1,zIndex:0},CV={fill:"#000",fillOpacity:.45,fontSize:12,textAlign:"center",textBaseline:"middle",zIndex:1},NV={x:0,y:0,orientation:"horizontal",showLabel:!0,type:"start"},PV=EB({foreground:"foreground",handle:"handle",selection:"selection",sparkline:"sparkline",sparklineGroup:"sparkline-group",track:"track",brushArea:"brush-area"},"slider"),AV=EB({labelGroup:"label-group",label:"label",iconGroup:"icon-group",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),RV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ft(t,e),t.prototype.render=function(e,t){var n=e.x,r=e.y,i=e.size,o=void 0===i?10:i,a=e.radius,s=void 0===a?o/4:a,l=e.orientation,u=Bt(e,["x","y","size","radius","orientation"]),c=o,d=2.4*c,h=QB(t).maybeAppendByClassName(AV.iconRect,"rect").styles(jt(jt({},u),{width:c,height:d,radius:s,x:n-c/2,y:r-d/2,transformOrigin:"center"})),f=n+1/3*c-c/2,p=n+2/3*c-c/2,g=r+1/4*d-d/2,m=r+3/4*d-d/2;h.maybeAppendByClassName("".concat(AV.iconLine,"-1"),"line").styles(jt({x1:f,x2:f,y1:g,y2:m},u)),h.maybeAppendByClassName("".concat(AV.iconLine,"-2"),"line").styles(jt({x1:p,x2:p,y1:g,y2:m},u)),"vertical"===l&&(h.node().style.transform="rotate(90)")},t}(dH),_V=function(e){function t(t){return e.call(this,t,NV)||this}return Ft(t,e),t.prototype.renderLabel=function(e){var t=this,n=this.attributes,r=n.x,i=n.y,o=n.showLabel,a=iH(this.attributes,"label"),s=a.x,l=void 0===s?0:s,u=a.y,c=void 0===u?0:u,d=a.transform,h=a.transformOrigin,f=Ut(aH(Bt(a,["x","y","transform","transformOrigin"]),[]),2),p=f[0],g=f[1],m=QB(e).maybeAppendByClassName(AV.labelGroup,"g").styles(g),y=jt(jt({},CV),p),v=y.text,b=Bt(y,["text"]);_B(!!o,m,function(e){t.label=e.maybeAppendByClassName(AV.label,"text").styles(jt(jt({},b),{x:r+l,y:i+c,transform:d,transformOrigin:h,text:"".concat(v)})),t.label.on("mousedown",function(e){e.stopPropagation()}),t.label.on("touchstart",function(e){e.stopPropagation()})})},t.prototype.renderIcon=function(e){var t=this.attributes,n=t.x,r=t.y,i=t.orientation,o=t.type,a=jt(jt({x:n,y:r,orientation:i},OV),iH(this.attributes,"icon")),s=this.attributes.iconShape,l=void 0===s?function(){return new RV({style:a})}:s;QB(e).maybeAppendByClassName(AV.iconGroup,"g").selectAll(AV.icon.class).data([l]).join(function(e){return e.append("string"==typeof l?l:function(){return l(o)}).attr("className",AV.icon.name)},function(e){return e.update(a)},function(e){return e.remove()})},t.prototype.render=function(e,t){this.renderIcon(t),this.renderLabel(t)},t}(dH),DV=function(e){function t(t){var n=e.call(this,t,jt(jt(jt({x:0,y:0,animate:{duration:100,fill:"both"},brushable:!0,formatter:function(e){return e.toString()},handleSpacing:2,orientation:"horizontal",padding:0,autoFitLabel:!0,scrollable:!0,selectionFill:"#5B8FF9",selectionFillOpacity:.45,selectionZIndex:2,showHandle:!0,showLabel:!0,slidable:!0,trackFill:"#416180",trackLength:200,trackOpacity:.05,trackSize:20,trackZIndex:-1,values:[0,1],type:"range",selectionType:"select",handleIconOffset:0},oH(NV,"handle")),oH(OV,"handleIcon")),oH(CV,"handleLabel")))||this;return n.range=[0,1],n.onDragStart=function(e){return function(t){t.stopPropagation(),n.target=e,n.prevPos=n.getOrientVal(AB(t));var r=n.availableSpace,i=r.x,o=r.y,a=n.getBBox(),s=a.x,l=a.y;n.selectionStartPos=n.getRatio(n.prevPos-n.getOrientVal([i,o])-n.getOrientVal([+s,+l])),n.selectionWidth=0,document.addEventListener("pointermove",n.onDragging),document.addEventListener("pointerup",n.onDragEnd)}},n.onDragging=function(e){var t=n.attributes,r=t.slidable,i=t.brushable,o=t.type;e.stopPropagation();var a=n.getOrientVal(AB(e)),s=a-n.prevPos;if(s){var l=n.getRatio(s);switch(n.target){case"start":r&&n.setValuesOffset(l);break;case"end":r&&n.setValuesOffset(0,l);break;case"selection":r&&n.setValuesOffset(l,l);break;case"track":if(!i)return;n.selectionWidth+=l,"range"===o?n.innerSetValues([n.selectionStartPos,n.selectionStartPos+n.selectionWidth].sort(),!0):n.innerSetValues([0,n.selectionStartPos+n.selectionWidth],!0)}n.prevPos=a}},n.onDragEnd=function(){document.removeEventListener("pointermove",n.onDragging),document.removeEventListener("pointermove",n.onDragging),document.removeEventListener("pointerup",n.onDragEnd),n.target="",n.updateHandlesPosition(!1)},n.onValueChange=function(e){var t=n.attributes,r=t.onChange,i=t.type,o="range"===i?e:e[1],a="range"===i?n.getValues():n.getValues()[1],s=new Ws("valuechange",{detail:{oldValue:o,value:a}});n.dispatchEvent(s),null==r||r(a)},n.selectionStartPos=0,n.selectionWidth=0,n.prevPos=0,n.target="",n}return Ft(t,e),Object.defineProperty(t.prototype,"values",{get:function(){return this.attributes.values},set:function(e){this.attributes.values=this.clampValues(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sparklineStyle",{get:function(){if("horizontal"!==this.attributes.orientation)return null;var e=iH(this.attributes,"sparkline");return jt(jt({zIndex:0},this.availableSpace),e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shape",{get:function(){var e=this.attributes,t=e.trackLength,n=e.trackSize,r=Ut(this.getOrientVal([[t,n],[n,t]]),2);return{width:r[0],height:r[1]}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"availableSpace",{get:function(){var e=this.attributes;e.x,e.y;var t=Ut(ZB(e.padding),4),n=t[0],r=t[1],i=t[2],o=t[3],a=this.shape;return{x:o,y:n,width:a.width-(o+r),height:a.height-(n+i)}},enumerable:!1,configurable:!0}),t.prototype.getValues=function(){return this.values},t.prototype.setValues=function(e,t){void 0===e&&(e=[0,0]),void 0===t&&(t=!1),this.attributes.values=e;var n=!1!==t&&this.attributes.animate;this.updateSelectionArea(n),this.updateHandlesPosition(n)},t.prototype.updateSelectionArea=function(e){var t=this.calcSelectionArea();this.foregroundGroup.selectAll(PV.selection.class).each(function(n,r){MV(this,t[r],e)})},t.prototype.updateHandlesPosition=function(e){this.attributes.showHandle&&(this.startHandle&&MV(this.startHandle,this.getHandleStyle("start"),e),this.endHandle&&MV(this.endHandle,this.getHandleStyle("end"),e))},t.prototype.innerSetValues=function(e,t){void 0===e&&(e=[0,0]),void 0===t&&(t=!1);var n=this.values,r=this.clampValues(e);this.attributes.values=r,this.setValues(r),t&&this.onValueChange(n)},t.prototype.renderTrack=function(e){var t=this.attributes,n=t.x,r=t.y,i=iH(this.attributes,"track");this.trackShape=QB(e).maybeAppendByClassName(PV.track,"rect").styles(jt(jt({x:n,y:r},this.shape),i))},t.prototype.renderBrushArea=function(e){var t=this.attributes,n=t.x,r=t.y,i=t.brushable;this.brushArea=QB(e).maybeAppendByClassName(PV.brushArea,"rect").styles(jt({x:n,y:r,fill:"transparent",cursor:i?"crosshair":"default"},this.shape))},t.prototype.renderSparkline=function(e){var t=this,n=this.attributes,r=n.x,i=n.y;_B("horizontal"===n.orientation,QB(e).maybeAppendByClassName(PV.sparklineGroup,"g"),function(e){var n=jt(jt({},t.sparklineStyle),{x:r,y:i});e.maybeAppendByClassName(PV.sparkline,function(){return new wV({style:n})}).update(n)})},t.prototype.renderHandles=function(){var e,t=this,n=this.attributes,r=n.showHandle,i=n.type,o=r?"range"===i?["start","end"]:["end"]:[],a=this;null===(e=this.foregroundGroup)||void 0===e||e.selectAll(PV.handle.class).data(o.map(function(e){return{type:e}}),function(e){return e.type}).join(function(e){return e.append(function(e){var n=e.type;return new _V({style:t.getHandleStyle(n)})}).each(function(e){var t=e.type;this.attr("class","".concat(PV.handle.name," ").concat(t,"-handle"));var n="".concat(t,"Handle");a[n]=this,this.addEventListener("pointerdown",a.onDragStart(t))})},function(e){return e.each(function(e){var t=e.type;this.update(a.getHandleStyle(t))})},function(e){return e.each(function(e){var t=e.type,n="".concat(t,"Handle");a[n]=void 0}).remove()})},t.prototype.renderSelection=function(e){var t=this.attributes,n=t.x,r=t.y,i=t.type,o=t.selectionType;this.foregroundGroup=QB(e).maybeAppendByClassName(PV.foreground,"g");var a=iH(this.attributes,"selection"),s=function(e){return e.style("visibility",function(e){return e.show?"visible":"hidden"}).style("cursor",function(e){return"select"===o?"grab":"invert"===o?"crosshair":"default"}).styles(jt(jt({},a),{transform:"translate(".concat(n,", ").concat(r,")")}))},l=this;this.foregroundGroup.selectAll(PV.selection.class).data("value"===i?[]:this.calcSelectionArea().map(function(e,t){return{style:jt({},e),index:t,show:"select"===o?1===t:1!==t}}),function(e){return e.index}).join(function(e){return e.append("rect").attr("className",PV.selection.name).call(s).each(function(e,t){var n=this;1===t?(l.selectionShape=QB(this),this.on("pointerdown",function(e){n.attr("cursor","grabbing"),l.onDragStart("selection")(e)}),l.dispatchCustomEvent(this,"pointerenter","selectionMouseenter"),l.dispatchCustomEvent(this,"pointerleave","selectionMouseleave"),l.dispatchCustomEvent(this,"click","selectionClick"),this.addEventListener("pointerdown",function(){n.attr("cursor","grabbing")}),this.addEventListener("pointerup",function(){n.attr("cursor","pointer")}),this.addEventListener("pointerover",function(){n.attr("cursor","pointer")})):this.on("pointerdown",l.onDragStart("track"))})},function(e){return e.call(s)},function(e){return e.remove()}),this.updateSelectionArea(!1),this.renderHandles()},t.prototype.render=function(e,t){this.renderTrack(t),this.renderSparkline(t),this.renderBrushArea(t),this.renderSelection(t)},t.prototype.clampValues=function(e,t){var n;void 0===t&&(t=4);var r=Ut(this.range,2),i=r[0],o=r[1],a=Ut(this.getValues().map(function(e){return UB(e,t)}),2),s=a[0],l=a[1],u=Ut(((Array.isArray(e)?e:[s,null!=e?e:l])||[s,l]).map(function(e){return UB(e,t)}),2),c=u[0],d=u[1];if("value"===this.attributes.type)return[0,at(d,i,o)];c>d&&(c=(n=Ut([d,c],2))[0],d=n[1]);var h=d-c;return h>o-i?[i,o]:c<i?s===i&&l===d?[i,d]:[i,h+i]:d>o?l===o&&s===c?[c,o]:[o-h,o]:[c,d]},t.prototype.calcSelectionArea=function(e){var t=Ut(this.clampValues(e),2),n=t[0],r=t[1],i=this.availableSpace,o=i.x,a=i.y,s=i.width,l=i.height;return this.getOrientVal([[{y:a,height:l,x:o,width:n*s},{y:a,height:l,x:n*s+o,width:(r-n)*s},{y:a,height:l,x:r*s,width:(1-r)*s}],[{x:o,width:s,y:a,height:n*l},{x:o,width:s,y:n*l+a,height:(r-n)*l},{x:o,width:s,y:r*l,height:(1-r)*l}]])},t.prototype.calcHandlePosition=function(e){var t=this.attributes.handleIconOffset,n=this.availableSpace,r=n.x,i=n.y,o=n.width,a=n.height,s=Ut(this.clampValues(),2),l=s[0],u=s[1],c="start"===e?-t:t,d=("start"===e?l:u)*this.getOrientVal([o,a])+c;return{x:r+this.getOrientVal([d,o/2]),y:i+this.getOrientVal([a/2,d])}},t.prototype.inferTextStyle=function(e){return"horizontal"===this.attributes.orientation?{}:"start"===e?{transformOrigin:"left center",transform:"rotate(90)",textAlign:"start"}:"end"===e?{transformOrigin:"right center",transform:"rotate(90)",textAlign:"end"}:{}},t.prototype.calcHandleText=function(e){var t,n=this.attributes,r=n.type,i=n.orientation,o=n.formatter,a=n.autoFitLabel,s=iH(this.attributes,"handle"),l=iH(s,"label"),u=s.spacing,c=this.getHandleSize(),d=this.clampValues(),h=o("start"===e?d[0]:d[1]),f=new mB({style:jt(jt(jt({},l),this.inferTextStyle(e)),{text:h})}),p=f.getBBox(),g=p.width,m=p.height;if(f.destroy(),!a){if("value"===r)return{text:h,x:0,y:-m-u};var y=u+c+("horizontal"===i?g/2:0);return(t={text:h})["horizontal"===i?"x":"y"]="start"===e?-y:y,t}var v=0,b=0,w=this.availableSpace,x=w.width,E=w.height,k=this.calcSelectionArea()[1],S=k.x,M=k.y,T=k.width,O=k.height,C=u+c;if("horizontal"===i){var N=C+g/2;if("start"===e)v=S-C-g>0?-N:N;else v=x-S-T-C>g?N:-N}else{var P=m+C;b="start"===e?M-c>m?-P:C:E-(M+O)-c>m?P:-C}return{x:v,y:b,text:h}},t.prototype.getHandleLabelStyle=function(e){var t=iH(this.attributes,"handleLabel");return jt(jt(jt({},t),this.calcHandleText(e)),this.inferTextStyle(e))},t.prototype.getHandleIconStyle=function(){var e=this.attributes.handleIconShape,t=iH(this.attributes,"handleIcon"),n=this.getOrientVal(["ew-resize","ns-resize"]),r=this.getHandleSize();return jt({cursor:n,shape:e,size:r},t)},t.prototype.getHandleStyle=function(e){var t=this.attributes,n=t.x,r=t.y,i=t.showLabel,o=t.showLabelOnInteraction,a=t.orientation,s=this.calcHandlePosition(e),l=s.x,u=s.y,c=this.calcHandleText(e),d=i;return!i&&o&&(d=!!this.target),jt(jt(jt({},oH(this.getHandleIconStyle(),"icon")),oH(jt(jt({},this.getHandleLabelStyle(e)),c),"label")),{transform:"translate(".concat(l+n,", ").concat(u+r,")"),orientation:a,showLabel:d,type:e,zIndex:3})},t.prototype.getHandleSize=function(){var e=this.attributes,t=e.handleIconSize,n=e.width,r=e.height;return t||Math.floor((this.getOrientVal([+r,+n])+4)/2.4)},t.prototype.getOrientVal=function(e){var t=Ut(e,2),n=t[0],r=t[1];return"horizontal"===this.attributes.orientation?n:r},t.prototype.setValuesOffset=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=!1);var r=this.attributes.type,i=Ut(this.getValues(),2),o=[i[0]+("range"===r?e:0),i[1]+t].sort();n?this.setValues(o):this.innerSetValues(o,!0)},t.prototype.getRatio=function(e){var t=this.availableSpace,n=t.width,r=t.height;return e/this.getOrientVal([n,r])},t.prototype.dispatchCustomEvent=function(e,t,n){var r=this;e.on(t,function(e){e.stopPropagation(),r.dispatchEvent(new Ws(n,{detail:e}))})},t.prototype.bindEvents=function(){this.addEventListener("wheel",this.onScroll);var e=this.brushArea;this.dispatchCustomEvent(e,"click","trackClick"),this.dispatchCustomEvent(e,"pointerenter","trackMouseenter"),this.dispatchCustomEvent(e,"pointerleave","trackMouseleave"),e.on("pointerdown",this.onDragStart("track"))},t.prototype.onScroll=function(e){if(this.attributes.scrollable){var t=e.deltaX,n=e.deltaY||t,r=this.getRatio(n);this.setValuesOffset(r,r,!0)}},t.tag="slider",t}(dH),LV={data:[],animate:{enter:!1,update:{duration:100,easing:"ease-in-out-sine",fill:"both"},exit:{duration:100,fill:"both"}},showArrow:!0,showGrid:!0,showLabel:!0,showLine:!0,showTick:!0,showTitle:!0,showTrunc:!1,dataThreshold:100,lineLineWidth:1,lineStroke:"black",crossPadding:10,titleFill:"black",titleFontSize:12,titlePosition:"lb",titleSpacing:0,titleTextAlign:"center",titleTextBaseline:"middle",lineArrow:function(){return new nu({style:{d:[["M",10,10],["L",-10,0],["L",10,-10],["L",0,0],["L",10,10],["Z"]],fill:"black",transformOrigin:"center"}})},labelAlign:"parallel",labelDirection:"positive",labelFontSize:12,labelSpacing:0,gridConnect:"line",gridControlAngles:[],gridDirection:"positive",gridLength:0,gridType:"segment",lineArrowOffset:15,lineArrowSize:10,tickDirection:"positive",tickLength:5,tickLineWidth:1,tickStroke:"black",labelOverlap:[]};St({},LV,{style:{type:"arc"}}),St({},LV,{style:{}});var IV=EB({mainGroup:"main-group",gridGroup:"grid-group",grid:"grid",lineGroup:"line-group",line:"line",tickGroup:"tick-group",tick:"tick",tickItem:"tick-item",labelGroup:"label-group",label:"label",labelItem:"label-item",titleGroup:"title-group",title:"title",lineFirst:"line-first",lineSecond:"line-second"},"axis"),zV=EB({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function FV(e){return e.reduce(function(e,t,n){return e.push(Wt([0===n?"M":"L"],Ut(t),!1)),e},[])}function jV(e,t,n){return"surround"===t.type?function(e,t,n){var r=t.connect,i=void 0===r?"line":r,o=t.center;if("line"===i)return FV(e);if(!o)return[];var a=HB(e[0],o),s=n?0:1;return e.reduce(function(e,t,n){return 0===n?e.push(Wt(["M"],Ut(t),!1)):e.push(Wt(["A",a,a,0,0,s],Ut(t),!1)),e},[])}(e,t,n):FV(e)}function BV(e,t,n){var r=n.type,i=n.connect,o=n.center,a=n.closed?[["Z"]]:[],s=Ut([jV(e,n),jV(t.slice().reverse(),n,!0)],2),l=s[0],u=s[1],c=Ut([e[0],t.slice(-1)[0]],2),d=c[0],h=c[1],f=function(e,t){return[l,e,u,t,a].flat()};if("line"===i||"surround"===r)return f([Wt(["L"],Ut(h),!1)],[Wt(["L"],Ut(d),!1)]);if(!o)throw new Error("Arc grid need to specified center");var p=Ut([HB(h,o),HB(d,o)],2),g=p[0],m=p[1];return f([Wt(["A",g,g,0,0,1],Ut(h),!1),Wt(["L"],Ut(h),!1)],[Wt(["A",m,m,0,0,0],Ut(d),!1),Wt(["L"],Ut(d),!1)])}var HV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ft(t,e),t.prototype.render=function(e,t){e.type,e.center,e.areaFill,e.closed;var n=Bt(e,["type","center","areaFill","closed"]),r=function(e){var t=e.data,n=void 0===t?[]:t;return e.closed?n.map(function(e){var t=e.points,n=Ut(t,1)[0];return jt(jt({},e),{points:Wt(Wt([],Ut(t),!1),[n],!1)})}):n}(e),i=QB(t).maybeAppendByClassName(zV.lineGroup,"g"),o=QB(t).maybeAppendByClassName(zV.regionGroup,"g"),a=function(e,t,n,r){var i=n.animate,o=n.isBillboard,a=t.map(function(e,t){return{id:e.id||"grid-line-".concat(t),d:jV(e.points,n)}});return e.selectAll(zV.line.class).data(a,function(e){return e.id}).join(function(e){return e.append("path").each(function(e,t){var n=wB(YB(jt({d:e.d},r)),[e,t,a]);this.attr(jt({class:zV.line.name,stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4],isBillboard:o},n))})},function(e){return e.transition(function(e,t){return MV(this,wB(YB(jt({d:e.d},r)),[e,t,a]),i.update)})},function(e){return e.transition(function(){var e=this,t=TV(this,i.exit);return EV(t,function(){return e.remove()}),t})}).transitions()}(i,r,e,n),s=function(e,t,n){var r=n.animate,i=n.connect,o=n.areaFill;if(t.length<2||!o||!i)return[];for(var a=Array.isArray(o)?o:[o,"transparent"],s=function(e){return a[e%a.length]},l=[],u=0;u<t.length-1;u++){var c=Ut([t[u].points,t[u+1].points],2),d=BV(c[0],c[1],n);l.push({d:d,fill:s(u)})}return e.selectAll(zV.region.class).data(l,function(e,t){return t}).join(function(e){return e.append("path").each(function(e,t){var n=wB(e,[e,t,l]);this.attr(n)}).attr("className",zV.region.name)},function(e){return e.transition(function(e,t){return MV(this,wB(e,[e,t,l]),r.update)})},function(e){return e.transition(function(){var e=this,t=TV(this,r.exit);return EV(t,function(){return e.remove()}),t})}).transitions()}(o,r,e);return Wt(Wt([],Ut(a),!1),Ut(s),!1)},t}(dH);function VV(e,t){return Object.fromEntries(Object.entries(e).map(function(e){var n=Ut(e,2);return[n[0],wB(n[1],t)]}))}function UV(e,t){return t&&$e(t)?e.filter(t):e}function WV(e,t){var n=t.startAngle;return(t.endAngle-n)*e+n}function GV(e,t){if("linear"===t.type){var n=Ut(t.startPos,2),r=n[0],i=n[1],o=Ut(t.endPos,2),a=Ut([o[0]-r,o[1]-i],2);return VB([a[0],a[1]])}var s=yB(WV(e,t));return[-Math.sin(s),Math.cos(s)]}function $V(e,t,n){return function(e,t){return t?[e[1],-e[0]]:[-e[1],e[0]]}(GV(e,n),"positive"!==t)}function qV(e,t){return $V(e,t.labelDirection,t)}function YV(e,t){return"linear"===t.type?function(e,t){var n=Ut(t.startPos,2),r=n[0],i=n[1],o=Ut(t.endPos,2),a=Ut([o[0]-r,o[1]-i],2);return[r+a[0]*e,i+a[1]*e]}(e,t):function(e,t){var n=t.radius,r=Ut(t.center,2),i=r[0],o=r[1],a=yB(WV(e,t));return[i+n*Math.cos(a),o+n*Math.sin(a)]}(e,t)}function XV(e){return 0===GV(0,e)[1]}function KV(e){return 0===GV(0,e)[0]}function QV(e,t){return t-e===360}function ZV(e,t,n,r,i){var o=t-e,a=Ut([i,i],2),s=a[0],l=a[1],u=Ut([yB(e),yB(t)],2),c=u[0],d=u[1],h=function(e){return[n+i*Math.cos(e),r+i*Math.sin(e)]},f=Ut(h(c),2),p=f[0],g=f[1],m=Ut(h(d),2),y=m[0],v=m[1];if(QV(e,t)){var b=Ut(h((d+c)/2),2);return[["M",p,g],["A",s,l,0,1,0,b[0],b[1]],["A",s,l,0,1,0,y,v]]}var w=o>180?1:0,x=e>t?0:1;return"M".concat(p,",").concat(g,",A").concat(s,",").concat(l,",0,").concat(w,",").concat(x,",").concat(y,",").concat(v)}function JV(e,t,n,r){var i=t.startAngle,o=t.endAngle,a=t.center,s=t.radius;return e.selectAll(IV.line.class).data([{d:ZV.apply(void 0,Wt(Wt([i,o],Ut(a),!1),[s],!1))}],function(e,t){return t}).join(function(e){return e.append("path").attr("className",IV.line.name).styles(t).styles({d:function(e){return e.d}})},function(e){return e.transition(function(){var e=this,t=function(e,t,n,r){if(!r)return e.attr("__keyframe_data__",n),null;var i=r.duration,o=void 0===i?0:i,a=LB(t,n),s=Math.ceil(+o/16),l=new Array(s).fill(0).map(function(e,t,n){return{__keyframe_data__:a(t/(n.length-1))}});return e.animate(l,jt({fill:"both"},r))}(this,function(e){var t=e.attributes,n=t.startAngle,r=t.endAngle,i=t.center,o=t.radius;return Wt(Wt([n,r],Ut(i),!1),[o],!1)}(this),Wt(Wt([i,o],Ut(a),!1),[s],!1),r.update);if(t){var n=function(){var t=Ct(e.attributes,"__keyframe_data__");e.style.d=ZV.apply(void 0,Wt([],Ut(t),!1))};t.onframe=n,t.onfinish=n}return t}).styles(t)},function(e){return e.remove()}).styles(n).transitions()}function eU(e){var t=Ut(e,2),n=Ut(t[0],2),r=n[0],i=n[1],o=Ut(t[1],2);return{x1:r,y1:i,x2:o[0],y2:o[1]}}function tU(e,t,n,r){var i=t.showTrunc,o=t.startPos,a=t.endPos,s=t.truncRange,l=t.lineExtension,u=Ut([o,a],2),c=Ut(u[0],2),d=c[0],h=c[1],f=Ut(u[1],2),p=f[0],g=f[1],m=Ut(l?function(e,t,n){void 0===n&&(n=[0,0]);var r=Ut([e,t,n],3),i=Ut(r[0],2),o=i[0],a=i[1],s=Ut(r[1],2),l=s[0],u=s[1],c=Ut(r[2],2),d=c[0],h=c[1],f=Ut([l-o,u-a],2),p=f[0],g=f[1],m=Math.sqrt(Math.pow(p,2)+Math.pow(g,2)),y=Ut([-d/m,h/m],2),v=y[0],b=y[1];return[v*p,v*g,b*p,b*g]}(o,a,l):new Array(4).fill(0),4),y=m[0],v=m[1],b=m[2],w=m[3],x=function(t){return e.selectAll(IV.line.class).data(t,function(e,t){return t}).join(function(e){return e.append("line").attr("className",function(e){return"".concat(IV.line.name," ").concat(e.className)}).styles(n).transition(function(e){return MV(this,eU(e.line),!1)})},function(e){return e.styles(n).transition(function(e){return MV(this,eU(e.line),r.update)})},function(e){return e.remove()}).transitions()};if(!i||!s)return x([{line:[[d+y,h+v],[p+b,g+w]],className:IV.line.name}]);var E=Ut(s,2),k=E[0],S=E[1],M=p-d,T=g-h,O=Ut([d+M*k,h+T*k],2),C=O[0],N=O[1],P=Ut([d+M*S,h+T*S],2),A=P[0],R=P[1],_=x([{line:[[d+y,h+v],[C,N]],className:IV.lineFirst.name},{line:[[A,R],[p+b,g+w]],className:IV.lineSecond.name}]);return function(e,t){t.truncRange,t.truncShape,t.lineExtension}(0,t),_}function nU(e,t,n){var r,i=t.type,o=iH(t,"line");return r="linear"===i?tU(e,t,WB(o,"arrow"),n):JV(e,t,WB(o,"arrow"),n),function(e,t,n,r){var i,o=n.showArrow,a=n.showTrunc,s=n.lineArrow,l=n.lineArrowOffset,u=n.lineArrowSize;if(i="arc"===t?e.select(IV.line.class):a?e.select(IV.lineSecond.class):e.select(IV.line.class),!o||!s||"arc"===n.type&&QV(n.startAngle,n.endAngle)){var c=i.node();c&&(c.style.markerEnd=void 0)}else{var d=RB(s);d.attr(r),XB(d,u),i.style("markerEnd",d).style("markerEndOffset",-l)}}(e,i,t,o),r}function rU(e){var t=e.type,n=e.gridCenter;return"linear"===t?n:n||e.center}function iU(e,t){var n=t.gridLength;return e.map(function(e,r){var i=e.value,o=Ut(YV(i,t),2),a=o[0],s=o[1],l=Ut(IB(function(e,t){return $V(e,t.gridDirection,t)}(i,t),n),2);return{id:r,points:[[a,s],[a+l[0],s+l[1]]]}})}function oU(e,t,n,r){var i=iH(n,"grid"),o=i.type,a=i.areaFill,s=rU(n),l=UV(t,n.gridFilter),u="segment"===o?iU(l,n):function(e,t){var n=t.gridControlAngles,r=rU(t);if(!r)throw new Error("grid center is not provide");if(e.length<2)throw new Error("Invalid grid data");if(!n||0===n.length)throw new Error("Invalid gridControlAngles");var i=Ut(r,2),o=i[0],a=i[1];return e.map(function(e,r){var i=Ut(YV(e.value,t),2),s=i[0],l=i[1],u=Ut([s-o,l-a],2),c=u[0],d=u[1],h=[];return n.forEach(function(e){var t=yB(e),n=Ut([Math.cos(t),Math.sin(t)],2),r=n[0],i=n[1],s=c*r-d*i+o,l=c*i+d*r+a;h.push([s,l])}),{points:h,id:r}})}(l,n),c=jt(jt({},i),{center:s,areaFill:$e(a)?l.map(function(e,t){return wB(a,[e,t,l])}):a,animate:r,data:u});return e.selectAll(IV.grid.class).data([1]).join(function(e){return e.append(function(){return new HV({style:c})}).attr("className",IV.grid.name)},function(e){return e.transition(function(){return this.update(c)})},function(e){return e.remove()}).transitions()}var aU=function(){function e(e,t,n,r){this.set(e,t,n,r)}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),e.prototype.rotatedPoints=function(e,t,n){var r=this,i=r.x1,o=r.y1,a=r.x2,s=r.y2,l=Math.cos(e),u=Math.sin(e),c=t-t*l+n*u,d=n-t*u-n*l;return[[l*i-u*s+c,u*i+l*s+d],[l*a-u*s+c,u*a+l*s+d],[l*i-u*o+c,u*i+l*o+d],[l*a-u*o+c,u*a+l*o+d]]},e.prototype.set=function(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},e.prototype.defined=function(e){return this[e]!==Number.MAX_VALUE&&this[e]!==-Number.MAX_VALUE},e}();function sU(e,t){var n=e.getEulerAngles()||0;e.setEulerAngles(0);var r=e.getBounds(),i=Ut(r.min,2),o=i[0],a=i[1],s=Ut(r.max,2),l=s[0],u=s[1],c=e.getBBox(),d=c.width,h=c.height,f=0,p=0,g=o,m=a,y=CB(e);if(y){h-=1.5;var v=y.style.textAlign,b=y.style.textBaseline;"center"===v?g=(o+l)/2:"right"!==v&&"end"!==v||(g=l),"middle"===b?m=(a+u)/2:"bottom"===b&&(m=u)}var w=Ut(ZB(t),4),x=w[0],E=void 0===x?0:x,k=w[1],S=void 0===k?0:k,M=w[2],T=void 0===M?E:M,O=w[3],C=new aU((f+=o)-(void 0===O?S:O),(p+=a)-E,f+d+S,p+h+T);return e.setEulerAngles(n),C.rotatedPoints(yB(n),g,m)}function lU(e,t){return t[0]<=Math.max(e[0][0],e[1][0])&&t[0]<=Math.min(e[0][0],e[1][0])&&t[1]<=Math.max(e[0][1],e[1][1])&&t[1]<=Math.min(e[0][1],e[1][1])}function uU(e,t,n){var r=(t[1]-e[1])*(n[0]-t[0])-(t[0]-e[0])*(n[1]-t[1]);return 0===r?0:r<0?2:1}function cU(e,t){var n=uU(e[0],e[1],t[0]),r=uU(e[0],e[1],t[1]),i=uU(t[0],t[1],e[0]),o=uU(t[0],t[1],e[1]);return n!==r&&i!==o||(!(0!==n||!lU(e,t[0]))||(!(0!==r||!lU(e,t[1]))||(!(0!==i||!lU(t,e[0]))||!(0!==o||!lU(t,e[1])))))}function dU(e,t){return t.every(function(t){return function(e,t){var n=e.length;if(n<3)return!1;var r=[t,[9999,t[1]]],i=0,o=0;do{var a=[e[o],e[(o+1)%n]];if(cU(a,r)){if(0===uU(a[0],t,a[1]))return lU(a,t);i++}o=(o+1)%n}while(0!==o);return!!(1&i)}(e,t)})}function hU(e,t){return[[e[0],e[1],e[2],e[3]],[e[2],e[3],e[4],e[5]],[e[4],e[5],e[6],e[7]],[e[6],e[7],e[0],e[1]]].some(function(e){return function(e,t){var n=Ut(e,4),r=n[0],i=n[1],o=n[2],a=n[3],s=Ut(t,4),l=s[0],u=s[1],c=o-r,d=a-i,h=s[2]-l,f=s[3]-u,p=c*f-h*d;if(0===p)return!1;var g=p>0,m=r-l,y=i-u,v=c*y-d*m;if(v<0===g)return!1;var b=h*y-f*m;return b<0!==g&&v>p!==g&&b>p!==g}(t,e)})}function fU(e,t,n){var r,i,o=t.crossPadding,a=new Set,s=null,l=function(e,t){var n=e.type,r=e.labelDirection,i=e.crossSize;if(!i)return!1;if("arc"===n){var o=e.center,a=e.radius,s=Ut(o,2),l=s[0],u=s[1],c="negative"===r?0:i,d=-a-c,h=a+c,f=Ut(ZB(t),4),p=f[0],g=f[1],m=f[2],y=f[3];return new aU(l+d-y,u+d-p,l+h+g,u+h+m)}var v=Ut(e.startPos,2),b=v[0],w=v[1],x=Ut(e.endPos,2),E=x[0],k=x[1],S=Ut(KV(e)?[-t,0,t,0]:[0,t,0,-t],4),M=S[0],T=S[1],O=S[2],C=S[3],N=IB(qV(0,e),i),P=new aU(b,w,E,k);return P.x1+=C,P.y1+=M,P.x2+=T+N[0],P.y2+=O+N[1],P}(t,o),u=function(e){return!l||function(e,t,n){var r=e.x1,i=e.x2,o=e.y1,a=e.y2;return dU([[r,o],[i,o],[i,a],[r,a]],sU(t,n))}(l,e)},c=function(e,t){return!e||!e.firstChild||!function(e,t,n){var r,i,o=sU(e,n).flat(1),a=sU(t,n).flat(1),s=[[o[0],o[1],o[2],o[3]],[o[0],o[1],o[4],o[5]],[o[4],o[5],o[6],o[7]],[o[2],o[3],o[6],o[7]]];try{for(var l=Vt(s),u=l.next();!u.done;u=l.next())if(hU(a,u.value))return!0}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return!1}(e.firstChild,t.firstChild,ZB(n))};try{for(var d=Vt(e),h=d.next();!h.done;h=d.next()){var f=h.value;u(f)?!s||c(s,f)?s=f:(a.add(s),a.add(f)):a.add(f)}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return Array.from(a)}function pU(e,t){return void 0===t&&(t={}),qe(e)?0:"number"==typeof e?e:Math.floor(TB(e,t))}var gU=function(e,t){var n=t.seq,r=void 0===n?2:n;return e.filter(function(e,t){return!(t%r)||(hB(e),!1)})},mU=function(e){return e.filter(MB)};var yU=new Map([["hide",function(e,t,n,r){var i=e.length,o=t.keepHeader,a=t.keepTail;if(!(i<=1||2===i&&o&&a)){var s,l,u=gU,c=function(e){return e.forEach(r.show),e},d=2,h=e.slice(),f=e.slice(),p=Math.min.apply(Math,Wt([1],Ut(e.map(function(e){return e.getBBox().width})),!1));if("linear"===n.type&&(XV(n)||KV(n))){var g=JB(e[0]).left,m=JB(e[i-1]).right,y=Math.abs(m-g)||1;d=Math.max(Math.floor(i*p/y),d)}for(o&&(s=h.splice(0,1)[0]),a&&(l=h.splice(-1,1)[0],h.reverse()),c(h);d<e.length&&fU(mU(l?Wt(Wt([l],Ut(f),!1),[s],!1):Wt([s],Ut(f),!1)),n,null==t?void 0:t.margin).length;){if(l&&!s&&d%2==0)h.splice(0,1).forEach(r.hide);else if(l&&s){h.splice(0,1).forEach(r.hide)}f=u(c(h),{seq:d}),d++}}}],["rotate",function(e,t,n,r){var i,o,a=t.optionalAngles,s=void 0===a?[0,45,90]:a,l=t.margin,u=t.recoverWhenFailed,c=void 0===u||u,d=e.map(function(e){return e.getLocalEulerAngles()}),h=function(){return fU(e,n,l).length<1},f=function(t){return e.forEach(function(e,n){var i=Array.isArray(t)?t[n]:t;r.rotate(e,+i)})};try{for(var p=Vt(s),g=p.next();!g.done;g=p.next()){if(f(g.value),h())return}}catch(e){i={error:e}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}c&&f(d)}],["ellipsis",function(e,t,n,r){if(!(e.length<=0)){var i=t.suffix,o=void 0===i?"...":i,a=t.minLength,s=t.maxLength,l=void 0===s?1/0:s,u=t.step,c=void 0===u?" ":u,d=t.margin,h=void 0===d?[0,0,0,0]:d,f=OB(r.getTextShape(e[0])),p=pU(c,f),g=a?pU(a,f):p,m=pU(l,f);(qe(m)||m===1/0)&&(m=Math.max.apply(null,e.map(function(e){return e.getBBox().width})));var y=e.slice(),v=Ut(h,4);v[0],v[1],v[2],v[3];for(var b=function(t){if(y.forEach(function(e){r.ellipsis(r.getTextShape(e),t,o)}),(y=fU(e,n,h)).length<1)return{value:void 0}},w=m;w>g+p;w-=p){var x=b(w);if("object"==typeof x)return x.value}}}],["wrap",function(e,t,n,r,i){var o,a=t.maxLines,s=void 0===a?3:a,l=t.recoverWhenFailed,u=void 0===l||l,c=t.margin,d=void 0===c?[0,0,0,0]:c,h=wB(null!==(o=t.wordWrapWidth)&&void 0!==o?o:50,[i]),f=e.map(function(e){return e.attr("maxLines")||1}),p=Math.min.apply(Math,Wt([],Ut(f),!1)),g=function(){return fU(e,n,d).length<1},m=function(e){var t=e.type,n=e.labelDirection;return"linear"===t&&XV(e)?"negative"===n?"bottom":"top":"middle"}(n),y=function(t){return e.forEach(function(e,n){var i=Array.isArray(t)?t[n]:t;r.wrap(e,h,i,m)})};if(!(p>s)){if("linear"===n.type&&XV(n)){if(y(s),g())return}else for(var v=p;v<=s;v++)if(y(v),g())return;u&&y(f)}}]]);function vU(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce(function(e,t){return e*function(e){return"positive"===e?-1:1}(t)},1)}function bU(e){for(var t=e;t<0;)t+=360;return Math.round(t%360)}function wU(e,t){var n=Ut(e,2),r=n[0],i=n[1],o=Ut(t,2),a=o[0],s=o[1],l=Ut([r*a+i*s,r*s-i*a],2),u=l[0],c=l[1];return Math.atan2(c,u)}function xU(e,t,n){var r,i=n.labelAlign;if(null===(r=t.style.transform)||void 0===r?void 0:r.includes("rotate"))return t.getLocalEulerAngles();var o=qV(e.value,n),a=GV(e.value,n);return"horizontal"===i?0:function(e){var t=(e+360)%180;return DB(t,-90,90)||(t+=180),t}(vB("perpendicular"===i?wU([1,0],o):wU([a[0]<0?-1:1,0],a)))}function EU(e,t,n){var r=n.type,i=n.labelAlign,o=qV(e,n),a=bU(t),s=bU(vB(wU([1,0],o))),l="center",u="middle";return"linear"===r?[90,270].includes(s)&&0===a?(l="center",u=1===o[1]?"top":"bottom"):s%180||![90,270].includes(a)?0===s?(DB(a,0,90,!1,!0)||DB(a,0,90)||DB(a,270,360))&&(l="start"):90===s?DB(a,0,90,!1,!0)?l="start":(DB(a,90,180)||DB(a,270,360))&&(l="end"):270===s?DB(a,0,90,!1,!0)?l="end":(DB(a,90,180)||DB(a,270,360))&&(l="start"):180===s&&(90===a?l="start":(DB(a,0,90)||DB(a,270,360))&&(l="end")):l="center":"parallel"===i?u=DB(s,0,180,!0)?"top":"bottom":"horizontal"===i?DB(s,90,270,!1)?l="end":(DB(s,270,360,!1)||DB(s,0,90))&&(l="start"):"perpendicular"===i&&(l=DB(s,90,270)?"end":"start"),{textAlign:l,textBaseline:u}}function kU(e,t,n){var r=n.showTick,i=n.tickLength,o=n.tickDirection,a=n.labelDirection,s=n.labelSpacing,l=t.indexOf(e),u=wB(s,[e,l,t]),c=Ut([qV(e.value,n),vU(a,o)],2),d=Ut(zB(IB(c[0],u+(1===c[1]?wB(r?i:0,[e,l,t]):0)),YV(e.value,n)),2);return{x:d[0],y:d[1]}}function SU(e,t){"text"===e.nodeName&&e.attr(t)}function MU(e,t){!function(e,t,n,r){var i=t.labelOverlap,o=void 0===i?[]:i;o.length&&o.forEach(function(i){var o=i.type,a=yU.get(o);(function(e,t,n){return!(t.labelOverlap.length<1)&&("hide"===n?!function(e){for(var t=e;t;){if("offscreen"===t.className)return!0;t=t.parent}return!1}(e[0]):"rotate"===n?!e.some(function(e){var t;return!!(null===(t=e.attr("transform"))||void 0===t?void 0:t.includes("rotate"))}):"ellipsis"!==n&&"wrap"!==n||e.filter(function(e){return e.querySelector("text")}).length>=1)})(e,t,o)&&(null==a||a(e,i,t,r,n))})}(this.node().childNodes,e,t,{hide:hB,show:dB,rotate:function(t,n){!function(e,t,n){t.setLocalEulerAngles(e);var r=EU(t.__data__.value,e,n),i=t.querySelector(IV.labelItem.class);i&&SU(i,r)}(+n,t,e)},ellipsis:function(e,t,n){e&&PB(e,t||1/0,n)},wrap:function(e,t,n){var r,i;e&&(void 0===(r=n)&&(r=2),void 0===i&&(i="top"),NB(e,{wordWrap:!0,wordWrapWidth:t,maxLines:r,textBaseline:i}))},getTextShape:function(e){return e.querySelector("text")}})}function TU(e,t,n,r,i){var o=n.indexOf(t),a=QB(e).append(function(e,t,n,r){var i=r.labelFormatter;return $e(i)?function(){return RB(wB(i,[e,t,n,qV(e.value,r)]))}:function(){return RB(e.label||"")}}(t,o,n,i)).attr("className",IV.labelItem.name).node(),s=Ut(aH(VV(r,[t,o,n])),2),l=s[0],u=s[1],c=u.transform,d=Bt(u,["transform"]);lH(a,c);var h=xU(t,a,i);return a.getLocalEulerAngles()||a.setLocalEulerAngles(h),SU(a,jt(jt({},EU(t.value,h,i)),l)),e.attr(d),a}function OU(e,t,n,r,i){var o,a,s,l=UV(t,n.labelFilter),u=iH(n,"label"),c=e.selectAll(IV.label.class).data(l,function(e,t){return t}).join(function(e){return e.append("g").attr("className",IV.label.name).transition(function(e){TU(this,e,t,u,n);var r=kU(e,t,n),i=r.x,o=r.y;return this.style.transform="translate(".concat(i,", ").concat(o,")"),null})},function(e){return e.transition(function(e){var i=function(e,t,n,r){if(void 0===r&&(r="destroy"),function(e,t){return"text"===e.nodeName&&"text"===t.nodeName&&e.attributes.text===t.attributes.text}(e,t))return e.remove(),[null];var i=function(){"destroy"===r?e.destroy():"hide"===r&&hB(e),t.isVisible()&&dB(t)};if(!n)return i(),[null];var o=n.duration,a=void 0===o?0:o,s=n.delay,l=void 0===s?0:s,u=Math.ceil(+a/2),c=+a/4,d=Ut(e.getGeometryBounds().center,2),h=d[0],f=d[1],p=Ut(t.getGeometryBounds().center,2),g=Ut([(h+p[0])/2-h,(f+p[1])/2-f],2),m=g[0],y=g[1],v=e.style.opacity,b=void 0===v?1:v,w=t.style.opacity,x=void 0===w?1:w,E=e.style.transform||"",k=t.style.transform||"",S=e.animate([{opacity:b,transform:"translate(0, 0) ".concat(E)},{opacity:0,transform:"translate(".concat(m,", ").concat(y,") ").concat(E)}],jt(jt({fill:"both"},n),{duration:l+u+c})),M=t.animate([{opacity:0,transform:"translate(".concat(-m,", ").concat(-y,") ").concat(k),offset:.01},{opacity:x,transform:"translate(0, 0) ".concat(k)}],jt(jt({fill:"both"},n),{duration:u+c,delay:l+u-c}));return EV(M,i),[S,M]}(this.querySelector(IV.labelItem.class),TU(this,e,t,u,n),r.update),o=kU(e,t,n),a=o.x,s=o.y,l=MV(this,{transform:"translate(".concat(a,", ").concat(s,")")},r.update);return Wt(Wt([],Ut(i),!1),[l],!1)})},function(e){return o=e,e.transition(function(){var e=this,t=TV(this.childNodes[0],r.exit);return EV(t,function(){return QB(e).remove()}),t}),o}).transitions();return s=function(){MU.call(e,n,i)},0===(a=c).length?s():Promise.all(a.map(function(e){return null==e?void 0:e.finished})).then(s),c}function CU(e,t){return $V(e,t.tickDirection,t)}function NU(e,t,n,r,i){var o=Ut(function(e,t){var n=Ut(e,2);return[[0,0],[n[0]*t,n[1]*t]]}(r,wB(i.tickLength,[e,t,n])),2),a=Ut(o[0],2),s=a[0],l=a[1],u=Ut(o[1],2);return{x1:s,x2:u[0],y1:l,y2:u[1]}}function PU(e,t,n,r,i,o){var a=function(e,t,n,r,i){var o=i.tickFormatter,a=CU(t.value,i),s="line";return $e(o)&&(s=function(){return wB(o,[t,n,r,a])}),e.append(s).attr("className",IV.tickItem.name)}(QB(this),e,t,n,r);!function(e,t,n,r,i,o,a){var s=CU(e.value,o),l=NU(e,t,n,s,o),u=l.x1,c=l.x2,d=l.y1,h=l.y2,f=Ut(aH(VV(a,[e,t,n,s])),2),p=f[0],g=f[1];"line"===r.node().nodeName&&r.styles(jt({x1:u,x2:c,y1:d,y2:h},p)),i.attr(g),r.styles(p)}(e,t,n,a,this,r,i);var s=Ut(YV(e.value,r),2),l=s[0],u=s[1];return MV(this,{transform:"translate(".concat(l,", ").concat(u,")")},o)}var AU=EB({text:"text"},"title");function RU(e){return/\S+-\S+/g.test(e)?e.split("-").map(function(e){return e[0]}):e.length>2?[e[0]]:e.split("")}function _U(e,t){var n=Object.entries(t).reduce(function(t,n){var r=Ut(n,2),i=r[0],o=r[1];return e.node().attr(i)||(t[i]=o),t},{});e.styles(n)}var DU=function(e){function t(t){return e.call(this,t,{text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"})||this}return Ft(t,e),t.prototype.getAvailableSpace=function(){var e=this.attributes,t=e.width,n=e.height,r=e.position,i=e.spacing,o=e.inset,a=this.querySelector(AU.text.class);if(!a)return new bB(0,0,+t,+n);var s=a.getBBox(),l=s.width,u=s.height,c=Ut(ZB(i),4),d=c[0],h=c[1],f=c[2],p=c[3],g=Ut([0,0,+t,+n],4),m=g[0],y=g[1],v=g[2],b=g[3],w=RU(r);if(w.includes("i"))return new bB(m,y,v,b);w.forEach(function(e,r){var i,o,a,s;"t"===e&&(i=Ut(0===r?[u+f,+n-u-f]:[0,+n],2),y=i[0],b=i[1]),"r"===e&&(o=Ut([+t-l-p],1),v=o[0]),"b"===e&&(a=Ut([+n-u-d],1),b=a[0]),"l"===e&&(s=Ut(0===r?[l+h,+t-l-h]:[0,+t],2),m=s[0],v=s[1])});var x=Ut(ZB(o),4),E=x[0],k=x[1],S=x[2],M=x[3],T=Ut([M+k,E+S],2),O=T[0],C=T[1];return new bB(m+M,y+E,v-O,b-C)},t.prototype.getBBox=function(){return this.title?this.title.getBBox():new bB(0,0,0,0)},t.prototype.render=function(e,t){var n=this;e.width,e.height,e.position,e.spacing;var r=Bt(e,["width","height","position","spacing"]),i=Ut(aH(r),1)[0],o=function(e){var t,n,r,i,o=e,a=o.width,s=o.height,l=o.position,u=Ut([+a/2,+s/2],2),c=Ut([+u[0],+u[1],"center","middle"],4),d=c[0],h=c[1],f=c[2],p=c[3],g=RU(l);return g.includes("l")&&(d=(t=Ut([0,"start"],2))[0],f=t[1]),g.includes("r")&&(d=(n=Ut([+a,"end"],2))[0],f=n[1]),g.includes("t")&&(h=(r=Ut([0,"top"],2))[0],p=r[1]),g.includes("b")&&(h=(i=Ut([+s,"bottom"],2))[0],p=i[1]),{x:d,y:h,textAlign:f,textBaseline:p}}(e),a=o.x,s=o.y,l=o.textAlign,u=o.textBaseline;_B(!!r.text,QB(t),function(e){n.title=e.maybeAppendByClassName(AU.text,"text").styles(i).call(_U,{x:a,y:s,textAlign:l,textBaseline:u}).node()})},t}(dH);function LU(e,t,n,r,i){var o=Ut(aH(iH(r,"title")),2),a=o[0],s=o[1],l=s.transform,u=s.transformOrigin,c=Bt(s,["transform","transformOrigin"]);t.styles(c);var d=l||function(e,t,n){var r=2*e.getGeometryBounds().halfExtents[1];if("vertical"===t){if("left"===n)return"rotate(-90) translate(0, ".concat(r/2,")");if("right"===n)return"rotate(-90) translate(0, -".concat(r/2,")")}return""}(e.node(),a.direction,a.position);e.styles(jt(jt({},a),{transformOrigin:u})),lH(e.node(),d);var h=function(e,t,n){var r=n.titlePosition,i=void 0===r?"lb":r,o=n.titleSpacing,a=RU(i),s=e.node().getLocalBounds(),l=Ut(s.min,2),u=l[0],c=l[1],d=Ut(s.halfExtents,2),h=d[0],f=d[1],p=Ut(t.node().getLocalBounds().halfExtents,2),g=p[0],m=p[1],y=Ut([u+h,c+f],2),v=y[0],b=y[1],w=Ut(ZB(o),4),x=w[0],E=w[1],k=w[2],S=w[3];if(["start","end"].includes(i)&&"linear"===n.type){var M=n.startPos,T=n.endPos,O=Ut("start"===i?[M,T]:[T,M],2),C=O[0],N=O[1],P=Ut(IB(VB([-N[0]+C[0],-N[1]+C[1]]),x),2),A=P[0],R=P[1];return{x:C[0]+A,y:C[1]+R}}return a.includes("t")&&(b-=f+m+x),a.includes("r")&&(v+=h+g+E),a.includes("l")&&(v-=h+g+S),a.includes("b")&&(b+=f+m+k),{x:v,y:b}}(QB(n._offscreen||n.querySelector(IV.mainGroup.class)),t,r),f=h.x,p=h.y;return MV(t.node(),{transform:"translate(".concat(f,", ").concat(p,")")},i)}function IU(e,t,n,r){var i=e.showLine,o=e.showTick,a=e.showLabel,s=_B(i,t.maybeAppendByClassName(IV.lineGroup,"g"),function(t){return nU(t,e,r)})||[],l=_B(o,t.maybeAppendByClassName(IV.tickGroup,"g"),function(t){return function(e,t,n,r){var i=UV(t,n.tickFilter),o=iH(n,"tick");return e.selectAll(IV.tick.class).data(i,function(e){return e.id||e.label}).join(function(e){return e.append("g").attr("className",IV.tick.name).transition(function(e,t){return PU.call(this,e,t,i,n,o,!1)})},function(e){return e.transition(function(e,t){return this.removeChildren(),PU.call(this,e,t,i,n,o,r.update)})},function(e){return e.transition(function(){var e=this,t=TV(this.childNodes[0],r.exit);return EV(t,function(){return e.remove()}),t})}).transitions()}(t,n,e,r)})||[],u=_B(a,t.maybeAppendByClassName(IV.labelGroup,"g"),function(i){return OU(i,n,e,r,t.node())})||[];return Wt(Wt(Wt([],Ut(s),!1),Ut(l),!1),Ut(u),!1).filter(function(e){return!!e})}var zU=function(e){function t(t){return e.call(this,t,LV)||this}return Ft(t,e),t.prototype.render=function(e,t,n){var r=this,i=e.titleText,o=e.data,a=e.animate,s=e.showTitle,l=e.showGrid,u=e.dataThreshold,c=e.truncRange,d=function(e,t){if(e.length<=t)return e;for(var n=Math.floor(e.length/t),r=[],i=0;i<e.length;i+=n)r.push(e[i]);return r}(o,u).filter(function(e){var t=e.value;return!(c&&t>c[0]&&t<c[1])}),h=xV(void 0===n?a:n),f=_B(l,QB(t).maybeAppendByClassName(IV.gridGroup,"g"),function(t){return oU(t,d,e,h)})||[],p=QB(t).maybeAppendByClassName(IV.mainGroup,"g");i&&(!this.initialized&&h.enter||this.initialized&&h.update)&&IU(e,QB(this.offscreenGroup),d,xV(!1));var g=IU(e,QB(p.node()),d,h),m=_B(s,QB(t).maybeAppendByClassName(IV.titleGroup,"g"),function(t){return function(e,t,n,r){var i=n.titleText;return e.selectAll(IV.title.class).data([{title:i}].filter(function(e){return!!e.title}),function(e,t){return e.title}).join(function(o){return o.append(function(){return RB(i)}).attr("className",IV.title.name).transition(function(){return LU(QB(this),e,t,n,r.enter)})},function(i){return i.transition(function(){return LU(QB(this),e,t,n,r.update)})},function(e){return e.remove()}).transitions()}(t,r,e,h)})||[];return Wt(Wt(Wt([],Ut(f),!1),Ut(g),!1),Ut(m),!1).flat().filter(function(e){return!!e})},t}(dH),FU=EB({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),jU=function(e){function t(t){var n=e.call(this,t,{x:0,y:0,animate:{easing:"linear",duration:200,fill:"both"},buttonCursor:"pointer",buttonFill:"black",buttonD:yH(0,0,6),buttonSize:12,controllerPadding:5,controllerSpacing:5,formatter:function(e,t){return"".concat(e,"/").concat(t)},defaultPage:0,loop:!1,orientation:"horizontal",pageNumFill:"black",pageNumFontSize:12,pageNumTextAlign:"start",pageNumTextBaseline:"middle"})||this;return n.playState="idle",n.contentGroup=n.appendChild(new Xl({class:FU.contentGroup.name})),n.playWindow=n.contentGroup.appendChild(new Xl({class:FU.playWindow.name})),n.innerCurrPage=n.defaultPage,n}return Ft(t,e),Object.defineProperty(t.prototype,"defaultPage",{get:function(){var e=this.attributes.defaultPage;return at(e,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageShape",{get:function(){var e=Ut(function(e){var t;return(null===(t=e[0])||void 0===t?void 0:t.map(function(t,n){return e.map(function(e){return e[n]})}))||[]}(this.pageViews.map(function(e){var t=e.getBBox();return[t.width,t.height]})).map(function(e){return Math.max.apply(Math,Wt([],Ut(e),!1))}),2),t=e[0],n=e[1],r=this.attributes,i=r.pageWidth,o=void 0===i?t:i,a=r.pageHeight;return{pageWidth:o,pageHeight:void 0===a?n:a}},enumerable:!1,configurable:!0}),t.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(t.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var t=e.prototype.getBBox.call(this),n=t.x,r=t.y,i=this.controllerShape,o=this.pageShape,a=o.pageWidth,s=o.pageHeight;return new bB(n,r,a+i.width,s)},t.prototype.goTo=function(e){var t=this,n=this.attributes.animate,r=this,i=r.currPage,o=r.playState,a=r.playWindow,s=r.pageViews;if("idle"!==o||e<0||s.length<=0||e>=s.length)return null;s[i].setLocalPosition(0,0),this.prepareFollowingPage(e);var l=Ut(this.getFollowingPageDiff(e),2),u=l[0],c=l[1];this.playState="running";var d=SV(a,[{transform:"translate(0, 0)"},{transform:"translate(".concat(-u,", ").concat(-c,")")}],n);return EV(d,function(){t.innerCurrPage=e,t.playState="idle",t.setVisiblePages([e]),t.updatePageInfo()}),d},t.prototype.prev=function(){var e=this.attributes.loop,t=this.pageViews.length,n=this.currPage;if(!e&&n<=0)return null;var r=e?(n-1+t)%t:at(n-1,0,t);return this.goTo(r)},t.prototype.next=function(){var e=this.attributes.loop,t=this.pageViews.length,n=this.currPage;if(!e&&n>=t-1)return null;var r=e?(n+1)%t:at(n+1,0,t);return this.goTo(r)},t.prototype.renderClipPath=function(e){var t=this.pageShape,n=t.pageWidth,r=t.pageHeight;n&&r?(this.clipPath=e.maybeAppendByClassName(FU.clipPath,"rect").styles({width:n,height:r}),this.contentGroup.attr("clipPath",this.clipPath.node())):this.contentGroup.style.clipPath=void 0},t.prototype.setVisiblePages=function(e){this.playWindow.children.forEach(function(t,n){e.includes(n)?dB(t):hB(t)})},t.prototype.adjustControllerLayout=function(){var e=this,t=e.prevBtnGroup,n=e.nextBtnGroup,r=e.pageInfoGroup,i=this.attributes,o=i.orientation,a=i.controllerPadding,s=r.getBBox(),l=s.width;s.height;var u=Ut("horizontal"===o?[-180,0]:[-90,90],2),c=u[0],d=u[1];t.setLocalEulerAngles(c),n.setLocalEulerAngles(d);var h=t.getBBox(),f=h.width,p=h.height,g=n.getBBox(),m=g.width,y=g.height,v=Math.max(f,l,m),b="horizontal"===o?{offset:[[0,0],[f/2+a,0],[f+l+2*a,0]],textAlign:"start"}:{offset:[[v/2,-p-a],[v/2,0],[v/2,y+a]],textAlign:"center"},w=Ut(b.offset,3),x=Ut(w[0],2),E=x[0],k=x[1],S=Ut(w[1],2),M=S[0],T=S[1],O=Ut(w[2],2),C=O[0],N=O[1],P=b.textAlign,A=r.querySelector("text");A&&(A.style.textAlign=P),t.setLocalPosition(E,k),r.setLocalPosition(M,T),n.setLocalPosition(C,N)},t.prototype.updatePageInfo=function(){var e,t=this,n=t.currPage,r=t.pageViews,i=t.attributes.formatter;r.length<2||(null===(e=this.pageInfoGroup.querySelector(FU.pageInfo.class))||void 0===e||e.attr("text",i(n+1,r.length)),this.adjustControllerLayout())},t.prototype.getFollowingPageDiff=function(e){var t=this.currPage;if(t===e)return[0,0];var n=this.attributes.orientation,r=this.pageShape,i=r.pageWidth,o=r.pageHeight,a=e<t?-1:1;return"horizontal"===n?[a*i,0]:[0,a*o]},t.prototype.prepareFollowingPage=function(e){var t=this.currPage,n=this.pageViews;if(this.setVisiblePages([e,t]),e!==t){var r=Ut(this.getFollowingPageDiff(e),2),i=r[0],o=r[1];n[e].setLocalPosition(i,o)}},t.prototype.renderController=function(e){var t=this,n=this.attributes.controllerSpacing,r=this.pageShape,i=r.pageWidth,o=r.pageHeight,a=this.pageViews.length>=2,s=e.maybeAppendByClassName(FU.controller,"g");if(fB(s.node(),a),a){var l=iH(this.attributes,"button"),u=iH(this.attributes,"pageNum"),c=Ut(aH(l),2),d=c[0],h=c[1],f=d.size,p=Bt(d,["size"]),g=!s.select(FU.prevBtnGroup.class).node(),m=s.maybeAppendByClassName(FU.prevBtnGroup,"g").styles(h);this.prevBtnGroup=m.node();var y=m.maybeAppendByClassName(FU.prevBtn,"path"),v=s.maybeAppendByClassName(FU.nextBtnGroup,"g").styles(h);this.nextBtnGroup=v.node(),[y,v.maybeAppendByClassName(FU.nextBtn,"path")].forEach(function(e){e.styles(jt(jt({},p),{transformOrigin:"center"})),XB(e.node(),f)});var b=s.maybeAppendByClassName(FU.pageInfoGroup,"g");this.pageInfoGroup=b.node(),b.maybeAppendByClassName(FU.pageInfo,"text").styles(u),this.updatePageInfo(),s.node().setLocalPosition(i+n,o/2),g&&(this.prevBtnGroup.addEventListener("click",function(){t.prev()}),this.nextBtnGroup.addEventListener("click",function(){t.next()}))}},t.prototype.render=function(e,t){var n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i;this.attr("transform","translate(".concat(r,", ").concat(o,")"));var a=QB(t);this.renderClipPath(a),this.renderController(a),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},t.prototype.bindEvents=function(){var e=this,t=bt(function(){return e.render(e.attributes,e)},50);this.playWindow.addEventListener(el.INSERTED,t),this.playWindow.addEventListener(el.REMOVED,t)},t}(dH);function BU(e,t,n){return void 0===e&&(e="horizontal"),"horizontal"===e?t:n}bH.registerSymbol("hiddenHandle",function(e,t,n){var r=1.4*n;return[["M",e-n,t-r],["L",e+n,t-r],["L",e+n,t+r],["L",e-n,t+r],["Z"]]}),bH.registerSymbol("verticalHandle",function(e,t,n){var r=1.4*n,i=n/2,o=n/6,a=e+.4*r;return[["M",e,t],["L",a,t+i],["L",e+r,t+i],["L",e+r,t-i],["L",a,t-i],["Z"],["M",a,t+o],["L",e+r-2,t+o],["M",a,t-o],["L",e+r-2,t-o]]}),bH.registerSymbol("horizontalHandle",function(e,t,n){var r=1.4*n,i=n/2,o=n/6,a=t+.4*r;return[["M",e,t],["L",e-i,a],["L",e-i,t+r],["L",e+i,t+r],["L",e+i,a],["Z"],["M",e-o,a],["L",e-o,t+r-2],["M",e+o,a],["L",e+o,t+r-2]]});var HU=EB({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item");var VU=function(e){function t(t){return e.call(this,t,{span:[1,1],marker:function(){return new Gl({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelTextBaseline:"middle",valueTextBaseline:"middle"})||this}return Ft(t,e),Object.defineProperty(t.prototype,"showValue",{get:function(){var e=this.attributes.valueText;return!!e&&("string"==typeof e||"number"==typeof e?""!==e:"function"==typeof e||""!==e.attr("text"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actualSpace",{get:function(){var e=this.labelGroup,t=this.valueGroup,n=this.attributes.markerSize,r=e.node().getBBox(),i=r.width,o=r.height,a=t.node().getBBox(),s=a.width,l=a.height;return{markerWidth:n,labelWidth:i,valueWidth:s,height:Math.max(n,o,l)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"span",{get:function(){var e=this.attributes.span;if(!e)return[1,1];var t=Ut(ZB(e),2),n=t[0],r=t[1],i=this.showValue?r:0,o=n+i;return[n/o,i/o]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shape",{get:function(){var e,t=this.attributes,n=t.markerSize,r=t.width,i=this.actualSpace,o=i.markerWidth,a=i.height,s=this.actualSpace,l=s.labelWidth,u=s.valueWidth,c=Ut(this.spacing,2),d=c[0],h=c[1];if(r){var f=r-n-d-h,p=Ut(this.span,2);l=(e=Ut([p[0]*f,p[1]*f],2))[0],u=e[1]}return{width:o+l+u+d+h,height:a,markerWidth:o,labelWidth:l,valueWidth:u}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){var e=this.attributes.spacing;if(!e)return[0,0];var t=Ut(ZB(e),2),n=t[0],r=t[1];return this.showValue?[n,r]:[n,0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layout",{get:function(){var e=this.shape,t=e.markerWidth,n=e.labelWidth,r=e.valueWidth,i=e.width,o=e.height,a=Ut(this.spacing,2),s=a[0];return{height:o,width:i,markerWidth:t,labelWidth:n,valueWidth:r,position:[t/2,t+s,t+n+s+a[1]]}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleSize",{get:function(){var e=function(e){var t=e.querySelector(HU.marker.class);return t?t.style:{}}(this.markerGroup.node()),t=this.attributes,n=t.markerSize,r=t.markerStrokeWidth,i=void 0===r?e.strokeWidth:r,o=t.markerLineWidth,a=void 0===o?e.lineWidth:o,s=t.markerStroke,l=void 0===s?e.stroke:s,u=+(i||a||(l?1:0))*Math.sqrt(2),c=this.markerGroup.node().getBBox(),d=c.width,h=c.height;return(1-u/Math.max(d,h))*n},enumerable:!1,configurable:!0}),t.prototype.renderMarker=function(e){var t=this,n=this.attributes.marker,r=iH(this.attributes,"marker");this.markerGroup=e.maybeAppendByClassName(HU.markerGroup,"g").style("zIndex",0),_B(!!n,this.markerGroup,function(){var e,i=t.markerGroup.node(),o=null===(e=i.childNodes)||void 0===e?void 0:e[0],a="string"==typeof n?new bH({style:{symbol:n},className:HU.marker.name}):n();o?a.nodeName===o.nodeName?o instanceof bH?o.update(jt(jt({},r),{symbol:n})):(!function(e,t){var n,r,i=t.attributes;try{for(var o=Vt(Object.entries(i)),a=o.next();!a.done;a=o.next()){var s=Ut(a.value,2),l=s[0],u=s[1];"id"!==l&&"className"!==l&&e.attr(l,u)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}(o,a),QB(o).styles(r)):(o.remove(),QB(a).attr("className",HU.marker.name).styles(r),i.appendChild(a)):(a instanceof bH||QB(a).attr("className",HU.marker.name).styles(r),i.appendChild(a)),t.markerGroup.node().scale(1/t.markerGroup.node().getScale()[0]);var s=XB(t.markerGroup.node(),t.scaleSize);t.markerGroup.node().style._transform="scale(".concat(s,")")})},t.prototype.renderLabel=function(e){var t=iH(this.attributes,"label"),n=t.text,r=Bt(t,["text"]);this.labelGroup=e.maybeAppendByClassName(HU.labelGroup,"g").style("zIndex",0),this.labelGroup.maybeAppendByClassName(HU.label,function(){return RB(n)}).styles(r)},t.prototype.renderValue=function(e){var t=this,n=iH(this.attributes,"value"),r=n.text,i=Bt(n,["text"]);this.valueGroup=e.maybeAppendByClassName(HU.valueGroup,"g").style("zIndex",0),_B(this.showValue,this.valueGroup,function(){t.valueGroup.maybeAppendByClassName(HU.value,function(){return RB(r)}).styles(i)})},t.prototype.renderBackground=function(e){var t=this.shape,n=t.width,r=t.height,i=iH(this.attributes,"background");this.background=e.maybeAppendByClassName(HU.backgroundGroup,"g").style("zIndex",-1),this.background.maybeAppendByClassName(HU.background,"rect").styles(jt({width:n,height:r},i))},t.prototype.adjustLayout=function(){var e=this.layout,t=e.labelWidth,n=e.valueWidth,r=e.height,i=Ut(e.position,3),o=i[0],a=i[1],s=i[2],l=r/2;this.markerGroup.styles({transform:"translate(".concat(o,", ").concat(l,")").concat(this.markerGroup.node().style._transform)}),this.labelGroup.styles({transform:"translate(".concat(a,", ").concat(l,")")}),PB(this.labelGroup.select(HU.label.class).node(),Math.ceil(t)),this.showValue&&(this.valueGroup.styles({transform:"translate(".concat(s,", ").concat(l,")")}),PB(this.valueGroup.select(HU.value.class).node(),Math.ceil(n)))},t.prototype.render=function(e,t){var n=QB(t),r=e.x,i=void 0===r?0:r,o=e.y,a=void 0===o?0:o;n.styles({transform:"translate(".concat(i,", ").concat(a,")")}),this.renderMarker(n),this.renderLabel(n),this.renderValue(n),this.renderBackground(n),this.adjustLayout()},t}(dH),UU=EB({page:"item-page",navigator:"navigator",item:"item"},"items"),WU=function(e,t,n){return void 0===n&&(n=!0),e?t(e):n},GU=function(e){function t(t){var n=e.call(this,t,{data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orientation:"horizontal",click:Lt,mouseenter:Lt,mouseleave:Lt})||this;return n.navigatorShape=[0,0],n}return Ft(t,e),Object.defineProperty(t.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){var e=this.attributes,t=e.gridRow,n=e.gridCol,r=e.data;if(!t&&!n)throw new Error("gridRow and gridCol can not be set null at the same time");return t&&n?[t,n]:t?[t,r.length]:[r.length,n]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderData",{get:function(){var e=this.attributes,t=e.data,n=e.layout,r=iH(this.attributes,"item"),i=t.map(function(e,i){var o=e.id,a=void 0===o?i:o,s=e.label,l=e.value;return{id:"".concat(a),index:i,style:jt({layout:n,labelText:s,valueText:l},Object.fromEntries(Object.entries(r).map(function(n){var r=Ut(n,2);return[r[0],wB(r[1],[e,i,t])]})))}});return i},enumerable:!1,configurable:!0}),t.prototype.getGridLayout=function(){var e=this,t=this.attributes,n=t.orientation,r=t.width,i=t.rowPadding,o=t.colPadding,a=Ut(this.navigatorShape,1)[0],s=Ut(this.grid,2),l=s[0],u=s[1],c=u*l,d=0;return this.pageViews.children.map(function(t,s){var h,f,p=Math.floor(s/c),g=s%c,m=e.ifHorizontal(u,l),y=[Math.floor(g/m),g%m];"vertical"===n&&y.reverse();var v=Ut(y,2),b=v[0],w=v[1],x=(r-a-(u-1)*o)/u,E=t.getBBox().height,k=Ut([0,0],2),S=k[0],M=k[1];return"horizontal"===n?(S=(h=Ut([d,b*(E+i)],2))[0],M=h[1],d=w===u-1?0:d+x+o):(S=(f=Ut([w*(x+o),d],2))[0],M=f[1],d=b===l-1?0:d+E+i),{page:p,index:s,row:b,col:w,pageIndex:g,width:x,height:E,x:S,y:M}})},t.prototype.getFlexLayout=function(){var e=this.attributes,t=e.width,n=e.height,r=e.rowPadding,i=e.colPadding,o=Ut(this.navigatorShape,1)[0],a=Ut(this.grid,2),s=a[0],l=a[1],u=Ut([t-o,n],2),c=u[0],d=u[1],h=Ut([0,0,0,0,0,0,0,0],8),f=h[0],p=h[1],g=h[2],m=h[3],y=h[4],v=h[5],b=h[6],w=h[7];return this.pageViews.children.map(function(e,t){var n,o,a,u,h=e.getBBox(),x=h.width,E=h.height,k=0===b?0:i,S=b+k+x;return S<=c&&WU(y,function(e){return e<l})?(n=Ut([b+k,w,S],3),f=n[0],p=n[1],b=n[2],{width:x,height:E,x:f,y:p,page:g,index:t,pageIndex:m++,row:v,col:y++}):(o=Ut([v+1,0,0,w+E+r],4),v=o[0],y=o[1],b=o[2],(w=o[3])+E<=d&&WU(v,function(e){return e<s})?(a=Ut([b,w,x],3),f=a[0],p=a[1],b=a[2],{width:x,height:E,x:f,y:p,page:g,index:t,pageIndex:m++,row:v,col:y++}):(u=Ut([0,0,x,0,g+1,0,0,0],8),f=u[0],p=u[1],b=u[2],w=u[3],g=u[4],m=u[5],v=u[6],y=u[7],{width:x,height:E,x:f,y:p,page:g,index:t,pageIndex:m++,row:v,col:y++}))})},Object.defineProperty(t.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var e="grid"===this.attributes.layout?this.getGridLayout:this.getFlexLayout,t=e.call(this);return t.slice(-1)[0].page>0?(this.navigatorShape=[55,0],e.call(this)):t},enumerable:!1,configurable:!0}),t.prototype.ifHorizontal=function(e,t){return BU(this.attributes.orientation,e,t)},t.prototype.flattenPage=function(e){e.querySelectorAll(UU.item.class).forEach(function(t){e.appendChild(t)}),e.querySelectorAll(UU.page.class).forEach(function(t){e.removeChild(t).destroy()})},t.prototype.renderItems=function(e){var t=this.attributes,n=t.click,r=t.mouseenter,i=t.mouseleave;this.flattenPage(e);var o=this.dispatchCustomEvent.bind(this);QB(e).selectAll(UU.item.class).data(this.renderData,function(e){return e.id}).join(function(e){return e.append(function(e){var t=e.style;return new VU({style:t})}).attr("className",UU.item.name).on("click",function(){null==n||n(this),o("itemClick",{item:this})}).on("pointerenter",function(){null==r||r(this),o("itemMouseenter",{item:this})}).on("pointerleave",function(){null==i||i(this),o("itemMouseleave",{item:this})})},function(e){return e.each(function(e){var t=e.style;this.update(t)})},function(e){return e.remove()})},t.prototype.relayoutNavigator=function(){var e,t=this.attributes,n=t.layout,r=t.width,i=(null===(e=this.pageViews.children[0])||void 0===e?void 0:e.getBBox().height)||0,o=Ut(this.navigatorShape,2),a=o[0],s=o[1];this.navigator.update("grid"===n?{pageWidth:r-a,pageHeight:i-s}:{})},t.prototype.adjustLayout=function(){var e,t,n=this,r=Object.entries((e=this.itemsLayout,t="page",e.reduce(function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e},{}))).map(function(e){var t=Ut(e,2);return{page:t[0],layouts:t[1]}}),i=Wt([],Ut(this.navigator.getContainer().children),!1);r.forEach(function(e){var t=e.layouts,r=n.pageViews.appendChild(new Xl({className:UU.page.name}));t.forEach(function(e){var t=e.x,n=e.y,o=e.index,a=e.width,s=e.height,l=i[o];r.appendChild(l),Nt(l,"__layout__",e),l.update({x:t,y:n,width:a,height:s})})}),this.relayoutNavigator()},t.prototype.renderNavigator=function(e){var t=this.attributes.orientation,n=iH(this.attributes,"nav"),r=SB({orientation:t},n),i=this;return e.selectAll(UU.navigator.class).data(["nav"]).join(function(e){return e.append(function(){return new jU({style:r})}).attr("className",UU.navigator.name).each(function(){i.navigator=this})},function(e){return e.each(function(){this.update(r)})},function(e){return e.remove()}),this.navigator},t.prototype.getBBox=function(){return this.navigator.getBBox()},t.prototype.render=function(e,t){var n=this.attributes.data;if(n&&0!==n.length){var r=this.renderNavigator(QB(t));this.renderItems(r.getContainer()),this.adjustLayout()}},t.prototype.dispatchCustomEvent=function(e,t){var n=new Ws(e,{detail:t});this.dispatchEvent(n)},t}(dH),$U=EB({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),qU={showLabel:!0,formatter:function(e){return e.toString()},markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orientation:"vertical",spacing:0};!function(e){function t(t){return e.call(this,t,qU)||this}Ft(t,e),t.prototype.render=function(e,t){var n=QB(t).maybeAppendByClassName($U.markerGroup,"g");this.renderMarker(n);var r=QB(t).maybeAppendByClassName($U.labelGroup,"g");this.renderLabel(r)},t.prototype.renderMarker=function(e){var t=this,n=this.attributes,r=n.orientation,i=n.markerSymbol,o=void 0===i?BU(r,"horizontalHandle","verticalHandle"):i;_B(!!o,e,function(e){var n=iH(t.attributes,"marker"),r=jt({symbol:o},n);t.marker=e.maybeAppendByClassName($U.marker,function(){return new bH({style:r})}).update(r)})},t.prototype.renderLabel=function(e){var t=this,n=this.attributes,r=n.showLabel,i=n.orientation,o=n.spacing,a=void 0===o?0:o,s=n.formatter;_B(r,e,function(e){var n,r=iH(t.attributes,"label"),o=r.text,l=Bt(r,["text"]),u=(null===(n=e.select($U.marker.class))||void 0===n?void 0:n.node().getBBox())||{},c=u.width,d=void 0===c?0:c,h=u.height,f=Ut(BU(i,[0,(void 0===h?0:h)+a,"center","top"],[d+a,0,"start","middle"]),4),p=f[0],g=f[1],m=f[2],y=f[3];e.maybeAppendByClassName($U.label,"text").styles(jt(jt({},l),{x:p,y:g,text:s(o).toString(),textAlign:m,textBaseline:y}))})}}(dH);var YU={showTitle:!0,padding:0,orientation:"horizontal",backgroundFill:"transparent",titleText:"",titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12},XU=SB({},YU,{});SB({},YU,oH(qU,"handle"),{color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],indicatorBackgroundFill:"#262626",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorVisibility:"hidden",labelAlign:"value",labelDirection:"positive",labelSpacing:5,showHandle:!0,showIndicator:!0,showLabel:!0,slidable:!0,titleText:"",type:"continuous"});var KU=EB({title:"title",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend"),QU=function(e){function t(t){return e.call(this,t,XU)||this}return Ft(t,e),t.prototype.renderTitle=function(e,t,n){var r=this.attributes,i=r.showTitle,o=r.titleText,a=Ut(aH(iH(this.attributes,"title")),2),s=a[0],l=a[1];this.titleGroup=e.maybeAppendByClassName(KU.titleGroup,"g").styles(l);var u=jt(jt({width:t,height:n},s),{text:i?o:""});this.title=this.titleGroup.maybeAppendByClassName(KU.title,function(){return new DU({style:u})}).update(u)},t.prototype.renderItems=function(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,a=Ut(aH(iH(this.attributes,"title",!0)),2),s=a[0],l=a[1],u=jt(jt({},s),{width:i,height:o,x:0,y:0});this.itemsGroup=e.maybeAppendByClassName(KU.itemsGroup,"g").styles(jt(jt({},l),{transform:"translate(".concat(n,", ").concat(r,")")}));var c=this;this.itemsGroup.selectAll(KU.items.class).data(["items"]).join(function(e){return e.append(function(){return new GU({style:u})}).attr("className",KU.items.name).each(function(){c.items=QB(this)})},function(e){return e.update(u)},function(e){return e.remove()})},t.prototype.adjustLayout=function(){if(this.attributes.showTitle){var e=this.title.node().getAvailableSpace(),t=e.x,n=e.y;this.itemsGroup.node().style.transform="translate(".concat(t,", ").concat(n,")")}},Object.defineProperty(t.prototype,"availableSpace",{get:function(){var e=this.attributes,t=e.showTitle,n=e.width,r=e.height;return t?this.title.node().getAvailableSpace():new bB(0,0,n,r)},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var t,n,r=null===(t=this.title)||void 0===t?void 0:t.node(),i=null===(n=this.items)||void 0===n?void 0:n.node();return r&&i?function(e,t){var n=e.attributes,r=n.position,i=n.spacing,o=n.inset,a=n.text,s=e.getBBox(),l=t.getBBox(),u=RU(r),c=Ut(ZB(a?i:0),4),d=c[0],h=c[1],f=c[2],p=c[3],g=Ut(ZB(o),4),m=g[0],y=g[1],v=g[2],b=g[3],w=Ut([p+h,d+f],2),x=w[0],E=w[1],k=Ut([b+y,m+v],2),S=k[0],M=k[1];if("l"===u[0])return new bB(s.x,s.y,l.width+s.width+x+S,Math.max(l.height+M,s.height));if("t"===u[0])return new bB(s.x,s.y,Math.max(l.width+S,s.width),l.height+s.height+E+M);var T=Ut([t.attributes.width||l.width,t.attributes.height||l.height],2),O=T[0],C=T[1];return new bB(l.x,l.y,O+s.width+x+S,C+s.height+E+M)}(r,i):e.prototype.getBBox.call(this)},t.prototype.render=function(e,t){var n=this.attributes,r=n.width,i=n.height,o=n.x,a=void 0===o?0:o,s=n.y,l=void 0===s?0:s,u=QB(t);t.style.transform="translate(".concat(a,", ").concat(l,")"),this.renderTitle(u,r,i),this.renderItems(u,this.availableSpace),this.adjustLayout()},t}(dH),ZU={backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333",backgroundZIndex:-1,formatter:function(e){return e.toString()},labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",padding:[2,4],position:"right",radius:0,zIndex:999},JU=EB({background:"background",labelGroup:"label-group",label:"label"},"indicator"),eW=function(e){function t(t){var n=e.call(this,t,ZU)||this;return n.point=[0,0],n.group=n.appendChild(new Xl({})),n.isMutationObserved=!0,n}return Ft(t,e),t.prototype.renderBackground=function(){if(this.label){var e=this.attributes,t=e.position,n=Ut(ZB(e.padding),4),r=n[0],i=n[1],o=n[2],a=n[3],s=this.label.node().getLocalBounds(),l=s.min,u=s.max,c=new bB(l[0]-a,l[1]-r,u[0]+i-l[0]+a,u[1]+o-l[1]+r),d=this.getPath(t,c),h=iH(this.attributes,"background");this.background=QB(this.group).maybeAppendByClassName(JU.background,"path").styles(jt(jt({},h),{d:d})),this.group.appendChild(this.label.node())}},t.prototype.renderLabel=function(){var e=this.attributes,t=e.formatter,n=e.labelText,r=Ut(aH(iH(this.attributes,"label")),2),i=r[0],o=r[1];i.text;var a=Bt(i,["text"]);(this.label=QB(this.group).maybeAppendByClassName(JU.labelGroup,"g").styles(o),n)&&this.label.maybeAppendByClassName(JU.label,function(){return RB(t(n))}).style("text",t(n).toString()).selectAll("text").styles(a)},t.prototype.adjustLayout=function(){var e=Ut(this.point,2),t=e[0],n=e[1],r=this.attributes,i=r.x,o=r.y;this.group.attr("transform","translate(".concat(i-t,", ").concat(o-n,")"))},t.prototype.getPath=function(e,t){var n=this.attributes.radius,r=t.x,i=t.y,o=t.width,a=t.height,s=[["M",r+n,i],["L",r+o-n,i],["A",n,n,0,0,1,r+o,i+n],["L",r+o,i+a-n],["A",n,n,0,0,1,r+o-n,i+a],["L",r+n,i+a],["A",n,n,0,0,1,r,i+a-n],["L",r,i+n],["A",n,n,0,0,1,r+n,i],["Z"]],l={top:4,right:6,bottom:0,left:2}[e],u=this.createCorner([s[l].slice(-2),s[l+1].slice(-2)]);return s.splice.apply(s,Wt([l+1,1],Ut(u),!1)),s[0][0]="M",s},t.prototype.createCorner=function(e,t){void 0===t&&(t=10);var n=eH.apply(void 0,Wt([],Ut(e),!1)),r=Ut(e,2),i=Ut(r[0],2),o=i[0],a=i[1],s=Ut(r[1],2),l=s[0],u=s[1],c=Ut(n?[l-o,[o,l]]:[u-a,[a,u]],2),d=c[0],h=Ut(c[1],2),f=h[0],p=h[1],g=d/2,m=t*(d/Math.abs(d)),y=m/2,v=m*Math.sqrt(3)/2*.8,b=Ut([f,f+g-y,f+g,f+g+y,p],5),w=b[0],x=b[1],E=b[2],k=b[3],S=b[4];return n?(this.point=[E,a-v],[["L",w,a],["L",x,a],["L",E,a-v],["L",k,a],["L",S,a]]):(this.point=[o+v,E],[["L",o,w],["L",o,x],["L",o+v,E],["L",o,k],["L",o,S]])},t.prototype.applyVisibility=function(){"hidden"===this.attributes.visibility?hB(this):dB(this)},t.prototype.bindEvents=function(){this.label.on(el.BOUNDS_CHANGED,this.renderBackground)},t.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout(),this.applyVisibility()},t}(dH);function tW(e){return void 0===e&&(e=""),{CONTAINER:"".concat(e,"tooltip"),TITLE:"".concat(e,"tooltip-title"),LIST:"".concat(e,"tooltip-list"),LIST_ITEM:"".concat(e,"tooltip-list-item"),NAME:"".concat(e,"tooltip-list-item-name"),MARKER:"".concat(e,"tooltip-list-item-marker"),NAME_LABEL:"".concat(e,"tooltip-list-item-name-label"),VALUE:"".concat(e,"tooltip-list-item-value"),CROSSHAIR_X:"".concat(e,"tooltip-crosshair-x"),CROSSHAIR_Y:"".concat(e,"tooltip-crosshair-y")}}var nW={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"};function rW(e){var t;void 0===e&&(e="");var n=tW(e);return(t={})[".".concat(n.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},t[".".concat(n.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},t[".".concat(n.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},t[".".concat(n.LIST_ITEM)]={"list-style-type":"none",display:"flex","line-height":"2em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},t[".".concat(n.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},t[".".concat(n.NAME)]={display:"flex","align-items":"center","max-width":"216px"},t[".".concat(n.NAME_LABEL)]=jt({flex:1},nW),t[".".concat(n.VALUE)]=jt({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},nW),t[".".concat(n.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},t[".".concat(n.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},t}var iW=function(e){function t(t){var n,r,i=this,o=null===(r=null===(n=t.style)||void 0===n?void 0:n.template)||void 0===r?void 0:r.prefixCls,a=tW(o);return(i=e.call(this,t,{data:[],x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],enterable:!1,container:{x:0,y:0},bounding:null,template:{prefixCls:"",container:'<div class="'.concat(a.CONTAINER,'"></div>'),title:'<div class="'.concat(a.TITLE,'"></div>'),item:'<li class="'.concat(a.LIST_ITEM,'" data-index={index}>\n        <span class="').concat(a.NAME,'">\n          <span class="').concat(a.MARKER,'" style="background:{color}"></span>\n          <span class="').concat(a.NAME_LABEL,'" title="{name}">{name}</span>\n        </span>\n        <span class="').concat(a.VALUE,'" title="{value}">{value}</span>\n      </li>')},style:rW(o)})||this).timestamp=-1,i.prevCustomContentKey=i.attributes.contentKey,i.initShape(),i.render(i.attributes,i),i}return Ft(t,e),Object.defineProperty(t.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),t.prototype.getContainer=function(){return this.element},Object.defineProperty(t.prototype,"elementSize",{get:function(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"HTMLTooltipItemsElements",{get:function(){var e=this.attributes,t=e.data,n=e.template;return t.map(function(e,t){var r=e.name,i=void 0===r?"":r,o=e.color,a=void 0===o?"black":o,s=e.index,l=Bt(e,["name","color","index"]),u=jt({name:i,color:a,index:null!=s?s:t},l);return Rn(function(e,t){return e&&t?e.replace(/\\?\{([^{}]+)\}/g,function(e,n){return"\\"===e.charAt(0)?e.slice(1):void 0===t[n]?"":t[n]}):e}(n.item,u))})},enumerable:!1,configurable:!0}),t.prototype.render=function(e,t){this.renderHTMLTooltipElement(),this.updatePosition()},t.prototype.destroy=function(){var t;null===(t=this.element)||void 0===t||t.remove(),e.prototype.destroy.call(this)},t.prototype.show=function(e,t){var n=this;if(void 0!==e&&void 0!==t){var r=function(){n.attributes.x=null!=e?e:n.attributes.x,n.attributes.y=null!=t?t:n.attributes.y,n.updatePosition()};"hidden"===this.element.style.visibility?this.closeTransition(r):r()}this.element.style.visibility="visible"},t.prototype.hide=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.attributes.enterable&&this.isCursorEntered(e,t)||(this.element.style.visibility="hidden")},t.prototype.initShape=function(){var e=this.attributes.template;this.element=Rn(e.container),this.id&&this.element.setAttribute("id",this.id)},t.prototype.renderCustomContent=function(){if(void 0===this.prevCustomContentKey||this.prevCustomContentKey!==this.attributes.contentKey){this.prevCustomContentKey=this.attributes.contentKey;var e=this.attributes.content;e&&("string"==typeof e?this.element.innerHTML=e:uH(this.element,e))}},t.prototype.renderHTMLTooltipElement=function(){var e,t,n=this.attributes,r=n.template,i=n.title,o=n.enterable,a=n.style,s=n.content,l=tW(r.prefixCls),u=this.element;if(this.element.style.pointerEvents=o?"auto":"none",s)this.renderCustomContent();else{i?(u.innerHTML=r.title,u.getElementsByClassName(l.TITLE)[0].innerHTML=i):null===(t=null===(e=u.getElementsByClassName(l.TITLE))||void 0===e?void 0:e[0])||void 0===t||t.remove();var c=this.HTMLTooltipItemsElements,d=document.createElement("ul");d.className=l.LIST,uH(d,c);var h=this.element.querySelector(".".concat(l.LIST));h?h.replaceWith(d):u.appendChild(d)}!function(e,t){Object.entries(t).forEach(function(t){var n=Ut(t,2),r=n[0],i=n[1];Wt([e],Ut(e.querySelectorAll(r)),!1).filter(function(e){return e.matches(r)}).forEach(function(e){e&&(e.style.cssText+=Object.entries(i).reduce(function(e,t){return"".concat(e).concat(t.join(":"),";")},""))})})}(u,a)},t.prototype.getRelativeOffsetFromCursor=function(e){var t=this.attributes,n=t.position,r=t.offset,i=(e||n).split("-"),o={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},a=this.elementSize,s=a.width,l=a.height,u=[-s/2,-l/2];return i.forEach(function(e){var t=Ut(u,2),n=t[0],i=t[1],a=Ut(o[e],2),c=a[0],d=a[1];u=[n+(s/2+r[0])*c,i+(l/2+r[1])*d]}),u},t.prototype.setOffsetPosition=function(e){var t=Ut(e,2),n=t[0],r=t[1],i=this.attributes,o=i.x,a=void 0===o?0:o,s=i.y,l=void 0===s?0:s,u=i.container,c=u.x,d=u.y;this.element.style.left="".concat(+a+c+n,"px"),this.element.style.top="".concat(+l+d+r,"px")},t.prototype.updatePosition=function(){var e=this.attributes.showDelay,t=void 0===e?60:e,n=Date.now();this.timestamp>0&&n-this.timestamp<t||(this.timestamp=n,this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor())))},t.prototype.autoPosition=function(e){var t=Ut(e,2),n=t[0],r=t[1],i=this.attributes,o=i.x,a=i.y,s=i.bounding,l=i.position;if(!s)return[n,r];var u=this.element,c=u.offsetWidth,d=u.offsetHeight,h=Ut([+o+n,+a+r],2),f=h[0],p=h[1],g={left:"right",right:"left",top:"bottom",bottom:"top"},m=s.x,y=s.y,v={left:f<m,right:f+c>m+s.width,top:p<y,bottom:p+d>y+s.height},b=[];l.split("-").forEach(function(e){v[e]?b.push(g[e]):b.push(e)});var w=b.join("-");return this.getRelativeOffsetFromCursor(w)},t.prototype.isCursorEntered=function(e,t){if(this.element){var n=this.element.getBoundingClientRect(),r=n.x,i=n.y,o=n.width,a=n.height;return new bB(r,i,o,a).isPointIn(e,t)}return!1},t.prototype.closeTransition=function(e){var t=this,n=this.element.style.transition;this.element.style.transition="none",e(),setTimeout(function(){t.element.style.transition=n},10)},t.tag="tooltip",t}(dH),oW=function(e){function t(n){var r=e.call(this,SB({},t.defaultOptions,n))||this;return r.hoverColor="#f5f5f5",r.selectedColor="#e6f7ff",r.background=r.appendChild(new su({})),r.label=r.background.appendChild(new Xl({})),r}return Ft(t,e),Object.defineProperty(t.prototype,"padding",{get:function(){return ZB(this.style.padding)},enumerable:!1,configurable:!0}),t.prototype.renderLabel=function(){var e=this.style,t=e.label,n=e.value,r=iH(this.attributes,"label");QB(this.label).maybeAppend(".label",function(){return RB(t)}).attr("className","label").styles(r),this.label.attr("__data__",n)},t.prototype.renderBackground=function(){var e=this.label.getBBox(),t=Ut(this.padding,4),n=t[0],r=t[1],i=t[2],o=t[3],a=e.width,s=e.height,l=a+o+r,u=s+n+i,c=iH(this.attributes,"background"),d=this.style,h=d.width,f=void 0===h?0:h,p=d.height,g=void 0===p?0:p,m=d.selected;this.background.attr(jt(jt({},c),{width:Math.max(l,f),height:Math.max(u,g),fill:m?this.selectedColor:"#fff"})),this.label.attr({transform:"translate(".concat(o,", ").concat((u-s)/2,")")})},t.prototype.render=function(){this.renderLabel(),this.renderBackground()},t.prototype.bindEvents=function(){var e=this;this.addEventListener("pointerenter",function(){e.style.selected||e.background.attr("fill",e.hoverColor)}),this.addEventListener("pointerleave",function(){e.style.selected||e.background.attr("fill",e.style.backgroundFill)});var t=this;this.addEventListener("click",function(){var n=e.style,r=n.label,i=n.value,o=n.onClick;null==o||o(i,{label:r,value:i},t)})},t.defaultOptions={style:{value:"",label:"",cursor:"pointer"}},t}(dH),aW=function(e){function t(n){var r,i,o=e.call(this,SB({},t.defaultOptions,n))||this;o.currentValue=null===(r=t.defaultOptions.style)||void 0===r?void 0:r.defaultValue,o.isPointerInSelect=!1,o.select=o.appendChild(new su({className:"select",style:{cursor:"pointer",width:0,height:0}})),o.dropdown=o.appendChild(new su({className:"dropdown"}));var a=o.style.defaultValue;return a&&(null===(i=o.style.options)||void 0===i?void 0:i.some(function(e){return e.value===a}))&&(o.currentValue=a),o}return Ft(t,e),t.prototype.setValue=function(e){this.currentValue=e,this.render()},t.prototype.getValue=function(){return this.currentValue},Object.defineProperty(t.prototype,"dropdownPadding",{get:function(){return ZB(this.style.dropdownPadding)},enumerable:!1,configurable:!0}),t.prototype.renderSelect=function(){var e,t=this,n=this.style,r=n.x,i=n.y,o=n.width,a=n.height,s=n.bordered,l=n.showDropdownIcon,u=iH(this.attributes,"select"),c=iH(this.attributes,"placeholder");this.select.attr(jt(jt({x:r,y:i,width:o,height:a},u),{fill:"#fff",strokeWidth:s?1:0}));var d=this.dropdownPadding;l&&QB(this.select).maybeAppend(".dropdown-icon","path").style("d","M-5,-3.5 L0,3.5 L5,-3.5").style("transform","translate(".concat(r+o-10-d[1]-d[3],", ").concat(i+a/2,")")).style("lineWidth",1).style("stroke",this.select.style.stroke);var h=null===(e=this.style.options)||void 0===e?void 0:e.find(function(e){return e.value===t.currentValue}),f=jt({x:r+d[3]},c);QB(this.select).selectAll(".placeholder").data(h?[]:[1]).join(function(e){return e.append("text").attr("className","placeholder").styles(f).style("y",function(){var e=this.getBBox();return i+(a-e.height)/2})},function(e){return e.styles(f)},function(e){return e.remove()});var p=iH(this.attributes,"optionLabel"),g=jt({x:r+d[3]},p);QB(this.select).selectAll(".value").data(h?[h]:[]).join(function(e){return e.append(function(e){return RB(e.label)}).attr("className","value").styles(g).style("y",function(){var e=this.getBBox();return i+(a-e.height)/2})},function(e){return e.styles(g)},function(e){return e.remove()})},t.prototype.renderDropdown=function(){var e,t,n=this,r=this.style,i=r.x,o=r.y,a=r.width,s=r.height,l=r.options,u=r.onSelect,c=r.open,d=iH(this.attributes,"dropdown"),h=iH(this.attributes,"option"),f=this.dropdownPadding;QB(this.dropdown).maybeAppend(".dropdown-container","g").attr("className","dropdown-container").selectAll(".dropdown-item").data(l,function(e){return e.value}).join(function(e){return e.append(function(e){return new oW({className:"dropdown-item",style:jt(jt(jt({},e),h),{width:a-f[1]-f[3],selected:e.value===n.currentValue,onClick:function(e,t,r){n.setValue(e),null==u||u(e,t,r),n.dispatchEvent(new Ws("change",{detail:{value:e,option:t,item:r}})),hB(n.dropdown)}})})}).each(function(e,t){var n,r=(null===(n=this.parentNode)||void 0===n?void 0:n.children).reduce(function(e,n,r){return r<t&&(e+=n.getBBox().height),e},0);this.attr("transform","translate(".concat(f[3],", ").concat(f[0]+r,")"))})},function(e){return e.update(function(e){return{selected:e.value===n.currentValue}})},function(e){return e.remove()});var p=null===(t=null===(e=this.dropdown.getElementsByClassName("dropdown-container"))||void 0===e?void 0:e[0])||void 0===t?void 0:t.getBBox(),g=d.spacing;this.dropdown.attr(jt({transform:"translate(".concat(i,", ").concat(o+s+g,")"),width:p.width+f[1]+f[3],height:p.height+f[0]+f[2]},d)),!c&&hB(this.dropdown)},t.prototype.render=function(){this.renderSelect(),this.renderDropdown()},t.prototype.bindEvents=function(){var e=this;this.addEventListener("click",function(e){e.stopPropagation()}),this.select.addEventListener("click",function(){"visible"===e.dropdown.style.visibility?hB(e.dropdown):dB(e.dropdown)}),this.addEventListener("pointerenter",function(){e.isPointerInSelect=!0}),this.addEventListener("pointerleave",function(){e.isPointerInSelect=!1}),null===document||void 0===document||document.addEventListener("click",function(){e.isPointerInSelect||hB(e.dropdown)})},t.defaultOptions={style:{x:0,y:0,width:140,height:32,options:[],bordered:!0,defaultValue:"",selectRadius:8,selectStroke:"#d9d9d9",showDropdownIcon:!0,placeholderText:"请选择",placeholderFontSize:12,placeholderTextBaseline:"top",placeholderFill:"#c2c2c2",dropdownFill:"#fff",dropdownStroke:"#d9d9d9",dropdownRadius:8,dropdownShadowBlur:4,dropdownShadowColor:"rgba(0, 0, 0, 0.08)",dropdownPadding:8,dropdownSpacing:10,optionPadding:[8,12],optionFontSize:12,optionTextBaseline:"top",optionBackgroundFill:"#fff",optionBackgroundRadius:4,optionLabelFontSize:12,optionLabelTextBaseline:"top"}},t}(dH),sW=function(e){function t(n){var r=e.call(this,SB({},{style:{backgroundOpacity:t.backgroundOpacities.default}},t.defaultOptions,n))||this;return r.showBackground=!0,r.background=r.appendChild(new su({})),r.icon=r.appendChild(new Xl({})),r}return Ft(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return"BaseIcon"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineWidth",{get:function(){return Math.log10(this.attributes.size)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return ZB(this.attributes.size/5)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iconSize",{get:function(){var e=this.attributes.size,t=Ut(this.padding,4),n=t[0],r=t[1],i=t[2],o=t[3];return Math.max(e-Math.max(o+r,n+i),2*this.lineWidth+1)},enumerable:!1,configurable:!0}),t.prototype.renderBackground=function(){var e=this.attributes,t=e.x,n=e.y,r=e.size,i=r/2,o=iH(this.attributes,"background");this.background.attr(jt({x:t-i,y:n-i,width:r,height:r},o))},t.prototype.showIndicator=function(){if(this.label){var e=this.attributes.size,t=this.background.getBBox(),n=t.x,r=t.y;this.indicator.update({x:n+e/2,y:r-5,labelText:this.label,visibility:"visible"})}},t.prototype.hideIndicator=function(){this.indicator.update({visibility:"hidden"})},t.prototype.connectedCallback=function(){var t;e.prototype.connectedCallback.call(this);var n=this.attributes.size,r=this.background.getBBox(),i=r.x,o=r.y,a=null===(t=this.ownerDocument)||void 0===t?void 0:t.defaultView;a&&(this.indicator=a.appendChild(new eW({style:{x:i+n/2,y:o-n/2,visibility:"hidden",position:"top",radius:3,zIndex:100}})))},t.prototype.disconnectedCallback=function(){this.indicator.destroy()},t.prototype.render=function(){this.renderIcon(),this.showBackground&&this.renderBackground()},t.prototype.bindEvents=function(){var e=this,n=this.attributes.onClick;if(this.addEventListener("click",function(){null==n||n(e)}),this.showBackground){var r=function(){return e.background.attr({opacity:t.backgroundOpacities.default})};this.addEventListener("pointerenter",function(){e.background.attr({opacity:t.backgroundOpacities.hover}),e.showIndicator()}),this.addEventListener("pointerleave",function(){r(),e.hideIndicator()}),this.addEventListener("pointerdown",function(){e.background.attr({opacity:t.backgroundOpacities.active})}),this.addEventListener("pointerup",function(){r()})}},t.tag="IconBase",t.defaultOptions={style:{x:0,y:0,size:10,color:"#565758",backgroundRadius:4,backgroundFill:"#e2e2e2"}},t.backgroundOpacities={default:0,hover:.8,active:1},t}(dH),lW=function(e,t){return void 0===t&&(t="#565758"),new nu({style:{fill:t,d:"M ".concat(e,",").concat(e," L -").concat(e,",0 L ").concat(e,",-").concat(e," Z"),transformOrigin:"center"}})},uW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ft(t,e),t.prototype.arcPath=function(e,t,n){var r=Ut([n,n],2),i=r[0],o=r[1],a=function(r){return[e+n*Math.cos(r),t+n*Math.sin(r)]},s=Ut(a(-5/4*Math.PI),2),l=s[0],u=s[1],c=Ut(a(1/4*Math.PI),2),d=c[0],h=c[1];return"M".concat(l,",").concat(u,",A").concat(i,",").concat(o,",0,1,1,").concat(d,",").concat(h)},Object.defineProperty(t.prototype,"label",{get:function(){return"重置"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var e=this.attributes,t=e.x,n=e.y,r=e.color,i=this.iconSize,o=this.lineWidth,a=o+.5;QB(this.icon).maybeAppend(".reset","path").styles({stroke:r,lineWidth:o,d:this.arcPath(t,n,i/2-o),markerStart:lW(a,r)})},t}(sW),cW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ft(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return"快退"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var e=this.attributes,t=e.x,n=e.y,r=e.color,i=this.iconSize,o=i/2,a=i/2/Math.pow(3,.5),s=[[t,n],[t,n-a],[t-o,n],[t,n+a],[t,n],[t+o,n-a],[t+o,n+a],[t,n]];QB(this.icon).maybeAppend(".backward","polygon").styles({points:s,fill:r})},t}(sW),dW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ft(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return"快进"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var e=this.attributes,t=e.x,n=e.y,r=e.color,i=this.iconSize,o=i/2,a=i/2/Math.pow(3,.5),s=[[t,n],[t,n-a],[t+o,n],[t,n+a],[t,n],[t-o,n-a],[t-o,n+a],[t,n]];QB(this.icon).maybeAppend(".forward","polygon").styles({points:s,fill:r})},t}(sW),hW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ft(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return"播放"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var e=this.attributes,t=e.x,n=e.y,r=e.color,i=this.iconSize,o=i/3*Math.pow(3,.5)*.8,a=[[t+o,n],[t-o/2,n-i/2*.8],[t-o/2,n+i/2*.8],[t+o,n]];QB(this.icon).maybeAppend(".play","polygon").styles({points:a,fill:r})},t}(sW),fW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ft(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return"暂停"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var e=this.attributes,t=e.x,n=e.y,r=e.color,i=this.iconSize,o=i/3,a=[[t-o,n-i/2],[t-o,n+i/2],[t-o/2,n+i/2],[t-o/2,n-i/2],[t-o,n-i/2],[t+o/2,n-i/2],[t+o/2,n+i/2],[t+o,n+i/2],[t+o,n-i/2]];QB(this.icon).maybeAppend(".pause","polygon").styles({points:a,fill:r})},t}(sW),pW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ft(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return"范围时间"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var e=this.attributes,t=e.x,n=e.y,r=e.color,i=this.iconSize,o=this.lineWidth,a=o;QB(this.icon).maybeAppend(".left-line","line").styles({x1:t-i/2,y1:n-i/2,x2:t-i/2,y2:n+i/2,stroke:r,lineWidth:o}),QB(this.icon).maybeAppend(".right-line","line").styles({x1:t+i/2,y1:n-i/2,x2:t+i/2,y2:n+i/2,stroke:r,lineWidth:o}),QB(this.icon).maybeAppend(".left-arrow","line").styles({x1:t,y1:n,x2:t-i/2+2*a,y2:n,stroke:r,lineWidth:o,markerEnd:lW(2*o,r)}),QB(this.icon).maybeAppend(".right-arrow","line").styles({x1:t,y1:n,x2:t+i/2-2*a,y2:n,stroke:r,lineWidth:o,markerEnd:lW(2*o,r)})},t}(sW),gW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ft(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return"单一时间"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var e=this.attributes,t=e.x,n=e.y,r=e.color,i=this.iconSize,o=this.lineWidth;QB(this.icon).maybeAppend(".line","line").styles({x1:t,y1:n-i/2,x2:t,y2:n+i/2,stroke:r,lineWidth:o});var a=o;QB(this.icon).maybeAppend(".left-arrow","line").styles({x1:t-i/2-2*a,y1:n,x2:t-2*a,y2:n,stroke:r,lineWidth:o,markerEnd:lW(2*o,r)}),QB(this.icon).maybeAppend(".right-arrow","line").styles({x1:t+i/2+2*a,y1:n,x2:t+2*a,y2:n,stroke:r,lineWidth:o,markerEnd:lW(2*o,r)})},t}(sW),mW=function(e){return[[-e/2,-e/2],[-e/2,e/2],[e/2,e/2]]},yW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ft(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return"折线图"},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var e=this.attributes,t=e.x,n=e.y,r=e.color,i=this.iconSize,o=this.lineWidth,a=(i-2*o-o)/4,s=(i-2*o-o)/2,l=Ut([t-i/2+o,n+i/2-2*o],2),u=l[0],c=l[1];QB(this.icon).maybeAppend(".coordinate","polyline").styles({points:mW(i).map(function(e){var r=Ut(e,2),i=r[0],o=r[1];return[i+t,o+n]}),stroke:r,lineWidth:o}),QB(this.icon).maybeAppend(".line","polyline").styles({points:[[u,c],[u+a,c-s],[u+2*a,c],[u+4*a,c-2*s]],stroke:r,lineWidth:o})},t}(sW),vW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ft(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return"条形图"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return[1,4,2,4,3]},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var e=this.data,t=this.attributes,n=t.x,r=t.y,i=t.color,o=this.iconSize,a=this.lineWidth,s=a,l=(o-s)/e.length,u=(o-2*s)/4,c=Ut([n-o/2+2*s,r+o/2-s],2),d=c[0],h=c[1];QB(this.icon).maybeAppend(".coordinate","polyline").styles({points:mW(o).map(function(e){var t=Ut(e,2),i=t[0],o=t[1];return[i+n,o+r]}),stroke:i,lineWidth:a}),QB(this.icon).maybeAppend(".bars","g").selectAll(".column").data(this.data.map(function(e,t){return{value:e,index:t}})).join(function(e){return e.append("line").attr("className","column").style("x1",function(e){var t=e.index;return d+l*t}).style("y1",h).style("x2",function(e){var t=e.index;return d+l*t}).style("y2",function(e){var t=e.value;return h-u*t}).styles({y1:h,stroke:i,lineWidth:a})})},t}(sW),bW=function(e){function t(t){var n=e.call(this,SB({},{style:{color:"#d8d9d9"}},t))||this;return n.showBackground=!1,n}return Ft(t,e),t.prototype.renderIcon=function(){var e=this.attributes,t=e.x,n=e.y,r=e.color,i=this.iconSize,o=this.lineWidth;QB(this.icon).maybeAppend(".split","line").styles({x1:t,y1:n-i/2,x2:t,y2:n+i/2,stroke:r,lineWidth:o})},t}(sW),wW=function(e){function t(){var t=e.apply(this,Wt([],Ut(arguments),!1))||this;return t.showBackground=!1,t}return Ft(t,e),Object.defineProperty(t.prototype,"padding",{get:function(){return ZB(0)},enumerable:!1,configurable:!0}),t.prototype.renderIcon=function(){var e=this.iconSize,t=this.attributes,n=t.x,r=t.y,i=t.speed,o=void 0===i?1:i,a=Rt(this.attributes,["x","y","transform","transformOrigin","width","height","size","color","speed"]),s=at(e,20,1/0),l=jt(jt({},a),{x:n-s/2,y:r-10,width:s,height:20,defaultValue:o,bordered:!1,showDropdownIcon:!1,selectRadius:2,dropdownPadding:this.padding,dropdownRadius:2,dropdownSpacing:e/5,placeholderFontSize:e/2,optionPadding:0,optionLabelFontSize:e/2,optionBackgroundRadius:1,options:[{label:"1x",value:1},{label:"1.5x",value:1.5},{label:"2x",value:2}]});QB(this.icon).maybeAppend(".speed",function(){return new aW({style:l})}).attr("className","speed").each(function(){this.update(l)})},t.tag="SpeedSelect",t}(sW),xW=function(e){function t(t){var n=e.call(this,t)||this;return n.icon=n.appendChild(new Xl({})),n.currentType=n.attributes.type,n}return Ft(t,e),t.prototype.getType=function(){return this.currentType},t.prototype.render=function(){var e=this,t=this.attributes;t.onChange;var n=Bt(t,["onChange"]);QB(this.icon).selectAll(".icon").data([this.currentType]).join(function(t){return t.append(function(t){var n,r=null===(n=e.toggles.find(function(e){return Ut(e,1)[0]===t}))||void 0===n?void 0:n[1];if(!r)throw new Error("Invalid type: ".concat(t));return new r({})}).attr("className","icon").styles(n,!1).update({})},function(e){return e.styles({restStyles:n}).update({})},function(e){return e.remove()})},t.prototype.bindEvents=function(){var e=this,t=this.attributes.onChange;this.addEventListener("click",function(n){n.preventDefault(),n.stopPropagation();var r=(e.toggles.findIndex(function(t){return Ut(t,1)[0]===e.currentType})+1)%e.toggles.length,i=e.toggles[r][0];null==t||t(e.currentType),e.currentType=i,e.render()})},t.tag="ToggleIcon",t}(dH),EW=function(e){function t(t){var n=e.call(this,SB({},{style:{type:"play"}},t))||this;return n.toggles=[["play",hW],["pause",fW]],n}return Ft(t,e),t}(xW),kW=function(e){function t(t){var n=e.call(this,SB({},{style:{type:"range"}},t))||this;return n.toggles=[["range",pW],["value",gW]],n}return Ft(t,e),t}(xW),SW=function(e){function t(t){var n=e.call(this,SB({},{style:{type:"column"}},t))||this;return n.toggles=[["line",yW],["column",vW]],n}return Ft(t,e),t}(xW),MW={reset:uW,speed:wW,backward:cW,playPause:EW,forward:dW,selectionType:kW,chartType:SW,split:bW},TW=function(e){function t(n){var r=e.call(this,SB({},t.defaultOptions,n))||this;return r.background=r.appendChild(new su({})),r.functions=r.appendChild(new Xl({})),r}return Ft(t,e),Object.defineProperty(t.prototype,"padding",{get:function(){return ZB(this.attributes.padding)},enumerable:!1,configurable:!0}),t.prototype.renderBackground=function(){var e=this.style,t=e.x,n=e.y,r=e.width,i=e.height,o=iH(this.attributes,"background");this.background.attr(jt({x:t,y:n,width:r,height:i},o))},t.prototype.renderFunctions=function(){var e,t=this,n=this.attributes,r=n.functions,i=n.iconSize,o=n.iconSpacing,a=n.x,s=n.y,l=n.width,u=n.height,c=n.align,d=Ut(this.padding,4),h=d[1],f=d[3],p=r.reduce(function(e,t){return e.length&&t.length?e.concat.apply(e,Wt(["split"],Ut(t),!1)):e.concat.apply(e,Wt([],Ut(t),!1))},[]),g=p.length*(i+o)-o,m={left:f+i/2,center:(l-g)/2+i/2,right:l-g-f-h+i/2}[c]||0;null===(e=this.speedSelect)||void 0===e||e.destroy(),this.functions.removeChildren(),p.forEach(function(e,n){var r,l=MW[e],c={x:a+n*(i+o)+m,y:s+u/2,size:i};if(l===wW?(c.speed=t.attributes.speed,c.onSelect=function(n){return t.handleFunctionChange(e,{value:n})}):[EW,kW,SW].includes(l)?(c.onChange=function(n){return t.handleFunctionChange(e,{value:n})},l===EW&&(c.type="play"===t.attributes.state?"pause":"play"),l===kW&&(c.type="range"===t.attributes.selectionType?"value":"range"),l===SW&&(c.type="line"===t.attributes.chartType?"column":"line")):c.onClick=function(){return t.handleFunctionChange(e,{value:e})},l===wW){var d=null===(r=t.ownerDocument)||void 0===r?void 0:r.defaultView;d&&(t.speedSelect=new l({style:jt(jt({},c),{zIndex:100})}),d.appendChild(t.speedSelect))}else t.functions.appendChild(new l({style:c}))})},t.prototype.disconnectedCallback=function(){var t;e.prototype.disconnectedCallback.call(this),null===(t=this.speedSelect)||void 0===t||t.destroy()},t.prototype.render=function(){this.renderBackground(),this.renderFunctions()},t.prototype.handleFunctionChange=function(e,t){var n=this.attributes.onChange;null==n||n(e,t)},t.defaultOptions={style:{x:0,y:0,width:300,height:40,padding:0,align:"center",iconSize:25,iconSpacing:0,speed:1,state:"pause",chartType:"line",selectionType:"range",backgroundFill:"#fbfdff",backgroundStroke:"#ebedf0",functions:[["reset","speed"],["backward","playPause","forward"],["selectionType","chartType"]]}},t}(dH),OW=function(e){function t(n){var r=e.call(this,SB({},t.defaultOptions,n))||this;return r.bindEvents(),r}return Ft(t,e),t.prototype.bindEvents=function(){var e=this;this.addEventListener("mouseenter",function(){e.attr("lineWidth",Math.ceil(+(e.style.r||0)/2))}),this.addEventListener("mouseleave",function(){e.attr("lineWidth",0)})},t.defaultOptions={style:{r:5,fill:"#3f7cf7",lineWidth:0,stroke:"#3f7cf7",strokeOpacity:.5,cursor:"pointer"}},t}(Gl),CW=function(e){function t(n){return e.call(this,SB({},t.defaultOptions,n))||this}return Ft(t,e),t.prototype.renderBackground=function(){var e=this.attributes,t=e.x,n=e.y,r=e.width,i=e.height,o=iH(this.attributes,"background");QB(this).maybeAppend("background","rect").attr("className","background").styles(jt({x:t-r/2,y:n-i/2,width:r,height:i},o))},t.prototype.renderIcon=function(){var e=this.attributes,t=e.x,n=e.y,r=e.iconSize,i=iH(this.attributes,"icon"),o=r/2;QB(this).maybeAppend("icon-left-line","line").attr("className","icon-left-line").styles(jt({x1:t-1,y1:n-o,x2:t-1,y2:n+o},i)),QB(this).maybeAppend("icon-right-line","line").attr("className","icon-right-line").styles(jt({x1:t+1,y1:n-o,x2:t+1,y2:n+o},i))},t.prototype.renderBorder=function(){var e=this.attributes,t=e.x,n=e.y,r=e.width,i=e.height,o=e.type,a=iH(this.attributes,"border"),s="start"===o?+r/2:-r/2;QB(this).maybeAppend("border","line").attr("className","border").styles(jt({x1:s+t,y1:n-i/2,x2:s+t,y2:n+i/2},a))},t.prototype.render=function(){this.renderBackground(),this.renderIcon(),this.renderBorder()},t.defaultOptions={style:{x:0,y:0,width:10,height:50,iconSize:10,type:"start",backgroundFill:"#fff",backgroundFillOpacity:.5,iconStroke:"#9a9a9a",iconLineWidth:1,borderStroke:"#e8e8e8",borderLineWidth:1}},t}(dH);function NW(e,t){return"number"==typeof e?PW(e):function(e,t){var n=new Date(e);switch(t){case"half-hour":case"hour":case"four-hour":return[0,6,12,18].includes(n.getHours())&&0===n.getMinutes()?sH(n,"HH:mm\nYYYY-MM-DD"):sH(n,"HH:mm");case"half-day":return n.getHours()<12?"AM\n".concat(sH(n,"YYYY-MM-DD")):"PM";case"day":return[1,10,20].includes(n.getDate())?sH(n,"DD\nYYYY-MM"):sH(n,"DD");case"week":return n.getDate()<=7?sH(n,"DD\nYYYY-MM"):sH(n,"DD");case"month":return[0,6].includes(n.getMonth())?sH(n,"MM月\nYYYY"):sH(n,"MM月");case"season":return[0].includes(n.getMonth())?sH(n,"MM月\nYYYY"):sH(n,"MM月");case"year":return sH(n,"YYYY");default:return sH(n,"YYYY-MM-DD HH:mm")}}(e,t)}function PW(e){var t=String(Math.floor(e/3600)).padStart(2,"0"),n=String(Math.floor(e%3600/60)).padStart(2,"0"),r=String(Math.floor(e%60)).padStart(2,"0");return e<3600?"".concat(n,":").concat(r):"".concat(t,":").concat(n,":").concat(r)}var AW=function(e){function t(n){var r=e.call(this,SB({},t.defaultOptions,n))||this;r.axis=r.appendChild(new zU({style:{type:"linear",startPos:[0,0],endPos:[0,0],data:[],showArrow:!1,animate:!1}})),r.timeline=r.appendChild(new DV({style:{onChange:function(e){r.handleSliderChange(e)}}})),r.controller=r.appendChild(new TW({})),r.states={},r.handleSliderChange=function(e){var t,n=(t=r.states.values,Array.isArray(t)?Wt([],Ut(t),!1):t);r.setBySliderValues(e),r.dispatchOnChange(n)};var i=r.attributes,o=i.selectionType,a=i.chartType,s=i.speed,l=i.state,u=i.playMode,c=i.values;return r.states={chartType:a,playMode:u,selectionType:o,speed:s,state:l},r.setByTimebarValues(c),r}return Ft(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this.attributes.data.sort(function(e,t){return e.time<t.time?-1:e.time>t.time?1:0})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"space",{get:function(){var e=this.attributes,t=e.x,n=e.y,r=e.width,i=e.height,o=e.type,a=e.controllerHeight,s=at(+i-a,0,+i),l=new bB(t,n+ +i-a,+r,a),u=0,c="time"===o?10:s;return{axisBBox:"chart"===o?new bB(t,n+s-(u=35),+r,u):new bB,controllerBBox:l,timelineBBox:new bB(t,n+("time"===o?s:s-c),+r,c-u)}},enumerable:!1,configurable:!0}),t.prototype.setBySliderValues=function(e){var t,n,r=this.data,i=Ut(Array.isArray(e)?e:[0,e],2),o=i[0],a=i[1],s=r.length,l=r[Math.floor(o*s)],u=r[Math.ceil(a*s)-(Array.isArray(e)?0:1)];this.states.values=[null!==(t=null==l?void 0:l.time)&&void 0!==t?t:r[0].time,null!==(n=null==u?void 0:u.time)&&void 0!==n?n:1/0]},t.prototype.setByTimebarValues=function(e){var t,n,r,i=this.data,o=Ut(Array.isArray(e)?e:[void 0,e],2),a=o[0],s=o[1],l=i.find(function(e){return e.time===a}),u=i.find(function(e){return e.time===s});this.states.values=[null!==(t=null==l?void 0:l.time)&&void 0!==t?t:null===(n=i[0])||void 0===n?void 0:n.time,null!==(r=null==u?void 0:u.time)&&void 0!==r?r:1/0]},t.prototype.setByIndex=function(e){var t,n,r,i,o=this.data,a=Ut(e,2),s=a[0],l=a[1];this.states.values=[null!==(n=null===(t=o[s])||void 0===t?void 0:t.time)&&void 0!==n?n:o[0].time,null!==(i=null===(r=this.data[l])||void 0===r?void 0:r.time)&&void 0!==i?i:1/0]},Object.defineProperty(t.prototype,"sliderValues",{get:function(){var e,t=this.states,n=t.values,r=t.selectionType,i=Ut(Array.isArray(n)?n:[void 0,n],2),o=i[0],a=i[1],s=this.data,l=s.length,u="value"===r;return[(e=s.findIndex(function(e){return e.time===o}),u?0:e>-1?e/l:0),function(){if(a===1/0)return 1;var e=s.findIndex(function(e){return e.time===a});return e>-1?e/l:u?.5:1}()]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){var e=this.states,t=e.values,n=e.selectionType,r=Ut(Array.isArray(t)?t:[this.data[0].time,t],2),i=r[0],o=r[1];return"value"===n?o:[i,o]},enumerable:!1,configurable:!0}),t.prototype.getDatumByRatio=function(e){var t=this.data,n=t.length;return t[Math.floor(e*(n-1))]},Object.defineProperty(t.prototype,"chartHandleIconShape",{get:function(){var e=this.states.selectionType,t=this.space.timelineBBox.height;return"range"===e?function(e){return new CW({style:{type:e,height:t,iconSize:t/6}})}:function(){return new eu({style:{x1:0,y1:-t/2,x2:0,y2:t/2,lineWidth:2,stroke:"#c8c8c8"}})}},enumerable:!1,configurable:!0}),t.prototype.getChartStyle=function(e){var t=this,n=e.x,r=e.y,i=e.width,o=e.height,a=this.states,s=a.selectionType,l=a.chartType,u=this.data,c=this.attributes,d=c.type,h=c.labelFormatter,f=iH(this.attributes,"chart");f.type;var p=Bt(f,["type"]),g="range"===s;if("time"===d)return jt({handleIconShape:function(){return new OW({})},selectionFill:"#2e7ff8",selectionFillOpacity:1,showLabelOnInteraction:!0,handleLabelDy:g?-15:0,autoFitLabel:g,handleSpacing:g?-15:0,trackFill:"#edeeef",trackLength:i,trackOpacity:.5,trackRadius:o/2,trackSize:o/2,type:s,values:this.sliderValues,formatter:function(e){if(h)return h(e);var n=t.getDatumByRatio(e).time;return"number"==typeof n?PW(n):sH(n,"YYYY-MM-DD HH:mm:ss")},transform:"translate(".concat(n,", ").concat(r,")"),zIndex:1},p);var m="range"===s?5:0,y=u.map(function(e){return e.value});return jt({handleIconOffset:m,handleIconShape:this.chartHandleIconShape,selectionFill:"#fff",selectionFillOpacity:.5,selectionType:"invert",sparklineSpacing:.1,sparklineColumnLineWidth:0,sparklineColor:"#d4e5fd",sparklineAreaOpacity:1,sparklineAreaLineWidth:0,sparklineData:y,sparklineType:l,sparklineScale:.8,trackLength:i,trackSize:o,type:s,values:this.sliderValues,transform:"translate(".concat(n,", ").concat(r,")"),zIndex:1},p)},t.prototype.renderChart=function(e){void 0===e&&(e=this.space.timelineBBox),this.timeline.update(this.getChartStyle(e))},t.prototype.updateSelection=function(){this.timeline.setValues(this.sliderValues,!0),this.handleSliderChange(this.sliderValues)},t.prototype.getAxisStyle=function(e){var t=this.data,n=this.attributes,r=n.interval,i=n.labelFormatter,o=iH(this.attributes,"axis"),a=e.x,s=e.y,l=e.width,u=Wt(Wt([],Ut(t),!1),[{time:0}],!1).map(function(e,t,n){var r=e.time;return{label:"".concat(r),value:t/(n.length-1),time:r}}),c=jt({startPos:[a,s],endPos:[a+l,s],data:u,labelFilter:function(e,t){return t<u.length-1},labelFormatter:function(e){var t=e.time;return i?i(t):NW(t,r)}},o);return c},t.prototype.renderAxis=function(e){void 0===e&&(e=this.space.axisBBox),"chart"===this.attributes.type&&this.axis.update(this.getAxisStyle(e))},t.prototype.renderController=function(e){void 0===e&&(e=this.space.controllerBBox);var t=this.attributes.type,n=this.states,r=n.state,i=n.speed,o=n.selectionType,a=n.chartType,s=iH(this.attributes,"controller"),l=this,u=jt(jt(jt({},e),{iconSize:20,speed:i,state:r,selectionType:o,chartType:a,onChange:function(e,t){var n=t.value;switch(e){case"reset":l.internalReset();break;case"speed":l.handleSpeedChange(n);break;case"backward":l.internalBackward();break;case"playPause":"play"===n?l.internalPlay():l.internalPause();break;case"forward":l.internalForward();break;case"selectionType":l.handleSelectionTypeChange(n);break;case"chartType":l.handleChartTypeChange(n)}}}),s);"time"===t&&(u.functions=[["reset","speed"],["backward","playPause","forward"],["selectionType"]]),this.controller.update(u)},t.prototype.dispatchOnChange=function(e){var t=this.data,n=this.attributes.onChange,r=this.states,i=r.values,o=r.selectionType,a=Ut(i,2),s=a[0],l=a[1],u=l===1/0?t.at(-1).time:l;e&&function(e,t){if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e[0]===t[0]){if(e[1]===t[1])return!0;if(e[1]===1/0||t[1]===1/0)return!0}return!1}return!Array.isArray(t)&&e===t}(e,"range"===o?[s,u]:u)||null==n||n("range"===o?[s,u]:u)},t.prototype.internalReset=function(e){var t,n,r=this.states.selectionType;this.internalPause(),this.setBySliderValues("range"===r?[0,1]:[0,0]),this.renderController(),this.updateSelection(),e||(null===(n=null===(t=this.attributes)||void 0===t?void 0:t.onReset)||void 0===n||n.call(t),this.dispatchOnChange())},t.prototype.reset=function(){this.internalReset()},t.prototype.moveSelection=function(e,t){var n=this.data,r=n.length,i=this.states,o=i.values,a=i.selectionType,s=i.playMode,l=Ut(o,2),u=l[0],c=l[1],d=n.findIndex(function(e){return e.time===u}),h=n.findIndex(function(e){return e.time===c});-1===h&&(h=r);var f,p="backward"===e?-1:1;"range"===a?"acc"===s?(f=[d,h+p],-1===p&&d===h&&(f=[d,r])):f=[d+p,h+p]:f=[d,h+p];var g=function(e){var t=Ut(e.sort(function(e,t){return e-t}),2),n=t[0],i=t[1],o=function(e){return at(e,0,r)};return i>r?"value"===a?[0,0]:"acc"===s?[o(n),o(n)]:[0,o(i-n)]:n<0?"acc"===s?[0,o(i)]:[o(n+r-i),r]:[o(n),o(i)]}(f);return this.setByIndex(g),this.updateSelection(),g},t.prototype.internalBackward=function(e){var t,n,r=this.moveSelection("backward",e);return e||(null===(n=null===(t=this.attributes)||void 0===t?void 0:t.onBackward)||void 0===n||n.call(t),this.dispatchOnChange()),r},t.prototype.backward=function(){this.internalBackward()},t.prototype.internalPlay=function(e){var t,n,r=this,i=this.data,o=this.attributes.loop,a=this.states.speed,s=void 0===a?1:a;this.playInterval=window.setInterval(function(){r.internalForward()[1]!==i.length||o||(r.internalPause(),r.renderController())},1e3/s),this.states.state="play",!e&&(null===(n=null===(t=this.attributes)||void 0===t?void 0:t.onPlay)||void 0===n||n.call(t))},t.prototype.play=function(){this.internalPlay()},t.prototype.internalPause=function(e){var t,n;clearInterval(this.playInterval),this.states.state="pause",!e&&(null===(n=null===(t=this.attributes)||void 0===t?void 0:t.onPause)||void 0===n||n.call(t))},t.prototype.pause=function(){this.internalPause()},t.prototype.internalForward=function(e){var t,n,r=this.moveSelection("forward",e);return e||(null===(n=null===(t=this.attributes)||void 0===t?void 0:t.onForward)||void 0===n||n.call(t),this.dispatchOnChange()),r},t.prototype.forward=function(){this.internalForward()},t.prototype.handleSpeedChange=function(e){var t,n;this.states.speed=e,"play"===this.states.state&&(this.internalPause(!0),this.internalPlay(!0)),null===(n=null===(t=this.attributes)||void 0===t?void 0:t.onSpeedChange)||void 0===n||n.call(t,e)},t.prototype.handleSelectionTypeChange=function(e){var t,n;this.states.selectionType=e,this.renderChart(),null===(n=null===(t=this.attributes)||void 0===t?void 0:t.onSelectionTypeChange)||void 0===n||n.call(t,e)},t.prototype.handleChartTypeChange=function(e){var t,n;this.states.chartType=e,this.renderChart(),null===(n=null===(t=this.attributes)||void 0===t?void 0:t.onChartTypeChange)||void 0===n||n.call(t,e)},t.prototype.render=function(){var e=this.space,t=e.axisBBox,n=e.controllerBBox,r=e.timelineBBox;this.renderController(n),this.renderAxis(t),this.renderChart(r),"play"===this.states.state&&this.internalPlay()},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.internalPause(!0)},t.defaultOptions={style:{x:0,y:0,axisLabelFill:"#6e6e6e",axisLabelTextAlign:"left",axisLabelTextBaseline:"top",axisLabelTransform:"translate(5, -12)",axisLineLineWidth:1,axisLineStroke:"#cacdd1",axisTickLength:15,axisTickLineWidth:1,axisTickStroke:"#cacdd1",chartShowLabel:!1,chartType:"line",controllerAlign:"center",controllerHeight:40,data:[],interval:"day",loop:!1,playMode:"acc",selectionType:"range",type:"time"}},t}(dH);function RW(e){const{width:t,height:n,renderer:r}=e,i=function(e){var t;const{container:n,className:r,graphCanvas:i}=e;if(n)return"string"==typeof n?document.getElementById(n):n;const o=vF(r,!1),{width:a,height:s,containerStyle:l}=e,[u,c]=function(e){const{width:t,height:n,placement:r,graphCanvas:i}=e,[o,a]=i.getSize(),[s,l]=dh(r);return[s*(o-t),l*(a-n)]}(e);return Object.assign(o.style,Object.assign({position:"absolute",left:u+"px",top:c+"px",width:a+"px",height:s+"px"},l)),null===(t=i.getContainer())||void 0===t||t.appendChild(o),o}(e);return[i,new ku({width:t,height:n,container:i,renderer:r||new Up})]}var _W=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class DW extends yF{constructor(e,t){super(e,Object.assign({},DW.defaultOptions,t)),this.typePrefix="__data__",this.draw=!1,this.fieldMap={node:new Map,edge:new Map,combo:new Map},this.selectedItems=[],this.bindEvents=()=>{const{graph:e}=this.context;e.on(Ac.AFTER_DRAW,this.createElement)},this.changeState=(e,t)=>{const{graph:n}=this.context,{typePrefix:r}=this,i=Ct(e,[r,"id"]),o=Ct(e,[r,"style","labelText"]),[a]=i.split("__"),s=this.fieldMap[a].get(o)||[];n.setElementState(Object.fromEntries(null==s?void 0:s.map(e=>[e,t])))},this.click=e=>{if("hover"===this.options.trigger)return;const t=Ct(e,[this.typePrefix,"id"]);this.selectedItems.includes(t)?(this.selectedItems=this.selectedItems.filter(e=>e!==t),this.changeState(e,[])):(this.selectedItems.push(t),this.changeState(e,"selected"))},this.mouseleave=e=>{"click"!==this.options.trigger&&(this.selectedItems=[],this.changeState(e,[]))},this.mouseenter=e=>{if("click"===this.options.trigger)return;const t=Ct(e,[this.typePrefix,"id"]);this.selectedItems.includes(t)?this.selectedItems=this.selectedItems.filter(e=>e!==t):(this.selectedItems.push(t),this.changeState(e,"active"))},this.setFieldMap=(e,t,n)=>{if(!e)return;const r=this.fieldMap[n];if(r)if(r.has(e)){const n=r.get(e);n&&(n.push(t),r.set(e,n))}else r.set(e,[t])},this.getEvents=()=>({mouseenter:this.mouseenter,mouseleave:this.mouseleave,click:this.click}),this.getMarkerData=(e,t)=>{if(!e)return[];const{model:n,element:r}=this.context,{nodes:i,edges:o,combos:a}=n.getData(),s={},l=t=>$e(e)?e(t):e,u={node:"circle",edge:"line",combo:"rect"},c={circle:"circle",ellipse:"circle",image:"bowtie",rect:"square",star:"cross",triangle:"triangle",diamond:"diamond",cubic:"dot",line:"hyphen",polyline:"hyphen",quadratic:"hv","cubic-horizontal":"hyphen","cubic-vertical":"line"},d=(e,t)=>{e.forEach(e=>{const{id:n}=e,i=Ct(e,["data",l(e)]),o=(null==r?void 0:r.getElementType(t,e))||"circle",a=((e,t)=>null==r?void 0:r.getElementComputedStyle(e,t))(t,e),d=("edge"===t?null==a?void 0:a.stroke:null==a?void 0:a.fill)||"#1783ff";n&&i&&i.replace(/\s+/g,"")&&(this.setFieldMap(i,n,t),s[i]||(s[i]={id:`${t}__${n}`,label:i,marker:c[o]||u[t],elementType:t,lineWidth:1,stroke:d,fill:d}))})};switch(t){case"node":d(i,"node");break;case"edge":d(o,"edge");break;case"combo":d(a,"combo");break;default:return[]}return Object.values(s)},this.createElement=()=>{if(this.draw)return void this.updateElement();const e=this.options,{width:t,height:n,nodeField:r,edgeField:i,comboField:o,trigger:a,position:s,container:l,containerStyle:u,className:c}=e,d=_W(e,["width","height","nodeField","edgeField","comboField","trigger","position","container","containerStyle","className"]),h=this.getMarkerData(r,"node"),f=this.getMarkerData(i,"edge"),p=this.getMarkerData(o,"combo"),g=[...h,...p,...f],m=Object.assign({width:t,height:n,data:g,itemMarkerLineWidth:({lineWidth:e})=>e,itemMarker:({marker:e})=>e,itemMarkerStroke:({stroke:e})=>e,itemMarkerFill:({fill:e})=>e,gridCol:h.length},d,this.getEvents()),y=new QU({className:"legend",style:m});this.category=y;this.upsertCanvas().appendChild(y),this.draw=!0},this.bindEvents()}update(e){super.update(e),this.clear(),this.createElement()}clear(){var e,t;null===(e=this.canvas)||void 0===e||e.destroy(),null===(t=this.container)||void 0===t||t.remove(),this.canvas=void 0,this.container=void 0,this.draw=!1}updateElement(){this.category&&this.category.update({itemMarkerOpacity:({id:e})=>!this.selectedItems.length||this.selectedItems.includes(e)?1:.5,itemLabelOpacity:({id:e})=>!this.selectedItems.length||this.selectedItems.includes(e)?1:.5})}upsertCanvas(){if(this.canvas)return this.canvas;const e=this.context.canvas,[t,n]=e.getSize(),{width:r=t,height:i=n,position:o,container:a,containerStyle:s,className:l}=this.options,[u,c]=RW({width:r,height:i,graphCanvas:e,container:a,containerStyle:s,placement:o,className:"legend"});return this.container=u,l&&u.classList.add(l),this.canvas=c,this.canvas}destroy(){this.clear(),this.context.graph.off(Ac.AFTER_DRAW,this.createElement),super.destroy()}}DW.defaultOptions={position:"bottom",trigger:"hover",orientation:"horizontal",layout:"flex",itemSpacing:4,rowPadding:10,colPadding:10,itemMarkerSize:16,itemLabelFontSize:16,width:240,height:160};class LW extends yF{constructor(e,t){super(e,Object.assign({},LW.defaultOptions,t)),this.onDraw=e=>{var t;(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.render)||this.onRender()},this.shapes=new Map,this.landmarkMap=new Map,this.mask=null,this.isMaskDragging=!1,this.onMaskDragStart=e=>{this.mask&&(this.isMaskDragging=!0,this.mask.setPointerCapture(e.pointerId),this.mask.addEventListener("pointermove",this.onMaskDrag),this.mask.addEventListener("pointerup",this.onMaskDragEnd),this.mask.addEventListener("pointercancel",this.onMaskDragEnd))},this.onMaskDrag=e=>{if(!this.mask||!this.isMaskDragging)return;const{size:[t,n]}=this.options,{movementX:r,movementY:i}=e,{left:o,top:a,width:s,height:l}=this.mask.style,[,,u,c]=this.maskBBox;let d=parseInt(o)+r,h=parseInt(a)+i,f=parseInt(s),p=parseInt(l);d<0&&(d=0),h<0&&(h=0),d+f>t&&(d=zW(t-f,0)),h+p>n&&(h=zW(n-p,0)),f<u&&(r>0?(d=zW(d-r,0),f=IW(f+r,t)):r<0&&(f=IW(f-r,t))),p<c&&(i>0?(h=zW(h-i,0),p=IW(p+i,n)):i<0&&(p=IW(p-i,n))),Object.assign(this.mask.style,{left:d+"px",top:h+"px",width:f+"px",height:p+"px"});const g=parseInt(o)-d,m=parseInt(a)-h;if(0===g&&0===m)return;const y=this.context.canvas.getCamera().getZoom()/this.canvas.getCamera().getZoom();this.context.graph.translateBy([g*y,m*y],!1)},this.onMaskDragEnd=e=>{this.mask&&(this.isMaskDragging=!1,this.mask.releasePointerCapture(e.pointerId),this.mask.removeEventListener("pointermove",this.onMaskDrag),this.mask.removeEventListener("pointerup",this.onMaskDragEnd),this.mask.removeEventListener("pointercancel",this.onMaskDragEnd))},this.onTransform=_t(()=>{this.isMaskDragging||(this.updateMask(),this.setCamera())},32,{leading:!0}),this.setOnRender(),this.bindEvents()}update(e){this.unbindEvents(),super.update(e),"delay"in e&&this.setOnRender(),this.bindEvents()}setOnRender(){this.onRender=bt(()=>{this.renderMinimap(),this.renderMask()},this.options.delay)}bindEvents(){const{graph:e}=this.context;e.on(Ac.AFTER_DRAW,this.onDraw),e.on(Ac.AFTER_RENDER,this.onRender),e.on(Ac.AFTER_ANIMATE,this.onRender),e.on(Ac.AFTER_TRANSFORM,this.onTransform)}unbindEvents(){const{graph:e}=this.context;e.off(Ac.AFTER_DRAW,this.onDraw),e.off(Ac.AFTER_RENDER,this.onRender),e.off(Ac.AFTER_ANIMATE,this.onRender),e.off(Ac.AFTER_TRANSFORM,this.onTransform)}renderMinimap(){const e=this.getElements(),t=this.initCanvas();this.setShapes(t,e)}getElements(){const{filter:e}=this.options,{model:t,element:n}=this.context,r=t.getData(),i={nodes:r.nodes.filter(e=>null==n?void 0:n.getElement(Ad(e))),edges:r.edges.filter(e=>{const t=null==n?void 0:n.getElement(Ad(e));return t&&em(t)}),combos:r.combos.filter(e=>null==n?void 0:n.getElement(Ad(e)))};if(!e)return i;const{nodes:o,edges:a,combos:s}=i;return{nodes:o.filter(t=>e(Ad(t),"node")),edges:a.filter(t=>e(Ad(t),"edge")),combos:s.filter(t=>e(Ad(t),"combo"))}}setShapes(e,t){const{nodes:n,edges:r,combos:i}=t,{shape:o}=this.options,{element:a}=this.context;if("key"===o){const t=new Set,o=n=>{const r=Ad(n);t.add(r);const i=a.getElement(r);if(!i)return;const o=i.getShape("key"),s=this.shapes.get(r)||o.cloneNode();s.setPosition(o.getPosition()),i.style.zIndex&&(s.style.zIndex=i.style.zIndex),s.id=i.id,this.shapes.has(r)?Object.entries(o.attributes).forEach(([e,t])=>{s.style[e]!==t&&(s.style[e]=t)}):(e.appendChild(s),this.shapes.set(r,s))};return r.forEach(o),i.forEach(o),n.forEach(o),void this.shapes.forEach((n,r)=>{t.has(r)||(e.removeChild(n),this.shapes.delete(r))})}const s=(e,t)=>{const n=a.getElement(e).getPosition();return t.setPosition(n),t};e.removeChildren(),r.forEach(t=>e.appendChild(o(Ad(t),"edge"))),i.forEach(t=>{e.appendChild(s(Ad(t),o(Ad(t),"combo")))}),n.forEach(t=>{e.appendChild(s(Ad(t),o(Ad(t),"node")))})}initCanvas(){const{renderer:e,size:[t,n]}=this.options;if(this.canvas){const{width:r,height:i}=this.canvas.getConfig();t===r&&n===i||this.canvas.resize(t,n),e&&this.canvas.setRenderer(e)}else{const{className:r,position:i,container:o,containerStyle:a}=this.options,[s,l]=RW({renderer:e,width:t,height:n,placement:i,className:"minimap",container:o,containerStyle:a,graphCanvas:this.context.canvas});r&&s.classList.add(r),this.container=s,this.canvas=l}return this.setCamera(),this.canvas}createLandmark(e,t,n){const r=`${e.join(",")}-${t.join(",")}-${n}`;if(this.landmarkMap.has(r))return this.landmarkMap.get(r);const i=this.canvas.getCamera().createLandmark(r,{position:e,focalPoint:t,zoom:n});return this.landmarkMap.set(r,i),i}setCamera(){var e;const{canvas:t}=this.context,n=null===(e=this.canvas)||void 0===e?void 0:e.getCamera();if(!n)return;const{size:[r,i],padding:o}=this.options,[a,s,l,u]=id(o),{min:c,max:d,center:h}=t.getBounds("elements"),f=(r-u-s)/(d[0]-c[0]),p=(i-a-l)/(d[1]-c[1]),g=Math.min(f,p),m=this.createLandmark(h,h,g);n.gotoLandmark(m,0)}get maskBBox(){const{canvas:e}=this.context,t=e.getSize(),n=e.getCanvasByViewport([0,0]),r=e.getCanvasByViewport(t),i=this.canvas.canvas2Viewport(mh(n)),o=this.canvas.canvas2Viewport(mh(r)),a=o.x-i.x,s=o.y-i.y;return[i.x,i.y,a,s]}calculateMaskBBox(){const{size:[e,t]}=this.options;let[n,r,i,o]=this.maskBBox;return n<0&&(i=IW(i+n,e),n=0),r<0&&(o=IW(o+r,t),r=0),n+i>e&&(i=zW(e-n,0)),r+o>t&&(o=zW(t-r,0)),[IW(n,e),IW(r,t),zW(i,0),zW(o,0)]}renderMask(){const{maskStyle:e}=this.options;this.mask||(this.mask=document.createElement("div"),this.mask.addEventListener("pointerdown",this.onMaskDragStart),this.mask.draggable=!0,this.mask.addEventListener("dragstart",e=>e.preventDefault&&e.preventDefault())),this.container.appendChild(this.mask),Object.assign(this.mask.style,Object.assign(Object.assign({},e),{cursor:"move",position:"absolute",pointerEvents:"auto"})),this.updateMask()}updateMask(){if(!this.mask)return;const[e,t,n,r]=this.calculateMaskBBox();Object.assign(this.mask.style,{top:t+"px",left:e+"px",width:n+"px",height:r+"px"})}destroy(){var e,t,n;this.unbindEvents(),null===(e=this.canvas)||void 0===e||e.destroy(),null===(t=this.mask)||void 0===t||t.remove(),null===(n=this.container)||void 0===n||n.remove(),super.destroy()}}LW.defaultOptions={size:[240,160],shape:"key",padding:10,position:"right-bottom",maskStyle:{border:"1px solid #ddd",background:"rgba(0, 0, 0, 0.1)"},containerStyle:{border:"1px solid #ddd",background:"#fff"},delay:128};const IW=(e,t)=>Math.min(e,t),zW=(e,t)=>Math.max(e,t);var FW=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};const jW={x1:0,y1:0,x2:0,y2:0,visibility:"hidden"};class BW extends yF{constructor(e,t){super(e,Object.assign({},BW.defaultOptions,t)),this.initSnapline=()=>{const e=this.context.canvas.getLayer("transient");this.horizontalLine||(this.horizontalLine=e.appendChild(new eu({style:Object.assign(Object.assign({},jW),this.options.horizontalLineStyle)}))),this.verticalLine||(this.verticalLine=e.appendChild(new eu({style:Object.assign(Object.assign({},jW),this.options.verticalLineStyle)})))},this.isHorizontalSticking=!1,this.isVerticalSticking=!1,this.enableStick=!0,this.autoSnapToLine=(e,t,n)=>FW(this,void 0,void 0,function*(){const{verticalX:r,horizontalY:i}=n,{tolerance:o}=this.options,{min:[a,s],max:[l,u],center:[c,d]}=t;let h=0,f=0;null!==r&&(HW(l,r)<o&&(h=r-l),HW(a,r)<o&&(h=r-a),HW(c,r)<o&&(h=r-c),0!==h&&(this.isVerticalSticking=!0)),null!==i&&(HW(u,i)<o&&(f=i-u),HW(s,i)<o&&(f=i-s),HW(d,i)<o&&(f=i-d),0!==f&&(this.isHorizontalSticking=!0)),0===h&&0===f||(yield this.context.graph.translateElementBy({[e]:[h,f]},!1))}),this.enableSnap=e=>{const{target:t}=e,n=.5;if(this.isHorizontalSticking||this.isVerticalSticking){const[r,i]=this.getDelta(e);if(this.isHorizontalSticking&&this.isVerticalSticking&&Math.abs(r)<=n&&Math.abs(i)<=n)return this.context.graph.translateElementBy({[t.id]:[-r,-i]},!1),!1;if(this.isHorizontalSticking&&Math.abs(i)<=n)return this.context.graph.translateElementBy({[t.id]:[0,-i]},!1),!1;if(this.isVerticalSticking&&Math.abs(r)<=n)return this.context.graph.translateElementBy({[t.id]:[-r,0]},!1),!1;this.isHorizontalSticking=!1,this.isVerticalSticking=!1,this.enableStick=!1,setTimeout(()=>{this.enableStick=!0},200)}return this.enableStick},this.calcSnaplineMetadata=(e,t)=>{const{tolerance:n,shape:r}=this.options,{min:[i,o],max:[a,s],center:[l,u]}=t;let c=null,d=null,h=null,f=null,p=null,g=null;return this.getNodes().some(t=>{if(Ot(e.id,t.id))return!1;const m=VW(t,r).getRenderBounds(),{min:[y,v],max:[b,w],center:[x,E]}=m;return null===c&&(HW(x,l)<n?c=x:HW(y,i)<n||HW(y,a)<n?c=y:(HW(b,a)<n||HW(b,i)<n)&&(c=b),null!==c&&(d=Math.min(v,o),h=Math.max(w,s))),null===f&&(HW(E,u)<n?f=E:HW(v,o)<n||HW(v,s)<n?f=v:(HW(w,s)<n||HW(w,o)<n)&&(f=w),null!==f&&(p=Math.min(y,i),g=Math.max(b,a))),null!==c&&null!==f}),{verticalX:c,verticalMinY:d,verticalMaxY:h,horizontalY:f,horizontalMinX:p,horizontalMaxX:g}},this.onDragStart=()=>{this.initSnapline()},this.onDrag=e=>FW(this,void 0,void 0,function*(){const{target:t}=e;if(this.options.autoSnap){if(!this.enableSnap(e))return}const n=VW(t,this.options.shape).getRenderBounds(),r=this.calcSnaplineMetadata(t,n);this.hideSnapline(),null===r.verticalX&&null===r.horizontalY||this.updateSnapline(r),this.options.autoSnap&&(yield this.autoSnapToLine(t.id,n,r))}),this.onDragEnd=()=>{this.hideSnapline()},this.bindEvents()}getNodes(){var e;const{filter:t}=this.options,n=((null===(e=this.context.element)||void 0===e?void 0:e.getNodes())||[]).filter(e=>{var t;return em(e)&&(null===(t=this.context.viewport)||void 0===t?void 0:t.isInViewport(e.getRenderBounds()))});return t?n.filter(e=>t(e)):n}hideSnapline(){this.horizontalLine.style.visibility="hidden",this.verticalLine.style.visibility="hidden"}getLineWidth(e){const{lineWidth:t}=this.options[`${e}LineStyle`];return+(t||jW.lineWidth||1)/this.context.graph.getZoom()}updateSnapline(e){const{verticalX:t,verticalMinY:n,verticalMaxY:r,horizontalY:i,horizontalMinX:o,horizontalMaxX:a}=e,[s,l]=this.context.canvas.getSize(),{offset:u}=this.options;null!==i?Object.assign(this.horizontalLine.style,{x1:u===1/0?0:o-u,y1:i,x2:u===1/0?s:a+u,y2:i,visibility:"visible",lineWidth:this.getLineWidth("horizontal")}):this.horizontalLine.style.visibility="hidden",null!==t?Object.assign(this.verticalLine.style,{x1:t,y1:u===1/0?0:n-u,x2:t,y2:u===1/0?l:r+u,visibility:"visible",lineWidth:this.getLineWidth("vertical")}):this.verticalLine.style.visibility="hidden"}getDelta(e){const t=this.context.graph.getZoom();return Zd([e.dx,e.dy],t)}bindEvents(){return FW(this,void 0,void 0,function*(){const{graph:e}=this.context;e.on(_c.DRAG_START,this.onDragStart),e.on(_c.DRAG,this.onDrag),e.on(_c.DRAG_END,this.onDragEnd)})}unbindEvents(){const{graph:e}=this.context;e.off(_c.DRAG_START,this.onDragStart),e.off(_c.DRAG,this.onDrag),e.off(_c.DRAG_END,this.onDragEnd)}destroyElements(){var e,t;null===(e=this.horizontalLine)||void 0===e||e.destroy(),null===(t=this.verticalLine)||void 0===t||t.destroy()}destroy(){this.destroyElements(),this.unbindEvents(),super.destroy()}}BW.defaultOptions={tolerance:5,offset:20,autoSnap:!0,shape:"key",verticalLineStyle:{stroke:"#1783FF"},horizontalLineStyle:{stroke:"#1783FF"},filter:()=>!0};const HW=(e,t)=>Math.abs(e-t),VW=(e,t)=>"function"==typeof t?t(e):e.getShape(t);var UW=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})},WW=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const GW=["timestamp","time","date","datetime"];class $W extends yF{get padding(){return id(this.options.padding)}constructor(e,t){super(e,Object.assign({},$W.defaultOptions,t)),this.backup(),this.upsertTimebar()}play(){var e;null===(e=this.timebar)||void 0===e||e.play()}pause(){var e;null===(e=this.timebar)||void 0===e||e.pause()}forward(){var e;null===(e=this.timebar)||void 0===e||e.forward()}backward(){var e;null===(e=this.timebar)||void 0===e||e.backward()}reset(){var e;null===(e=this.timebar)||void 0===e||e.reset()}update(e){super.update(e),this.backup(),this.upsertTimebar()}backup(){this.originalData=qW(this.context.graph.getData())}upsertTimebar(){const{canvas:e}=this.context,t=this.options,{onChange:n,timebarType:r,data:i,x:o,y:a,width:s,height:l,mode:u}=t,c=WW(t,["onChange","timebarType","data","x","y","width","height","mode"]),d=e.getSize(),[h]=this.padding;this.upsertCanvas().ready.then(()=>{var e;const t=Object.assign(Object.assign({x:d[0]/2-s/2,y:h,onChange:e=>{const t=(Ye(e)?e:[e,e]).map(e=>function(e){return e instanceof Date}(e)?e.getTime():e);"modify"===this.options.mode?this.filterElements(t):this.hiddenElements(t),null==n||n(t)}},c),{data:i.map(e=>st(e)?{time:e,value:0}:e),width:s,height:l,type:r});this.timebar?this.timebar.update(t):(this.timebar=new AW({style:t}),null===(e=this.canvas)||void 0===e||e.appendChild(this.timebar))})}upsertCanvas(){if(this.canvas)return this.canvas;const{className:e,height:t,position:n}=this.options,r=this.context.canvas,[i]=r.getSize(),[o,,a]=this.padding,[s,l]=RW({width:i,height:t+o+a,graphCanvas:r,className:"timebar",placement:n});return this.container=s,e&&s.classList.add(e),this.canvas=l,this.canvas}filterElements(e){return UW(this,void 0,void 0,function*(){var t;if(!this.originalData)return;const{elementTypes:n,getTime:r}=this.options,{graph:i,element:o}=this.context,a=qW(this.originalData);n.forEach(t=>{const n=`${t}s`;a[n]=(this.originalData[n]||[]).filter(t=>{const n=r(t);return!!YW(n,e)})});const s=[...a.nodes,...a.combos].map(e=>Ad(e));a.edges=a.edges.filter(e=>{const t=e.source,n=e.target;return s.includes(t)&&s.includes(n)}),i.setData(a),yield null===(t=o.draw({animation:!1,silence:!0}))||void 0===t?void 0:t.finished})}hiddenElements(e){const{graph:t}=this.context,{elementTypes:n,getTime:r}=this.options,i=[],o=[];n.forEach(t=>{var n;const a=`${t}s`;((null===(n=this.originalData)||void 0===n?void 0:n[a])||[]).forEach(t=>{const n=Ad(t),a=r(t);YW(a,e)?o.push(n):i.push(n)})}),t.hideElement(i,!1),t.showElement(o,!1)}destroy(){var e,t,n;const{graph:r}=this.context;this.originalData&&r.setData(Object.assign({},this.originalData)),null===(e=this.timebar)||void 0===e||e.destroy(),null===(t=this.canvas)||void 0===t||t.destroy(),null===(n=this.container)||void 0===n||n.remove(),this.originalData=void 0,this.container=void 0,this.timebar=void 0,this.canvas=void 0,super.destroy()}}$W.defaultOptions={position:"bottom",enable:!0,timebarType:"time",className:"g6-timebar",width:450,height:60,zIndex:3,elementTypes:["node"],padding:10,mode:"modify",getTime:e=>XW(e,GW,void 0),loop:!1};const qW=e=>{const{nodes:t=[],edges:n=[],combos:r=[]}=e;return{nodes:[...t],edges:[...n],combos:[...r]}},YW=(e,t)=>{if(st(t))return e===t;const[n,r]=t;return e>=n&&e<=r},XW=(e,t,n)=>{var r;for(let n=0;n<t.length;n++){const i=t[n],o=null===(r=e.data)||void 0===r?void 0:r[i];if(o)return o}return n};var KW=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class QW extends yF{constructor(e,t){super(e,Object.assign({},QW.defaultOptions,t)),this.$element=vF("toolbar",!1),this.onToolbarItemClick=e=>{const{onClick:t}=this.options;if(e.target instanceof Element&&e.target.className.includes("g6-toolbar-item")){const n=e.target.getAttribute("value");null==t||t(n,e.target)}};const n=this.context.canvas.getContainer();this.$element.style.display="flex",n.appendChild(this.$element),bF("g6-toolbar-css","style",{},"\n  .g6-toolbar {\n    position: absolute;\n    z-index: 100;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    border-radius: 4px;\n    box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.1);\n    opacity: 0.65;\n  }\n  .g6-toolbar .g6-toolbar-item {\n    display: inline-block;\n    width: 16px;\n    height: 16px;\n    padding: 4px;\n    cursor: pointer;\n    box-sizing: content-box;\n  }\n\n  .g6-toolbar .g6-toolbar-item:hover {\n    background-color: #f0f0f0;\n  }\n\n  .g6-toolbar .g6-toolbar-item svg {\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n  }\n",document.head),bF("g6-toolbar-svgicon","div",{display:"none"},'\n  <svg>\n    <symbol id="zoom-in" viewBox="64 64 896 896">\n      <path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"></path>\n    </symbol>\n    <symbol id="zoom-out" viewBox="64 64 896 896">\n      <path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"></path>\n    </symbol>\n    <symbol id="edit" viewBox="64 64 896 896">\n      <path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"></path>\n    </symbol>\n    <symbol id="delete" viewBox="64 64 896 896">\n      <path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"></path>\n    </symbol>\n    <symbol id="redo" viewBox="64 64 896 896">\n      <path d="M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"></path>\n    </symbol>\n    <symbol id="undo" viewBox="64 64 896 896">\n      <path d="M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"></path>\n    </symbol>\n    <symbol id="export" viewBox="64 64 896 896">\n      <path d="M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"></path>\n    </symbol>\n    <symbol id="auto-fit" viewBox="64 64 896 896">\n      <path d="M952 474H829.8C812.5 327.6 696.4 211.5 550 194.2V72c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v122.2C327.6 211.5 211.5 327.6 194.2 474H72c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h122.2C211.5 696.4 327.6 812.5 474 829.8V952c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V829.8C696.4 812.5 812.5 696.4 829.8 550H952c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM512 756c-134.8 0-244-109.2-244-244s109.2-244 244-244 244 109.2 244 244-109.2 244-244 244z"></path>\n      <path d="M512 392c-32.1 0-62.1 12.4-84.8 35.2-22.7 22.7-35.2 52.7-35.2 84.8s12.5 62.1 35.2 84.8C449.9 619.4 480 632 512 632s62.1-12.5 84.8-35.2C619.4 574.1 632 544 632 512s-12.5-62.1-35.2-84.8A118.57 118.57 0 00512 392z"></path>\n    </symbol>\n    <symbol id="reset" viewBox="64 64 896 896">\n      <path d="M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"></path>\n    </symbol>\n    <symbol id="exit-fullscreen" viewBox="0 0 1024 1024">\n      <path d="M418.13333333 361.43786666c0 0.2048-0.13653333 0.4096-0.13653334 0.68266667C417.99679999 362.32533333 418.13333333 362.53013333 418.13333333 362.73493333 418.13333333 371.54133333 414.44693333 379.392 408.78079999 385.39946666 408.43946666 385.7408 408.30293333 386.21866666 408.02986666 386.49173333c-1.09226667 1.09226667-2.59413333 1.77493333-3.82293333 2.73066667C398.40426666 393.65973333 391.64586666 396.8 383.93173333 396.8 383.72693333 396.8 383.59039999 396.73173333 383.38559999 396.73173333S382.97599999 396.8 382.77119999 396.8L112.29866666 396.8C92.50133333 396.8 76.79999999 381.50826666 76.79999999 362.66666666 76.66346666 343.89333333 92.63786666 328.53333333 112.16213333 328.53333333l189.44 0L87.44959999 114.51733333C73.59146666 100.59093333 73.25013333 78.5408 86.63039999 65.29706666c13.17546667-13.44853333 35.36213333-12.97066667 49.152 0.88746667l214.08426667 214.08426667L349.86666666 90.89706666C349.79839999 71.23626666 365.22666666 55.46666666 383.99999999 55.46666666 402.77333333 55.33013333 418.13333333 71.30453333 418.13333333 90.8288L418.13333333 361.43786666zM928.90453333 328.53333333l-189.44 0 214.15253333-214.08426667c13.85813333-13.9264 14.19946667-35.90826667 0.88746667-49.22026666-13.17546667-13.44853333-35.36213333-12.97066667-49.152 0.88746666l-214.08426667 214.08426667L691.26826666 90.89706666C691.26826666 71.23626666 675.83999999 55.46666666 657.06666666 55.46666666 638.29333333 55.33013333 622.93333333 71.30453333 622.93333333 90.8288l0 270.60906666c0 0.2048 0.13653333 0.4096 0.13653333 0.68266667C623.06986666 362.32533333 622.93333333 362.53013333 622.93333333 362.73493333 622.93333333 371.54133333 626.61973333 379.392 632.28586666 385.39946666c0.34133333 0.34133333 0.47786667 0.8192 0.8192 1.09226667 1.09226667 1.09226667 2.59413333 1.77493333 3.8912 2.73066667C642.66239999 393.65973333 649.42079999 396.8 657.13493333 396.8c0.2048 0 0.34133333-0.06826667 0.54613333-0.06826667S658.09066666 396.8 658.29546666 396.8l270.5408 0C948.56533333 396.8 964.26666666 381.50826666 964.26666666 362.66666666 964.40319999 343.89333333 948.42879999 328.53333333 928.90453333 328.53333333zM418.13333333 635.73333333c0-8.8064-3.6864-16.5888-9.35253334-22.66453333C408.43946666 612.72746666 408.30293333 612.2496 408.02986666 611.90826666 406.86933333 610.88426666 405.43573333 610.2016 404.20693333 609.24586666 398.47253333 604.80853333 391.64586666 601.6 383.93173333 601.6 383.72693333 601.6 383.59039999 601.73653333 383.38559999 601.73653333S382.97599999 601.6 382.77119999 601.6L112.29866666 601.6C92.50133333 601.6 76.79999999 616.96 76.79999999 635.73333333 76.66346666 654.50666666 92.63786666 669.86666666 112.16213333 669.86666666l189.44 0-214.15253334 214.15253334c-13.85813333 13.85813333-14.19946667 35.84-0.88746666 49.22026666 13.17546667 13.44853333 35.36213333 12.9024 49.152-0.95573333l214.08426666-214.08426667 0 189.37173334c0 19.59253333 15.42826667 35.49866667 34.2016 35.36213333C402.77333333 943.2064 418.13333333 927.232 418.13333333 907.5712L418.13333333 637.09866666c0-0.27306667-0.13653333-0.47786667-0.13653334-0.68266666C417.99679999 636.14293333 418.13333333 635.93813333 418.13333333 635.73333333zM739.46453333 669.86666666l189.44 0c19.456 0 35.49866667-15.36 35.36213333-34.13333333C964.26666666 616.96 948.56533333 601.6 928.76799999 601.6L658.29546666 601.6C658.09066666 601.6 657.88586666 601.73653333 657.68106666 601.73653333S657.33973333 601.6 657.13493333 601.6C649.42079999 601.6 642.59413333 604.80853333 636.85973333 609.24586666 635.63093333 610.2016 634.19733333 610.88426666 633.03679999 611.90826666 632.76373333 612.2496 632.62719999 612.72746666 632.28586666 613.0688 626.61973333 619.14453333 622.93333333 626.92693333 622.93333333 635.73333333c0 0.2048 0.13653333 0.4096 0.13653333 0.68266667C623.06986666 636.6208 622.93333333 636.8256 622.93333333 637.09866666l0 270.5408C622.93333333 927.232 638.29333333 943.2064 657.06666666 942.93333333c18.77333333 0.13653333 34.2016-15.70133333 34.2016-35.36213333l0-189.37173334 214.08426667 214.08426667c13.78986667 13.85813333 35.90826667 14.40426667 49.152 0.95573333 13.312-13.312 12.97066667-35.36213333-0.88746667-49.22026666L739.46453333 669.86666666z"  ></path></symbol>\n    <symbol id="request-fullscreen" viewBox="0 0 1024 1024">\n      <path d="M69.818182 87.598545v273.128728a34.909091 34.909091 0 0 0 69.818182 0V163.653818l221.928727 222.021818a33.512727 33.512727 0 0 0 47.383273-47.383272L186.926545 116.363636h197.073455a34.909091 34.909091 0 0 0 0-69.818181H110.871273C85.364364 46.545455 69.818182 59.671273 69.818182 87.598545zM938.542545 46.545455H665.413818a34.909091 34.909091 0 0 0 0 69.818181h197.073455L640.465455 338.292364a33.512727 33.512727 0 0 0 47.383272 47.383272l221.928728-222.021818v197.073455a34.909091 34.909091 0 0 0 69.818181 0V87.598545c0-27.927273-15.453091-41.053091-40.96-41.05309z m-827.671272 907.636363h273.128727a34.909091 34.909091 0 0 0 0-69.818182H186.926545l222.021819-221.928727a33.512727 33.512727 0 0 0-47.383273-47.383273L139.636364 837.073455V640a34.909091 34.909091 0 0 0-69.818182 0v273.128727c0 27.927273 15.546182 41.053091 41.053091 41.053091z m868.724363-41.053091V640a34.909091 34.909091 0 0 0-69.818181 0v197.073455L687.941818 615.051636a33.512727 33.512727 0 0 0-47.383273 47.383273L862.487273 884.363636H665.413818a34.909091 34.909091 0 0 0 0 69.818182h273.128727c25.6 0 41.053091-13.125818 41.053091-41.053091z"  ></path></symbol>\n  </svg>\n'),this.$element.addEventListener("click",this.onToolbarItemClick),this.update(t)}update(e){const t=Object.create(null,{update:{get:()=>super.update}});return KW(this,void 0,void 0,function*(){t.update.call(this,e);const{className:n,position:r,style:i}=this.options;this.$element.className=`g6-toolbar ${n||""}`,Object.assign(this.$element.style,i,function(e){const t={top:"unset",right:"unset",bottom:"unset",left:"unset"};return e.split("-").forEach(e=>{t[e]="8px"}),t.flexDirection=e.startsWith("top")||e.startsWith("bottom")?"row":"column",t}(r)),this.$element.innerHTML=yield this.getDOMContent()})}destroy(){this.$element.removeEventListener("click",this.onToolbarItemClick),this.$element.remove(),super.destroy()}getDOMContent(){return KW(this,void 0,void 0,function*(){return(yield this.options.getItems()).map(e=>{var t;return`\n          <div class="g6-toolbar-item" value="${e.value}" title="${null!==(t=e.title)&&void 0!==t?t:""}">\n            <svg aria-hidden="true" focusable="false">\n              <use xlink:href="#${e.id}"></use>\n            </svg>\n          </div>`}).join("")})}}QW.defaultOptions={position:"top-left"};var ZW=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class JW extends yF{constructor(e,t){super(e,Object.assign({},JW.defaultOptions,t)),this.currentTarget=null,this.tooltipElement=null,this.container=null,this.isEnable=(e,t)=>{const{enable:n}=this.options;return"function"==typeof n?n(e,t):n},this.onClick=e=>{const{target:{id:t}}=e;this.currentTarget===t?this.hide(e):this.show(e)},this.onPointerMove=e=>{const{target:t}=e;this.currentTarget&&t.id!==this.currentTarget&&this.show(e)},this.onPointerLeave=e=>{this.hide(e)},this.onCanvasMove=e=>{this.hide(e)},this.onPointerOver=e=>{this.show(e)},this.showById=e=>ZW(this,void 0,void 0,function*(){const t={target:{id:e}};yield this.show(t)}),this.getElementData=(e,t)=>{const{model:n}=this.context;switch(t){case"node":return n.getNodeData([e]);case"edge":return n.getEdgeData([e]);case"combo":return n.getComboData([e]);default:return[]}},this.show=e=>ZW(this,void 0,void 0,function*(){var t,n;const{client:r,target:{id:i}}=e;if(nm(e.target))return;const o=this.context.graph.getElementType(i),{getContent:a,title:s}=this.options,l=this.getElementData(i,o);if(!this.tooltipElement||!this.isEnable(e,l))return;let u,c,d={};if(a){if(d.content=yield a(e,l),!d.content)return}else{const e=this.context.graph.getElementRenderStyle(i),t="node"===o?e.fill:e.stroke;d={title:s||o,data:l.map(e=>({name:"ID",value:e.id||`${e.source} -> ${e.target}`,color:t}))}}if(this.currentTarget=i,r)u=r.x,c=r.y;else{const e=Ct(l,"0.style",{x:0,y:0});u=e.x,c=e.y}null===(n=(t=this.options).onOpenChange)||void 0===n||n.call(t,!0),this.tooltipElement.update(Object.assign(Object.assign(Object.assign({},this.tooltipStyleProps),{x:u,y:c,style:{".tooltip":{visibility:"visible"}}}),d))}),this.hide=e=>{var t,n,r,i,o;if(!e)return null===(n=(t=this.options).onOpenChange)||void 0===n||n.call(t,!1),null===(r=this.tooltipElement)||void 0===r||r.hide(),void(this.currentTarget=null);if(!this.tooltipElement)return;if(!this.currentTarget)return;const{client:{x:a,y:s}}=e;null===(o=(i=this.options).onOpenChange)||void 0===o||o.call(i,!1),this.tooltipElement.hide(a,s),this.currentTarget=null},this.initTooltip=()=>{var e;const t=new iW({className:"tooltip",style:this.tooltipStyleProps});return null===(e=this.container)||void 0===e||e.appendChild(t.HTMLTooltipElement),t},this.render(),this.bindEvents()}getEvents(){return"click"===this.options.trigger?{"node:click":this.onClick,"edge:click":this.onClick,"combo:click":this.onClick,"canvas:click":this.onPointerLeave,contextmenu:this.onPointerLeave,drag:this.onPointerLeave}:{"node:pointerover":this.onPointerOver,"node:pointermove":this.onPointerMove,"canvas:pointermove":this.onCanvasMove,"edge:pointerover":this.onPointerOver,"edge:pointermove":this.onPointerMove,"combo:pointerover":this.onPointerOver,"combo:pointermove":this.onPointerMove,contextmenu:this.onPointerLeave,"node:drag":this.onPointerLeave}}update(e){var t;this.unbindEvents(),super.update(e),this.tooltipElement&&(null===(t=this.container)||void 0===t||t.removeChild(this.tooltipElement.HTMLTooltipElement)),this.tooltipElement=this.initTooltip(),this.bindEvents()}render(){const{canvas:e}=this.context,t=e.getContainer();t&&(this.container=t,this.tooltipElement=this.initTooltip())}unbindEvents(){const{graph:e}=this.context,t=this.getEvents();Object.keys(t).forEach(n=>{e.off(n,t[n])})}bindEvents(){const{graph:e}=this.context,t=this.getEvents();Object.keys(t).forEach(n=>{e.on(n,t[n])})}get tooltipStyleProps(){const{canvas:e}=this.context,{center:t}=e.getBounds(),n=e.getContainer(),{top:r,left:i}=n.getBoundingClientRect(),{style:o,position:a,enterable:s,container:l={x:-i,y:-r},title:u,offset:c}=this.options,[d,h]=t,[f,p]=e.getSize();return{x:d,y:h,container:l,title:u,bounding:{x:0,y:0,width:f,height:p},position:a,enterable:s,offset:c,style:o}}destroy(){var e;this.unbindEvents(),this.tooltipElement&&(null===(e=this.container)||void 0===e||e.removeChild(this.tooltipElement.HTMLTooltipElement)),super.destroy()}}JW.defaultOptions={trigger:"hover",position:"top-right",enterable:!1,enable:!0,offset:[10,10],style:{".tooltip":{visibility:"hidden"}}};var eG=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};let tG;function nG(e,t){tG||(tG=document.createElement("canvas")),tG.width=e,tG.height=t;return tG.getContext("2d").clearRect(0,0,e,t),tG}var rG=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})},iG=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class oG extends yF{constructor(e,t){super(e,Object.assign({},oG.defaultOptions,t)),this.$element=vF("watermark");this.context.canvas.getContainer().appendChild(this.$element),this.update(t)}update(e){const t=Object.create(null,{update:{get:()=>super.update}});return rG(this,void 0,void 0,function*(){t.update.call(this,e);const n=this.options,{width:r,height:i,text:o,imageURL:a}=n,s=iG(n,["width","height","text","imageURL"]);Object.keys(s).forEach(t=>{t.startsWith("background")&&(this.$element.style[t]=e[t])});const l=a?yield function(e,t,n,r){return eG(this,void 0,void 0,function*(){const i=nG(e,t),o=i.getContext("2d"),{rotate:a,opacity:s}=r;a&&o.rotate(a),s&&(o.globalAlpha=s);const l=new Image;return l.crossOrigin="anonymous",l.src=n,new Promise(n=>{l.onload=function(){const r=e>l.width?(e-l.width)/2:0,a=t>l.height?(t-l.height)/2:0;o.drawImage(l,0,0,l.width,l.height,r,a,e-2*r,t-2*a),n(i.toDataURL())}})})}(r,i,a,s):yield function(e,t,n,r){return eG(this,void 0,void 0,function*(){const i=nG(e,t),o=i.getContext("2d"),{rotate:a,opacity:s,textFill:l,textFontSize:u,textFontFamily:c,textFontVariant:d,textFontWeight:h,textAlign:f,textBaseline:p}=r;return o.textAlign=f,o.textBaseline=p,o.translate(e/2,t/2),o.font=`${u}px ${c} ${d} ${h}`,a&&o.rotate(a),s&&(o.globalAlpha=s),l&&(o.fillStyle=l,o.fillText(`${n}`,0,0)),i.toDataURL()})}(r,i,o,s);this.$element.style.backgroundImage=`url(${l})`})}destroy(){super.destroy(),this.$element.remove()}}oG.defaultOptions={width:200,height:100,opacity:.2,rotate:Math.PI/12,text:"",textFill:"#000",textFontSize:16,textAlign:"center",textBaseline:"middle",backgroundRepeat:"repeat"};const aG=["#7E92B5","#F4664A","#FFBE3A"],sG={type:"group",color:["#1783FF","#00C9C9","#F08F56","#D580FF","#7863FF","#DB9D0D","#60C42D","#FF80CA","#2491B3","#17C76F"]},lG={type:"group",color:["#99ADD1","#1783FF","#00C9C9","#F08F56","#D580FF","#7863FF","#DB9D0D","#60C42D","#FF80CA","#2491B3","#17C76F"]};function uG(e){const{bgColor:t,textColor:n,nodeColor:r,nodeColorDisabled:i,nodeStroke:o,nodeHaloStrokeOpacityActive:a=.15,nodeHaloStrokeOpacitySelected:s=.25,nodeOpacityDisabled:l=.06,nodeIconOpacityInactive:u=.85,nodeOpacityInactive:c=.25,nodeBadgePalette:d=aG,nodePaletteOptions:h=sG,edgeColor:f,edgeColorDisabled:p,edgePaletteOptions:g=lG,comboColor:m,comboColorDisabled:y,comboStroke:v,comboStrokeDisabled:b,edgeColorInactive:w}=e;return{background:t,node:{palette:h,style:{donutOpacity:1,badgeBackgroundOpacity:1,badgeFill:"#fff",badgeFontSize:8,badgePadding:[0,4],badgePalette:d,fill:r,fillOpacity:1,halo:!1,iconFill:"#fff",iconOpacity:1,labelBackground:!1,labelBackgroundFill:t,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelFill:n,labelFillOpacity:.85,labelLineHeight:16,labelPadding:[0,2],labelFontSize:12,labelFontWeight:400,labelOpacity:1,labelOffsetY:2,lineWidth:0,portFill:r,portLineWidth:1,portStroke:o,portStrokeOpacity:.65,size:32,stroke:o,strokeOpacity:1,zIndex:2},state:{selected:{halo:!0,haloLineWidth:24,haloStrokeOpacity:s,labelFontSize:12,labelFontWeight:"bold",lineWidth:4,stroke:o},active:{halo:!0,haloLineWidth:12,haloStrokeOpacity:a},highlight:{labelFontWeight:"bold",lineWidth:4,stroke:o,strokeOpacity:.85},inactive:{badgeBackgroundOpacity:c,donutOpacity:c,fillOpacity:c,iconOpacity:u,labelFill:n,labelFillOpacity:c,strokeOpacity:c},disabled:{badgeBackgroundOpacity:.25,donutOpacity:l,fill:i,fillOpacity:l,iconFill:i,iconOpacity:.25,labelFill:n,labelFillOpacity:.25,strokeOpacity:l}},animation:{enter:"fade",exit:"fade",show:"fade",hide:"fade",expand:"node-expand",collapse:"node-collapse",update:[{fields:["x","y","fill","stroke"]}],translate:[{fields:["x","y"]}]}},edge:{palette:g,style:{badgeBackgroundFill:f,badgeFill:"#fff",badgeFontSize:8,badgeOffsetX:10,fillOpacity:1,halo:!1,haloLineWidth:12,haloStrokeOpacity:1,increasedLineWidthForHitTesting:2,labelBackground:!1,labelBackgroundFill:t,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelBackgroundPadding:[4,4,4,4],labelFill:n,labelFontSize:12,labelFontWeight:400,labelOpacity:1,labelPlacement:"center",labelTextBaseline:"middle",lineWidth:1,stroke:f,strokeOpacity:1,zIndex:1},state:{selected:{halo:!0,haloStrokeOpacity:.25,labelFontSize:14,labelFontWeight:"bold",lineWidth:3},active:{halo:!0,haloStrokeOpacity:.15},highlight:{labelFontWeight:"bold",lineWidth:3},inactive:{stroke:w,fillOpacity:.08,labelOpacity:.25,strokeOpacity:.08,badgeBackgroundOpacity:.25},disabled:{stroke:p,fillOpacity:.45,strokeOpacity:.45,labelOpacity:.25,badgeBackgroundOpacity:.45}},animation:{enter:"fade",exit:"fade",expand:"path-in",collapse:"path-out",show:"fade",hide:"fade",update:[{fields:["sourceNode","targetNode"]},{fields:["stroke"],shape:"key"}],translate:[{fields:["sourceNode","targetNode"]}]}},combo:{style:{collapsedMarkerFill:t,collapsedMarkerFontSize:12,collapsedMarkerFillOpacity:1,collapsedSize:32,collapsedFillOpacity:1,fill:m,halo:!1,haloLineWidth:12,haloStroke:v,haloStrokeOpacity:.25,labelBackground:!1,labelBackgroundFill:t,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelBackgroundPadding:[2,4,2,4],labelFill:n,labelFontSize:12,labelFontWeight:400,labelOpacity:1,lineDash:0,lineWidth:1,fillOpacity:.04,strokeOpacity:1,padding:10,stroke:v},state:{selected:{halo:!0,labelFontSize:14,labelFontWeight:700,lineWidth:4},active:{halo:!0},highlight:{labelFontWeight:700,lineWidth:4},inactive:{fillOpacity:.65,labelOpacity:.25,strokeOpacity:.65},disabled:{fill:y,fillOpacity:.25,labelOpacity:.25,stroke:b,strokeOpacity:.25}},animation:{enter:"fade",exit:"fade",show:"fade",hide:"fade",expand:"combo-expand",collapse:"combo-collapse",update:[{fields:["x","y"]},{fields:["fill","stroke","lineWidth"],shape:"key"}],translate:[{fields:["x","y"]}]}}}}const cG=uG({bgColor:"#000000",comboColor:"#fdfdfd",comboColorDisabled:"#d0e4ff",comboStroke:"#99add1",comboStrokeDisabled:"#969696",edgeColor:"#637088",edgeColorDisabled:"#637088",edgeColorInactive:"#D0E4FF",edgePaletteOptions:{type:"group",color:["#637088","#0F55A6","#008383","#9C5D38","#8B53A6","#4E40A6","#8F6608","#3E801D","#A65383","#175E75","#0F8248"]},nodeColor:"#1783ff",nodeColorDisabled:"#D0E4FF",nodeHaloStrokeOpacityActive:.25,nodeHaloStrokeOpacitySelected:.45,nodeIconOpacityInactive:.45,nodeOpacityDisabled:.25,nodeOpacityInactive:.45,nodeStroke:"#d0e4ff",textColor:"#ffffff"}),dG=uG({bgColor:"#ffffff",comboColor:"#99ADD1",comboColorDisabled:"#f0f0f0",comboStroke:"#99add1",comboStrokeDisabled:"#d9d9d9",edgeColor:"#99add1",edgeColorDisabled:"#d9d9d9",edgeColorInactive:"#1B324F",nodeColor:"#1783ff",nodeColorDisabled:"#1B324F",nodeHaloStrokeOpacityActive:.15,nodeHaloStrokeOpacitySelected:.25,nodeIconOpacityInactive:.85,nodeOpacityDisabled:.06,nodeOpacityInactive:.25,nodeStroke:"#000000",textColor:"#000000"});class hG extends Gd{beforeDraw(e,t){return e}afterLayout(e,t){}}function fG(e,t,n,r,i){const o=Ad(r),a=`${n}s`,s=i?r:e.add[a].get(o)||e.update[a].get(o)||e.remove[a].get(o)||r;Object.entries(e).forEach(([e,n])=>{t===e?n[a].set(o,s):n[a].delete(o)})}function pG(e,t){return Object.keys(e).every(n=>e[n]===t[n])}const gG=(e,t,n,r)=>{const i=`${n}s`,o=Ad(r);e.add[i].has(o)||e.update[i].has(o)||e[t][i].set(Ad(r),r)};
/*!
   * @antv/g-plugin-dragndrop
   * @description A G plugin for Drag n Drop implemented with PointerEvents
   * @version 2.0.35
   * @date 5/9/2025, 8:20:14 AM
   * @author AntVis
   * @docs https://g.antv.antgroup.com/
   */
var mG=function(){function e(t){l(this,e),this.dragndropPluginOptions=t}return c(e,[{key:"apply",value:function(t){var n=this,r=t.renderingService,i=t.renderingContext.root.ownerDocument,o=i.defaultView,a=function(e){var t=e.target,r=t===i,a=r&&n.dragndropPluginOptions.isDocumentDraggable?i:t.closest&&t.closest("[draggable=true]");if(a){var s=!1,l=e.timeStamp,u=[e.clientX,e.clientY],c=null,d=[e.clientX,e.clientY],h=function(){var e=ur(sr().mark(function e(o){var h,f,p,g,m,y;return sr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=8;break}if(h=o.timeStamp-l,f=vn([o.clientX,o.clientY],u),!(h<=n.dragndropPluginOptions.dragstartTimeThreshold||f<=n.dragndropPluginOptions.dragstartDistanceThreshold)){e.next=5;break}return e.abrupt("return");case 5:o.type="dragstart",a.dispatchEvent(o),s=!0;case 8:if(o.type="drag",o.dx=o.clientX-d[0],o.dy=o.clientY-d[1],a.dispatchEvent(o),d=[o.clientX,o.clientY],r){e.next=21;break}return p="pointer"===n.dragndropPluginOptions.overlap?[o.canvasX,o.canvasY]:t.getBounds().center,e.next=17,i.elementsFromPoint(p[0],p[1]);case 17:g=e.sent,m=g[g.indexOf(t)+1],y=(null==m?void 0:m.closest("[droppable=true]"))||(n.dragndropPluginOptions.isDocumentDroppable?i:null),c!==y&&(c&&(o.type="dragleave",o.target=c,c.dispatchEvent(o)),y&&(o.type="dragenter",o.target=y,y.dispatchEvent(o)),(c=y)&&(o.type="dragover",o.target=c,c.dispatchEvent(o)));case 21:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();o.addEventListener("pointermove",h);var f=function(e){if(s){e.detail={preventClick:!0};var t=e.clone();c&&(t.type="drop",t.target=c,c.dispatchEvent(t)),t.type="dragend",a.dispatchEvent(t),s=!1}o.removeEventListener("pointermove",h)};t.addEventListener("pointerup",f,{once:!0}),t.addEventListener("pointerupoutside",f,{once:!0})}};r.hooks.init.tap(e.tag,function(){o.addEventListener("pointerdown",a)}),r.hooks.destroy.tap(e.tag,function(){o.removeEventListener("pointerdown",a)})}}])}();mG.tag="Dragndrop";var yG=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(this,t),(e=y(this,t)).name="dragndrop",e.options=n,e}return b(t,e),c(t,[{key:"init",value:function(){this.addRenderingPlugin(new mG(s({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}},{key:"setOptions",value:function(e){Object.assign(this.plugins[0].dragndropPluginOptions,e)}}])}(mr),vG=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})},bG=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const wG=["main"],xG=["background","main","label","transient"];class EG{getConfig(){return this.config}getLayer(e="main"){return this.extends.layers[e]||this.getLayers().main}getLayers(){return this.extends.layers}getRenderer(e){return this.extends.renderers[e]}getCamera(e="main"){return this.getLayer(e).getCamera()}getRoot(e="main"){return this.getLayer(e).getRoot()}getContextService(e="main"){return this.getLayer(e).getContextService()}setCursor(e){this.config.cursor=e,this.getLayer().setCursor(e)}get document(){return this.getLayer().document}get context(){return this.getLayer().context}constructor(e){this.config={enableMultiLayer:!0},Object.assign(this.config,e);const t=this.config,{renderer:n,background:r,cursor:i,enableMultiLayer:o}=t,a=bG(t,["renderer","background","cursor","enableMultiLayer"]),s=o?xG:wG,l=kG(n,s),u=Object.fromEntries(s.map(e=>[e,new ku(Object.assign(Object.assign({},a),{supportsMutipleCanvasesInOneContainer:o,renderer:l[e],background:o?"background"===e?r:void 0:r}))]));SG(u),this.extends={config:this.config,renderer:n,renderers:l,layers:u}}get ready(){return Promise.all(Object.entries(this.getLayers()).map(([,e])=>e.ready))}resize(e,t){Object.assign(this.extends.config,{width:e,height:t}),Object.values(this.getLayers()).forEach(n=>{const r=n.getCamera(),i=r.getPosition(),o=r.getFocalPoint();n.resize(e,t),r.setPosition(i),r.setFocalPoint(o)})}getBounds(e){return hd(Object.values(this.getLayers()).map(t=>e?t.getRoot().childNodes.find(t=>t.classList.includes(e)):t.getRoot()).filter(e=>(null==e?void 0:e.childNodes.length)>0).map(e=>e.getBounds()))}getContainer(){const e=this.extends.config.container;return"string"==typeof e?document.getElementById(e):e}getSize(){return[this.extends.config.width||0,this.extends.config.height||0]}appendChild(e,t){var n;const r=(null===(n=e.style)||void 0===n?void 0:n.$layer)||"main";return this.getLayer(r).appendChild(e,t)}setRenderer(e){if(e===this.extends.renderer)return;const t=kG(e,this.config.enableMultiLayer?xG:wG);this.extends.renderers=t,Object.entries(t).forEach(([e,t])=>this.getLayer(e).setRenderer(t)),SG(this.getLayers())}getCanvasByViewport(e){return gh(this.getLayer().viewport2Canvas(mh(e)))}getViewportByCanvas(e){return gh(this.getLayer().canvas2Viewport(mh(e)))}getViewportByClient(e){return gh(this.getLayer().client2Viewport(mh(e)))}getClientByViewport(e){return gh(this.getLayer().viewport2Client(mh(e)))}getClientByCanvas(e){return this.getClientByViewport(this.getViewportByCanvas(e))}getCanvasByClient(e){const t=this.getLayer(),n=t.client2Viewport(mh(e));return gh(t.viewport2Canvas(n))}toDataURL(){return vG(this,arguments,void 0,function*(e={}){const t=globalThis.devicePixelRatio||1,{mode:n="viewport"}=e,r=bG(e,["mode"]);let[i,o,a,s]=[0,0,0,0];if("viewport"===n)[a,s]=this.getSize();else if("overall"===n){const e=this.getBounds(),t=ld(e);[i,o]=e.min,[a,s]=t}const l=Rn('<div id="virtual-image"></div>'),u=new ku({width:a,height:s,renderer:new Up,devicePixelRatio:t,container:l,background:this.extends.config.background});yield u.ready,u.appendChild(this.getLayer("background").getRoot().cloneNode(!0)),u.appendChild(this.getRoot().cloneNode(!0));const c=this.getLayer("label").getRoot().cloneNode(!0),d=u.viewport2Canvas({x:0,y:0}),h=this.getCanvasByViewport([0,0]);c.translate([h[0]-d.x,h[1]-d.y]),c.scale(1/this.getCamera().getZoom()),u.appendChild(c),u.appendChild(this.getLayer("transient").getRoot().cloneNode(!0));const f=this.getCamera(),p=u.getCamera();if("viewport"===n)p.setZoom(f.getZoom()),p.setPosition(f.getPosition()),p.setFocalPoint(f.getFocalPoint());else if("overall"===n){const[e,t,n]=p.getPosition(),[r,a,s]=p.getFocalPoint();p.setPosition([e+i,t+o,n]),p.setFocalPoint([r+i,a+o,s])}const g=u.getContextService();return new Promise(e=>{u.addEventListener(yu.RERENDER,()=>vG(this,void 0,void 0,function*(){yield new Promise(e=>setTimeout(e,300));const t=yield g.toDataURL(r);e(t)}))})})}destroy(){Object.values(this.getLayers()).forEach(e=>{e.getCamera().cancelLandmarkAnimation(),e.destroy()})}}function kG(e,t){return Object.fromEntries(t.map(t=>{const n=(null==e?void 0:e(t))||new Up;return n instanceof Up&&n.setConfig({enableDirtyRectangleRendering:!1}),"main"===t?n.registerPlugin(new yG({isDocumentDraggable:!0,isDocumentDroppable:!0,dragstartDistanceThreshold:10,dragstartTimeThreshold:100})):n.unregisterPlugin(n.getPlugin("dom-interaction")),[t,n]}))}function SG(e){Object.entries(e).forEach(([e,t])=>{const n=t.getContextService().getDomElement();(null==n?void 0:n.style)&&(n.style.gridArea="1 / 1 / 2 / 2",n.style.outline="none",n.tabIndex=1,"main"!==e&&(n.style.pointerEvents="none")),(null==n?void 0:n.parentElement)&&(n.parentElement.style.display="grid",n.parentElement.style.isolation="isolate")})}const MG=e=>e?parseInt(e):0;function TG(e){if(!e)return[0,0];let t=640,n=480;const[r,i]=function(e){const t=getComputedStyle(e),n=e.clientWidth||MG(t.width),r=e.clientHeight||MG(t.height);return[n-(MG(t.paddingLeft)+MG(t.paddingRight)),r-(MG(t.paddingTop)+MG(t.paddingBottom))]}(e);t=r||t,n=i||n;return[Math.max(st(t)?t:1,1),Math.max(st(n)?n:1,1)]}class OG{constructor(e){this.type=e}}class CG extends OG{constructor(e,t){super(e),this.data=t}}class NG extends OG{constructor(e,t,n,r){super(e),this.animationType=t,this.animation=n,this.data=r}}class PG extends OG{constructor(e,t,n){super(e),this.elementType=t,this.data=n}}class AG extends OG{constructor(e,t){super(e),this.data=t}}function RG(e,t){e.emit(t.type,t)}function _G(e){var t;return(null===(t=null==e?void 0:e.style)||void 0===t?void 0:t.zIndex)||0}const DG="cachedStyle",LG=e=>`__${e}__`;function IG(e,t){return Ct(e,[DG,LG(t)])}class zG{constructor(e){this.tasks=[],this.animations=new Set,this.context=e}getTasks(){const e=[...this.tasks];return this.tasks=[],e}add(e,t){this.tasks.push([e,t])}animate(e,t,n){var r,i,o;null===(r=null==t?void 0:t.before)||void 0===r||r.call(t);const a=this.getTasks().map(([t,r])=>{var i,o,a;const{element:s,elementType:l,stage:u}=t,c=$c(this.context.options,l,u,e);null===(i=null==r?void 0:r.before)||void 0===i||i.call(r);const d=c.length?Xc(s,this.inferStyle(t,n),c):null;return d?(null===(o=null==r?void 0:r.beforeAnimate)||void 0===o||o.call(r,d),d.finished.then(()=>{var e,t;null===(e=null==r?void 0:r.afterAnimate)||void 0===e||e.call(r,d),null===(t=null==r?void 0:r.after)||void 0===t||t.call(r),this.animations.delete(d)})):null===(a=null==r?void 0:r.after)||void 0===a||a.call(r),d}).filter(Boolean);a.forEach(e=>this.animations.add(e));const s=Vc(a);return s?(null===(i=null==t?void 0:t.beforeAnimate)||void 0===i||i.call(t,s),s.finished.then(()=>{var e,n;null===(e=null==t?void 0:t.afterAnimate)||void 0===e||e.call(t,s),null===(n=null==t?void 0:t.after)||void 0===n||n.call(t),this.release()})):null===(o=null==t?void 0:t.after)||void 0===o||o.call(t),s}inferStyle(e,t){var n,r;const{element:i,elementType:o,stage:a,originalStyle:s,updatedStyle:l={}}=e;e.modifiedStyle||(e.modifiedStyle=Object.assign(Object.assign({},s),l));const{modifiedStyle:u}=e,c={},d={};if("enter"===a)Object.assign(c,{opacity:0});else if("exit"===a)Object.assign(d,{opacity:0});else if("show"===a)Object.assign(c,{opacity:0}),Object.assign(d,{opacity:null!==(n=IG(i,"opacity"))&&void 0!==n?n:Wc("opacity")});else if("hide"===a)Object.assign(c,{opacity:null!==(r=IG(i,"opacity"))&&void 0!==r?r:Wc("opacity")}),Object.assign(d,{opacity:0});else if("collapse"===a){const{collapse:e}=t||{},{target:n,descendants:r,position:a}=e;if("node"===o){if(r.includes(i.id)){const[e,t,n]=a;Object.assign(d,{x:e,y:t,z:n})}}else if("combo"===o){if(i.id===n||r.includes(i.id)){const[e,t]=a;Object.assign(d,{x:e,y:t,childrenNode:s.childrenNode})}}else"edge"===o&&Object.assign(d,{sourceNode:u.sourceNode,targetNode:u.targetNode})}else if("expand"===a){const{expand:e}=t||{},{target:n,descendants:r,position:a}=e;if("node"===o){if(i.id===n||r.includes(i.id)){const[e,t,n]=a;Object.assign(c,{x:e,y:t,z:n})}}else if("combo"===o){if(i.id===n||r.includes(i.id)){const[e,t,n]=a;Object.assign(c,{x:e,y:t,z:n,childrenNode:u.childrenNode})}}else"edge"===o&&Object.assign(c,{sourceNode:u.sourceNode,targetNode:u.targetNode})}return[Object.keys(c).length>0?Object.assign({},s,c):s,Object.keys(d).length>0?Object.assign({},u,d):u]}stop(){this.animations.forEach(e=>e.cancel())}clear(){this.tasks=[]}release(){var e,t;const{canvas:n}=this.context,r=null===(t=null===(e=n.document)||void 0===e?void 0:e.timeline)||void 0===t?void 0:t.animationsWithPromises;r&&(n.document.timeline.animationsWithPromises=r.filter(e=>"finished"!==e.playState))}destroy(){this.stop(),this.animations.clear(),this.tasks=[]}}class FG{constructor(e){this.batchCount=0,this.context=e}emit(e){const{graph:t}=this.context;t.emit(e.type,e)}startBatch(e=!0){this.batchCount++,1===this.batchCount&&this.emit(new CG(Ac.BATCH_START,{initiate:e}))}endBatch(){this.batchCount--,0===this.batchCount&&this.emit(new CG(Ac.BATCH_END))}get isBatching(){return this.batchCount>0}destroy(){this.context=null}}class jG extends Wd{constructor(e){super(e),this.currentTarget=null,this.currentTargetType=null,this.category="behavior",this.forwardCanvasEvents=e=>{const{target:t}=e,n=function(e){if(!e)return null;if(e instanceof du)return{type:"canvas",element:e};let t=e;for(;t;){if(Hg(t))return{type:"node",element:t};if(Vg(t))return{type:"edge",element:t};if(Ug(t))return{type:"combo",element:t};t=t.parentElement}return null}(t);if(!n)return;const{graph:r,canvas:i}=this.context,{type:o,element:a}=n;if("destroyed"in a&&(nm(a)||a.destroyed))return;const{type:s,detail:l,button:u}=e,c=Object.assign(Object.assign({},e),{target:a,targetType:o,originalTarget:t});s===Cc.POINTER_MOVE&&(this.currentTarget!==a&&(this.currentTarget&&r.emit(`${this.currentTargetType}:${Cc.POINTER_LEAVE}`,Object.assign(Object.assign({},c),{type:Cc.POINTER_LEAVE,target:this.currentTarget,targetType:this.currentTargetType})),a&&(Object.assign(c,{type:Cc.POINTER_ENTER}),r.emit(`${o}:${Cc.POINTER_ENTER}`,c))),this.currentTarget=a,this.currentTargetType=o),s===Cc.CLICK&&2===u||(r.emit(`${o}:${s}`,c),r.emit(s,c)),s===Cc.CLICK&&2===l&&(Object.assign(c,{type:Cc.DBLCLICK}),r.emit(`${o}:${Cc.DBLCLICK}`,c),r.emit(Cc.DBLCLICK,c)),s===Cc.POINTER_DOWN&&2===u&&(Object.assign(c,{type:Cc.CONTEXT_MENU,preventDefault:()=>{var e;null===(e=i.getContainer())||void 0===e||e.addEventListener(Cc.CONTEXT_MENU,e=>e.preventDefault(),{once:!0})}}),r.emit(`${o}:${Cc.CONTEXT_MENU}`,c),r.emit(Cc.CONTEXT_MENU,c))},this.forwardContainerEvents=e=>{this.context.graph.emit(e.type,e)},this.forwardEvents(),this.setBehaviors(this.context.options.behaviors||[])}setBehaviors(e){this.setExtensions(e)}forwardEvents(){const e=this.context.canvas.getContainer();e&&[Nc.KEY_DOWN,Nc.KEY_UP].forEach(t=>{e.addEventListener(t,this.forwardContainerEvents)});const t=this.context.canvas.document;t&&[Cc.CLICK,Cc.DBLCLICK,Cc.POINTER_OVER,Cc.POINTER_LEAVE,Cc.POINTER_ENTER,Cc.POINTER_MOVE,Cc.POINTER_OUT,Cc.POINTER_DOWN,Cc.POINTER_UP,Cc.CONTEXT_MENU,Cc.DRAG_START,Cc.DRAG,Cc.DRAG_END,Cc.DRAG_ENTER,Cc.DRAG_OVER,Cc.DRAG_LEAVE,Cc.DROP,Cc.WHEEL].forEach(e=>{t.addEventListener(e,this.forwardCanvasEvents)})}destroy(){const e=this.context.canvas.getContainer();e&&[Nc.KEY_DOWN,Nc.KEY_UP].forEach(t=>{e.removeEventListener(t,this.forwardContainerEvents)}),this.context.canvas.document.removeAllEventListeners(),super.destroy()}}var BG=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function HG(e,t){const{data:n,style:r}=e,i=BG(e,["data","style"]),{data:o,style:a}=t,s=BG(t,["data","style"]),l=Object.assign(Object.assign({},i),s);return(n||o)&&Object.assign(l,{data:Object.assign(Object.assign({},n),o)}),(r||a)&&Object.assign(l,{style:Object.assign(Object.assign({},r),a)}),l}function VG(e){const{data:t,style:n}=e,r=BG(e,["data","style"]);return t&&(r.data=Object.assign({},t)),n&&(r.style=Object.assign({},n)),r}function UG(e={},t={}){const{states:n=[],data:r={},style:i={},children:o=[]}=e,a=BG(e,["states","data","style","children"]),{states:s=[],data:l={},style:u={},children:c=[]}=t,d=(e,t)=>e.length===t.length&&e.every((e,n)=>e===t[n]),h=(e,t)=>{const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(n=>e[n]===t[n])};return!!h(a,BG(t,["states","data","style","children"]))&&(!!d(o,c)&&(!!d(n,s)&&(!!h(r,l)&&!!h(i,u))))}var WG=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function GG(e){const{id:t=Ad(e),style:n,data:r}=e,i=WG(e,["id","style","data"]),o=Object.assign(Object.assign({},e),{style:Object.assign({},n),data:Object.assign({},r)});return function(e){return"source"in e&&"target"in e}(e)?Object.assign({id:t,data:o},i):{id:t,data:o}}function $G(e){return e.data}class qG{constructor(){this.latestRemovedComboIds=new Set,this.comboIds=new Set,this.changes=[],this.batchCount=0,this.isTraceless=!1,this.enableUpdateNodeLikeHierarchy=!0,this.model=new ym}pushChange(e){if(this.isTraceless)return;const{type:t}=e;if(t===Sc.NodeUpdated||t===Sc.EdgeUpdated||t===Sc.ComboUpdated){const{value:n,original:r}=e;this.changes.push({value:VG(n),original:VG(r),type:t})}else this.changes.push({value:VG(e.value),type:t})}getChanges(){return this.changes}clearChanges(){this.changes=[]}batch(e){this.batchCount++,this.model.batch(e),this.batchCount--}isBatching(){return this.batchCount>0}silence(e){this.isTraceless=!0,e(),this.isTraceless=!1}isCombo(e){return this.comboIds.has(e)||this.latestRemovedComboIds.has(e)}getData(){return{nodes:this.getNodeData(),edges:this.getEdgeData(),combos:this.getComboData()}}getNodeData(e){return this.model.getAllNodes().reduce((t,n)=>{const r=$G(n);return this.isCombo(Ad(r))||(void 0===e||e.includes(Ad(r)))&&t.push(r),t},[])}getEdgeDatum(e){return $G(this.model.getEdge(e))}getEdgeData(e){return this.model.getAllEdges().reduce((t,n)=>{const r=$G(n);return(void 0===e||e.includes(Ad(r)))&&t.push(r),t},[])}getComboData(e){return this.model.getAllNodes().reduce((t,n)=>{const r=$G(n);return this.isCombo(Ad(r))?((void 0===e||e.includes(Ad(r)))&&t.push(r),t):t},[])}getRootsData(e=Lc){return this.model.getRoots(e).map($G)}getAncestorsData(e,t){const{model:n}=this;return n.hasNode(e)&&n.hasTreeStructure(t)?n.getAncestors(e,t).map($G):[]}getDescendantsData(e){const t=this.getElementDataById(e),n=[];return Ih(t,e=>{e!==t&&n.push(e)},e=>this.getChildrenData(Ad(e)),"TB"),n}getParentData(e,t){const{model:n}=this;if(!t)return void Bc("The hierarchy structure key is not specified");if(!n.hasNode(e)||!n.hasTreeStructure(t))return;const r=n.getParent(e,t);return r?$G(r):void 0}getChildrenData(e){const t="node"===this.getElementType(e)?Lc:Dc,{model:n}=this;return n.hasNode(e)&&n.hasTreeStructure(t)?n.getChildren(e,t).map($G):[]}getElementsDataByType(e){return"node"===e?this.getNodeData():"edge"===e?this.getEdgeData():"combo"===e?this.getComboData():[]}getElementDataById(e){return"edge"===this.getElementType(e)?this.getEdgeDatum(e):this.getNodeLikeDatum(e)}getNodeLikeDatum(e){return $G(this.model.getNode(e))}getNodeLikeData(e){return this.model.getAllNodes().reduce((t,n)=>{const r=$G(n);return e?e.includes(Ad(r))&&t.push(r):t.push(r),t},[])}getElementDataByState(e,t){return this.getElementsDataByType(e).filter(e=>{var n;return null===(n=e.states)||void 0===n?void 0:n.includes(t)})}getElementState(e){var t;return(null===(t=this.getElementDataById(e))||void 0===t?void 0:t.states)||[]}hasNode(e){return this.model.hasNode(e)&&!this.isCombo(e)}hasEdge(e){return this.model.hasEdge(e)}hasCombo(e){return this.model.hasNode(e)&&this.isCombo(e)}getRelatedEdgesData(e,t="both"){return this.model.getRelatedEdges(e,t).map($G)}getNeighborNodesData(e){return this.model.getNeighbors(e).map($G)}setData(e){const{nodes:t=[],edges:n=[],combos:r=[]}=e,{nodes:i,edges:o,combos:a}=this.getData(),s=Vd(i,t,e=>Ad(e),UG),l=Vd(o,n,e=>Ad(e),UG),u=Vd(a,r,e=>Ad(e),UG);this.batch(()=>{const e={nodes:s.enter,edges:l.enter,combos:u.enter};this.addData(e),this.computeZIndex(e,"add",!0);const t={nodes:s.update,edges:l.update,combos:u.update};this.updateData(t),this.computeZIndex(t,"update",!0);const n={nodes:s.exit.map(Ad),edges:l.exit.map(Ad),combos:u.exit.map(Ad)};this.removeData(n)})}addData(e){const{nodes:t,edges:n,combos:r}=e;this.batch(()=>{this.addComboData(r),this.addNodeData(t),this.addEdgeData(n)}),this.computeZIndex(e,"add")}addNodeData(e=[]){e.length&&(this.model.addNodes(e.map(e=>(this.pushChange({value:e,type:Sc.NodeAdded}),GG(e)))),this.updateNodeLikeHierarchy(e),this.computeZIndex({nodes:e},"add"))}addEdgeData(e=[]){e.length&&(this.model.addEdges(e.map(e=>(this.pushChange({value:e,type:Sc.EdgeAdded}),GG(e)))),this.computeZIndex({edges:e},"add"))}addComboData(e=[]){if(!e.length)return;const{model:t}=this;t.hasTreeStructure(Dc)||t.attachTreeStructure(Dc),t.addNodes(e.map(e=>(this.comboIds.add(Ad(e)),this.pushChange({value:e,type:Sc.ComboAdded}),GG(e)))),this.updateNodeLikeHierarchy(e),this.computeZIndex({combos:e},"add")}addChildrenData(e,t){const n=this.getNodeLikeDatum(e),r=t.map(Ad);this.addNodeData(t),this.updateNodeData([{id:e,children:[...n.children||[],...r]}]),this.addEdgeData(r.map(t=>({source:e,target:t})))}computeZIndex(e,t,n=!1){!n&&this.isBatching()||this.batch(()=>{const{nodes:n=[],edges:r=[],combos:i=[]}=e;i.forEach(e=>{var n,r,i;const o=Ad(e);if("add"===t&&st(null===(n=e.style)||void 0===n?void 0:n.zIndex))return;if("update"===t&&!("combo"in e))return;const a=this.getParentData(o,Dc),s=a?(null!==(i=null===(r=a.style)||void 0===r?void 0:r.zIndex)&&void 0!==i?i:0)+1:0;this.preventUpdateNodeLikeHierarchy(()=>{this.updateComboData([{id:o,style:{zIndex:s}}])})}),n.forEach(e=>{var n,r,i;const o=Ad(e);if("add"===t&&st(null===(n=e.style)||void 0===n?void 0:n.zIndex))return;if("update"===t&&!("combo"in e)&&!("children"in e))return;let a=0;const s=this.getParentData(o,Dc);if(s)a=((null===(r=s.style)||void 0===r?void 0:r.zIndex)||0)+1;else{const e=this.getParentData(o,Lc);e&&(a=(null===(i=null==e?void 0:e.style)||void 0===i?void 0:i.zIndex)||0)}this.preventUpdateNodeLikeHierarchy(()=>{this.updateNodeData([{id:o,style:{zIndex:a}}])})}),r.forEach(e=>{var t,n,r,i,o;if(st(null===(t=e.style)||void 0===t?void 0:t.zIndex))return;let{id:a,source:s,target:l}=e;if(a){const e=this.getEdgeDatum(a);s=e.source,l=e.target}else a=Ad(e);if(!s||!l)return;const u=(null===(r=null===(n=this.getNodeLikeDatum(s))||void 0===n?void 0:n.style)||void 0===r?void 0:r.zIndex)||0,c=(null===(o=null===(i=this.getNodeLikeDatum(l))||void 0===i?void 0:i.style)||void 0===o?void 0:o.zIndex)||0;this.updateEdgeData([{id:Ad(e),style:{zIndex:Math.max(u,c)-1}}])})})}getFrontZIndex(e){var t;const n=this.getElementType(e),r=this.getElementDataById(e),i=this.getData();if(Object.assign(i,{[`${n}s`]:i[`${n}s`].filter(t=>Ad(t)!==e)}),"combo"===n&&!Vh(r)){const t=new Set(this.getAncestorsData(e,Dc).map(Ad));i.nodes=i.nodes.filter(e=>!t.has(Ad(e))),i.combos=i.combos.filter(e=>!t.has(Ad(e))),i.edges=i.edges.filter(({source:e,target:n})=>!t.has(e)&&!t.has(n))}return Math.max((null===(t=r.style)||void 0===t?void 0:t.zIndex)||0,0,...Object.values(i).flat().map(e=>{var t;return((null===(t=null==e?void 0:e.style)||void 0===t?void 0:t.zIndex)||0)+1}))}updateNodeLikeHierarchy(e){if(!this.enableUpdateNodeLikeHierarchy)return;const{model:t}=this;e.forEach(e=>{const n=Ad(e),r=Rd(e);void 0!==r&&(t.hasTreeStructure(Dc)||t.attachTreeStructure(Dc),null===r&&this.refreshComboData(n),this.setParent(n,Rd(e),Dc));const i=e.children||[];if(i.length){t.hasTreeStructure(Lc)||t.attachTreeStructure(Lc);const e=i.filter(e=>t.hasNode(e));e.forEach(e=>this.setParent(e,n,Lc)),e.length!==i.length&&this.updateNodeData([{id:n,children:e}])}})}preventUpdateNodeLikeHierarchy(e){this.enableUpdateNodeLikeHierarchy=!1,e(),this.enableUpdateNodeLikeHierarchy=!0}updateData(e){const{nodes:t,edges:n,combos:r}=e;this.batch(()=>{this.updateNodeData(t),this.updateComboData(r),this.updateEdgeData(n)}),this.computeZIndex(e,"update")}updateNodeData(e=[]){if(!e.length)return;const{model:t}=this;this.batch(()=>{const n=[];e.forEach(e=>{const r=Ad(e),i=$G(t.getNode(r));if(UG(i,e))return;const o=HG(i,e);this.pushChange({value:o,original:i,type:Sc.NodeUpdated}),t.mergeNodeData(r,o),n.push(o)}),this.updateNodeLikeHierarchy(n)}),this.computeZIndex({nodes:e},"update")}refreshData(){const{nodes:e,edges:t,combos:n}=this.getData();e.forEach(e=>{this.pushChange({value:e,original:e,type:Sc.NodeUpdated})}),t.forEach(e=>{this.pushChange({value:e,original:e,type:Sc.EdgeUpdated})}),n.forEach(e=>{this.pushChange({value:e,original:e,type:Sc.ComboUpdated})})}syncNodeLikeDatum(e){const{model:t}=this,n=Ad(e);if(!t.hasNode(n))return;const r=HG($G(t.getNode(n)),e);t.mergeNodeData(n,r)}syncEdgeDatum(e){const{model:t}=this,n=Ad(e);if(!t.hasEdge(n))return;const r=HG($G(t.getEdge(n)),e);t.mergeEdgeData(n,r)}updateEdgeData(e=[]){if(!e.length)return;const{model:t}=this;this.batch(()=>{e.forEach(e=>{const n=Ad(e),r=$G(t.getEdge(n));if(UG(r,e))return;e.source&&r.source!==e.source&&t.updateEdgeSource(n,e.source),e.target&&r.target!==e.target&&t.updateEdgeTarget(n,e.target);const i=HG(r,e);this.pushChange({value:i,original:r,type:Sc.EdgeUpdated}),t.mergeEdgeData(n,i)})}),this.computeZIndex({edges:e},"update")}updateComboData(e=[]){if(!e.length)return;const{model:t}=this;t.batch(()=>{const n=[];e.forEach(e=>{const r=Ad(e),i=$G(t.getNode(r));if(UG(i,e))return;const o=HG(i,e);this.pushChange({value:o,original:i,type:Sc.ComboUpdated}),t.mergeNodeData(r,o),n.push(o)}),this.updateNodeLikeHierarchy(n)}),this.computeZIndex({combos:e},"update")}setParent(e,t,n,r=!0){if(e===t)return;const i=Rd(this.getNodeLikeDatum(e));if(i!==t&&n===Dc){const n={id:e,combo:t};this.isCombo(e),this.syncNodeLikeDatum(n)}this.model.setParent(e,t,n),r&&n===Dc&&function(e,t){void 0===t&&(t=new Map);var n=[];if(Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var o=e[r];t.has(o)||(n.push(o),t.set(o,!0))}return n}([i,t]).forEach(e=>{void 0!==e&&this.refreshComboData(e)})}refreshComboData(e){const t=this.getComboData([e])[0],n=this.getAncestorsData(e,Dc);t&&this.pushChange({value:t,original:t,type:Sc.ComboUpdated}),n.forEach(e=>{this.pushChange({value:e,original:e,type:Sc.ComboUpdated})})}getElementPosition(e){return hh(this.getElementDataById(e))}translateNodeLikeBy(e,t){this.isCombo(e)?this.translateComboBy(e,t):this.translateNodeBy(e,t)}translateNodeLikeTo(e,t){this.isCombo(e)?this.translateComboTo(e,t):this.translateNodeTo(e,t)}translateNodeBy(e,t){const n=Xd(this.getElementPosition(e),[...t,0].slice(0,3));this.translateNodeTo(e,n)}translateNodeTo(e,t){const[n=0,r=0,i=0]=t;this.preventUpdateNodeLikeHierarchy(()=>{this.updateNodeData([{id:e,style:{x:n,y:r,z:i}}])})}translateComboBy(e,t){const[n=0,r=0,i=0]=t;if([n,r,i].some(isNaN)||[n,r,i].every(e=>0===e))return;const o=this.getComboData([e])[0];if(!o)return;const a=new Set;Ih(o,e=>{const t=Ad(e);if(a.has(t))return;a.add(t);const[o,s,l]=hh(e),u=HG(e,{style:{x:o+n,y:s+r,z:l+i}});this.pushChange({value:u,original:e,type:this.isCombo(t)?Sc.ComboUpdated:Sc.NodeUpdated}),this.model.mergeNodeData(t,u)},e=>this.getChildrenData(Ad(e)),"BT")}translateComboTo(e,t){var n;if(t.some(isNaN))return;const[r=0,i=0,o=0]=t,a=null===(n=this.getComboData([e]))||void 0===n?void 0:n[0];if(!a)return;const[s,l,u]=hh(a),c=r-s,d=i-l,h=o-u;Ih(a,e=>{const t=Ad(e),[n,r,i]=hh(e),o=HG(e,{style:{x:n+c,y:r+d,z:i+h}});this.pushChange({value:o,original:e,type:this.isCombo(t)?Sc.ComboUpdated:Sc.NodeUpdated}),this.model.mergeNodeData(t,o)},e=>this.getChildrenData(Ad(e)),"BT")}removeData(e){const{nodes:t,edges:n,combos:r}=e;this.batch(()=>{this.removeEdgeData(n),this.removeNodeData(t),this.removeComboData(r),this.latestRemovedComboIds=new Set(r)})}removeNodeData(e=[]){e.length&&this.batch(()=>{e.forEach(e=>{this.removeEdgeData(this.getRelatedEdgesData(e).map(Ad)),this.pushChange({value:this.getNodeData([e])[0],type:Sc.NodeRemoved}),this.removeNodeLikeHierarchy(e)}),this.model.removeNodes(e)})}removeEdgeData(e=[]){e.length&&(e.forEach(e=>this.pushChange({value:this.getEdgeData([e])[0],type:Sc.EdgeRemoved})),this.model.removeEdges(e))}removeComboData(e=[]){e.length&&this.batch(()=>{e.forEach(e=>{this.pushChange({value:this.getComboData([e])[0],type:Sc.ComboRemoved}),this.removeNodeLikeHierarchy(e),this.comboIds.delete(e)}),this.model.removeNodes(e)})}removeNodeLikeHierarchy(e){if(this.model.hasTreeStructure(Dc)){const t=Rd(this.getNodeLikeDatum(e));this.setParent(e,void 0,Dc,!1),this.model.getChildren(e,Dc).forEach(e=>{const n=$G(e),r=Ad(n);this.setParent(Ad(n),t,Dc,!1);const i=HG(n,{id:Ad(n),combo:t});this.pushChange({value:i,original:n,type:this.isCombo(r)?Sc.ComboUpdated:Sc.NodeUpdated}),this.model.mergeNodeData(Ad(n),i)}),qe(t)||this.refreshComboData(t)}}getElementType(e){if(this.model.hasNode(e))return this.isCombo(e)?"combo":"node";if(this.model.hasEdge(e))return"edge";throw new Error(jc(`Unknown element type of id: ${e}`))}destroy(){const{model:e}=this,t=e.getAllNodes(),n=e.getAllEdges();e.removeEdges(n.map(e=>e.id)),e.removeNodes(t.map(e=>e.id)),this.context={}}}var YG=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class XG{constructor(e){this.elementMap={},this.shapeTypeMap={},this.paletteStyle={},this.defaultStyle={},this.stateStyle={},this.visibilityCache=new WeakMap,this.context=e}init(){this.initContainer()}initContainer(){if(!this.container||this.container.destroyed){const{canvas:e}=this.context;this.container=e.appendChild(new Xl({className:"elements"}))}}emit(e,t){t.silence||RG(this.context.graph,e)}forEachElementData(e){Lh.forEach(t=>{const n=this.context.model.getElementsDataByType(t);e(t,n)})}getElementType(e,t){var n;const{options:r,graph:i}=this.context,o=(null===(n=r[e])||void 0===n?void 0:n.type)||t.type;return o?"string"==typeof o?o:o.call(i,t):"edge"===e?"line":"circle"}getTheme(e){return Hc(this.context.options)[e]||{}}getThemeStyle(e){return this.getTheme(e).style||{}}getThemeStateStyle(e,t){const{state:n={}}=this.getTheme(e);return Object.assign({},...t.map(e=>n[e]||{}))}computePaletteStyle(){const{options:e}=this.context;this.paletteStyle={},this.forEachElementData((t,n)=>{var r,i;const o=Object.assign({},Zh(null===(r=this.getTheme(t))||void 0===r?void 0:r.palette),Zh(null===(i=e[t])||void 0===i?void 0:i.palette));(null==o?void 0:o.field)&&Object.assign(this.paletteStyle,function(e,t){if(!t)return{};const{type:n,color:r,field:i,invert:o}=t,a=e=>{const t="string"==typeof r?Fc("palette",r):r;if("function"==typeof t){const n={};return e.forEach(([e,r])=>{n[e]=t(o?1-r:r)}),n}if(Array.isArray(t)){const n=o?[...t].reverse():t,r={};return e.forEach(([e,i])=>{r[e]=n[i%t.length]}),r}return{}},s=(e,t)=>{var n;return"string"==typeof e?null===(n=t.data)||void 0===n?void 0:n[e]:null==e?void 0:e(t)};if("group"===n){const t=ot(e,e=>{if(!i)return"default";const t=s(i,e);return t?String(t):"default"}),n=a(Object.keys(t).map((e,t)=>[e,t])),r={};return Object.entries(t).forEach(([e,t])=>{t.forEach(t=>{r[Ad(t)]=n[e]})}),r}if("value"===n){const[t,n]=e.reduce(([e,t],n)=>{const r=s(i,n);if("number"!=typeof r)throw new Error(jc(`Palette field ${i} is not a number`));return[Math.min(e,r),Math.max(t,r)]},[1/0,-1/0]),r=n-t;return a(e.map(e=>[e.id,(s(i,e)-t)/r]))}}(n,o))})}getPaletteStyle(e,t){const n=this.paletteStyle[t];return n?"edge"===e?{stroke:n}:{fill:n}:{}}computeElementDefaultStyle(e,t){var n;const{options:r}=this.context,i=(null===(n=r[e])||void 0===n?void 0:n.style)||{};"transform"in i&&Array.isArray(i.transform)&&(i.transform=[...i.transform]),this.defaultStyle[Ad(t.datum)]=Kh(i,t)}computeElementsDefaultStyle(e){const{graph:t}=this.context;this.forEachElementData((n,r)=>{const i=r.length;for(let o=0;o<i;o++){const i=r[o];(void 0===e||e.includes(Ad(i)))&&this.computeElementDefaultStyle(n,{datum:i,graph:t})}})}getDefaultStyle(e){return this.defaultStyle[e]||{}}getElementState(e){try{const{model:t}=this.context;return t.getElementState(e)}catch(e){return[]}}getElementStateStyle(e,t,n){var r,i;const{options:o}=this.context;return Kh((null===(i=null===(r=o[e])||void 0===r?void 0:r.state)||void 0===i?void 0:i[t])||{},n)}computeElementStatesStyle(e,t,n){this.stateStyle[Ad(n.datum)]=Object.assign({},...t.map(t=>this.getElementStateStyle(e,t,n)))}computeElementsStatesStyle(e){const{graph:t}=this.context;this.forEachElementData((n,r)=>{const i=r.length;for(let o=0;o<i;o++){const i=r[o];if(void 0===e||e.includes(Ad(i))){const e=this.getElementState(Ad(i));this.computeElementStatesStyle(n,e,{datum:i,graph:t})}}})}getStateStyle(e){return this.stateStyle[e]||{}}computeStyle(e,t){e&&["translate","zIndex"].includes(e)||(this.computePaletteStyle(),this.computeElementsDefaultStyle(t),this.computeElementsStatesStyle(t))}getElement(e){return this.elementMap[e]}getNodes(){return this.context.model.getNodeData().map(({id:e})=>this.elementMap[e])}getEdges(){return this.context.model.getEdgeData().map(e=>this.elementMap[Ad(e)])}getCombos(){return this.context.model.getComboData().map(({id:e})=>this.elementMap[e])}getElementComputedStyle(e,t){const n=Ad(t),r=this.getThemeStyle(e),i=this.getPaletteStyle(e,n),o=t.style||{},a=this.getDefaultStyle(n),s=this.getThemeStateStyle(e,this.getElementState(n)),l=this.getStateStyle(n),u=Object.assign({},r,i,o,a,s,l);if("combo"===e){const e=this.context.model.getChildrenData(n),t=!!u.collapsed?[]:e.map(Ad).filter(e=>this.getElement(e));Object.assign(u,{childrenNode:t,childrenData:e})}return u}getDrawData(e){this.init();const t=this.computeChangesAndDrawData(e);if(!t)return null;const{type:n="draw",stage:r=n}=e;return this.markDestroyElement(t.drawData),this.computeStyle(r),{type:n,stage:r,data:t}}draw(e={animation:!0}){const t=this.getDrawData(e);if(!t)return;const{data:{drawData:{add:n,update:r,remove:i}}}=t;return this.destroyElements(i,e),this.createElements(n,e),this.updateElements(r,e),this.setAnimationTask(e,t)}preLayoutDraw(){return YG(this,arguments,void 0,function*(e={animation:!0}){var t,n;const r=this.getDrawData(e);if(!r)return;const{data:{drawData:i}}=r;yield null===(n=null===(t=this.context.layout)||void 0===t?void 0:t.preLayout)||void 0===n?void 0:n.call(t,i);const{add:o,update:a,remove:s}=i;return this.destroyElements(s,e),this.createElements(o,e),this.updateElements(a,e),this.setAnimationTask(e,r)})}setAnimationTask(e,t){const{animation:n,silence:r}=e,{data:{dataChanges:i,drawData:o},stage:a,type:s}=t;return this.context.animation.animate(n,r?{}:{before:()=>this.emit(new CG(Ac.BEFORE_DRAW,{dataChanges:i,animation:n,stage:a,render:"render"===s}),e),beforeAnimate:t=>this.emit(new NG(Ac.BEFORE_ANIMATE,Mc.DRAW,t,o),e),afterAnimate:t=>this.emit(new NG(Ac.AFTER_ANIMATE,Mc.DRAW,t,o),e),after:()=>this.emit(new CG(Ac.AFTER_DRAW,{dataChanges:i,animation:n,stage:a,render:"render"===s,firstRender:!1===this.context.graph.rendered}),e)})}computeChangesAndDrawData(e){const{model:t}=this.context,n=t.getChanges(),r=Sj(n);if(0===r.length)return null;const{NodeAdded:i=[],NodeUpdated:o=[],NodeRemoved:a=[],EdgeAdded:s=[],EdgeUpdated:l=[],EdgeRemoved:u=[],ComboAdded:c=[],ComboUpdated:d=[],ComboRemoved:h=[]}=ot(r,e=>e.type),f=e=>new Map(e.map(e=>{const t=e.value;return[Ad(t),t]})),p={add:{nodes:f(i),edges:f(s),combos:f(c)},update:{nodes:f(o),edges:f(l),combos:f(d)},remove:{nodes:f(a),edges:f(u),combos:f(h)}},g=this.transformData(p,e);return t.clearChanges(),{dataChanges:n,drawData:g}}transformData(e,t){const n=this.context.transform.getTransformInstance();return Object.values(n).reduce((e,n)=>n.beforeDraw(e,t),e)}createElement(e,t,n){var r;const i=Ad(t);if(this.getElement(i))return;const o=this.getElementType(e,t),a=this.getElementComputedStyle(e,t),s=Fc(e,o);if(!s)return Bc(`The element ${o} of ${e} is not registered.`);this.emit(new PG(Ac.BEFORE_ELEMENT_CREATE,e,t),n);const l=this.container.appendChild(new s({id:i,context:this.context,style:a}));this.shapeTypeMap[i]=o,this.elementMap[i]=l;const{stage:u="enter"}=n;null===(r=this.context.animation)||void 0===r||r.add({element:l,elementType:e,stage:u,originalStyle:Object.assign({},l.attributes),updatedStyle:a},{after:()=>{var r;this.emit(new PG(Ac.AFTER_ELEMENT_CREATE,e,t),n),null===(r=l.onCreate)||void 0===r||r.call(l)}})}createElements(e,t){const{nodes:n,edges:r,combos:i}=e;[["node",n],["combo",i],["edge",r]].forEach(([e,n])=>{n.forEach(n=>this.createElement(e,n,t))})}getUpdateStageStyle(e,t,n){const{stage:r="update"}=n;if("translate"===r){if("node"===e||"combo"===e){const{style:{x:e=0,y:n=0,z:r=0}={}}=t;return{x:e,y:n,z:r}}return{}}return this.getElementComputedStyle(e,t)}updateElement(e,t,n){var r;const i=Ad(t),{stage:o="update"}=n,a=this.getElement(i);if(!a)return()=>null;this.emit(new PG(Ac.BEFORE_ELEMENT_UPDATE,e,t),n);const s=this.getElementType(e,t),l=this.getUpdateStageStyle(e,t,n);this.shapeTypeMap[i]!==s&&(a.destroy(),delete this.shapeTypeMap[i],delete this.elementMap[i],this.createElement(e,t,{animation:!1,silence:!0}));const u="visibility"!==o?o:"hidden"===l.visibility?"hide":"show";"hide"===u&&delete l.visibility,null===(r=this.context.animation)||void 0===r||r.add({element:a,elementType:e,stage:u,originalStyle:Object.assign({},a.attributes),updatedStyle:l},{before:()=>{const e=this.elementMap[i];"collapse"!==o&&tm(e,l),"visibility"===o&&(function(e,t){return LG(t)in(Ct(e,DG)||{})}(e,"opacity")||function(e,t){const n=Array.isArray(t)?t:[t];Ct(e,DG)||Nt(e,DG,{}),n.forEach(t=>{Nt(Ct(e,DG),LG(t),e.attributes[t])})}(e,"opacity"),this.visibilityCache.set(e,"show"===u?"visible":"hidden"),"show"===u&&Ud(e,"visible"))},after:()=>{var r;const a=this.elementMap[i];"collapse"===o&&tm(a,l),"hide"===u&&Ud(a,this.visibilityCache.get(a)),this.emit(new PG(Ac.AFTER_ELEMENT_UPDATE,e,t),n),null===(r=a.onUpdate)||void 0===r||r.call(a)}})}updateElements(e,t){const{nodes:n,edges:r,combos:i}=e;[["node",n],["combo",i],["edge",r]].forEach(([e,n])=>{n.forEach(n=>this.updateElement(e,n,t))})}markDestroyElement(e){Object.values(e.remove).forEach(e=>{e.forEach(e=>{const t=Ad(e),n=this.getElement(t);n&&function(e){Nt(e,"__to_be_destroyed__",!0)}(n)})})}destroyElement(e,t,n){var r;const{stage:i="exit"}=n,o=Ad(t),a=this.elementMap[o];if(!a)return()=>null;this.emit(new PG(Ac.BEFORE_ELEMENT_DESTROY,e,t),n),null===(r=this.context.animation)||void 0===r||r.add({element:a,elementType:e,stage:i,originalStyle:Object.assign({},a.attributes),updatedStyle:{}},{after:()=>{var r;this.clearElement(o),a.destroy(),null===(r=a.onDestroy)||void 0===r||r.call(a),this.emit(new PG(Ac.AFTER_ELEMENT_DESTROY,e,t),n)}})}destroyElements(e,t){const{nodes:n,edges:r,combos:i}=e;[["combo",i],["edge",r],["node",n]].forEach(([e,n])=>{n.forEach(n=>this.destroyElement(e,n,t))})}clearElement(e){delete this.paletteStyle[e],delete this.defaultStyle[e],delete this.stateStyle[e],delete this.elementMap[e],delete this.shapeTypeMap[e]}alignLayoutResultToElement(e,t){var n,r;const i=null===(n=e.nodes)||void 0===n?void 0:n.find(e=>Ad(e)===t);if(i){const n=Kd(hh(this.context.model.getNodeLikeDatum(t)),hh(i));null===(r=e.nodes)||void 0===r||r.forEach(e=>{var t,r,i;(null===(t=e.style)||void 0===t?void 0:t.x)&&(e.style.x+=n[0]),(null===(r=e.style)||void 0===r?void 0:r.y)&&(e.style.y+=n[1]),(null===(i=e.style)||void 0===i?void 0:i.z)&&(e.style.z+=n[2]||0)})}}collapseNode(e,t){return YG(this,void 0,void 0,function*(){var n;const{animation:r}=t,{model:i}=this.context,o=this.computeChangesAndDrawData({stage:"collapse",animation:r});if(!o)return;const{drawData:a}=o,{add:s,remove:l,update:u}=a;this.markDestroyElement(a);const c={animation:r,stage:"collapse",data:a};this.destroyElements(l,c),this.createElements(s,c),this.updateElements(u,c),yield null===(n=this.context.animation.animate(r,{beforeAnimate:e=>this.emit(new NG(Ac.BEFORE_ANIMATE,Mc.COLLAPSE,e,a),c),afterAnimate:e=>this.emit(new NG(Ac.AFTER_ANIMATE,Mc.COLLAPSE,e,a),c)},{collapse:{target:e,descendants:Array.from(l.nodes).map(([,e])=>Ad(e)),position:hh(u.nodes.get(e))}}))||void 0===n?void 0:n.finished})}expandNode(e,t){return YG(this,void 0,void 0,function*(){var n;const{model:r,layout:i}=this.context,{animation:o,align:a}=t,s=hh(r.getNodeData([e])[0]),l=this.computeChangesAndDrawData({stage:"expand",animation:o});if(this.createElements(l.drawData.add,{animation:!1,stage:"expand",target:e}),this.context.animation.clear(),this.computeStyle("expand"),!l)return;const{drawData:u}=l,{update:c,add:d}=u,h={animation:o,stage:"expand",data:u};d.edges.forEach(e=>c.edges.set(Ad(e),e)),d.nodes.forEach(e=>c.nodes.set(Ad(e),e)),this.updateElements(c,h),yield null===(n=this.context.animation.animate(o,{beforeAnimate:e=>this.emit(new NG(Ac.BEFORE_ANIMATE,Mc.EXPAND,e,u),h),afterAnimate:e=>this.emit(new NG(Ac.AFTER_ANIMATE,Mc.EXPAND,e,u),h)},{expand:{target:e,descendants:Array.from(d.nodes).map(([,e])=>Ad(e)),position:s}}))||void 0===n?void 0:n.finished})}collapseCombo(e,t){return YG(this,void 0,void 0,function*(){var n;const{model:r,element:i}=this.context;if(r.getAncestorsData(e,Dc).some(e=>Vh(e)))return;const o=i.getElement(e),a=o.getComboPosition(Object.assign(Object.assign({},o.attributes),{collapsed:!0})),s=this.computeChangesAndDrawData({stage:"collapse",animation:t});if(!s)return;const{dataChanges:l,drawData:u}=s;this.markDestroyElement(u);const{update:c,remove:d}=u,h={animation:t,stage:"collapse",data:u};this.destroyElements(d,h),this.updateElements(c,h);const f=e=>Array.from(e).map(([,e])=>Ad(e));yield null===(n=this.context.animation.animate(t,{before:()=>this.emit(new CG(Ac.BEFORE_DRAW,{dataChanges:l,animation:t}),h),beforeAnimate:e=>this.emit(new NG(Ac.BEFORE_ANIMATE,Mc.COLLAPSE,e,u),h),afterAnimate:e=>this.emit(new NG(Ac.AFTER_ANIMATE,Mc.COLLAPSE,e,u),h),after:()=>this.emit(new CG(Ac.AFTER_DRAW,{dataChanges:l,animation:t}),h)},{collapse:{target:e,descendants:[...f(d.nodes),...f(d.combos)],position:a}}))||void 0===n?void 0:n.finished})}expandCombo(e,t){return YG(this,void 0,void 0,function*(){var n;const{model:r}=this.context,i=hh(r.getComboData([e])[0]);this.computeStyle("expand");const o=this.computeChangesAndDrawData({stage:"expand",animation:t});if(!o)return;const{dataChanges:a,drawData:s}=o,{add:l,update:u}=s,c={animation:t,stage:"expand",data:s,target:e};this.createElements(l,c),this.updateElements(u,c);const d=e=>Array.from(e).map(([,e])=>Ad(e));yield null===(n=this.context.animation.animate(t,{before:()=>this.emit(new CG(Ac.BEFORE_DRAW,{dataChanges:a,animation:t}),c),beforeAnimate:e=>this.emit(new NG(Ac.BEFORE_ANIMATE,Mc.EXPAND,e,s),c),afterAnimate:e=>this.emit(new NG(Ac.AFTER_ANIMATE,Mc.EXPAND,e,s),c),after:()=>this.emit(new CG(Ac.AFTER_DRAW,{dataChanges:a,animation:t}),c)},{expand:{target:e,descendants:[...d(l.nodes),...d(l.combos)],position:i}}))||void 0===n?void 0:n.finished})}clear(){this.container.destroy(),this.initContainer(),this.elementMap={},this.shapeTypeMap={},this.defaultStyle={},this.stateStyle={},this.paletteStyle={}}destroy(){this.clear(),this.container.destroy(),this.context={}}}var KG=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})},QG=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class ZG{get presetOptions(){return{animation:!!Gc(this.context.options,!0)}}get options(){const{options:e}=this.context;return e.layout}constructor(e){this.instances=[],this.context=e}getLayoutInstance(){return this.instances}preLayout(e){return KG(this,void 0,void 0,function*(){var t,n,r,i;const{graph:o,model:a}=this.context,{add:s}=e;RG(o,new CG(Ac.BEFORE_LAYOUT,{type:"pre"}));const l=yield null===(t=this.context.layout)||void 0===t?void 0:t.simulate();null===(n=null==l?void 0:l.nodes)||void 0===n||n.forEach(e=>{const t=Ad(e),n=s.nodes.get(t);a.syncNodeLikeDatum(e),n&&Object.assign(n.style,e.style)}),null===(r=null==l?void 0:l.edges)||void 0===r||r.forEach(e=>{const t=Ad(e),n=s.edges.get(t);a.syncEdgeDatum(e),n&&Object.assign(n.style,e.style)}),null===(i=null==l?void 0:l.combos)||void 0===i||i.forEach(e=>{const t=Ad(e),n=s.combos.get(t);a.syncNodeLikeDatum(e),n&&Object.assign(n.style,e.style)}),RG(o,new CG(Ac.AFTER_LAYOUT,{type:"pre"})),this.transformDataAfterLayout("pre",e)})}postLayout(){return KG(this,arguments,void 0,function*(e=this.options){if(!e)return;const t=Array.isArray(e)?e:[e],{graph:n}=this.context;RG(n,new CG(Ac.BEFORE_LAYOUT,{type:"post"}));for(let e=0;e<t.length;e++){const r=t[e],i=this.getLayoutData(r),o=Object.assign(Object.assign({},this.presetOptions),r);RG(n,new CG(Ac.BEFORE_STAGE_LAYOUT,{options:o,index:e}));const a=yield this.stepLayout(i,o,e);RG(n,new CG(Ac.AFTER_STAGE_LAYOUT,{options:o,index:e})),r.animation||this.updateElementPosition(a,!1)}RG(n,new CG(Ac.AFTER_LAYOUT,{type:"post"})),this.transformDataAfterLayout("post")})}transformDataAfterLayout(e,t){const n=this.context.transform.getTransformInstance();Object.values(n).forEach(n=>n.afterLayout(e,t))}simulate(){return KG(this,void 0,void 0,function*(){if(!this.options)return{};const e=Array.isArray(this.options)?this.options:[this.options];let t={};for(let n=0;n<e.length;n++){const r=e[n],i=this.getLayoutData(r);t=yield this.stepLayout(i,Object.assign(Object.assign(Object.assign({},this.presetOptions),r),{animation:!1}),n)}return t})}stepLayout(e,t,n){return KG(this,void 0,void 0,function*(){return function(e){const{type:t}=e;return["compact-box","mindmap","dendrogram","indented"].includes(t)}(t)?yield this.treeLayout(e,t,n):yield this.graphLayout(e,t,n)})}graphLayout(e,t,n){return KG(this,void 0,void 0,function*(){const{animation:r,enableWorker:i,iterations:o=300}=t,a=this.initGraphLayout(t);if(!a)return{};if(this.instances[n]=a,this.instance=a,i){const t=a;return this.supervisor=new uF(t.graphData2LayoutModel(e),t.instance,{iterations:o}),xm(yield this.supervisor.execute())}if(Tx(a))return r?yield a.execute(e,{onTick:e=>{this.updateElementPosition(e,!1)}}):(a.execute(e),a.stop(),a.tick(o));const s=yield a.execute(e);if(r){const e=this.updateElementPosition(s,r);yield null==e?void 0:e.finished}return s})}treeLayout(e,t,n){return KG(this,void 0,void 0,function*(){const{type:n,animation:r}=t,i=Fc("layout",n);if(!i)return{};const{nodes:o=[],edges:a=[]}=e,s=new ym({nodes:o.map(e=>({id:Ad(e),data:e.data||{}})),edges:a.map(e=>({id:Ad(e),source:e.source,target:e.target,data:e.data||{}}))});!function(e){if(e.hasTreeStructure(Lc))return;e.attachTreeStructure(Lc);const t=e.getAllEdges();for(const n of t){const{source:t,target:r}=n;e.setParent(r,t,Lc)}}(s);const l={nodes:[],edges:[]},u={nodes:[],edges:[]};s.getRoots(Lc).forEach(e=>{Ih(e,e=>{e.children=s.getSuccessors(e.id)},e=>s.getSuccessors(e.id),"TB");const n=i(e,t),{x:r,y:o,z:a=0}=n;Ih(n,e=>{const{id:t,x:n,y:i,z:s=0}=e;l.nodes.push({id:t,style:{x:r,y:o,z:a}}),u.nodes.push({id:t,style:{x:n,y:i,z:s}})},e=>e.children,"TB")});const c=this.inferTreeLayoutOffset(u);if(JG(u,c),r){JG(l,c),this.updateElementPosition(l,!1);const e=this.updateElementPosition(u,r);yield null==e?void 0:e.finished}return u})}inferTreeLayoutOffset(e){var t;let[n,r]=[1/0,-1/0],[i,o]=[1/0,-1/0];null===(t=e.nodes)||void 0===t||t.forEach(e=>{const{x:t=0,y:a=0}=e.style||{};n=Math.min(n,t),r=Math.max(r,t),i=Math.min(i,a),o=Math.max(o,a)});const{canvas:a}=this.context,s=a.getSize(),[l,u]=a.getCanvasByViewport([0,0]),[c,d]=a.getCanvasByViewport(s);if(n>=l&&r<=c&&i>=u&&o<=d)return[0,0];return[(l+c)/2-(n+r)/2,(u+d)/2-(i+o)/2]}stopLayout(){this.instance&&Tx(this.instance)&&(this.instance.stop(),this.instance=void 0),this.supervisor&&(this.supervisor.stop(),this.supervisor=void 0),this.animationResult&&(this.animationResult.finish(),this.animationResult=void 0)}getLayoutData(e){const{nodeFilter:t=()=>!0,preLayout:n=!1,isLayoutInvisibleNodes:r=!1}=e,{nodes:i,edges:o,combos:a}=this.context.model.getData(),{element:s,model:l}=this.context,u=e=>s.getElement(e),c=n?e=>{var n;if(!r){if("hidden"===(null===(n=e.style)||void 0===n?void 0:n.visibility))return!1;if(l.getAncestorsData(e.id,Lc).some(Vh))return!1;if(l.getAncestorsData(e.id,Dc).some(Vh))return!1}return t(e)}:e=>{const n=Ad(e),r=u(n);return!!r&&(!nm(r)&&t(e))},d=i.filter(c),h=new Map(d.map(e=>[Ad(e),e]));a.forEach(e=>h.set(Ad(e),e));return{nodes:d,edges:o.filter(({source:e,target:t})=>h.has(e)&&h.has(t)),combos:a}}initGraphLayout(e){var t;const{element:n,viewport:r}=this.context,{type:i,enableWorker:o,animation:a,iterations:s}=e,l=QG(e,["type","enableWorker","animation","iterations"]),[u,c]=r.getCanvasSize(),d=[u/2,c/2],h=null!==(t=null==e?void 0:e.nodeSize)&&void 0!==t?t:e=>{const t=null==n?void 0:n.getElement(e.id);return t?t.attributes.size:null==n?void 0:n.getElementComputedStyle("node",e).size},f=Fc("layout",i);if(!f)return Bc(`The layout of ${i} is not registered.`);const p=Object.getPrototypeOf(f.prototype)===vm.prototype?f:function(e,t){return class extends vm{constructor(t,n){if(super(t,n),this.instance=new e({}),this.id=this.instance.id,"stop"in this.instance&&"tick"in this.instance){const e=this.instance;this.stop=e.stop.bind(e),this.tick=t=>xm(e.tick(t))}}execute(e,t){return bm(this,void 0,void 0,function*(){return xm(yield this.instance.execute(this.graphData2LayoutModel(e),this.transformOptions(St({},this.options,t))))})}transformOptions(e){if(!("onTick"in e))return e;const t=e.onTick;return e.onTick=e=>t(xm(e)),e}graphData2LayoutModel(e){const{nodes:n=[],edges:r=[],combos:i=[]}=e,o=n.map(e=>{const t=Ad(e),{data:n,style:r,combo:i}=e,o=wm(e,["data","style","combo"]),a={id:t,data:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),{data:n}),i?{parentId:i}:{}),{style:r}),o)};return(null==r?void 0:r.x)&&Object.assign(a.data,{x:r.x}),(null==r?void 0:r.y)&&Object.assign(a.data,{y:r.y}),(null==r?void 0:r.z)&&Object.assign(a.data,{z:r.z}),a}),a=new Map(o.map(e=>[e.id,e])),s=r.filter(e=>{const{source:t,target:n}=e;return a.has(t)&&a.has(n)}).map(e=>{const{source:t,target:n,data:r,style:i}=e;return{id:Ad(e),source:t,target:n,data:Object.assign({},r),style:Object.assign({},i)}}),l=i.map(e=>({id:Ad(e),data:Object.assign({_isCombo:!0},e.data),style:Object.assign({},e.style)})),u=new ym({nodes:[...o,...l],edges:s});return t.model.model.hasTreeStructure(Dc)&&(u.attachTreeStructure(Dc),o.forEach(e=>{const n=t.model.model.getParent(e.id,Dc);n&&u.hasNode(n.id)&&u.setParent(e.id,n.id,Dc)})),u}}}(f,this.context),g=new p(this.context),m={nodeSize:h,width:u,height:c,center:d};switch(g.id){case"d3-force":case"d3-force-3d":Object.assign(m,{center:{x:u/2,y:c/2,z:0}})}return St(g.options,m,l),g}updateElementPosition(e,t){const{model:n,element:r}=this.context;return r?(n.updateData(e),r.draw({animation:t,silence:!0})):null}destroy(){var e;this.stopLayout(),this.context={},null===(e=this.supervisor)||void 0===e||e.kill(),this.supervisor=void 0,this.instance=void 0,this.instances=[],this.animationResult=void 0}}const JG=(e,t)=>{var n;const[r,i]=t;null===(n=e.nodes)||void 0===n||n.forEach(e=>{if(e.style){const{x:t=0,y:n=0}=e.style;e.style.x=t+r,e.style.y=n+i}else e.style={x:r,y:i}})};function e$(e){return e.layout?(Array.isArray(e.layout)||"preLayout"in e.layout||["antv-dagre","combo-combined","compact-box","circular","concentric","dagre","fishbone","grid","indented","mds","radial","random","snake","dendrogram","mindmap"].includes(e.layout.type)&&(e.layout.preLayout=!0),e):e}class t$ extends Wd{constructor(e){super(e),this.category="plugin",this.setPlugins(this.context.options.plugins||[])}setPlugins(e){this.setExtensions(e)}getPluginInstance(e){const t=this.extensionMap[e];if(t)return t;Bc(`Cannot find the plugin ${e}, will try to find it by type.`);const n=this.extensions.find(t=>t.type===e);return n?this.extensionMap[n.key]:void 0}}const n$=["update-related-edges","collapse-expand-node","collapse-expand-combo","get-edge-actual-ends","arrange-draw-order"];class r$ extends Wd{constructor(e){super(e),this.category="transform",this.setTransforms(this.context.options.transforms||[])}getTransforms(){}setTransforms(e){this.setExtensions([...n$.slice(0,n$.length-1),...e,n$[n$.length-1]])}getTransformInstance(e){return e?this.extensionMap[e]:this.extensionMap}}var i$=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class o${get padding(){return id(this.context.options.padding)}get paddingOffset(){const[e,t,n,r]=this.padding,[i,o,a]=[(r-t)/2,(e-n)/2,0];return[i,o,a]}constructor(e){this.landmarkCounter=0,this.context=e;const[t,n]=this.paddingOffset,{zoom:r,rotation:i,x:o=t,y:a=n}=e.options;this.transform({mode:"absolute",scale:r,translate:[o,a],rotate:i},!1)}get camera(){const{canvas:e}=this.context;return new Proxy(e.getCamera(),{get:(t,n)=>{const r=Object.entries(e.getLayers()).filter(([e])=>!["main"].includes(e)),i=r.map(([,e])=>e.getCamera()),o=t[n];if("function"==typeof o)return(...e)=>{const r=o.apply(t,e);return i.forEach(t=>{t[n].apply(t,e)}),r}}})}createLandmark(e){return this.camera.createLandmark("landmark-"+this.landmarkCounter++,e)}getAnimation(e){const t=Gc(this.context.options,e);return!!t&&At(Object.assign({},t),["easing","duration"])}getCanvasSize(){const{canvas:e}=this.context,{width:t=0,height:n=0}=e.getConfig();return[t,n]}getCanvasCenter(){const{canvas:e}=this.context,{width:t=0,height:n=0}=e.getConfig();return[t/2,n/2,0]}getViewportCenter(){const[e,t]=this.camera.getPosition();return[e,t,0]}getGraphCenter(){return this.context.graph.getViewportByCanvas(this.getCanvasCenter())}getZoom(){return this.camera.getZoom()}getRotation(){return this.camera.getRoll()}getTranslateOptions(e){const{camera:t}=this,{mode:n,translate:r=[]}=e,i=this.getZoom(),o=t.getPosition(),a=t.getFocalPoint(),[s,l]=this.getCanvasCenter(),[u=0,c=0,d=0]=r,h=Zd([-u,-c,-d],i);return"relative"===n?{position:Xd(o,h),focalPoint:Xd(a,h)}:{position:Xd([s,l,o[2]],h),focalPoint:Xd([s,l,a[2]],h)}}getRotateOptions(e){const{mode:t,rotate:n=0}=e;return{roll:"relative"===t?this.camera.getRoll()+n:n}}getZoomOptions(e){const{zoomRange:t}=this.context.options,n=this.camera.getZoom(),{mode:r,scale:i=1}=e;return at("relative"===r?n*i:i,...t)}transform(e,t){return i$(this,void 0,void 0,function*(){const{graph:n}=this.context,{translate:r,rotate:i,scale:o,origin:a}=e;this.cancelAnimation();const s=this.getAnimation(t);if(RG(n,new AG(Ac.BEFORE_TRANSFORM,e)),!i&&o&&!r&&a&&!s)return this.camera.setZoomByViewportPoint(this.getZoomOptions(e),a),void RG(n,new AG(Ac.AFTER_TRANSFORM,e));const l={};if(r&&Object.assign(l,this.getTranslateOptions(e)),st(i)&&Object.assign(l,this.getRotateOptions(e)),st(o)&&Object.assign(l,{zoom:this.getZoomOptions(e)}),s)return RG(n,new NG(Ac.BEFORE_ANIMATE,Mc.TRANSFORM,null,e)),new Promise(t=>{this.transformResolver=t,this.camera.gotoLandmark(this.createLandmark(l),Object.assign(Object.assign({},s),{onfinish:()=>{RG(n,new NG(Ac.AFTER_ANIMATE,Mc.TRANSFORM,null,e)),RG(n,new AG(Ac.AFTER_TRANSFORM,e)),this.transformResolver=void 0,t()}}))});this.camera.gotoLandmark(this.createLandmark(l),{duration:0}),RG(n,new AG(Ac.AFTER_TRANSFORM,e))})}fitView(e,t){return i$(this,void 0,void 0,function*(){const[n,r,i,o]=this.padding,{when:a="always",direction:s="both"}=e||{},[l,u]=this.context.canvas.getSize(),c=l-o-r,d=u-n-i,h=this.context.canvas.getBounds(),f=this.getBBoxInViewport(h),[p,g]=ld(f);if("overflow"===a&&!("x"===s&&p>=c||"y"===s&&g>=d||"both"===s&&p>=c&&g>=d))return yield this.fitCenter({animation:t});const m=c/p,y=d/g,v="x"===s?m:"y"===s?y:Math.min(m,y),b=this.getAnimation(t);yield this.transform({mode:"relative",scale:v,translate:Xd(Kd(this.getCanvasCenter(),this.getBBoxInViewport(h).center),Zd(this.paddingOffset,v))},b)})}fitCenter(e){return i$(this,void 0,void 0,function*(){const t=this.context.canvas.getBounds();yield this.focus(t,e)})}focusElements(e){return i$(this,arguments,void 0,function*(e,t={}){const{element:n}=this.context;if(!n)return;const r=hd(e.map(e=>{return r=n.getElement(e),t.shapes?r.getShape(t.shapes).getRenderBounds():r.getRenderBounds();var r}));yield this.focus(r,t)})}focus(e,t){return i$(this,void 0,void 0,function*(){const n=this.context.graph.getViewportByCanvas(e.center),r=Kd(t.position||this.getCanvasCenter(),n);yield this.transform({mode:"relative",translate:Xd(r,this.paddingOffset)},t.animation)})}getBBoxInViewport(e){const{min:t,max:n}=e,{graph:r}=this.context,[i,o]=r.getViewportByCanvas(t),[a,s]=r.getViewportByCanvas(n),l=new Sr;return l.setMinMax([i,o,0],[a,s,0]),l}isInViewport(e,t=!1,n=0){const{graph:r}=this.context,i=this.getCanvasSize(),[o,a]=r.getCanvasByViewport([0,0]),[s,l]=r.getCanvasByViewport(i);let u=new Sr;return u.setMinMax([o,a,0],[s,l,0]),n&&(u=dd(u,n)),nd(e)?fd(e,u):t?function(e,t){const[n,r]=e.min,[i,o]=e.max,[a,s]=t.min,[l,u]=t.max;return n>=a&&i<=l&&r>=s&&o<=u}(e,u):u.intersects(e)}cancelAnimation(){var e,t;(null===(e=this.camera.landmarks)||void 0===e?void 0:e.length)&&this.camera.cancelLandmarkAnimation(),null===(t=this.transformResolver)||void 0===t||t.call(this)}}var a$=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class s$ extends hm{constructor(e){var t;super(),this.options={},this.rendered=!1,this.destroyed=!1,this.context={model:new qG},this.isCollapsingExpanding=!1,this.onResize=bt(()=>{this.resize()},300),this._setOptions(Object.assign({},s$.defaultOptions,e),!0),this.context.graph=this,this.options.autoResize&&(null===(t=globalThis.addEventListener)||void 0===t||t.call(globalThis,"resize",this.onResize))}getOptions(){return this.options}setOptions(e){this._setOptions(e,!1)}_setOptions(e,t){if(this.updateCanvas(e),Object.assign(this.options,function(e){return[e$].reduce((e,t)=>t(e),e)}(e)),t){const{data:t}=e;return void(t&&this.addData(t))}const{behaviors:n,combo:r,data:i,edge:o,layout:a,node:s,plugins:l,theme:u,transforms:c}=e;n&&this.setBehaviors(n),i&&this.setData(i),s&&this.setNode(s),o&&this.setEdge(o),r&&this.setCombo(r),a&&this.setLayout(a),u&&this.setTheme(u),l&&this.setPlugins(l),c&&this.setTransforms(c)}getSize(){return this.context.canvas?this.context.canvas.getSize():[this.options.width||0,this.options.height||0]}setSize(e,t){e&&(this.options.width=e),t&&(this.options.height=t),this.resize(e,t)}setZoomRange(e){this.options.zoomRange=e}getZoomRange(){return this.options.zoomRange}setNode(e){this.options.node=e,this.context.model.refreshData()}setEdge(e){this.options.edge=e,this.context.model.refreshData()}setCombo(e){this.options.combo=e,this.context.model.refreshData()}getTheme(){return this.options.theme}setTheme(e){this.options.theme=$e(e)?e(this.getTheme()):e}setLayout(e){this.options.layout=$e(e)?e(this.getLayout()):e}getLayout(){return this.options.layout}setBehaviors(e){var t;this.options.behaviors=$e(e)?e(this.getBehaviors()):e,null===(t=this.context.behavior)||void 0===t||t.setBehaviors(this.options.behaviors)}updateBehavior(e){this.setBehaviors(t=>t.map(t=>"object"==typeof t&&t.key===e.key?Object.assign(Object.assign({},t),e):t))}getBehaviors(){return this.options.behaviors||[]}setPlugins(e){var t;this.options.plugins=$e(e)?e(this.getPlugins()):e,null===(t=this.context.plugin)||void 0===t||t.setPlugins(this.options.plugins)}updatePlugin(e){this.setPlugins(t=>t.map(t=>"object"==typeof t&&t.key===e.key?Object.assign(Object.assign({},t),e):t))}getPlugins(){return this.options.plugins||[]}getPluginInstance(e){return this.context.plugin.getPluginInstance(e)}setTransforms(e){var t;this.options.transforms=$e(e)?e(this.getTransforms()):e,null===(t=this.context.transform)||void 0===t||t.setTransforms(this.options.transforms)}updateTransform(e){this.setTransforms(t=>t.map(t=>"object"==typeof t&&t.key===e.key?Object.assign(Object.assign({},t),e):t)),this.context.model.refreshData()}getTransforms(){return this.options.transforms||[]}getData(){return this.context.model.getData()}getElementData(e){return Array.isArray(e)?e.map(e=>this.context.model.getElementDataById(e)):this.context.model.getElementDataById(e)}getNodeData(e){return void 0===e?this.context.model.getNodeData():Array.isArray(e)?this.context.model.getNodeData(e):this.context.model.getNodeLikeDatum(e)}getEdgeData(e){return void 0===e?this.context.model.getEdgeData():Array.isArray(e)?this.context.model.getEdgeData(e):this.context.model.getEdgeDatum(e)}getComboData(e){return void 0===e?this.context.model.getComboData():Array.isArray(e)?this.context.model.getComboData(e):this.context.model.getNodeLikeDatum(e)}setData(e){this.context.model.setData($e(e)?e(this.getData()):e)}addData(e){this.context.model.addData($e(e)?e(this.getData()):e)}addNodeData(e){this.context.model.addNodeData($e(e)?e(this.getNodeData()):e)}addEdgeData(e){this.context.model.addEdgeData($e(e)?e(this.getEdgeData()):e)}addComboData(e){this.context.model.addComboData($e(e)?e(this.getComboData()):e)}addChildrenData(e,t){this.context.model.addChildrenData(e,t)}updateData(e){this.context.model.updateData($e(e)?e(this.getData()):e)}updateNodeData(e){this.context.model.updateNodeData($e(e)?e(this.getNodeData()):e)}updateEdgeData(e){this.context.model.updateEdgeData($e(e)?e(this.getEdgeData()):e)}updateComboData(e){this.context.model.updateComboData($e(e)?e(this.getComboData()):e)}removeData(e){this.context.model.removeData($e(e)?e(this.getData()):e)}removeNodeData(e){this.context.model.removeNodeData($e(e)?e(this.getNodeData()):e)}removeEdgeData(e){this.context.model.removeEdgeData($e(e)?e(this.getEdgeData()):e)}removeComboData(e){this.context.model.removeComboData($e(e)?e(this.getComboData()):e)}getElementType(e){return this.context.model.getElementType(e)}getRelatedEdgesData(e,t="both"){return this.context.model.getRelatedEdgesData(e,t)}getNeighborNodesData(e){return this.context.model.getNeighborNodesData(e)}getAncestorsData(e,t){return this.context.model.getAncestorsData(e,t)}getParentData(e,t){return this.context.model.getParentData(e,t)}getChildrenData(e){return this.context.model.getChildrenData(e)}getDescendantsData(e){return this.context.model.getDescendantsData(e)}getElementDataByState(e,t){return this.context.model.getElementDataByState(e,t)}initCanvas(){return a$(this,void 0,void 0,function*(){var e;if(this.context.canvas)return yield this.context.canvas.ready;const{container:t="container",width:n,height:r,renderer:i,cursor:o,background:a,canvas:s,devicePixelRatio:l=(null!==(e=globalThis.devicePixelRatio)&&void 0!==e?e:1)}=this.options;if(t instanceof EG)this.context.canvas=t,o&&t.setCursor(o),i&&t.setRenderer(i),yield t.ready;else{const e=rt(t)?document.getElementById(t):t,u=TG(e);this.emit(Ac.BEFORE_CANVAS_INIT,{container:e,width:n,height:r});const c=Object.assign(Object.assign({},s),{container:e,width:n||u[0],height:r||u[1],background:a,renderer:i,cursor:o,devicePixelRatio:l}),d=new EG(c);this.context.canvas=d,yield d.ready,this.emit(Ac.AFTER_CANVAS_INIT,{canvas:d})}})}updateCanvas(e){var t,n;const{renderer:r,cursor:i,height:o,width:a}=e,s=this.context.canvas;s&&(r&&(this.emit(Ac.BEFORE_RENDERER_CHANGE,{renderer:this.options.renderer}),s.setRenderer(r),this.emit(Ac.AFTER_RENDERER_CHANGE,{renderer:r})),i&&s.setCursor(i),(st(a)||st(o))&&this.setSize(null!==(t=null!=a?a:this.options.width)&&void 0!==t?t:0,null!==(n=null!=o?o:this.options.height)&&void 0!==n?n:0))}initRuntime(){this.context.options=this.options,this.context.batch||(this.context.batch=new FG(this.context)),this.context.plugin||(this.context.plugin=new t$(this.context)),this.context.viewport||(this.context.viewport=new o$(this.context)),this.context.transform||(this.context.transform=new r$(this.context)),this.context.element||(this.context.element=new XG(this.context)),this.context.animation||(this.context.animation=new zG(this.context)),this.context.layout||(this.context.layout=new ZG(this.context)),this.context.behavior||(this.context.behavior=new jG(this.context))}prepare(){return a$(this,void 0,void 0,function*(){yield Promise.resolve(),this.destroyed?console.error(jc("The graph instance has been destroyed")):(yield this.initCanvas(),this.initRuntime())})}render(){return a$(this,void 0,void 0,function*(){if(yield this.prepare(),RG(this,new CG(Ac.BEFORE_RENDER)),this.options.layout)if(this.rendered||(e=this.options.layout,Array.isArray(e)||!(null==e?void 0:e.preLayout))){const e=this.context.element.draw({type:"render"});yield Promise.all([null==e?void 0:e.finished,this.context.layout.postLayout()]),yield this.autoFit()}else{const e=yield this.context.element.preLayoutDraw({type:"render"});yield Promise.all([null==e?void 0:e.finished,this.autoFit()])}else{const e=this.context.element.draw({type:"render"});yield Promise.all([null==e?void 0:e.finished,this.autoFit()])}var e;this.rendered=!0,RG(this,new CG(Ac.AFTER_RENDER))})}draw(){return a$(this,void 0,void 0,function*(){var e;yield this.prepare(),yield null===(e=this.context.element.draw())||void 0===e?void 0:e.finished})}layout(e){return a$(this,void 0,void 0,function*(){yield this.context.layout.postLayout(e)})}stopLayout(){this.context.layout.stopLayout()}clear(){return a$(this,void 0,void 0,function*(){const{model:e,element:t}=this.context;e.setData({}),e.clearChanges(),null==t||t.clear()})}destroy(){var e;RG(this,new CG(Ac.BEFORE_DESTROY));const{layout:t,animation:n,element:r,model:i,canvas:o,behavior:a,plugin:s}=this.context;null==s||s.destroy(),null==a||a.destroy(),null==t||t.destroy(),null==n||n.destroy(),null==r||r.destroy(),i.destroy(),null==o||o.destroy(),this.options={},this.context={},this.off(),null===(e=globalThis.removeEventListener)||void 0===e||e.call(globalThis,"resize",this.onResize),this.destroyed=!0,RG(this,new CG(Ac.AFTER_DESTROY))}getCanvas(){return this.context.canvas}resize(e,t){var n;const r=TG(null===(n=this.context.canvas)||void 0===n?void 0:n.getContainer()),i=[e||r[0],t||r[1]];if(!this.context.canvas)return;const o=this.context.canvas.getSize();Ot(i,o)||(RG(this,new CG(Ac.BEFORE_SIZE_CHANGE,{size:i})),this.context.canvas.resize(...i),RG(this,new CG(Ac.AFTER_SIZE_CHANGE,{size:i})))}fitView(e,t){return a$(this,void 0,void 0,function*(){var n;yield null===(n=this.context.viewport)||void 0===n?void 0:n.fitView(e,t)})}fitCenter(e){return a$(this,void 0,void 0,function*(){var t;yield null===(t=this.context.viewport)||void 0===t?void 0:t.fitCenter({animation:e})})}autoFit(){return a$(this,void 0,void 0,function*(){const{autoFit:e}=this.context.options;if(e)if(rt(e))"view"===e?yield this.fitView():"center"===e&&(yield this.fitCenter());else{const{type:t,animation:n}=e;"view"===t?yield this.fitView(e.options,n):"center"===t&&(yield this.fitCenter(n))}})}focusElement(e,t){return a$(this,void 0,void 0,function*(){var n;yield null===(n=this.context.viewport)||void 0===n?void 0:n.focusElements(Array.isArray(e)?e:[e],{animation:t})})}zoomBy(e,t,n){return a$(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"relative",scale:e,origin:n},t)})}zoomTo(e,t,n){return a$(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"absolute",scale:e,origin:n},t)})}getZoom(){return this.context.viewport.getZoom()}rotateBy(e,t,n){return a$(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"relative",rotate:e,origin:n},t)})}rotateTo(e,t,n){return a$(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"absolute",rotate:e,origin:n},t)})}getRotation(){return this.context.viewport.getRotation()}translateBy(e,t){return a$(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"relative",translate:e},t)})}translateTo(e,t){return a$(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"absolute",translate:e},t)})}getPosition(){return Kd([0,0],this.getCanvasByViewport([0,0]))}translateElementBy(e,t){return a$(this,arguments,void 0,function*(e,t,n=!0){var r,i;const[o,a]=Xe(e)?[e,null===(r=t)||void 0===r||r]:[{[e]:t},n];Object.entries(o).forEach(([e,t])=>this.context.model.translateNodeLikeBy(e,t)),yield null===(i=this.context.element.draw({animation:a,stage:"translate"}))||void 0===i?void 0:i.finished})}translateElementTo(e,t){return a$(this,arguments,void 0,function*(e,t,n=!0){var r,i;const[o,a]=Xe(e)?[e,null===(r=t)||void 0===r||r]:[{[e]:t},n];Object.entries(o).forEach(([e,t])=>this.context.model.translateNodeLikeTo(e,t)),yield null===(i=this.context.element.draw({animation:a,stage:"translate"}))||void 0===i?void 0:i.finished})}getElementPosition(e){return this.context.model.getElementPosition(e)}getElementRenderStyle(e){return Rt(this.context.element.getElement(e).attributes,["context"])}setElementVisibility(e,t){return a$(this,arguments,void 0,function*(e,t,n=!0){var r,i;const[o,a]=Xe(e)?[e,null===(r=t)||void 0===r||r]:[{[e]:t},n],s={nodes:[],edges:[],combos:[]};Object.entries(o).forEach(([e,t])=>{const n=this.getElementType(e);s[`${n}s`].push({id:e,style:{visibility:t}})});const{model:l,element:u}=this.context;l.preventUpdateNodeLikeHierarchy(()=>{l.updateData(s)}),yield null===(i=u.draw({animation:a,stage:"visibility"}))||void 0===i?void 0:i.finished})}showElement(e,t){return a$(this,void 0,void 0,function*(){const n=Array.isArray(e)?e:[e];yield this.setElementVisibility(Object.fromEntries(n.map(e=>[e,"visible"])),t)})}hideElement(e,t){return a$(this,void 0,void 0,function*(){const n=Array.isArray(e)?e:[e];yield this.setElementVisibility(Object.fromEntries(n.map(e=>[e,"hidden"])),t)})}getElementVisibility(e){var t,n;const r=this.context.element.getElement(e);return null!==(n=null===(t=null==r?void 0:r.style)||void 0===t?void 0:t.visibility)&&void 0!==n?n:"visible"}setElementZIndex(e,t){return a$(this,void 0,void 0,function*(){var n;const r={nodes:[],edges:[],combos:[]},i=Xe(e)?e:{[e]:t};Object.entries(i).forEach(([e,t])=>{const n=this.getElementType(e);r[`${n}s`].push({id:e,style:{zIndex:t}})});const{model:o,element:a}=this.context;o.preventUpdateNodeLikeHierarchy(()=>o.updateData(r)),yield null===(n=a.draw({animation:!1,stage:"zIndex"}))||void 0===n?void 0:n.finished})}frontElement(e){return a$(this,void 0,void 0,function*(){const t=Array.isArray(e)?e:[e],{model:n}=this.context,r={};t.map(e=>{const t=n.getFrontZIndex(e);if("combo"===n.getElementType(e)){const i=n.getAncestorsData(e,Dc).at(-1)||this.getComboData(e),o=[i,...n.getDescendantsData(Ad(i))],a=t-_G(i);o.forEach(e=>{r[Ad(e)]=this.getElementZIndex(Ad(e))+a});const{internal:s}=yg(o.map(Ad),e=>n.getRelatedEdgesData(e));s.forEach(e=>{const t=Ad(e);r[t]=this.getElementZIndex(t)+a})}else r[e]=t}),yield this.setElementZIndex(r)})}getElementZIndex(e){return _G(this.context.model.getElementDataById(e))}setElementState(e,t){return a$(this,arguments,void 0,function*(e,t,n=!0){var r,i;const[o,a]=Xe(e)?[e,null===(r=t)||void 0===r||r]:[{[e]:t},n],s={nodes:[],edges:[],combos:[]};Object.entries(o).forEach(([e,t])=>{const n=this.getElementType(e);var r;s[`${n}s`].push({id:e,states:(r=t,r?Array.isArray(r)?r:[r]:[])})}),this.updateData(s),yield null===(i=this.context.element.draw({animation:a,stage:"state"}))||void 0===i?void 0:i.finished})}getElementState(e){return this.context.model.getElementState(e)}getElementRenderBounds(e){return this.context.element.getElement(e).getRenderBounds()}collapseElement(e){return a$(this,arguments,void 0,function*(e,t=!0){const{model:n,element:r}=this.context;if(Vh(n.getNodeLikeData([e])[0]))return;if(this.isCollapsingExpanding)return;"boolean"==typeof t&&(t={animation:t,align:!0});const i=n.getElementType(e);yield this.frontElement(e),this.isCollapsingExpanding=!0,n.updateData("node"===i?{nodes:[{id:e,style:{collapsed:!0}}]}:{combos:[{id:e,style:{collapsed:!0}}]}),"node"===i?yield r.collapseNode(e,t):"combo"===i&&(yield r.collapseCombo(e,!!t.animation)),this.isCollapsingExpanding=!1})}expandElement(e){return a$(this,arguments,void 0,function*(e,t=!0){const{model:n,element:r}=this.context;if(!Vh(n.getNodeLikeData([e])[0]))return;if(this.isCollapsingExpanding)return;"boolean"==typeof t&&(t={animation:t,align:!0});const i=n.getElementType(e);this.isCollapsingExpanding=!0,n.updateData("node"===i?{nodes:[{id:e,style:{collapsed:!1}}]}:{combos:[{id:e,style:{collapsed:!1}}]}),"node"===i?yield r.expandNode(e,t):"combo"===i&&(yield r.expandCombo(e,!!t.animation)),this.isCollapsingExpanding=!1})}setElementCollapsibility(e,t){const n=this.getElementType(e);"node"===n?this.updateNodeData([{id:e,style:{collapsed:t}}]):"combo"===n&&this.updateComboData([{id:e,style:{collapsed:t}}])}toDataURL(){return a$(this,arguments,void 0,function*(e={}){return this.context.canvas.toDataURL(e)})}getCanvasByViewport(e){return this.context.canvas.getCanvasByViewport(e)}getViewportByCanvas(e){return this.context.canvas.getViewportByCanvas(e)}getClientByCanvas(e){return this.context.canvas.getClientByCanvas(e)}getCanvasByClient(e){return this.context.canvas.getCanvasByClient(e)}getViewportCenter(){return this.context.viewport.getViewportCenter()}getCanvasCenter(){return this.context.viewport.getCanvasCenter()}on(e,t,n){return super.on(e,t,n)}once(e,t){return super.once(e,t)}off(e,t){return super.off(e,t)}}s$.defaultOptions={autoResize:!1,theme:"light",rotation:0,zoom:1,zoomRange:[.01,10]};const l$=(e,t)=>{const{source:n,target:r}=t,i=e.getElementDataById(n),o=e.getElementDataById(r),a=vg(i,t=>e.getParentData(t,Dc)),s=vg(o,t=>e.getParentData(t,Dc)),l={sourceNode:Ad(a),targetNode:Ad(s)};return t.style?Object.assign(t.style,l):t.style=l,t};class u$ extends hG{constructor(e,t){super(e,St({},u$.defaultOptions,t)),this.assignSizeByCentrality=(e,t,n,r,i,o)=>{const a=[t,n],s=[r[0],i[0]],l=[r[1],i[1]],u=[r[2],i[2]],c=(e,t)=>{if("function"==typeof o)return o(e,a,t);switch(o){case"linear":return((e,t,n)=>{const[r,i]=t,[o,a]=n;return i===r?o:o+(e-r)/(i-r)*(a-o)})(e,a,t);case"log":return((e,t,n)=>{const[r,i]=t,[o,a]=n;return o+Math.log(e-r+1)/Math.log(i-r+1)*(a-o)})(e,a,t);case"pow":return((e,t,n,r=2)=>{const[i,o]=t,[a,s]=n;return a+Math.pow((e-i)/(o-i),r)*(s-a)})(e,a,t,2);case"sqrt":return((e,t,n)=>{const[r,i]=t,[o,a]=n;return o+Math.sqrt((e-r)/(i-r))*(a-o)})(e,a,t);default:return t[0]}};return[c(e,s),c(e,l),c(e,u)]}}beforeDraw(e){const{model:t}=this.context,n=t.getNodeData(),r=Yh(this.options.maxSize),i=Yh(this.options.minSize),o=this.getCentralities(this.options.centrality),a=o.size>0?Math.max(...o.values()):0,s=o.size>0?Math.min(...o.values()):0;return n.forEach(t=>{var n;const l=this.assignSizeByCentrality(o.get(Ad(t))||0,s,a,i,r,this.options.scale),u=null===(n=this.context.element)||void 0===n?void 0:n.getElement(Ad(t)),c={size:l};this.assignLabelStyle(c,l,t,u),u&&pG(c,u.attributes)||fG(e,u?"update":"add","node",St(t,{style:c}),!0)}),e}assignLabelStyle(e,t,n,r){var i;const o=r?r.config.style:null===(i=this.context.element)||void 0===i?void 0:i.getElementComputedStyle("node",n);if(Object.assign(e,At(o,["labelFontSize","labelLineHeight"])),this.options.mapLabelSize){const n=this.getLabelSizeByNodeSize(t,1/0,Number(e.labelFontSize));Object.assign(e,{labelFontSize:n,labelLineHeight:n+od(e.labelPadding)})}return e}getLabelSizeByNodeSize(e,t,n){const r=Math.min(...e)/2,[i,o]=Array.isArray(this.options.mapLabelSize)?this.options.mapLabelSize:[n,t];return Math.min(o,Math.max(r,i))}getCentralities(e){const{model:t}=this.context,n=t.getData();if("function"==typeof e)return e(n);const r=t.getRelatedEdgesData.bind(t);return Dd(n,r,e)}}u$.defaultOptions={centrality:{type:"degree"},maxSize:80,minSize:20,scale:"linear",mapLabelSize:!1};class c$ extends hG{constructor(e,t){super(e,Object.assign({},c$.defaultOptions,t))}get ref(){return this.context.model.getRootsData()[0]}afterLayout(){var e;const t=hh(this.ref),{graph:n,model:r}=this.context;null===(e=r.getData().nodes)||void 0===e||e.forEach(e=>{var i;if(Ad(e)===Ad(this.ref))return;const o=lh(Kd(hh(e),t)),a=Math.abs(o)>Math.PI/2,s=!e.children||0===e.children.length,l=Ad(e),u=null===(i=this.context.element)||void 0===i?void 0:i.getElement(l);if(!u||!u.isVisible())return;const c=(s?1:-1)*(Yh(n.getElementRenderStyle(l).size)[0]/2+this.options.offset),d=[["translate",c*Math.cos(o),c*Math.sin(o)],["rotate",a?Fr(o)+180:Fr(o)]];r.updateNodeData([{id:Ad(e),style:{labelTextAlign:a===s?"right":"left",labelTextBaseline:"middle",labelTransform:d}}])}),n.draw()}}c$.defaultOptions={offset:5};const d$=["top","top-right","right","right-bottom","bottom","bottom-left","left","left-top"];class h$ extends hG{constructor(e,t){super(e,Object.assign({},h$.defaultOptions,t)),this.cacheMergeStyle=new Map,this.getAffectedParallelEdges=e=>{const{add:{edges:t},update:{nodes:n,edges:r,combos:i},remove:{edges:o}}=e,{model:a}=this.context,s=new Map,l=(e,t)=>{a.getRelatedEdgesData(t).forEach(e=>!s.has(Ad(e))&&s.set(Ad(e),e))};n.forEach(l),i.forEach(l);const u=e=>{const t=a.getEdgeData().map(e=>l$(a,e));p$(e,t).forEach(e=>!s.has(Ad(e))&&s.set(Ad(e),e))};if(o.size&&o.forEach(u),t.size&&t.forEach(u),r.size){const e=Mj(Sj(a.getChanges())).update.edges;r.forEach(t=>{var n;u(t);const r=null===(n=e.find(e=>Ad(e.value)===Ad(t)))||void 0===n?void 0:n.original;r&&!g$(t,r)&&u(r)})}Tt(this.options.edges)||s.forEach((e,t)=>!this.options.edges.includes(t)&&s.delete(t));const c=a.getEdgeData().map(Ad);return new Map([...s].sort((e,t)=>c.indexOf(e[0])-c.indexOf(t[0])))},this.applyBundlingStyle=(e,t,n)=>{const{edgeMap:r,reverses:i}=f$(t);r.forEach(t=>{t.forEach((t,r,o)=>{var a;const s=o.length,l=t.style||{};if(t.source===t.target){const e=d$.length;l.loopPlacement=d$[r%e],l.loopDist=Math.floor(r/e)*n+50}else if(1===s)l.curveOffset=0;else{const e=(r%2==0?1:-1)*(i[`${t.source}|${t.target}|${r}`]?-1:1);l.curveOffset=s%2==1?e*Math.ceil(r/2)*n*2:e*(Math.floor(r/2)*n*2+n)}const u=Object.assign(t,{type:"quadratic",style:l}),c=null===(a=this.context.element)||void 0===a?void 0:a.getElement(Ad(t));c&&pG(u.style,c.attributes)||fG(e,c?"update":"add","edge",u,!0)})})},this.resetEdgeStyle=e=>{const t=e.style||{},n=this.cacheMergeStyle.get(Ad(e))||{};return Object.keys(n).forEach(r=>{Ot(t[r],n[r])&&(e[r]?t[r]=e[r]:delete t[r])}),Object.assign(e,{style:t})},this.applyMergingStyle=(e,t)=>{const{edgeMap:n,reverses:r}=f$(t);n.forEach(t=>{var n;if(1===t.length){const r=t[0],i=null===(n=this.context.element)||void 0===n?void 0:n.getElement(Ad(r)),o=this.resetEdgeStyle(r);return void(i&&pG(o,i.attributes)||fG(e,i?"update":"add","edge",o))}const i=t.map(({source:e,target:t,style:n={}},i)=>{const{startArrow:o,endArrow:a}=n,s={},[l,u]=r[`${e}|${t}|${i}`]?["endArrow","startArrow"]:["startArrow","endArrow"];return gt(o)&&(s[l]=o),gt(a)&&(s[u]=a),s}).reduce((e,t)=>Object.assign(Object.assign({},e),t),{});t.forEach((t,n,r)=>{var o;if(0!==n)return void fG(e,"remove","edge",t);const a=Object.assign({},$e(this.options.style)?this.options.style(r):this.options.style,{childrenData:r});this.cacheMergeStyle.set(Ad(t),a);const s=Object.assign(Object.assign({},t),{type:"line",style:Object.assign(Object.assign(Object.assign({},t.style),i),a)}),l=null===(o=this.context.element)||void 0===o?void 0:o.getElement(Ad(t));l&&pG(s.style,l.attributes)||fG(e,l?"update":"add","edge",s,!0)})})}}beforeDraw(e){const t=this.getAffectedParallelEdges(e);return 0===t.size||("bundle"===this.options.mode?this.applyBundlingStyle(e,t,this.options.distance):this.applyMergingStyle(e,t)),e}}h$.defaultOptions={mode:"bundle",distance:15};const f$=e=>{const t=new Map,n=new Set,r={},i=new Map;for(const[o,a]of e){if(n.has(o))continue;const{source:s,target:l}=a,u=`${s}-${l}`;t.has(u)||(t.set(u,[]),i.set(u,new Set));const c=t.get(u),d=i.get(u);c&&d&&!d.has(o)&&(c.push(a),d.add(o),n.add(o));for(const[c,d]of e)if(!n.has(c)&&c!==o&&g$(a,d)){const e=t.get(u),o=i.get(u);e&&o&&!o.has(c)&&(e.push(d),o.add(c),s===d.target&&l===d.source&&(r[`${d.source}|${d.target}|${e.length-1}`]=!0),n.add(c))}}return{edgeMap:t,reverses:r}},p$=(e,t,n)=>t.filter(t=>g$(t,e)),g$=(e,t)=>{const{sourceNode:n,targetNode:r}=e.style||{},{sourceNode:i,targetNode:o}=t.style||{};return n===i&&r===o||n===o&&r===i};const m$={animation:{"combo-collapse":ed,"combo-expand":td,"node-collapse":Kc,"node-expand":Qc,"path-in":Zc,"path-out":Jc,fade:[{fields:["opacity"]}],translate:[{fields:["x","y"]}]},behavior:{"brush-select":Rh,"click-select":Hh,"collapse-expand":im,"create-edge":sm,"drag-canvas":um,"drag-element-force":class extends dm{get forceLayoutInstance(){return this.context.layout.getLayoutInstance().find(e=>["d3-force","d3-force-3d"].includes(null==e?void 0:e.id))}validate(e){return!!this.context.layout&&(this.forceLayoutInstance?super.validate(e):(Bc("DragElementForce only works with d3-force or d3-force-3d layout"),!1))}moveElement(e,t){return Sm(this,void 0,void 0,function*(){const n=this.forceLayoutInstance;this.context.graph.getNodeData(e).forEach((r,i)=>{const{x:o=0,y:a=0}=r.style||{};n&&Em(n,"setFixedPosition",e[i],[...Xd([+o,+a],t)])})})}onDragStart(e){if(this.enable=this.validate(e),!this.enable)return;this.target=this.getSelectedNodeIDs([e.target.id]),this.hideEdge(),this.context.graph.frontElement(this.target);const t=this.forceLayoutInstance;t&&km(t,"simulation").alphaTarget(.3).restart(),this.context.graph.getNodeData(this.target).forEach(e=>{const{x:n=0,y:r=0}=e.style||{};t&&Em(t,"setFixedPosition",Ad(e),[+n,+r])})}onDrag(e){if(!this.enable)return;const t=this.getDelta(e);this.moveElement(this.target,t)}onDragEnd(){const e=this.forceLayoutInstance;e&&km(e,"simulation").alphaTarget(0),this.options.fixed||this.context.graph.getNodeData(this.target).forEach(t=>{e&&Em(e,"setFixedPosition",Ad(t),[null,null,null])})}},"drag-element":dm,"fix-element-size":Tm,"focus-element":Cm,"hover-activate":Nm,"lasso-select":class extends Rh{onPointerDown(e){if(!super.validate(e)||!super.isKeydown()||this.points)return;const{canvas:t}=this.context;this.pathShape=new nu({id:"g6-lasso-select",style:this.options.style}),t.appendChild(this.pathShape),this.points=[_h(e)]}onPointerMove(e){var t;if(!this.points)return;const{immediately:n,mode:r}=this.options;this.points.push(_h(e)),null===(t=this.pathShape)||void 0===t||t.setAttribute("d",function(e,t=!0){const n=[];return e.forEach((e,t)=>{n.push([0===t?"M":"L",...e])}),t&&n.push(["Z"]),n}(this.points)),n&&"default"===r&&this.points.length>2&&super.updateElementsStates(this.points)}onPointerUp(){this.points&&(this.points.length<2||super.updateElementsStates(this.points),this.clearLasso())}clearLasso(){var e;null===(e=this.pathShape)||void 0===e||e.remove(),this.pathShape=void 0,this.points=void 0}},"auto-adapt-label":qd,"optimize-viewport-transform":Pm,"scroll-canvas":Rm,"zoom-canvas":Dm},combo:{circle:class extends Kp{constructor(e){super(e)}drawKeyShape(e,t){return this.upsert("key",Gl,this.getKeyStyle(e),t)}getKeyStyle(e){const{collapsed:t}=e,n=super.getKeyStyle(e),[r]=this.getKeySize(e);return Object.assign(Object.assign(Object.assign({},n),t&&Gh(n,"collapsed")),{r:r/2})}getCollapsedKeySize(e){const[t,n]=Yh(e.collapsedSize),r=Math.max(t,n)/2;return[2*r,2*r,0]}getExpandedKeySize(e){const t=this.getContentBBox(e),[n,r]=ld(t),i=Math.sqrt(Math.pow(n,2)+Math.pow(r,2))/2;return[2*i,2*i,0]}getIntersectPoint(e,t=!1){return Sh(e,this.getShape("key").getBounds(),t)}},rect:class extends Kp{constructor(e){super(e)}drawKeyShape(e,t){return this.upsert("key",su,this.getKeyStyle(e),t)}getKeyStyle(e){const t=super.getKeyStyle(e),[n,r]=this.getKeySize(e);return Object.assign(Object.assign(Object.assign({},t),e.collapsed&&Gh(t,"collapsed")),{width:n,height:r,x:-n/2,y:-r/2})}}},edge:{cubic:kg,line:Og,polyline:Fg,quadratic:jg,"cubic-horizontal":Sg,"cubic-radial":Mg,"cubic-vertical":Tg},layout:{"antv-dagre":class{constructor(e={}){this.options=e,this.id="antv-dagre",this.options=Object.assign(Object.assign({},Gb),e)}execute(e,t){return Ht(this,void 0,void 0,function*(){return this.genericDagreLayout(!1,e,t)})}assign(e,t){return Ht(this,void 0,void 0,function*(){yield this.genericDagreLayout(!0,e,t)})}genericDagreLayout(e,t,n){return Ht(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},this.options),n),{nodeSize:i,align:o,rankdir:a="TB",ranksep:s,nodesep:l,ranksepFunc:u,nodesepFunc:c,edgeLabelSpace:d,ranker:h,nodeOrder:f,begin:p,controlPoints:g,radial:m,sortByCombo:y,preset:v}=r,b=new ym({tree:[]}),w=Vb(s||50,u),x=Vb(l||50,c);let E=x,k=w;"LR"!==a&&"RL"!==a||(E=w,k=x);const S=Ub(10,i,!1),M=t.getAllNodes(),T=t.getAllEdges();let O;M.forEach(e=>{const t=Hb(S(e)),n=k(e),r=E(e),i=t[0]+2*r,o=t[1]+2*n,a=e.data.layer;st(a)?b.addNode({id:e.id,data:{width:i,height:o,layer:a}}):b.addNode({id:e.id,data:{width:i,height:o}})}),y&&(b.attachTreeStructure("combo"),M.forEach(e=>{const{parentId:t}=e.data;void 0!==t&&b.hasNode(t)&&b.setParent(e.id,t,"combo")})),T.forEach(e=>{b.addEdge({id:e.id,source:e.source,target:e.target,data:{weight:e.data.weight||1}})}),(null==v?void 0:v.length)&&(O=new ym({nodes:v})),((e,t)=>{const{edgeLabelSpace:n,keepNodeOrder:r,prevGraph:i,rankdir:o,ranksep:a}=t;!r&&i&&hb(e,i);const s=bb(e);let l;n&&(t.ranksep=wb(s,{rankdir:o,ranksep:a}));try{l=db(s,t)}catch(e){if("Not possible to find intersection inside of the rectangle"===e.message)return void console.error("The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:\n",e);throw e}fb(e,s)})(b,{prevGraph:O,edgeLabelSpace:d,keepNodeOrder:!!f,nodeOrder:f||[],acyclicer:"greedy",ranker:h,rankdir:a,nodesep:l,align:o});const C=[0,0];if(p){let e=1/0,t=1/0;b.getAllNodes().forEach(n=>{e>n.data.x&&(e=n.data.x),t>n.data.y&&(t=n.data.y)}),b.getAllEdges().forEach(n=>{var r;null===(r=n.data.points)||void 0===r||r.forEach(n=>{e>n.x&&(e=n.x),t>n.y&&(t=n.y)})}),C[0]=p[0]-e,C[1]=p[1]-t}const N="LR"===a||"RL"===a;if(m);else{const e=new Set,t="BT"===a||"RL"===a?(e,t)=>t-e:(e,t)=>e-t;b.getAllNodes().forEach(t=>{t.data.x=t.data.x+C[0],t.data.y=t.data.y+C[1],e.add(N?t.data.x:t.data.y)});const n=Array.from(e).sort(t),r=N?(e,t)=>e.x!==t.x:(e,t)=>e.y!==t.y,i=N?(e,t,n)=>{const r=Math.max(t.y,n.y),i=Math.min(t.y,n.y);return e.filter(e=>e.y<=r&&e.y>=i)}:(e,t,n)=>{const r=Math.max(t.x,n.x),i=Math.min(t.x,n.x);return e.filter(e=>e.x<=r&&e.x>=i)};b.getAllEdges().forEach((e,t)=>{var o;d&&g&&"loop"!==e.data.type&&(e.data.controlPoints=$b(null===(o=e.data.points)||void 0===o?void 0:o.map(({x:e,y:t})=>({x:e+C[0],y:t+C[1]})),b.getNode(e.source),b.getNode(e.target),n,N,r,i))})}let P=[];P=b.getAllNodes().map(e=>Bb(e));const A=b.getAllEdges();e&&(P.forEach(e=>{t.mergeNodeData(e.id,{x:e.data.x,y:e.data.y})}),A.forEach(e=>{t.mergeEdgeData(e.id,{controlPoints:e.data.controlPoints})}));return{nodes:P,edges:A}})}},"combo-combined":class{constructor(e={}){this.options=e,this.id="comboCombined",this.options=Object.assign(Object.assign({},Cx),e)}execute(e,t){return Ht(this,void 0,void 0,function*(){return this.genericComboCombinedLayout(!1,e,t)})}assign(e,t){return Ht(this,void 0,void 0,function*(){yield this.genericComboCombinedLayout(!0,e,t)})}genericComboCombinedLayout(e,t,n){return Ht(this,void 0,void 0,function*(){const r=this.initVals(Object.assign(Object.assign({},this.options),n)),{center:i,treeKey:o,outerLayout:a}=r,s=t.getAllNodes().filter(e=>!e.data._isCombo),l=t.getAllNodes().filter(e=>e.data._isCombo),u=t.getAllEdges(),c=null==s?void 0:s.length;if(!c||1===c)return qb(t,e,i);const d=[],h=new Map;s.forEach(e=>{h.set(e.id,e)});const f=new Map;l.forEach(e=>{f.set(e.id,e)});const p=new Map,g=this.getInnerGraphs(t,o,h,f,u,r,p);yield Promise.all(g);const m=new Map,y=[],v=new Map;let b=!0;t.getRoots(o).forEach(e=>{const n=p.get(e.id),r=f.get(e.id)||h.get(e.id),i={id:e.id,data:Object.assign(Object.assign({},e.data),{x:n.data.x||r.data.x,y:n.data.y||r.data.y,fx:n.data.fx||r.data.fx,fy:n.data.fy||r.data.fy,mass:n.data.mass||r.data.mass,size:n.data.size})};y.push(i),m.set(e.id,!0),isNaN(i.data.x)||0===i.data.x||isNaN(i.data.y)||0===i.data.y?(i.data.x=100*Math.random(),i.data.y=100*Math.random()):b=!1,Fb(t,[e],t=>{t.id!==e.id&&v.set(t.id,e.id)},"TB",o)});const w=[];let x;if(u.forEach(e=>{const t=v.get(e.source)||e.source,n=v.get(e.target)||e.target;t!==n&&m.has(t)&&m.has(n)&&w.push({id:e.id,source:t,target:n,data:{}})}),null==y?void 0:y.length){if(1===y.length)y[0].data.x=i[0],y[0].data.y=i[1];else{const e=new ym({nodes:y,edges:w}),t=a||new xw;if(b&&Ox[t.id]){const t=y.length<100?new kx:new Zb;yield t.assign(e)}const n=Object.assign({center:i,kg:5,preventOverlap:!0,animate:!1},"force"===t.id?{gravity:1,factor:4,linkDistance:(e,t,n)=>(Math.max(...t.data.size)||32)/2+(Math.max(...n.data.size)||32)/2+200}:{});x=yield Nx(t,e,n)}p.forEach(e=>{var t;const n=x.nodes.find(t=>t.id===e.id);if(n){const{x:t,y:r}=n.data;e.data.visited=!0,e.data.x=t,e.data.y=r,d.push({id:e.id,data:{x:t,y:r}})}const{x:r,y:i}=e.data;null===(t=e.data.nodes)||void 0===t||t.forEach(e=>{d.push({id:e.id,data:{x:e.data.x+r,y:e.data.y+i}})})}),p.forEach(({data:e})=>{const{x:t,y:n,visited:r,nodes:i}=e;null==i||i.forEach(e=>{if(!r){const r=d.find(t=>t.id===e.id);r.data.x+=t||0,r.data.y+=n||0}})})}e&&d.forEach(e=>{t.mergeNodeData(e.id,{x:e.data.x,y:e.data.y})});return{nodes:d,edges:u}})}initVals(e){const t=Object.assign({},e),{nodeSize:n,spacing:r,comboPadding:i}=e;let o,a,s;if(a=st(r)?()=>r:$e(r)?r:()=>0,t.spacing=a,n)if($e(n))o=e=>{const t=n(e),r=a(e);if(Db(e.size)){return((e.size[0]>e.size[1]?e.size[0]:e.size[1])+r)/2}return((t||32)+r)/2};else if(Db(n)){const e=(n[0]>n[1]?n[0]:n[1])/2;o=t=>e+a(t)/2}else{const e=n/2;o=t=>e+a(t)/2}else o=e=>{const t=a(e);if(e.size){if(Db(e.size)){return((e.size[0]>e.size[1]?e.size[0]:e.size[1])+t)/2}if(Xe(e.size)){return((e.size.width>e.size.height?e.size.width:e.size.height)+t)/2}return(e.size+t)/2}return 32+t/2};return t.nodeSize=o,s=st(i)?()=>i:Db(i)?()=>Math.max.apply(null,i):$e(i)?i:()=>0,t.comboPadding=s,t}getInnerGraphs(e,t,n,r,i,o,a){const{nodeSize:s,comboPadding:l,spacing:u,innerLayout:c}=o,d=c||new Zb({}),h={center:[0,0],preventOverlap:!0,nodeSpacing:u},f=[],p=e=>{let t=(null==l?void 0:l(e))||10;return Db(t)&&(t=Math.max(...t)),{size:t?[2*t,2*t]:[30,30],padding:t}};return e.getRoots(t).forEach(o=>{a.set(o.id,{id:o.id,data:{nodes:[],size:p(o).size}});let l=Promise.resolve();Fb(e,[o],o=>{var u;if(!o.data._isCombo)return;const{size:c,padding:f}=p(o);if(null===(u=e.getChildren(o.id,t))||void 0===u?void 0:u.length){const u=a.get(o.id);a.set(o.id,{id:o.id,data:Object.assign({nodes:[]},null==u?void 0:u.data)});const c=new Map,p=e.getChildren(o.id,t).map(e=>{if(e.data._isCombo)return a.has(e.id)||a.set(e.id,{id:e.id,data:Object.assign({},e.data)}),c.set(e.id,!0),a.get(e.id);const t=n.get(e.id)||r.get(e.id);return c.set(e.id,!0),{id:e.id,data:Object.assign(Object.assign({},t.data),e.data)}}),g={nodes:p,edges:i.filter(e=>c.has(e.source)&&c.has(e.target))};let m=1/0;p.forEach(e=>{var t;let{size:n}=e.data;n||(n=(null===(t=a.get(e.id))||void 0===t?void 0:t.data.size)||(null==s?void 0:s(e))||[30,30]),st(n)&&(n=[n,n]);const[r,i]=n;m>r&&(m=r),m>i&&(m=i),e.data.size=n}),l=l.then(()=>Ht(this,void 0,void 0,function*(){const e=new ym(g);yield Nx(d,e,h,!0);const{minX:t,minY:n,maxX:r,maxY:i}=(e=>{let t=1/0,n=1/0,r=-1/0,i=-1/0;return e.forEach(e=>{let o=e.data.size;Db(o)?1===o.length&&(o=[o[0],o[0]]):st(o)?o=[o,o]:(void 0===o||isNaN(o))&&(o=[30,30]);const a=[o[0]/2,o[1]/2],s=e.data.x-a[0],l=e.data.x+a[0],u=e.data.y-a[1],c=e.data.y+a[1];t>s&&(t=s),n>u&&(n=u),r<l&&(r=l),i<c&&(i=c)}),{minX:t,minY:n,maxX:r,maxY:i}})(p),s=(r+t)/2,l=(i+n)/2;g.nodes.forEach(e=>{e.data.x-=s,e.data.y-=l});const u=[Math.max(r-t,m)+2*f,Math.max(i-n,m)+2*f];a.get(o.id).data.size=u,a.get(o.id).data.nodes=p}))}else a.set(o.id,{id:o.id,data:Object.assign(Object.assign({},o.data),{size:c})});return!0},"BT",t),f.push(l)}),f}},"compact-box":Vy.compactBox,"d3-force":class{constructor(e){this.id="d3-force",this.config={inputNodeAttrs:["x","y","vx","vy","fx","fy"],outputNodeAttrs:["x","y","vx","vy"],simulationAttrs:["alpha","alphaMin","alphaDecay","alphaTarget","velocityDecay","randomSource"]},this.forceMap={link:Fx,manyBody:hE,center:Px,collide:Lx,radial:fE,x:pE,y:gE},this.options={link:{id:e=>e.id},manyBody:{},center:{x:0,y:0}},this.context={options:{},assign:!1,nodes:[],edges:[]},St(this.options,e),this.options.forceSimulation&&(this.simulation=this.options.forceSimulation)}execute(e,t){return Ht(this,void 0,void 0,function*(){return this.genericLayout(!1,e,t)})}assign(e,t){return Ht(this,void 0,void 0,function*(){yield this.genericLayout(!0,e,t)})}stop(){this.simulation.stop()}tick(e){return this.simulation.tick(e),this.getResult()}restart(){this.simulation.restart()}setFixedPosition(e,t){const n=this.context.nodes.find(t=>t.id===e);n&&t.forEach((e,t)=>{if("number"==typeof e||null===e){n[["fx","fy","fz"][t]]=e}})}getOptions(e){var t,n;const r=St({},this.options,e);return r.collide&&void 0===(null===(t=r.collide)||void 0===t?void 0:t.radius)&&(r.collide=r.collide||{},r.collide.radius=null!==(n=r.nodeSize)&&void 0!==n?n:10),void 0===r.iterations&&(r.link&&void 0===r.link.iterations&&(r.iterations=r.link.iterations),r.collide&&void 0===r.collide.iterations&&(r.iterations=r.collide.iterations)),this.context.options=r,r}genericLayout(e,t,n){var r;return Ht(this,void 0,void 0,function*(){const i=this.getOptions(n),o=t.getAllNodes().map(({id:e,data:t})=>Object.assign(Object.assign({id:e},t),At(t.data,this.config.inputNodeAttrs))),a=t.getAllEdges().map(e=>Object.assign({},e));Object.assign(this.context,{assign:e,nodes:o,edges:a,graph:t});const s=new Promise(e=>{this.resolver=e}),l=this.setSimulation(i);return l.nodes(o),null===(r=l.force("link"))||void 0===r||r.links(a),s})}getResult(){const{assign:e,nodes:t,edges:n,graph:r}=this.context,i=t.map(e=>({id:e.id,data:Object.assign(Object.assign({},e.data),At(e,this.config.outputNodeAttrs))})),o=n.map(({id:e,source:t,target:n,data:r})=>({id:e,source:"object"==typeof t?t.id:t,target:"object"==typeof n?n.id:n,data:r}));return e&&i.forEach(e=>r.mergeNodeData(e.id,e.data)),{nodes:i,edges:o}}initSimulation(){return dE()}setSimulation(e){const t=this.simulation||this.options.forceSimulation||this.initSimulation();return this.simulation||(this.simulation=t.on("tick",()=>{var t;return null===(t=e.onTick)||void 0===t?void 0:t.call(e,this.getResult())}).on("end",()=>{var e;return null===(e=this.resolver)||void 0===e?void 0:e.call(this,this.getResult())})),mE(t,this.config.simulationAttrs.map(t=>[t,e[t]])),Object.entries(this.forceMap).forEach(([n,r])=>{const i=n;if(e[n]){let n=t.force(i);n||(n=r(),t.force(i,n)),mE(n,Object.entries(e[i]))}else t.force(i,null)}),t}},"force-atlas2":class{constructor(e={}){this.options=e,this.id="forceAtlas2",this.options=Object.assign(Object.assign({},Sz),e)}execute(e,t){return Ht(this,void 0,void 0,function*(){return this.genericForceAtlas2Layout(!1,e,t)})}assign(e,t){return Ht(this,void 0,void 0,function*(){yield this.genericForceAtlas2Layout(!0,e,t)})}genericForceAtlas2Layout(e,t,n){return Ht(this,void 0,void 0,function*(){const r=t.getAllEdges(),i=t.getAllNodes(),o=this.formatOptions(n,i.length),{width:a,height:s,prune:l,maxIteration:u,nodeSize:c,center:d}=o;if(!(null==i?void 0:i.length)||1===i.length)return qb(t,e,d);const h=i.map(e=>Bb(e,[a,s])),f=r.filter(e=>{const{source:t,target:n}=e;return t!==n}),p=new ym({nodes:h,edges:f}),g=this.getSizes(p,c);if(this.run(p,t,u,g,e,o),l){for(let e=0;e<f.length;e+=1){const{source:t,target:n}=f[e],r=p.getDegree(t),i=p.getDegree(t);if(r<=1){const e=p.getNode(n);p.mergeNodeData(t,{x:e.data.x,y:e.data.y})}else if(i<=1){const e=p.getNode(t);p.mergeNodeData(n,{x:e.data.x,y:e.data.y})}}const n=Object.assign(Object.assign({},o),{prune:!1,barnesHut:!1});this.run(p,t,100,g,e,n)}return{nodes:h,edges:r}})}getSizes(e,t){const n=e.getAllNodes(),r={};for(let e=0;e<n.length;e+=1){const i=n[e];r[i.id]=Wb(t,void 0)(i)}return r}formatOptions(e={},t){const n=Object.assign(Object.assign({},this.options),e),{center:r,width:i,height:o,barnesHut:a,prune:s,maxIteration:l,kr:u,kg:c}=n;return n.width=i||"undefined"==typeof window?i:window.innerWidth,n.height=o||"undefined"==typeof window?o:window.innerHeight,n.center=r||[n.width/2,n.height/2],void 0===a&&t>250&&(n.barnesHut=!0),void 0===s&&t>100&&(n.prune=!0),0!==l||s?0===l&&s&&(n.maxIteration=100,t<=200&&t>100?n.maxIteration=500:t>200&&(n.maxIteration=950)):(n.maxIteration=250,t<=200&&t>100?n.maxIteration=1e3:t>200&&(n.maxIteration=1200)),u||(n.kr=50,t>100&&t<=500?n.kr=20:t>500&&(n.kr=1)),c||(n.kg=20,t>100&&t<=500?n.kg=10:t>500&&(n.kg=1)),n}run(e,t,n,r,i,o){const{kr:a,barnesHut:s,onTick:l}=o,u=e.getAllNodes();let c=0,d=n;const h={},f={},p={};for(let t=0;t<u.length;t+=1){const{data:n,id:r}=u[t];if(h[r]=[0,0],s){const i={id:t,rx:n.x,ry:n.y,mass:1,g:a,degree:e.getDegree(r)};p[r]=new xz(i)}}for(;d>0;)c=this.oneStep(e,{iter:d,preventOverlapIters:50,krPrime:100,sg:c,forces:h,preForces:f,bodies:p,sizes:r},o),d--,null==l||l({nodes:u,edges:t.getAllEdges()});return e}oneStep(e,t,n){const{iter:r,preventOverlapIters:i,krPrime:o,sg:a,preForces:s,bodies:l,sizes:u}=t;let{forces:c}=t;const{preventOverlap:d,barnesHut:h}=n,f=e.getAllNodes();for(let e=0;e<f.length;e+=1){const{id:t}=f[e];s[t]=[...c[t]],c[t]=[0,0]}return c=this.getAttrForces(e,r,i,u,c,n),c=h&&(d&&r>i||!d)?this.getOptRepGraForces(e,c,l,n):this.getRepGraForces(e,r,i,c,o,u,n),this.updatePos(e,c,s,a,n)}getAttrForces(e,t,n,r,i,o){const{preventOverlap:a,dissuadeHubs:s,mode:l,prune:u}=o,c=e.getAllEdges();for(let o=0;o<c.length;o+=1){const{source:d,target:h}=c[o],f=e.getNode(d),p=e.getNode(h),g=e.getDegree(d),m=e.getDegree(h);if(u&&(g<=1||m<=1))continue;const y=[p.data.x-f.data.x,p.data.y-f.data.y];let v=Math.hypot(y[0],y[1]);v=v<1e-4?1e-4:v,y[0]=y[0]/v,y[1]=y[1]/v,a&&t<n&&(v=v-r[d]-r[h]);let b=v,w=b;"linlog"===l&&(b=Math.log(1+v),w=b),s&&(b=v/g,w=v/m),a&&t<n&&v<=0?(b=0,w=0):a&&t<n&&v>0&&(b=v,w=v),i[d][0]+=b*y[0],i[h][0]-=w*y[0],i[d][1]+=b*y[1],i[h][1]-=w*y[1]}return i}getOptRepGraForces(e,t,n,r){const{kg:i,center:o,prune:a}=r,s=e.getAllNodes(),l=s.length;let u=9e10,c=-9e10,d=9e10,h=-9e10;for(let t=0;t<l;t+=1){const{id:r,data:i}=s[t];a&&e.getDegree(r)<=1||(n[r].setPos(i.x,i.y),i.x>=c&&(c=i.x),i.x<=u&&(u=i.x),i.y>=h&&(h=i.y),i.y<=d&&(d=i.y))}const f=Math.max(c-u,h-d),p=new Ez({xmid:(c+u)/2,ymid:(h+d)/2,length:f,massCenter:o,mass:l}),g=new kz(p);for(let t=0;t<l;t+=1){const{id:r}=s[t];a&&e.getDegree(r)<=1||n[r].in(p)&&g.insert(n[r])}for(let r=0;r<l;r+=1){const{id:l,data:u}=s[r],c=e.getDegree(l);if(a&&c<=1)continue;n[l].resetForce(),g.updateForce(n[l]),t[l][0]-=n[l].fx,t[l][1]-=n[l].fy;const d=[u.x-o[0],u.y-o[1]];let h=Math.hypot(d[0],d[1]);h=h<1e-4?1e-4:h,d[0]=d[0]/h,d[1]=d[1]/h;const f=i*(c+1);t[l][0]-=f*d[0],t[l][1]-=f*d[1]}return t}getRepGraForces(e,t,n,r,i,o,a){const{preventOverlap:s,kr:l,kg:u,center:c,prune:d}=a,h=e.getAllNodes(),f=h.length;for(let a=0;a<f;a+=1){const p=h[a],g=e.getDegree(p.id);for(let u=a+1;u<f;u+=1){const a=h[u],c=e.getDegree(a.id);if(d&&(g<=1||c<=1))continue;const f=[a.data.x-p.data.x,a.data.y-p.data.y];let m=Math.hypot(f[0],f[1]);m=m<1e-4?1e-4:m,f[0]=f[0]/m,f[1]=f[1]/m,s&&t<n&&(m=m-o[p.id]-o[a.id]);let y=l*(g+1)*(c+1)/m;s&&t<n&&m<0?y=i*(g+1)*(c+1):s&&t<n&&0===m?y=0:s&&t<n&&m>0&&(y=l*(g+1)*(c+1)/m),r[p.id][0]-=y*f[0],r[a.id][0]+=y*f[0],r[p.id][1]-=y*f[1],r[a.id][1]+=y*f[1]}const m=[p.data.x-c[0],p.data.y-c[1]],y=Math.hypot(m[0],m[1]);m[0]=m[0]/y,m[1]=m[1]/y;const v=u*(g+1);r[p.id][0]-=v*m[0],r[p.id][1]-=v*m[1]}return r}updatePos(e,t,n,r,i){const{ks:o,tao:a,prune:s,ksmax:l}=i,u=e.getAllNodes(),c=u.length,d=[],h=[];let f=0,p=0,g=r;for(let r=0;r<c;r+=1){const{id:i}=u[r],o=e.getDegree(i);if(s&&o<=1)continue;const a=[t[i][0]-n[i][0],t[i][1]-n[i][1]],l=Math.hypot(a[0],a[1]),c=[t[i][0]+n[i][0],t[i][1]+n[i][1]],g=Math.hypot(c[0],c[1]);d[r]=l,h[r]=g/2,f+=(o+1)*d[r],p+=(o+1)*h[r]}const m=g;g=a*p/f,0!==m&&(g=g>1.5*m?1.5*m:g);for(let n=0;n<c;n+=1){const{id:r,data:i}=u[n],a=e.getDegree(r);if(s&&a<=1)continue;if(st(i.fx)&&st(i.fy))continue;let c=o*g/(1+g*Math.sqrt(d[n])),h=Math.hypot(t[r][0],t[r][1]);h=h<1e-4?1e-4:h;const f=l/h;c=c>f?f:c;const p=c*t[r][0],m=c*t[r][1];e.mergeNodeData(r,{x:i.x+p,y:i.y+m})}return g}},circular:class{constructor(e={}){this.options=e,this.id="circular",this.options=Object.assign(Object.assign({},Yb),e)}execute(e,t){return Ht(this,void 0,void 0,function*(){return this.genericCircularLayout(!1,e,t)})}assign(e,t){return Ht(this,void 0,void 0,function*(){yield this.genericCircularLayout(!0,e,t)})}genericCircularLayout(e,t,n){return Ht(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},this.options),n),{width:i,height:o,center:a,divisions:s,startAngle:l=0,endAngle:u=2*Math.PI,angleRatio:c,ordering:d,clockwise:h,nodeSpacing:f,nodeSize:p}=r,g=t.getAllNodes(),m=t.getAllEdges(),[y,v,b]=Kb(i,o,a),w=null==g?void 0:g.length;if(!w||1===w)return qb(t,e,b);const x=(u-l)/w;let{radius:E,startRadius:k,endRadius:S}=r;if(f){const e=Vb(10,f),t=Ub(10,p);let n=-1/0;g.forEach(e=>{const r=t(e);n<r&&(n=r)});let r=0;g.forEach((t,i)=>{r+=0===i?n||10:(e(t)||0)+(n||10)}),E=r/(2*Math.PI)}else E||k||S?!k&&S?k=S:k&&!S&&(S=k):E=Math.min(v,y)/2;const M=x*c;let T=[];T="topology"===d?Xb(t,g):"topology-directed"===d?Xb(t,g,!0):"degree"===d?function(e,t){const n=[];return t.forEach((e,t)=>{n.push(Bb(e))}),n.sort((t,n)=>e.getDegree(t.id,"both")-e.getDegree(n.id,"both")),n}(t,g):g.map(e=>Bb(e));const O=Math.ceil(w/s);for(let e=0;e<w;++e){let t=E;t||null===k||null===S||(t=k+e*(S-k)/(w-1)),t||(t=10+100*e/(w-1));let n=l+e%O*M+2*Math.PI/s*Math.floor(e/O);h||(n=u-e%O*M-2*Math.PI/s*Math.floor(e/O)),T[e].data.x=b[0]+Math.cos(n)*t,T[e].data.y=b[1]+Math.sin(n)*t}e&&T.forEach(e=>{t.mergeNodeData(e.id,{x:e.data.x,y:e.data.y})});return{nodes:T,edges:m}})}},concentric:Zb,dagre:wz,dendrogram:Vy.dendrogram,fishbone:dF,force:xw,fruchterman:class{constructor(e={}){this.options=e,this.id="fruchterman",this.timeInterval=0,this.running=!1,this.options=Object.assign(Object.assign({},Mz),e)}execute(e,t){return Ht(this,void 0,void 0,function*(){return this.genericFruchtermanLayout(!1,e,t)})}assign(e,t){return Ht(this,void 0,void 0,function*(){yield this.genericFruchtermanLayout(!0,e,t)})}stop(){this.timeInterval&&"undefined"!=typeof window&&window.clearInterval(this.timeInterval),this.running=!1}tick(e=this.options.maxIteration||1){if(this.lastResult)return this.lastResult;for(let t=0;t<e;t++)this.runOneStep(this.lastGraph,this.lastClusterMap,this.lastOptions);const t={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&t.nodes.forEach(e=>this.lastGraph.mergeNodeData(e.id,{x:e.data.x,y:e.data.y,z:3===this.options.dimensions?e.data.z:void 0})),t}genericFruchtermanLayout(e,t,n){return Ht(this,void 0,void 0,function*(){if(this.running)return;const r=this.formatOptions(n),{dimensions:i,width:o,height:a,center:s,clustering:l,nodeClusterBy:u,maxIteration:c,onTick:d}=r,h=t.getAllNodes(),f=t.getAllEdges();if(!(null==h?void 0:h.length)){const e={nodes:[],edges:f};return this.lastResult=e,e}if(1===h.length){e&&t.mergeNodeData(h[0].id,{x:s[0],y:s[1],z:3===i?s[2]:void 0});const n={nodes:[Object.assign(Object.assign({},h[0]),{data:Object.assign(Object.assign({},h[0].data),{x:s[0],y:s[1],z:3===i?s[2]:void 0})})],edges:f};return this.lastResult=n,n}const p=h.map(e=>Bb(e,[o,a])),g=new ym({nodes:p,edges:f}),m={};if(l&&p.forEach(e=>{const t=e.data[u];m[t]||(m[t]={name:t,cx:0,cy:0,count:0})}),this.lastLayoutNodes=p,this.lastLayoutEdges=f,this.lastAssign=e,this.lastGraph=g,this.lastOptions=r,this.lastClusterMap=m,"undefined"==typeof window)return;let y=0;return new Promise(n=>{this.timeInterval=window.setInterval(()=>{this.running?(this.runOneStep(g,m,r),e&&p.forEach(({id:e,data:n})=>t.mergeNodeData(e,{x:n.x,y:n.y,z:3===i?n.z:void 0})),null==d||d({nodes:p,edges:f}),y++,y>=c&&(window.clearInterval(this.timeInterval),n({nodes:p,edges:f}))):n({nodes:p,edges:f})},0),this.running=!0})})}formatOptions(e={}){const t=Object.assign(Object.assign({},this.options),e),{clustering:n,nodeClusterBy:r}=t,{center:i,width:o,height:a}=t;return t.width=o||"undefined"==typeof window?o:window.innerWidth,t.height=a||"undefined"==typeof window?a:window.innerHeight,t.center=i||[t.width/2,t.height/2],t.clustering=n&&!!r,t}runOneStep(e,t,n){const{dimensions:r,height:i,width:o,gravity:a,center:s,speed:l,clustering:u,nodeClusterBy:c,clusterGravity:d}=n,h=i*o,f=Math.sqrt(h)/10,p=e.getAllNodes(),g=h/(p.length+1),m=Math.sqrt(g),y={};if(this.applyCalculate(e,y,m,g),u){for(const e in t)t[e].cx=0,t[e].cy=0,t[e].count=0;p.forEach(e=>{const{data:n}=e,r=t[n[c]];st(n.x)&&(r.cx+=n.x),st(n.y)&&(r.cy+=n.y),r.count++});for(const e in t)t[e].cx/=t[e].count,t[e].cy/=t[e].count;const e=d||a;p.forEach((n,r)=>{const{id:i,data:o}=n;if(!st(o.x)||!st(o.y))return;const a=t[o[c]],s=Math.sqrt((o.x-a.cx)*(o.x-a.cx)+(o.y-a.cy)*(o.y-a.cy)),l=m*e;y[i].x-=l*(o.x-a.cx)/s,y[i].y-=l*(o.y-a.cy)/s})}p.forEach((e,t)=>{const{id:n,data:i}=e;if(!st(i.x)||!st(i.y))return;const o=.01*m*a;y[n].x-=o*(i.x-s[0]),y[n].y-=o*(i.y-s[1]),3===r&&(y[n].z-=o*(i.z-s[2]))}),p.forEach((t,n)=>{const{id:i,data:o}=t;if(st(o.fx)&&st(o.fy))return o.x=o.fx,o.y=o.fy,void(3===r&&(o.z=o.fz));if(!st(o.x)||!st(o.y))return;const a=Math.sqrt(y[i].x*y[i].x+y[i].y*y[i].y+(3===r?y[i].z*y[i].z:0));if(a>0){const t=Math.min(f*(l/800),a);e.mergeNodeData(i,{x:o.x+y[i].x/a*t,y:o.y+y[i].y/a*t,z:3===r?o.z+y[i].z/a*t:void 0})}})}applyCalculate(e,t,n,r){this.calRepulsive(e,t,r),this.calAttractive(e,t,n)}calRepulsive(e,t,n){const r=e.getAllNodes();r.forEach(({data:e,id:i},o)=>{t[i]={x:0,y:0,z:0},r.forEach(({data:r,id:a},s)=>{if(o<=s||!st(e.x)||!st(r.x)||!st(e.y)||!st(r.y))return;let l=e.x-r.x,u=e.y-r.y,c=3===this.options.dimensions?e.z-r.z:0,d=l*l+u*u+c*c;0===d&&(d=1,l=.01,u=.01,c=.01);const h=n/d,f=l*h,p=u*h,g=c*h;t[i].x+=f,t[i].y+=p,t[a].x-=f,t[a].y-=p,3===this.options.dimensions&&(t[i].z+=g,t[a].z-=g)})})}calAttractive(e,t,n){e.getAllEdges().forEach(r=>{const{source:i,target:o}=r;if(!i||!o||i===o)return;const{data:a}=e.getNode(i),{data:s}=e.getNode(o);if(!(st(s.x)&&st(a.x)&&st(s.y)&&st(a.y)))return;const l=s.x-a.x,u=s.y-a.y,c=3===this.options.dimensions?s.z-a.z:0,d=Math.sqrt(l*l+u*u+c*c)/n,h=l*d,f=u*d,p=c*d;t[i].x+=h,t[i].y+=f,t[o].x-=h,t[o].y-=f,3===this.options.dimensions&&(t[i].z+=p,t[o].z-=p)})}},grid:class{constructor(e={}){this.options=e,this.id="grid",this.options=Object.assign(Object.assign({},Tz),e)}execute(e,t){return Ht(this,void 0,void 0,function*(){return this.genericGridLayout(!1,e,t)})}assign(e,t){return Ht(this,void 0,void 0,function*(){yield this.genericGridLayout(!0,e,t)})}genericGridLayout(e,t,n){return Ht(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},this.options),n),{begin:i=[0,0],condense:o,preventOverlapPadding:a,preventOverlap:s,rows:l,cols:u,nodeSpacing:c,nodeSize:d,width:h,height:f,position:p}=r;let{sortBy:g}=r;const m=t.getAllNodes(),y=t.getAllEdges(),v=null==m?void 0:m.length;if(!v||1===v)return qb(t,e,i);const b=m.map(e=>Bb(e));"id"===g||rt(g)&&void 0!==b[0].data[g]||(g="degree"),"degree"===g?b.sort((e,n)=>t.getDegree(n.id,"both")-t.getDegree(e.id,"both")):"id"===g?b.sort((e,t)=>st(t.id)&&st(e.id)?t.id-e.id:`${e.id}`.localeCompare(`${t.id}`)):b.sort((e,t)=>t.data[g]-e.data[g]);const w=h||"undefined"==typeof window?h:window.innerWidth,x=f||"undefined"==typeof window?f:window.innerHeight,E=v,k={rows:l,cols:u};if(null!=l&&null!=u)k.rows=l,k.cols=u;else if(null!=l&&null==u)k.rows=l,k.cols=Math.ceil(E/k.rows);else if(null==l&&null!=u)k.cols=u,k.rows=Math.ceil(E/k.cols);else{const e=Math.sqrt(E*x/w);k.rows=Math.round(e),k.cols=Math.round(w/x*e)}if(k.rows=Math.max(k.rows,1),k.cols=Math.max(k.cols,1),k.cols*k.rows>E){const e=Oz(k),t=Cz(k);(e-1)*t>=E?Oz(k,e-1):(t-1)*e>=E&&Cz(k,t-1)}else for(;k.cols*k.rows<E;){const e=Oz(k),t=Cz(k);(t+1)*e>=E?Cz(k,t+1):Oz(k,e+1)}let S=o?0:w/k.cols,M=o?0:x/k.rows;if(s||c){const e=Vb(10,c),n=Ub(30,d,!1);b.forEach(r=>{r.data.x&&r.data.y||(r.data.x=0,r.data.y=0);const i=t.getNode(r.id),[o,s]=Hb(n(i)||30),l=void 0!==e?e(r):a,u=o+l,c=s+l;S=Math.max(S,u),M=Math.max(M,c)})}const T={},O={row:0,col:0},C={};for(let e=0;e<b.length;e++){const n=b[e];let r;if(p&&(r=p(t.getNode(n.id))),r&&(void 0!==r.row||void 0!==r.col)){const e={row:r.row,col:r.col};if(void 0===e.col)for(e.col=0;Nz(T,e);)e.col++;else if(void 0===e.row)for(e.row=0;Nz(T,e);)e.row++;C[n.id]=e,Pz(T,e)}Rz(n,i,S,M,C,k,O,T)}const N={nodes:b,edges:y};return e&&b.forEach(e=>{t.mergeNodeData(e.id,{x:e.data.x,y:e.data.y})}),N})}},indented:Vy.indented,mds:kx,mindmap:Vy.mindmap,radial:class{constructor(e={}){this.options=e,this.id="radial",this.options=Object.assign(Object.assign({},Iz),e)}execute(e,t){return Ht(this,void 0,void 0,function*(){return this.genericRadialLayout(!1,e,t)})}assign(e,t){return Ht(this,void 0,void 0,function*(){yield this.genericRadialLayout(!0,e,t)})}genericRadialLayout(e,t,n){return Ht(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},this.options),n),{width:i,height:o,center:a,focusNode:s,unitRadius:l,nodeSize:u,nodeSpacing:c,strictRadial:d,preventOverlap:h,maxPreventOverlapIteration:f,sortBy:p,linkDistance:g=50,sortStrength:m=10,maxIteration:y=1e3}=r,v=t.getAllNodes(),b=t.getAllEdges(),w=i||"undefined"==typeof window?i:window.innerWidth,x=o||"undefined"==typeof window?o:window.innerHeight,E=a||[w/2,x/2];if(!(null==v?void 0:v.length)||1===v.length)return qb(t,e,E);let k=v[0];if(rt(s)){for(let e=0;e<v.length;e++)if(v[e].id===s){k=v[e];break}}else k=s||v[0];const S=jz(v,k.id),M=Ib({nodes:v,edges:b}),T=Lb(M),O=Hz(T,S);Bz(T,S,O+1);const C=T[S];let N=w-E[0]>E[0]?E[0]:w-E[0],P=x-E[1]>E[1]?E[1]:x-E[1];0===N&&(N=w/2),0===P&&(P=x/2);const A=Math.min(N,P),R=Math.max(...C),_=[],D=l||A/R;C.forEach((e,t)=>{_[t]=e*D});const L=zz(v,T,g,_,D,p,m),I=Fz(L),z=((e,t,n)=>{try{const n=wx.mul(wx.pow(t,2),-.5),r=n.mean("row"),i=n.mean("column"),o=n.mean();n.add(o).subRowVector(r).subColumnVector(i);const a=new xx(n),s=wx.sqrt(a.diagonalMatrix).diagonal();return a.leftSingularVectors.toJSON().map(t=>wx.mul([t],[s]).toJSON()[0].splice(0,e))}catch(e){const r=[];for(let e=0;e<t.length;e++){const e=Math.random()*n,t=Math.random()*n;r.push([e,t])}return r}})(g,L,g);let F,j=z.map(([e,t])=>({x:(isNaN(e)?Math.random()*g:e)-z[S][0],y:(isNaN(t)?Math.random()*g:t)-z[S][1]}));if(this.run(y,j,I,L,_,S),h){F=Wb(u,c);const e={nodes:v,nodeSizeFunc:F,positions:j,radii:_,height:x,width:w,strictRadial:Boolean(d),focusIdx:S,iterations:f||200,k:j.length/4.5};j=((e,t)=>{const n=Object.assign(Object.assign({},_z),t),{positions:r,iterations:i,width:o,k:a,speed:s=100,strictRadial:l,focusIdx:u,radii:c=[],nodeSizeFunc:d}=n,h=e.getAllNodes(),f=[],p=o/10;for(let e=0;e<i;e++)r.forEach((e,t)=>{f[t]={x:0,y:0}}),Dz(h,r,f,a,c,d),Lz(r,f,s,l,u,p,o,c);return r})(t,e)}const B=[];j.forEach((e,t)=>{const n=Bb(v[t]);n.data.x=e.x+E[0],n.data.y=e.y+E[1],B.push(n)}),e&&B.forEach(e=>t.mergeNodeData(e.id,{x:e.data.x,y:e.data.y}));return{nodes:B,edges:b}})}run(e,t,n,r,i,o){for(let a=0;a<=e;a++){const s=a/e;this.oneIteration(s,t,i,r,n,o)}}oneIteration(e,t,n,r,i,o){const a=1-e;t.forEach((s,l)=>{const u=zb(s,{x:0,y:0}),c=0===u?0:1/u;if(l===o)return;let d=0,h=0,f=0;t.forEach((e,t)=>{if(l===t)return;const n=zb(s,e),o=0===n?0:1/n,a=r[t][l];f+=i[l][t],d+=i[l][t]*(e.x+a*(s.x-e.x)*o),h+=i[l][t]*(e.y+a*(s.y-e.y)*o)});const p=0===n[l]?0:1/n[l];f*=a,f+=e*p*p,d*=a,d+=e*p*s.x*c,s.x=d/f,h*=a,h+=e*p*s.y*c,s.y=h/f})}},random:class{constructor(e={}){this.options=e,this.id="random",this.options=Object.assign(Object.assign({},Vz),e)}execute(e,t){return Ht(this,void 0,void 0,function*(){return this.genericRandomLayout(!1,e,t)})}assign(e,t){return Ht(this,void 0,void 0,function*(){yield this.genericRandomLayout(!0,e,t)})}genericRandomLayout(e,t,n){return Ht(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},this.options),n),{center:i,width:o,height:a}=r,s=t.getAllNodes(),l=o||"undefined"==typeof window?o:window.innerWidth,u=a||"undefined"==typeof window?a:window.innerHeight,c=i||[l/2,u/2],d=[];s&&s.forEach(e=>{d.push({id:e.id,data:{x:.9*(Math.random()-.5)*l+c[0],y:.9*(Math.random()-.5)*u+c[1]}})}),e&&d.forEach(e=>t.mergeNodeData(e.id,{x:e.data.x,y:e.data.y}));return{nodes:d,edges:t.getAllEdges()}})}},snake:mF},node:{circle:kf,diamond:class extends Sf{constructor(e){super(e)}getPoints(e){const[t,n]=this.getSize(e);return function(e,t){return[[0,-t/2],[e/2,0],[0,t/2],[-e/2,0]]}(t,n)}},ellipse:Nf,hexagon:class extends Sf{constructor(e){super(e)}getOuterR(e){return e.outerR||Math.min(...this.getSize(e))/2}getPoints(e){return[[0,t=this.getOuterR(e)],[t*Math.sqrt(3)/2,t/2],[t*Math.sqrt(3)/2,-t/2],[0,-t],[-t*Math.sqrt(3)/2,-t/2],[-t*Math.sqrt(3)/2,t/2]];var t}getIconStyle(e){const t=super.getIconStyle(e),n=this.getOuterR(e)*Dh;return!!t&&Object.assign({width:n,height:n},t)}},html:Gp,image:qp,rect:class extends Ef{constructor(e){super(e)}getKeyStyle(e){const[t,n]=this.getSize(e);return Object.assign(Object.assign({},super.getKeyStyle(e)),{width:t,height:n,x:-t/2,y:-n/2})}getIconStyle(e){const t=super.getIconStyle(e),{width:n,height:r}=this.getShape("key").attributes;return!!t&&Object.assign({width:n*Dh,height:r*Dh},t)}drawKeyShape(e,t){return this.upsert("key",su,this.getKeyStyle(e),t)}},star:class extends Sf{constructor(e){super(e)}getInnerR(e){return e.innerR||3*this.getOuterR(e)/8}getOuterR(e){return Math.min(...this.getSize(e))/2}getPoints(e){return t=this.getOuterR(e),n=this.getInnerR(e),[[0,-t],[n*Math.cos(3*Math.PI/10),-n*Math.sin(3*Math.PI/10)],[t*Math.cos(Math.PI/10),-t*Math.sin(Math.PI/10)],[n*Math.cos(Math.PI/10),n*Math.sin(Math.PI/10)],[t*Math.cos(3*Math.PI/10),t*Math.sin(3*Math.PI/10)],[0,n],[-t*Math.cos(3*Math.PI/10),t*Math.sin(3*Math.PI/10)],[-n*Math.cos(Math.PI/10),n*Math.sin(Math.PI/10)],[-t*Math.cos(Math.PI/10),-t*Math.sin(Math.PI/10)],[-n*Math.cos(3*Math.PI/10),-n*Math.sin(3*Math.PI/10)]];var t,n}getIconStyle(e){const t=super.getIconStyle(e),n=2*this.getInnerR(e)*Dh;return!!t&&Object.assign({width:n,height:n},t)}getPortXY(e,t){const{placement:n="top"}=t;return Gg(this.getShape("key").getLocalBounds(),n,function(e,t){const n={};return n.top=[0,-e],n.left=[-e*Math.cos(Math.PI/10),-e*Math.sin(Math.PI/10)],n["left-bottom"]=[-e*Math.cos(3*Math.PI/10),e*Math.sin(3*Math.PI/10)],n.bottom=[0,t],n["right-bottom"]=[e*Math.cos(3*Math.PI/10),e*Math.sin(3*Math.PI/10)],n.right=n.default=[e*Math.cos(Math.PI/10),-e*Math.sin(Math.PI/10)],n}(this.getOuterR(e),this.getInnerR(e)),!1)}},donut:Tf,triangle:Yp},palette:{spectral:["rgb(158, 1, 66)","rgb(213, 62, 79)","rgb(244, 109, 67)","rgb(253, 174, 97)","rgb(254, 224, 139)","rgb(255, 255, 191)","rgb(230, 245, 152)","rgb(171, 221, 164)","rgb(102, 194, 165)","rgb(50, 136, 189)","rgb(94, 79, 162)"],tableau:["rgb(78, 121, 167)","rgb(242, 142, 44)","rgb(225, 87, 89)","rgb(118, 183, 178)","rgb(89, 161, 79)","rgb(237, 201, 73)","rgb(175, 122, 161)","rgb(255, 157, 167)","rgb(156, 117, 95)","rgb(186, 176, 171)"],oranges:["rgb(255, 245, 235)","rgb(254, 230, 206)","rgb(253, 208, 162)","rgb(253, 174, 107)","rgb(253, 141, 60)","rgb(241, 105, 19)","rgb(217, 72, 1)","rgb(166, 54, 3)","rgb(127, 39, 4)"],greens:["rgb(247, 252, 245)","rgb(229, 245, 224)","rgb(199, 233, 192)","rgb(161, 217, 155)","rgb(116, 196, 118)","rgb(65, 171, 93)","rgb(35, 139, 69)","rgb(0, 109, 44)","rgb(0, 68, 27)"],blues:["rgb(247, 251, 255)","rgb(222, 235, 247)","rgb(198, 219, 239)","rgb(158, 202, 225)","rgb(107, 174, 214)","rgb(66, 146, 198)","rgb(33, 113, 181)","rgb(8, 81, 156)","rgb(8, 48, 107)"]},theme:{dark:cG,light:dG},plugin:{"bubble-sets":oj,"edge-bundling":cj,"edge-filter-lens":bj,"grid-line":kj,background:kF,contextmenu:uj,fisheye:xj,fullscreen:Ej,history:Cj,hull:uB,legend:DW,minimap:LW,snapline:BW,timebar:$W,toolbar:QW,tooltip:JW,watermark:oG},transform:{"arrange-draw-order":class extends hG{beforeDraw(e){const{model:t}=this.context,n=e.add.combos,r=e=>{const n=[];return e.forEach((e,r)=>{const i=t.getAncestorsData(r,"combo").map(e=>Ad(e)).reverse();n.push([r,e,i.length])}),new Map(n.sort(([,,e],[,,t])=>t-e).map(([e,t])=>[e,t]))};return e.add.combos=r(n),e.update.combos=r(e.update.combos),e}},"collapse-expand-combo":class extends hG{beforeDraw(e,t){if("visibility"===t.stage)return e;if(!this.context.model.model.hasTreeStructure(Dc))return e;const{model:n}=this.context,{add:r,update:i}=e,o=[...e.update.combos.entries(),...e.add.combos.entries()];for(;o.length;){const[t,a]=o.pop();if(Vh(a)){const a=n.getDescendantsData(t),s=a.map(Ad),{internal:l,external:u}=yg(s,e=>n.getRelatedEdgesData(e));a.forEach(t=>{const r=Ad(t),i=o.findIndex(([e])=>e===r);-1!==i&&o.splice(i,1);const a=n.getElementType(r);fG(e,"remove",a,t)}),l.forEach(t=>fG(e,"remove","edge",t)),u.forEach(e=>{var t;const n=Ad(e);(null===(t=this.context.element)||void 0===t?void 0:t.getElement(n))?i.edges.set(n,e):r.edges.set(n,e)})}else{const r=n.getChildrenData(t),i=r.map(Ad),{edges:a}=yg(i,e=>n.getRelatedEdgesData(e));[...r,...a].forEach(t=>{var r;const i=Ad(t),a=n.getElementType(i),s=null===(r=this.context.element)||void 0===r?void 0:r.getElement(i);fG(e,s?"update":"add",a,t),"combo"===a&&o.push([i,t])})}}return e}},"collapse-expand-node":class extends hG{getElement(e){return this.context.element.getElement(e)}handleExpand(e,t){if(gG(t,"add","node",e),Vh(e))return;const n=Ad(e);gG(t,"add","node",e);this.context.model.getRelatedEdgesData(n).forEach(e=>{fG(t,"add","edge",e)});this.context.model.getChildrenData(n).forEach(e=>{this.handleExpand(e,t)})}beforeDraw(e){const{graph:t,model:n}=this.context;if(!n.model.hasTreeStructure(Lc))return e;const{add:{nodes:r,edges:i},update:{nodes:o}}=e,a=new Map,s=new Map;r.forEach((e,t)=>{Vh(e)&&a.set(t,e)}),i.forEach(e=>{if("node"!==t.getElementType(e.source))return;const n=t.getNodeData(e.source);Vh(n)&&a.set(e.source,n)}),o.forEach((e,t)=>{const n=this.getElement(t);if(!n)return;const r=n.attributes.collapsed;Vh(e)?r||a.set(t,e):r&&s.set(t,e)});const l=new Set;return a.forEach((t,r)=>{n.getDescendantsData(r).forEach(t=>{const r=Ad(t);if(l.has(r))return;fG(e,"remove","node",t);n.getRelatedEdgesData(r).forEach(t=>{fG(e,"remove","edge",t)}),l.add(r)})}),s.forEach((t,r)=>{n.getAncestorsData(r,Lc).some(Vh)?fG(e,"remove","node",t):this.handleExpand(t,e)}),e}},"get-edge-actual-ends":class extends hG{beforeDraw(e){const{add:t,update:n}=e,{model:r}=this.context;return[...t.edges.entries(),...n.edges.entries()].forEach(([,e])=>{l$(r,e)}),e}},"map-node-size":u$,"place-radial-labels":c$,"process-parallel-edges":h$,"update-related-edges":class extends hG{beforeDraw(e,t){const{stage:n}=t;if("visibility"===n)return e;const{model:r}=this.context,{update:{nodes:i,edges:o,combos:a}}=e,s=(e,t)=>{r.getRelatedEdgesData(t).forEach(e=>!o.has(Ad(e))&&o.set(Ad(e),e))};return i.forEach(s),a.forEach(s),e}}},shape:{circle:Gl,ellipse:Yl,group:Xl,html:Ql,image:pf,line:eu,path:nu,polygon:iu,polyline:au,rect:su,text:uu,label:sf,badge:lf}};Object.entries(m$).forEach(([e,t])=>{Object.entries(t).forEach(([t,n])=>{!function(e,t,n){zc[e][t]&&Bc(`The extension ${t} of ${e} has been registered before, and will be overridden.`),Object.assign(zc[e],{[t]:n})}(e,t,n)})});var y$,v$={exports:{}},b$={},w$={exports:{}},x$={};function E$(){if(y$)return x$;y$=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),d=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,p={};function g(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||h}function m(){}function y(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=g.prototype;var v=y.prototype=new m;v.constructor=y,f(v,g.prototype),v.isPureReactComponent=!0;var b=Array.isArray,w={H:null,A:null,T:null,S:null,V:null},x=Object.prototype.hasOwnProperty;function E(t,n,r,i,o,a){return r=a.ref,{$$typeof:e,type:t,key:n,ref:void 0!==r?r:null,props:a}}function k(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var S=/\/+/g;function M(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function T(){}function O(n,r,i,o,a){var s=typeof n;"undefined"!==s&&"boolean"!==s||(n=null);var l,u,h=!1;if(null===n)h=!0;else switch(s){case"bigint":case"string":case"number":h=!0;break;case"object":switch(n.$$typeof){case e:case t:h=!0;break;case c:return O((h=n._init)(n._payload),r,i,o,a)}}if(h)return a=a(n),h=""===o?"."+M(n,0):o,b(a)?(i="",null!=h&&(i=h.replace(S,"$&/")+"/"),O(a,r,i,"",function(e){return e})):null!=a&&(k(a)&&(l=a,u=i+(null==a.key||n&&n.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+h,a=E(l.type,u,void 0,0,0,l.props)),r.push(a)),1;h=0;var f,p=""===o?".":o+":";if(b(n))for(var g=0;g<n.length;g++)h+=O(o=n[g],r,i,s=p+M(o,g),a);else if("function"==typeof(g=null===(f=n)||"object"!=typeof f?null:"function"==typeof(f=d&&f[d]||f["@@iterator"])?f:null))for(n=g.call(n),g=0;!(o=n.next()).done;)h+=O(o=o.value,r,i,s=p+M(o,g++),a);else if("object"===s){if("function"==typeof n.then)return O(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(T,T):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(n),r,i,o,a);throw r=String(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.")}return h}function C(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",function(e){return t.call(n,e,i++)}),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function A(){}return x$.Children={map:C,forEach:function(e,t,n){C(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return C(e,function(){t++}),t},toArray:function(e){return C(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},x$.Component=g,x$.Fragment=n,x$.Profiler=i,x$.PureComponent=y,x$.StrictMode=r,x$.Suspense=l,x$.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,x$.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},x$.cache=function(e){return function(){return e.apply(null,arguments)}},x$.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=f({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!x.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var a=Array(o),s=0;s<o;s++)a[s]=arguments[s+2];r.children=a}return E(e.type,i,void 0,0,0,r)},x$.createContext=function(e){return(e={$$typeof:a,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},x$.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)x.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return E(e,o,void 0,0,0,i)},x$.createRef=function(){return{current:null}},x$.forwardRef=function(e){return{$$typeof:s,render:e}},x$.isValidElement=k,x$.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:N}},x$.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},x$.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),i=w.S;null!==i&&i(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(A,P)}catch(e){P(e)}finally{w.T=t}},x$.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},x$.use=function(e){return w.H.use(e)},x$.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},x$.useCallback=function(e,t){return w.H.useCallback(e,t)},x$.useContext=function(e){return w.H.useContext(e)},x$.useDebugValue=function(){},x$.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},x$.useEffect=function(e,t,n){var r=w.H;if("function"==typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},x$.useId=function(){return w.H.useId()},x$.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},x$.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},x$.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},x$.useMemo=function(e,t){return w.H.useMemo(e,t)},x$.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},x$.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},x$.useRef=function(e){return w.H.useRef(e)},x$.useState=function(e){return w.H.useState(e)},x$.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},x$.useTransition=function(){return w.H.useTransition()},x$.version="19.1.0",x$}var k$,S$,M$,T$={exports:{}};
/**
   * @license React
   * react.development.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */function O$(){return k$||(k$=1,function(e,t){"production"!==process.env.NODE_ENV&&function(){function n(e,t){Object.defineProperty(i.prototype,e,{get:function(){console.warn("%s(...) is deprecated in plain JavaScript React classes. %s",t[0],t[1])}})}function r(e,t){var n=(e=(e=e.constructor)&&(e.displayName||e.name)||"ReactClass")+"."+t;U[n]||(console.error("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",t,e),U[n]=!0)}function i(e,t,n){this.props=e,this.context=t,this.refs=$,this.updater=n||W}function o(){}function a(e,t,n){this.props=e,this.context=t,this.refs=$,this.updater=n||W}function s(e){return""+e}function l(e){try{s(e);var t=!1}catch(e){t=!0}if(t){var n=(t=console).error,r="function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object";return n.call(t,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",r),s(e)}}function u(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===Z?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case A:return"Fragment";case _:return"Profiler";case R:return"StrictMode";case z:return"Suspense";case F:return"SuspenseList";case H:return"Activity"}if("object"==typeof e)switch("number"==typeof e.tag&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),e.$$typeof){case P:return"Portal";case L:return(e.displayName||"Context")+".Provider";case D:return(e._context.displayName||"Context")+".Consumer";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:u(e.type)||"Memo";case B:t=e._payload,e=e._init;try{return u(e(t))}catch(e){}}return null}function c(e){if(e===A)return"<>";if("object"==typeof e&&null!==e&&e.$$typeof===B)return"<...>";try{var t=u(e);return t?"<"+t+">":"<...>"}catch(e){return"<...>"}}function d(){var e=J.A;return null===e?null:e.getOwner()}function h(){return Error("react-stack-top-frame")}function f(e){if(ee.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}function p(){var e=u(this.type);return ne[e]||(ne[e]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),void 0!==(e=this.props.ref)?e:null}function g(e,t,n,r,i,o,a,s){return n=o.ref,e={$$typeof:N,type:e,key:t,props:o,_owner:i},null!==(void 0!==n?n:null)?Object.defineProperty(e,"ref",{enumerable:!1,get:p}):Object.defineProperty(e,"ref",{enumerable:!1,value:null}),e._store={},Object.defineProperty(e._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(e,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(e,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:a}),Object.defineProperty(e,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:s}),Object.freeze&&(Object.freeze(e.props),Object.freeze(e)),e}function m(e){return"object"==typeof e&&null!==e&&e.$$typeof===N}function y(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(l(e.key),n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function v(){}function b(e,t,n,r,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a,s,u,c=!1;if(null===e)c=!0;else switch(o){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case N:case P:c=!0;break;case B:return b((c=e._init)(e._payload),t,n,r,i)}}if(c){i=i(c=e);var d=""===r?"."+y(c,0):r;return Q(i)?(n="",null!=d&&(n=d.replace(ae,"$&/")+"/"),b(i,t,n,"",function(e){return e})):null!=i&&(m(i)&&(null!=i.key&&(c&&c.key===i.key||l(i.key)),a=i,s=n+(null==i.key||c&&c.key===i.key?"":(""+i.key).replace(ae,"$&/")+"/")+d,s=g(a.type,s,void 0,0,a._owner,a.props,a._debugStack,a._debugTask),a._store&&(s._store.validated=a._store.validated),n=s,""!==r&&null!=c&&m(c)&&null==c.key&&c._store&&!c._store.validated&&(n._store.validated=2),i=n),t.push(i)),1}if(c=0,d=""===r?".":r+":",Q(e))for(var h=0;h<e.length;h++)c+=b(r=e[h],t,n,o=d+y(r,h),i);else if("function"==typeof(h=null===(u=e)||"object"!=typeof u?null:"function"==typeof(u=V&&u[V]||u["@@iterator"])?u:null))for(h===e.entries&&(oe||console.warn("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),oe=!0),e=h.call(e),h=0;!(r=e.next()).done;)c+=b(r=r.value,t,n,o=d+y(r,h++),i);else if("object"===o){if("function"==typeof e.then)return b(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(v,v):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,n,r,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function w(e,t,n){if(null==e)return e;var r=[],i=0;return b(e,r,"","",function(e){return t.call(n,e,i++)}),r}function x(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return void 0===(t=e._result)&&console.error("lazy: Expected the result of a dynamic import() call. Instead received: %s\n\nYour code should look like: \n  const MyComponent = lazy(() => import('./MyComponent'))\n\nDid you accidentally put curly braces around the import?",t),"default"in t||console.error("lazy: Expected the result of a dynamic import() call. Instead received: %s\n\nYour code should look like: \n  const MyComponent = lazy(() => import('./MyComponent'))",t),t.default;throw e._result}function E(){var e=J.H;return null===e&&console.error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem."),e}function k(){}function S(t){if(null===ue)try{var n=("require"+Math.random()).slice(0,7);ue=(e&&e[n]).call(e,"timers").setImmediate}catch(e){ue=function(e){!1===le&&(le=!0,"undefined"==typeof MessageChannel&&console.error("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(void 0)}}return ue(t)}function M(e){return 1<e.length&&"function"==typeof AggregateError?new AggregateError(e):e[0]}function T(e,t){t!==ce-1&&console.error("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),ce=t}function O(e,t,n){var r=J.actQueue;if(null!==r)if(0!==r.length)try{return C(r),void S(function(){return O(e,t,n)})}catch(e){J.thrownErrors.push(e)}else J.actQueue=null;0<J.thrownErrors.length?(r=M(J.thrownErrors),J.thrownErrors.length=0,n(r)):t(e)}function C(e){if(!he){he=!0;var t=0;try{for(;t<e.length;t++)for(var n=e[t];;){J.didUsePromise=!1;var r=n(!1);if(null===r)break;if(J.didUsePromise)return e[t]=n,void e.splice(0,t);n=r}e.length=0}catch(n){e.splice(0,t+1),J.thrownErrors.push(n)}finally{he=!1}}}"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var N=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),L=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),V=Symbol.iterator,U={},W={isMounted:function(){return!1},enqueueForceUpdate:function(e){r(e,"forceUpdate")},enqueueReplaceState:function(e){r(e,"replaceState")},enqueueSetState:function(e){r(e,"setState")}},G=Object.assign,$={};Object.freeze($),i.prototype.isReactComponent={},i.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};var q,Y={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]};for(q in Y)Y.hasOwnProperty(q)&&n(q,Y[q]);o.prototype=i.prototype,(Y=a.prototype=new o).constructor=a,G(Y,i.prototype),Y.isPureReactComponent=!0;var X,K,Q=Array.isArray,Z=Symbol.for("react.client.reference"),J={H:null,A:null,T:null,S:null,V:null,actQueue:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1,didUsePromise:!1,thrownErrors:[],getCurrentStack:null,recentlyCreatedOwnerStacks:0},ee=Object.prototype.hasOwnProperty,te=console.createTask?console.createTask:function(){return null},ne={},re=(Y={"react-stack-bottom-frame":function(e){return e()}})["react-stack-bottom-frame"].bind(Y,h)(),ie=te(c(h)),oe=!1,ae=/\/+/g,se="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},le=!1,ue=null,ce=0,de=!1,he=!1,fe="function"==typeof queueMicrotask?function(e){queueMicrotask(function(){return queueMicrotask(e)})}:S;Y=Object.freeze({__proto__:null,c:function(e){return E().useMemoCache(e)}}),t.Children={map:w,forEach:function(e,t,n){w(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return w(e,function(){t++}),t},toArray:function(e){return w(e,function(e){return e})||[]},only:function(e){if(!m(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=i,t.Fragment=A,t.Profiler=_,t.PureComponent=a,t.StrictMode=R,t.Suspense=z,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,t.__COMPILER_RUNTIME=Y,t.act=function(e){var t=J.actQueue,n=ce;ce++;var r=J.actQueue=null!==t?t:[],i=!1;try{var o=e()}catch(e){J.thrownErrors.push(e)}if(0<J.thrownErrors.length)throw T(0,n),e=M(J.thrownErrors),J.thrownErrors.length=0,e;if(null!==o&&"object"==typeof o&&"function"==typeof o.then){var a=o;return fe(function(){i||de||(de=!0,console.error("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),{then:function(e,t){i=!0,a.then(function(i){if(T(0,n),0===n){try{C(r),S(function(){return O(i,e,t)})}catch(e){J.thrownErrors.push(e)}if(0<J.thrownErrors.length){var o=M(J.thrownErrors);J.thrownErrors.length=0,t(o)}}else e(i)},function(e){T(0,n),0<J.thrownErrors.length?(e=M(J.thrownErrors),J.thrownErrors.length=0,t(e)):t(e)})}}}var s=o;if(T(0,n),0===n&&(C(r),0!==r.length&&fe(function(){i||de||(de=!0,console.error("A component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:\n\nawait act(() => ...)"))}),J.actQueue=null),0<J.thrownErrors.length)throw e=M(J.thrownErrors),J.thrownErrors.length=0,e;return{then:function(e,t){i=!0,0===n?(J.actQueue=r,S(function(){return O(s,e,t)})):e(s)}}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.captureOwnerStack=function(){var e=J.getCurrentStack;return null===e?null:e()},t.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r,i=G({},e.props),o=e.key,a=e._owner;if(null!=t)for(s in(r=!(ee.call(t,"ref")&&(r=Object.getOwnPropertyDescriptor(t,"ref").get)&&r.isReactWarning)&&void 0!==t.ref)&&(a=d()),f(t)&&(l(t.key),o=""+t.key),t)!ee.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(i[s]=t[s]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){r=Array(s);for(var u=0;u<s;u++)r[u]=arguments[u+2];i.children=r}for(i=g(e.type,o,void 0,0,a,i,e._debugStack,e._debugTask),o=2;o<arguments.length;o++)m(a=arguments[o])&&a._store&&(a._store.validated=1);return i},t.createContext=function(e){return(e={$$typeof:L,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:D,_context:e},e._currentRenderer=null,e._currentRenderer2=null,e},t.createElement=function(e,t,n){for(var r=2;r<arguments.length;r++){var i=arguments[r];m(i)&&i._store&&(i._store.validated=1)}if(r={},i=null,null!=t)for(u in K||!("__self"in t)||"key"in t||(K=!0,console.warn("Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform")),f(t)&&(l(t.key),i=""+t.key),t)ee.call(t,u)&&"key"!==u&&"__self"!==u&&"__source"!==u&&(r[u]=t[u]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var a=Array(o),s=0;s<o;s++)a[s]=arguments[s+2];Object.freeze&&Object.freeze(a),r.children=a}if(e&&e.defaultProps)for(u in o=e.defaultProps)void 0===r[u]&&(r[u]=o[u]);i&&function(e,t){function n(){X||(X=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",t))}n.isReactWarning=!0,Object.defineProperty(e,"key",{get:n,configurable:!0})}(r,"function"==typeof e?e.displayName||e.name||"Unknown":e);var u=1e4>J.recentlyCreatedOwnerStacks++;return g(e,i,void 0,0,d(),r,u?Error("react-stack-top-frame"):re,u?te(c(e)):ie)},t.createRef=function(){var e={current:null};return Object.seal(e),e},t.forwardRef=function(e){null!=e&&e.$$typeof===j?console.error("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):"function"!=typeof e?console.error("forwardRef requires a render function but was given %s.",null===e?"null":typeof e):0!==e.length&&2!==e.length&&console.error("forwardRef render functions accept exactly two parameters: props and ref. %s",1===e.length?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),null!=e&&null!=e.defaultProps&&console.error("forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?");var t,n={$$typeof:I,render:e};return Object.defineProperty(n,"displayName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n,e.name||e.displayName||(Object.defineProperty(e,"name",{value:n}),e.displayName=n)}}),n},t.isValidElement=m,t.lazy=function(e){return{$$typeof:B,_payload:{_status:-1,_result:e},_init:x}},t.memo=function(e,t){var n;return null==e&&console.error("memo: The first argument must be a component. Instead received: %s",null===e?"null":typeof e),t={$$typeof:j,type:e,compare:void 0===t?null:t},Object.defineProperty(t,"displayName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(t){n=t,e.name||e.displayName||(Object.defineProperty(e,"name",{value:t}),e.displayName=t)}}),t},t.startTransition=function(e){var t=J.T,n={};J.T=n,n._updatedFibers=new Set;try{var r=e(),i=J.S;null!==i&&i(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(k,se)}catch(e){se(e)}finally{null===t&&n._updatedFibers&&(e=n._updatedFibers.size,n._updatedFibers.clear(),10<e&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table.")),J.T=t}},t.unstable_useCacheRefresh=function(){return E().useCacheRefresh()},t.use=function(e){return E().use(e)},t.useActionState=function(e,t,n){return E().useActionState(e,t,n)},t.useCallback=function(e,t){return E().useCallback(e,t)},t.useContext=function(e){var t=E();return e.$$typeof===D&&console.error("Calling useContext(Context.Consumer) is not supported and will cause bugs. Did you mean to call useContext(Context) instead?"),t.useContext(e)},t.useDebugValue=function(e,t){return E().useDebugValue(e,t)},t.useDeferredValue=function(e,t){return E().useDeferredValue(e,t)},t.useEffect=function(e,t,n){null==e&&console.warn("React Hook useEffect requires an effect callback. Did you forget to pass a callback to the hook?");var r=E();if("function"==typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return E().useId()},t.useImperativeHandle=function(e,t,n){return E().useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return null==e&&console.warn("React Hook useInsertionEffect requires an effect callback. Did you forget to pass a callback to the hook?"),E().useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return null==e&&console.warn("React Hook useLayoutEffect requires an effect callback. Did you forget to pass a callback to the hook?"),E().useLayoutEffect(e,t)},t.useMemo=function(e,t){return E().useMemo(e,t)},t.useOptimistic=function(e,t){return E().useOptimistic(e,t)},t.useReducer=function(e,t,n){return E().useReducer(e,t,n)},t.useRef=function(e){return E().useRef(e)},t.useState=function(e){return E().useState(e)},t.useSyncExternalStore=function(e,t,n){return E().useSyncExternalStore(e,t,n)},t.useTransition=function(){return E().useTransition()},t.version="19.1.0","undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()}(T$,T$.exports)),T$.exports}function C$(){return S$||(S$=1,"production"===process.env.NODE_ENV?w$.exports=E$():w$.exports=O$()),w$.exports}
/**
   * @license React
   * react-dom.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */var N$,P$={};
/**
   * @license React
   * react-dom.development.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */"production"===process.env.NODE_ENV?(!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){if("production"!==process.env.NODE_ENV)throw new Error("^_^");try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),v$.exports=function(){if(M$)return b$;M$=1;var e=C$();function t(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal"),o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}return b$.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,b$.createPortal=function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(t(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,n,null,r)},b$.flushSync=function(e){var t=o.T,n=r.p;try{if(o.T=null,r.p=2,e)return e()}finally{o.T=t,r.p=n,r.d.f()}},b$.preconnect=function(e,t){"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,r.d.C(e,t))},b$.prefetchDNS=function(e){"string"==typeof e&&r.d.D(e)},b$.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,i=a(n,t.crossOrigin),o="string"==typeof t.integrity?t.integrity:void 0,s="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?r.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:o,fetchPriority:s}):"script"===n&&r.d.X(e,{crossOrigin:i,integrity:o,fetchPriority:s,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},b$.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=a(t.as,t.crossOrigin);r.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&r.d.M(e)},b$.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,i=a(n,t.crossOrigin);r.d.L(e,n,{crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},b$.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=a(t.as,t.crossOrigin);r.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else r.d.m(e)},b$.requestFormReset=function(e){r.d.r(e)},b$.unstable_batchedUpdates=function(e,t){return e(t)},b$.useFormState=function(e,t,n){return o.H.useFormState(e,t,n)},b$.useFormStatus=function(){return o.H.useHostTransitionStatus()},b$.version="19.1.0",b$}()):v$.exports=(N$||(N$=1,"production"!==process.env.NODE_ENV&&function(){function e(){}function t(e){return""+e}function n(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}function r(e){return null===e?"`null`":void 0===e?"`undefined`":""===e?"an empty string":'something with type "'+typeof e+'"'}function i(e){return null===e?"`null`":void 0===e?"`undefined`":""===e?"an empty string":"string"==typeof e?JSON.stringify(e):"number"==typeof e?"`"+e+"`":'something with type "'+typeof e+'"'}function o(){var e=u.H;return null===e&&console.error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem."),e}"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var a=C$(),s={d:{f:e,r:function(){throw Error("Invalid form element. requestFormReset must be passed a form that was rendered by React.")},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},l=Symbol.for("react.portal"),u=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;"function"==typeof Map&&null!=Map.prototype&&"function"==typeof Map.prototype.forEach&&"function"==typeof Set&&null!=Set.prototype&&"function"==typeof Set.prototype.clear&&"function"==typeof Set.prototype.forEach||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),P$.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,P$.createPortal=function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error("Target container is not a DOM element.");return function(e,n,r){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;try{t(i);var o=!1}catch(e){o=!0}return o&&(console.error("The provided key is an unsupported type %s. This value must be coerced to a string before using it here.","function"==typeof Symbol&&Symbol.toStringTag&&i[Symbol.toStringTag]||i.constructor.name||"Object"),t(i)),{$$typeof:l,key:null==i?null:""+i,children:e,containerInfo:n,implementation:r}}(e,n,null,r)},P$.flushSync=function(e){var t=u.T,n=s.p;try{if(u.T=null,s.p=2,e)return e()}finally{u.T=t,s.p=n,s.d.f()&&console.error("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task.")}},P$.preconnect=function(e,t){"string"==typeof e&&e?null!=t&&"object"!=typeof t?console.error("ReactDOM.preconnect(): Expected the `options` argument (second) to be an object but encountered %s instead. The only supported option at this time is `crossOrigin` which accepts a string.",i(t)):null!=t&&"string"!=typeof t.crossOrigin&&console.error("ReactDOM.preconnect(): Expected the `crossOrigin` option (second argument) to be a string but encountered %s instead. Try removing this option or passing a string value instead.",r(t.crossOrigin)):console.error("ReactDOM.preconnect(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",r(e)),"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,s.d.C(e,t))},P$.prefetchDNS=function(e){if("string"==typeof e&&e){if(1<arguments.length){var t=arguments[1];"object"==typeof t&&t.hasOwnProperty("crossOrigin")?console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. It looks like the you are attempting to set a crossOrigin property for this DNS lookup hint. Browsers do not perform DNS queries using CORS and setting this attribute on the resource hint has no effect. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",i(t)):console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",i(t))}}else console.error("ReactDOM.prefetchDNS(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",r(e));"string"==typeof e&&s.d.D(e)},P$.preinit=function(e,t){if("string"==typeof e&&e?null==t||"object"!=typeof t?console.error("ReactDOM.preinit(): Expected the `options` argument (second) to be an object with an `as` property describing the type of resource to be preinitialized but encountered %s instead.",i(t)):"style"!==t.as&&"script"!==t.as&&console.error('ReactDOM.preinit(): Expected the `as` property in the `options` argument (second) to contain a valid value describing the type of resource to be preinitialized but encountered %s instead. Valid values for `as` are "style" and "script".',i(t.as)):console.error("ReactDOM.preinit(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",r(e)),"string"==typeof e&&t&&"string"==typeof t.as){var o=t.as,a=n(o,t.crossOrigin),l="string"==typeof t.integrity?t.integrity:void 0,u="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===o?s.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:a,integrity:l,fetchPriority:u}):"script"===o&&s.d.X(e,{crossOrigin:a,integrity:l,fetchPriority:u,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},P$.preinitModule=function(e,t){var o="";"string"==typeof e&&e||(o+=" The `href` argument encountered was "+r(e)+"."),void 0!==t&&"object"!=typeof t?o+=" The `options` argument encountered was "+r(t)+".":t&&"as"in t&&"script"!==t.as&&(o+=" The `as` option encountered was "+i(t.as)+"."),o?console.error("ReactDOM.preinitModule(): Expected up to two arguments, a non-empty `href` string and, optionally, an `options` object with a valid `as` property.%s",o):"script"===(o=t&&"string"==typeof t.as?t.as:"script")||(o=i(o),console.error('ReactDOM.preinitModule(): Currently the only supported "as" type for this function is "script" but received "%s" instead. This warning was generated for `href` "%s". In the future other module types will be supported, aligning with the import-attributes proposal. Learn more here: (https://github.com/tc39/proposal-import-attributes)',o,e)),"string"==typeof e&&("object"==typeof t&&null!==t?null!=t.as&&"script"!==t.as||(o=n(t.as,t.crossOrigin),s.d.M(e,{crossOrigin:o,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})):null==t&&s.d.M(e))},P$.preload=function(e,t){var i="";if("string"==typeof e&&e||(i+=" The `href` argument encountered was "+r(e)+"."),null==t||"object"!=typeof t?i+=" The `options` argument encountered was "+r(t)+".":"string"==typeof t.as&&t.as||(i+=" The `as` option encountered was "+r(t.as)+"."),i&&console.error('ReactDOM.preload(): Expected two arguments, a non-empty `href` string and an `options` object with an `as` property valid for a `<link rel="preload" as="..." />` tag.%s',i),"string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var o=n(i=t.as,t.crossOrigin);s.d.L(e,i,{crossOrigin:o,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},P$.preloadModule=function(e,t){var i="";"string"==typeof e&&e||(i+=" The `href` argument encountered was "+r(e)+"."),void 0!==t&&"object"!=typeof t?i+=" The `options` argument encountered was "+r(t)+".":t&&"as"in t&&"string"!=typeof t.as&&(i+=" The `as` option encountered was "+r(t.as)+"."),i&&console.error('ReactDOM.preloadModule(): Expected two arguments, a non-empty `href` string and, optionally, an `options` object with an `as` property valid for a `<link rel="modulepreload" as="..." />` tag.%s',i),"string"==typeof e&&(t?(i=n(t.as,t.crossOrigin),s.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0})):s.d.m(e))},P$.requestFormReset=function(e){s.d.r(e)},P$.unstable_batchedUpdates=function(e,t){return e(t)},P$.useFormState=function(e,t,n){return o().useFormState(e,t,n)},P$.useFormStatus=function(){return o().useHostTransitionStatus()},P$.version="19.1.0","undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()),P$);var A$=v$.exports,R$=n({__proto__:null,default:E(A$)},[A$]);const _$=Object.assign({},R$),{version:D$,render:L$,unmountComponentAtNode:I$}=_$;let z$;function F$(){return Ht(this,void 0,void 0,function*(){if(z$)return;if(Number((D$||"").split(".")[0])>=18)try{const e=yield Promise.resolve().then(function(){return nq});e.createRoot&&(z$=e.createRoot)}catch(e){}})}function j$(e){const{__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:t}=_$;t&&"object"==typeof t&&(t.usingClientEntryPoint=e)}const B$="__rc_react_root__";function H$(e,t){return Ht(this,void 0,void 0,function*(){yield F$(),z$?function(e,t){j$(!0);const n=t[B$]||z$(t);j$(!1),n.render(e),t[B$]=n}(e,t):function(e,t){L$(e,t)}(e,t)})}function V$(e){return Ht(this,void 0,void 0,function*(){if(yield F$(),z$)return function(e){return Ht(this,void 0,void 0,function*(){return Promise.resolve().then(()=>{var t;null===(t=e[B$])||void 0===t||t.unmount(),delete e[B$]})})}(e);!function(e){I$(e)}(e)})}var U$,W$={exports:{}},G$={},$$={exports:{}},q$={};var Y$,X$,K$,Q$={};
/**
   * @license React
   * scheduler.development.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */function Z$(){return X$||(X$=1,"production"===process.env.NODE_ENV?$$.exports=(U$||(U$=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>i(l,n))u<o&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<o&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,g=!1,m=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var i=n(u);null!==i;){if(null===i.callback)r(u);else{if(!(i.startTime<=e))break;r(u),i.sortIndex=i.expirationTime,t(l,i)}i=n(u)}}function x(e){if(g=!1,w(e),!p)if(null!==n(l))p=!0,k||(k=!0,E());else{var t=n(u);null!==t&&A(x,t.startTime-e)}}var E,k=!1,S=-1,M=5,T=-1;function O(){return!(!m&&e.unstable_now()-T<M)}function C(){if(m=!1,k){var t=e.unstable_now();T=t;var i=!0;try{e:{p=!1,g&&(g=!1,v(S),S=-1),f=!0;var o=h;try{t:{for(w(t),d=n(l);null!==d&&!(d.expirationTime>t&&O());){var a=d.callback;if("function"==typeof a){d.callback=null,h=d.priorityLevel;var s=a(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof s){d.callback=s,w(t),i=!0;break t}d===n(l)&&r(l),w(t)}else r(l);d=n(l)}if(null!==d)i=!0;else{var c=n(u);null!==c&&A(x,c.startTime-t),i=!1}}break e}finally{d=null,h=o,f=!1}i=void 0}}finally{i?E():k=!1}}}if("function"==typeof b)E=function(){b(C)};else if("undefined"!=typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=C,E=function(){P.postMessage(null)}}else E=function(){y(C,0)};function A(t,n){S=y(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_requestPaint=function(){m=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,i,o){var a=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:c++,callback:i,priorityLevel:r,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(r.sortIndex=o,t(u,r),null===n(l)&&r===n(u)&&(g?(v(S),S=-1):g=!0,A(x,o-a))):(r.sortIndex=s,t(l,r),p||f||(p=!0,k||(k=!0,E()))),r},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(q$)),q$):$$.exports=(Y$||(Y$=1,function(e){"production"!==process.env.NODE_ENV&&function(){function t(){if(x=!1,M){var t=e.unstable_now();C=t;var n=!0;try{e:{b=!1,w&&(w=!1,k(T),T=-1),v=!0;var o=y;try{t:{for(a(t),m=r(f);null!==m&&!(m.expirationTime>t&&l());){var c=m.callback;if("function"==typeof c){m.callback=null,y=m.priorityLevel;var d=c(m.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof d){m.callback=d,a(t),n=!0;break t}m===r(f)&&i(f),a(t)}else i(f);m=r(f)}if(null!==m)n=!0;else{var h=r(p);null!==h&&u(s,h.startTime-t),n=!1}}break e}finally{m=null,y=o,v=!1}n=void 0}}finally{n?N():M=!1}}}function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}function a(e){for(var t=r(p);null!==t;){if(null===t.callback)i(p);else{if(!(t.startTime<=e))break;i(p),t.sortIndex=t.expirationTime,n(f,t)}t=r(p)}}function s(e){if(w=!1,a(e),!b)if(null!==r(f))b=!0,M||(M=!0,N());else{var t=r(p);null!==t&&u(s,t.startTime-e)}}function l(){return!(!x&&e.unstable_now()-C<O)}function u(t,n){T=E(function(){t(e.unstable_now())},n)}if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error()),e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();e.unstable_now=function(){return d.now()-h}}var f=[],p=[],g=1,m=null,y=3,v=!1,b=!1,w=!1,x=!1,E="function"==typeof setTimeout?setTimeout:null,k="function"==typeof clearTimeout?clearTimeout:null,S="undefined"!=typeof setImmediate?setImmediate:null,M=!1,T=-1,O=5,C=-1;if("function"==typeof S)var N=function(){S(t)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=t,N=function(){A.postMessage(null)}}else N=function(){E(t,0)};e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(e){switch(y){case 1:case 2:case 3:var t=3;break;default:t=y}var n=y;y=t;try{return e()}finally{y=n}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=y;y=e;try{return t()}finally{y=n}},e.unstable_scheduleCallback=function(t,i,o){var a=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,t){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return t={id:g++,callback:i,priorityLevel:t,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>a?(t.sortIndex=o,n(p,t),null===r(f)&&t===r(p)&&(w?(k(T),T=-1):w=!0,u(s,o-a))):(t.sortIndex=l,n(f,t),b||v||(b=!0,M||(M=!0,N()))),t},e.unstable_shouldYield=l,e.unstable_wrapCallback=function(e){var t=y;return function(){var n=y;y=t;try{return e.apply(this,arguments)}finally{y=n}}},"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()}(Q$)),Q$)),$$.exports}
/**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */var J$,eq={};
/**
   * @license React
   * react-dom-client.development.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */"production"===process.env.NODE_ENV?(!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){if("production"!==process.env.NODE_ENV)throw new Error("^_^");try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),W$.exports=function(){if(K$)return G$;K$=1;var e=Z$(),t=C$(),n=A$;function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function a(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function s(e){if(o(e)!==e)throw Error(r(188))}function l(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=l(e)))return t;e=e.sibling}return null}var u=Object.assign,c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),v=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function O(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=T&&e[T]||e["@@iterator"])?e:null}var C=Symbol.for("react.client.reference");function N(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===C?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case f:return"Fragment";case g:return"Profiler";case p:return"StrictMode";case w:return"Suspense";case x:return"SuspenseList";case S:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case h:return"Portal";case v:return(e.displayName||"Context")+".Provider";case y:return(e._context.displayName||"Context")+".Consumer";case b:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:N(e.type)||"Memo";case k:t=e._payload,e=e._init;try{return N(e(t))}catch(e){}}return null}var P=Array.isArray,A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_={pending:!1,data:null,method:null,action:null},D=[],L=-1;function I(e){return{current:e}}function z(e){0>L||(e.current=D[L],D[L]=null,L--)}function F(e,t){L++,D[L]=e.current,e.current=t}var j=I(null),B=I(null),H=I(null),V=I(null);function U(e,t){switch(F(H,t),F(B,e),F(j,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?td(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=nd(t=td(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(j),F(j,e)}function W(){z(j),z(B),z(H)}function G(e){null!==e.memoizedState&&F(V,e);var t=j.current,n=nd(t,e.type);t!==n&&(F(B,e),F(j,n))}function $(e){B.current===e&&(z(j),z(B)),V.current===e&&(z(V),Gd._currentValue=_)}var q=Object.prototype.hasOwnProperty,Y=e.unstable_scheduleCallback,X=e.unstable_cancelCallback,K=e.unstable_shouldYield,Q=e.unstable_requestPaint,Z=e.unstable_now,J=e.unstable_getCurrentPriorityLevel,ee=e.unstable_ImmediatePriority,te=e.unstable_UserBlockingPriority,ne=e.unstable_NormalPriority,re=e.unstable_LowPriority,ie=e.unstable_IdlePriority,oe=e.log,ae=e.unstable_setDisableYieldValue,se=null,le=null;function ue(e){if("function"==typeof oe&&ae(e),le&&"function"==typeof le.setStrictMode)try{le.setStrictMode(se,e)}catch(e){}}var ce=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(de(e)/he|0)|0},de=Math.log,he=Math.LN2,fe=256,pe=4194304;function ge(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function me(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~o)?i=ge(r):0!==(a&=s)?i=ge(a):n||0!==(n=s&~e)&&(i=ge(n)):0!==(s=r&~o)?i=ge(s):0!==a?i=ge(a):n||0!==(n=r&~e)&&(i=ge(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&4194048&n)?t:i}function ye(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function ve(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function be(){var e=fe;return!(4194048&(fe<<=1))&&(fe=256),e}function we(){var e=pe;return!(62914560&(pe<<=1))&&(pe=4194304),e}function xe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ke(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ce(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Se(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ce(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Me(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Te(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Oe(){var e=R.p;return 0!==e?e:void 0===(e=window.event)?32:ah(e.type)}var Ce=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Ce,Pe="__reactProps$"+Ce,Ae="__reactContainer$"+Ce,Re="__reactEvents$"+Ce,_e="__reactListeners$"+Ce,De="__reactHandles$"+Ce,Le="__reactResources$"+Ce,Ie="__reactMarker$"+Ce;function ze(e){delete e[Ne],delete e[Pe],delete e[Re],delete e[_e],delete e[De]}function Fe(e){var t=e[Ne];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ae]||n[Ne]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=md(e);null!==e;){if(n=e[Ne])return n;e=md(e)}return t}n=(e=n).parentNode}return null}function je(e){if(e=e[Ne]||e[Ae]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Be(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function He(e){var t=e[Le];return t||(t=e[Le]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ve(e){e[Ie]=!0}var Ue=new Set,We={};function Ge(e,t){$e(e,t),$e(e+"Capture",t)}function $e(e,t){for(We[e]=t,e=0;e<t.length;e++)Ue.add(t[e])}var qe,Ye,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ke={},Qe={};function Ze(e,t,n){if(i=t,q.call(Qe,i)||!q.call(Ke,i)&&(Xe.test(i)?Qe[i]=!0:(Ke[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function Je(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function et(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function tt(e){if(void 0===qe)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);qe=t&&t[1]||"",Ye=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+qe+e+Ye}var nt=!1;function rt(e,t){if(!e||nt)return"";nt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),a=o[0],s=o[1];if(a&&s){var l=a.split("\n"),u=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==u[i]){var c="\n"+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=i);break}}}finally{nt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?tt(n):""}function it(e){switch(e.tag){case 26:case 27:case 5:return tt(e.type);case 16:return tt("Lazy");case 13:return tt("Suspense");case 19:return tt("SuspenseList");case 0:case 15:return rt(e.type,!1);case 11:return rt(e.type.render,!1);case 1:return rt(e.type,!0);case 31:return tt("Activity");default:return""}}function ot(e){try{var t="";do{t+=it(e),e=e.return}while(e);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function at(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function st(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function lt(e){e._valueTracker||(e._valueTracker=function(e){var t=st(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ut(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=st(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ct(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var dt=/[\n"\\]/g;function ht(e){return e.replace(dt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function ft(e,t,n,r,i,o,a,s){e.name="",null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+at(t)):e.value!==""+at(t)&&(e.value=""+at(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?gt(e,a,at(t)):null!=n?gt(e,a,at(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.name=""+at(s):e.removeAttribute("name")}function pt(e,t,n,r,i,o,a,s){if(null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o&&(e.type=o),null!=t||null!=n){if(("submit"===o||"reset"===o)&&null==t)return;n=null!=n?""+at(n):"",t=null!=t?""+at(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.name=a)}function gt(e,t,n){"number"===t&&ct(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function mt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+at(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function yt(e,t,n){null==t||((t=""+at(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+at(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function vt(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(r(92));if(P(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=at(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i)}function bt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var wt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||wt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&n[o]!==i&&xt(e,o,i)}else for(var a in t)t.hasOwnProperty(a)&&xt(e,a,t[a])}function kt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var St=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tt(e){return Mt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ot=null;function Ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Nt=null,Pt=null;function At(e){var t=je(e);if(t&&(e=t.stateNode)){var n=e[Pe]||null;e:switch(e=t.stateNode,t.type){case"input":if(ft(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ht(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=i[Pe]||null;if(!o)throw Error(r(90));ft(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&ut(i)}break e;case"textarea":yt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&mt(e,!!n.multiple,t,!1)}}}var Rt=!1;function _t(e,t,n){if(Rt)return e(t,n);Rt=!0;try{return e(t)}finally{if(Rt=!1,(null!==Nt||null!==Pt)&&(Fu(),Nt&&(t=Nt,e=Pt,Pt=Nt=null,At(t),e)))for(t=0;t<e.length;t++)At(e[t])}}function Dt(e,t){var n=e.stateNode;if(null===n)return null;var i=n[Pe]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var Lt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),It=!1;if(Lt)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){It=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(e){It=!1}var Ft=null,jt=null,Bt=null;function Ht(){if(Bt)return Bt;var e,t,n=jt,r=n.length,i="value"in Ft?Ft.value:Ft.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Bt=i.slice(e,1<t?1-t:void 0)}function Vt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Ut(){return!0}function Wt(){return!1}function Gt(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Ut:Wt,this.isPropagationStopped=Wt,this}return u(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Ut)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Ut)},persist:function(){},isPersistent:Ut}),t}var $t,qt,Yt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kt=Gt(Xt),Qt=u({},Xt,{view:0,detail:0}),Zt=Gt(Qt),Jt=u({},Qt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yt&&(Yt&&"mousemove"===e.type?($t=e.screenX-Yt.screenX,qt=e.screenY-Yt.screenY):qt=$t=0,Yt=e),$t)},movementY:function(e){return"movementY"in e?e.movementY:qt}}),en=Gt(Jt),tn=Gt(u({},Jt,{dataTransfer:0})),nn=Gt(u({},Qt,{relatedTarget:0})),rn=Gt(u({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),on=Gt(u({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),an=Gt(u({},Xt,{data:0})),sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ln={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},un={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=un[e])&&!!t[e]}function dn(){return cn}var hn=Gt(u({},Qt,{key:function(e){if(e.key){var t=sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Vt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ln[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dn,charCode:function(e){return"keypress"===e.type?Vt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Vt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),fn=Gt(u({},Jt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),pn=Gt(u({},Qt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dn})),gn=Gt(u({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),mn=Gt(u({},Jt,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),yn=Gt(u({},Xt,{newState:0,oldState:0})),vn=[9,13,27,32],bn=Lt&&"CompositionEvent"in window,wn=null;Lt&&"documentMode"in document&&(wn=document.documentMode);var xn=Lt&&"TextEvent"in window&&!wn,En=Lt&&(!bn||wn&&8<wn&&11>=wn),kn=String.fromCharCode(32),Sn=!1;function Mn(e,t){switch(e){case"keyup":return-1!==vn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var On=!1,Cn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Cn[e.type]:"textarea"===t}function Pn(e,t,n,r){Nt?Pt?Pt.push(r):Pt=[r]:Nt=r,0<(t=Hc(t,"onChange")).length&&(n=new Kt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var An=null,Rn=null;function _n(e){_c(e,0)}function Dn(e){if(ut(Be(e)))return e}function Ln(e,t){if("change"===e)return t}var In=!1;if(Lt){var zn;if(Lt){var Fn="oninput"in document;if(!Fn){var jn=document.createElement("div");jn.setAttribute("oninput","return;"),Fn="function"==typeof jn.oninput}zn=Fn}else zn=!1;In=zn&&(!document.documentMode||9<document.documentMode)}function Bn(){An&&(An.detachEvent("onpropertychange",Hn),Rn=An=null)}function Hn(e){if("value"===e.propertyName&&Dn(Rn)){var t=[];Pn(t,Rn,e,Ct(e)),_t(_n,t)}}function Vn(e,t,n){"focusin"===e?(Bn(),Rn=n,(An=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&Bn()}function Un(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Dn(Rn)}function Wn(e,t){if("click"===e)return Dn(t)}function Gn(e,t){if("input"===e||"change"===e)return Dn(t)}var $n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function qn(e,t){if($n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!q.call(t,i)||!$n(e[i],t[i]))return!1}return!0}function Yn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,r=Yn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yn(r)}}function Kn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Kn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Qn(e){for(var t=ct((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=ct((e=t.contentWindow).document)}return t}function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Jn=Lt&&"documentMode"in document&&11>=document.documentMode,er=null,tr=null,nr=null,rr=!1;function ir(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;rr||null==er||er!==ct(r)||(r="selectionStart"in(r=er)&&Zn(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},nr&&qn(nr,r)||(nr=r,0<(r=Hc(tr,"onSelect")).length&&(t=new Kt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=er)))}function or(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ar={animationend:or("Animation","AnimationEnd"),animationiteration:or("Animation","AnimationIteration"),animationstart:or("Animation","AnimationStart"),transitionrun:or("Transition","TransitionRun"),transitionstart:or("Transition","TransitionStart"),transitioncancel:or("Transition","TransitionCancel"),transitionend:or("Transition","TransitionEnd")},sr={},lr={};function ur(e){if(sr[e])return sr[e];if(!ar[e])return e;var t,n=ar[e];for(t in n)if(n.hasOwnProperty(t)&&t in lr)return sr[e]=n[t];return e}Lt&&(lr=document.createElement("div").style,"AnimationEvent"in window||(delete ar.animationend.animation,delete ar.animationiteration.animation,delete ar.animationstart.animation),"TransitionEvent"in window||delete ar.transitionend.transition);var cr=ur("animationend"),dr=ur("animationiteration"),hr=ur("animationstart"),fr=ur("transitionrun"),pr=ur("transitionstart"),gr=ur("transitioncancel"),mr=ur("transitionend"),yr=new Map,vr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function br(e,t){yr.set(e,t),Ge(t,[e])}vr.push("scrollEnd");var wr=new WeakMap;function xr(e,t){if("object"==typeof e&&null!==e){var n=wr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ot(t)},wr.set(e,t),t)}return{value:e,source:t,stack:ot(t)}}var Er=[],kr=0,Sr=0;function Mr(){for(var e=kr,t=Sr=kr=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var i=Er[t];Er[t++]=null;var o=Er[t];if(Er[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==o&&Nr(n,i,o)}}function Tr(e,t,n,r){Er[kr++]=e,Er[kr++]=t,Er[kr++]=n,Er[kr++]=r,Sr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Or(e,t,n,r){return Tr(e,t,n,r),Pr(e)}function Cr(e,t){return Tr(e,null,null,t),Pr(e)}function Nr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-ce(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function Pr(e){if(50<Nu)throw Nu=0,Pu=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ar={};function Rr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(e,t,n,r){return new Rr(e,t,n,r)}function Dr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lr(e,t){var n=e.alternate;return null===n?((n=_r(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ir(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zr(e,t,n,i,o,a){var s=0;if(i=e,"function"==typeof e)Dr(e)&&(s=1);else if("string"==typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,j.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case S:return(e=_r(31,n,t,o)).elementType=S,e.lanes=a,e;case f:return Fr(n.children,o,a,t);case p:s=8,o|=24;break;case g:return(e=_r(12,n,t,2|o)).elementType=g,e.lanes=a,e;case w:return(e=_r(13,n,t,o)).elementType=w,e.lanes=a,e;case x:return(e=_r(19,n,t,o)).elementType=x,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case m:case v:s=10;break e;case y:s=9;break e;case b:s=11;break e;case E:s=14;break e;case k:s=16,i=null;break e}s=29,n=Error(r(130,null===e?"null":typeof e,"")),i=null}return(t=_r(s,n,t,o)).elementType=e,t.type=i,t.lanes=a,t}function Fr(e,t,n,r){return(e=_r(7,e,r,t)).lanes=n,e}function jr(e,t,n){return(e=_r(6,e,null,t)).lanes=n,e}function Br(e,t,n){return(t=_r(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],Vr=0,Ur=null,Wr=0,Gr=[],$r=0,qr=null,Yr=1,Xr="";function Kr(e,t){Hr[Vr++]=Wr,Hr[Vr++]=Ur,Ur=e,Wr=t}function Qr(e,t,n){Gr[$r++]=Yr,Gr[$r++]=Xr,Gr[$r++]=qr,qr=e;var r=Yr;e=Xr;var i=32-ce(r)-1;r&=~(1<<i),n+=1;var o=32-ce(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yr=1<<32-ce(t)+i|n<<i|r,Xr=o+e}else Yr=1<<o|n<<i|r,Xr=e}function Zr(e){null!==e.return&&(Kr(e,1),Qr(e,1,0))}function Jr(e){for(;e===Ur;)Ur=Hr[--Vr],Hr[Vr]=null,Wr=Hr[--Vr],Hr[Vr]=null;for(;e===qr;)qr=Gr[--$r],Gr[$r]=null,Xr=Gr[--$r],Gr[$r]=null,Yr=Gr[--$r],Gr[$r]=null}var ei=null,ti=null,ni=!1,ri=null,ii=!1,oi=Error(r(519));function ai(e){throw hi(xr(Error(r(418,"")),e)),oi}function si(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ne]=e,t[Pe]=r,n){case"dialog":Dc("cancel",t),Dc("close",t);break;case"iframe":case"object":case"embed":Dc("load",t);break;case"video":case"audio":for(n=0;n<Ac.length;n++)Dc(Ac[n],t);break;case"source":Dc("error",t);break;case"img":case"image":case"link":Dc("error",t),Dc("load",t);break;case"details":Dc("toggle",t);break;case"input":Dc("invalid",t),pt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),lt(t);break;case"select":Dc("invalid",t);break;case"textarea":Dc("invalid",t),vt(t,r.value,r.defaultValue,r.children),lt(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||qc(t.textContent,n)?(null!=r.popover&&(Dc("beforetoggle",t),Dc("toggle",t)),null!=r.onScroll&&Dc("scroll",t),null!=r.onScrollEnd&&Dc("scrollend",t),null!=r.onClick&&(t.onclick=Yc),t=!0):t=!1,t||ai(e)}function li(e){for(ei=e.return;ei;)switch(ei.tag){case 5:case 13:return void(ii=!1);case 27:case 3:return void(ii=!0);default:ei=ei.return}}function ui(e){if(e!==ei)return!1;if(!ni)return li(e),ni=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||rd(e.type,e.memoizedProps)),t=!t),t&&ti&&ai(e),li(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ti=pd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ti=null}}else 27===n?(n=ti,cd(e.type)?(e=gd,gd=null,ti=e):ti=n):ti=ei?pd(e.stateNode.nextSibling):null;return!0}function ci(){ti=ei=null,ni=!1}function di(){var e=ri;return null!==e&&(null===mu?mu=e:mu.push.apply(mu,e),ri=null),e}function hi(e){null===ri?ri=[e]:ri.push(e)}var fi=I(null),pi=null,gi=null;function mi(e,t,n){F(fi,t._currentValue),t._currentValue=n}function yi(e){e._currentValue=fi.current,z(fi)}function vi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function bi(e,t,n,i){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var a=o.dependencies;if(null!==a){var s=o.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=o;for(var u=0;u<t.length;u++)if(l.context===t[u]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),vi(a.return,n,e),i||(s=null);break e}a=l.next}}else if(18===o.tag){if(null===(s=o.return))throw Error(r(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),vi(s,n,e),s=null}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===e){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}}function wi(e,t,n,i){e=null;for(var o=t,a=!1;null!==o;){if(!a)if(524288&o.flags)a=!0;else if(262144&o.flags)break;if(10===o.tag){var s=o.alternate;if(null===s)throw Error(r(387));if(null!==(s=s.memoizedProps)){var l=o.type;$n(o.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(o===V.current){if(null===(s=o.alternate))throw Error(r(387));s.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(Gd):e=[Gd])}o=o.return}null!==e&&bi(t,e,n,i),t.flags|=262144}function xi(e){for(e=e.firstContext;null!==e;){if(!$n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ei(e){pi=e,gi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function ki(e){return Mi(pi,e)}function Si(e,t){return null===pi&&Ei(e),Mi(e,t)}function Mi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===gi){if(null===e)throw Error(r(308));gi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else gi=gi.next=t;return n}var Ti="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Oi=e.unstable_scheduleCallback,Ci=e.unstable_NormalPriority,Ni={$$typeof:v,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pi(){return{controller:new Ti,data:new Map,refCount:0}}function Ai(e){e.refCount--,0===e.refCount&&Oi(Ci,function(){e.controller.abort()})}var Ri=null,_i=0,Di=0,Li=null;function Ii(){if(0===--_i&&null!==Ri){null!==Li&&(Li.status="fulfilled");var e=Ri;Ri=null,Di=0,Li=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var zi=A.S;A.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Ri){var n=Ri=[];_i=0,Di=Tc(),Li={status:"pending",value:void 0,then:function(e){n.push(e)}}}_i++,t.then(Ii,Ii)}(0,t),null!==zi&&zi(e,t)};var Fi=I(null);function ji(){var e=Fi.current;return null!==e?e:eu.pooledCache}function Bi(e,t){F(Fi,null===t?Fi.current:t.pool)}function Hi(){var e=ji();return null===e?null:{parent:Ni._currentValue,pool:e}}var Vi=Error(r(460)),Ui=Error(r(474)),Wi=Error(r(542)),Gi={then:function(){}};function $i(e){return"fulfilled"===(e=e.status)||"rejected"===e}function qi(){}function Yi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(qi,qi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw Qi(e=t.reason),e;default:if("string"==typeof t.status)t.then(qi,qi);else{if(null!==(e=eu)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw Qi(e=t.reason),e}throw Xi=t,Vi}}var Xi=null;function Ki(){if(null===Xi)throw Error(r(459));var e=Xi;return Xi=null,e}function Qi(e){if(e===Vi||e===Wi)throw Error(r(483))}var Zi=!1;function Ji(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function to(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function no(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Jl){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Pr(e),Nr(e,null,n),t}return Tr(e,r,t,n),Pr(e)}function ro(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Se(e,n)}}function io(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var oo=!1;function ao(){if(oo&&null!==Li)throw Li}function so(e,t,n,r){oo=!1;var i=e.updateQueue;Zi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var d=e.alternate;null!==d&&(s=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===s?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l)}if(null!==o){var h=i.baseState;for(a=0,d=c=l=null,s=o;;){var f=-536870913&s.lane,p=f!==s.lane;if(p?(nu&f)===f:(r&f)===f){0!==f&&f===Di&&(oo=!0),null!==d&&(d=d.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var g=e,m=s;f=t;var y=n;switch(m.tag){case 1:if("function"==typeof(g=m.payload)){h=g.call(y,h,f);break e}h=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null==(f="function"==typeof(g=m.payload)?g.call(y,h,f):g))break e;h=u({},h,f);break e;case 2:Zi=!0}}null!==(f=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(c=d=p,l=h):d=d.next=p,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===d&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null===o&&(i.shared.lanes=0),cu|=a,e.lanes=a,e.memoizedState=h}}function lo(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function uo(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)lo(n[e],t)}var co=I(null),ho=I(0);function fo(e,t){F(ho,e=lu),F(co,t),lu=e|t.baseLanes}function po(){F(ho,lu),F(co,co.current)}function go(){lu=ho.current,z(co),z(ho)}var mo=0,yo=null,vo=null,bo=null,wo=!1,xo=!1,Eo=!1,ko=0,So=0,Mo=null,To=0;function Oo(){throw Error(r(321))}function Co(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$n(e[n],t[n]))return!1;return!0}function No(e,t,n,r,i,o){return mo=o,yo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,A.H=null===e||null===e.memoizedState?Ua:Wa,Eo=!1,o=n(r,i),Eo=!1,xo&&(o=Ao(t,n,r,i)),Po(e),o}function Po(e){A.H=Va;var t=null!==vo&&null!==vo.next;if(mo=0,bo=vo=yo=null,wo=!1,So=0,Mo=null,t)throw Error(r(300));null===e||Ss||null!==(e=e.dependencies)&&xi(e)&&(Ss=!0)}function Ao(e,t,n,i){yo=e;var o=0;do{if(xo&&(Mo=null),So=0,xo=!1,25<=o)throw Error(r(301));if(o+=1,bo=vo=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}A.H=Ga,a=t(n,i)}while(xo);return a}function Ro(){var e=A.H,t=e.useState()[0];return t="function"==typeof t.then?Fo(t):t,e=e.useState()[0],(null!==vo?vo.memoizedState:null)!==e&&(yo.flags|=1024),t}function _o(){var e=0!==ko;return ko=0,e}function Do(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Lo(e){if(wo){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}wo=!1}mo=0,bo=vo=yo=null,xo=!1,So=ko=0,Mo=null}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===bo?yo.memoizedState=bo=e:bo=bo.next=e,bo}function zo(){if(null===vo){var e=yo.alternate;e=null!==e?e.memoizedState:null}else e=vo.next;var t=null===bo?yo.memoizedState:bo.next;if(null!==t)bo=t,vo=e;else{if(null===e){if(null===yo.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(vo=e).memoizedState,baseState:vo.baseState,baseQueue:vo.baseQueue,queue:vo.queue,next:null},null===bo?yo.memoizedState=bo=e:bo=bo.next=e}return bo}function Fo(e){var t=So;return So+=1,null===Mo&&(Mo=[]),e=Yi(Mo,e,t),t=yo,null===(null===bo?t.memoizedState:bo.next)&&(t=t.alternate,A.H=null===t||null===t.memoizedState?Ua:Wa),e}function jo(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Fo(e);if(e.$$typeof===v)return ki(e)}throw Error(r(438,String(e)))}function Bo(e){var t=null,n=yo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=yo.alternate;null!==r&&null!==(r=r.updateQueue)&&null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},yo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=M;return t.index++,n}function Ho(e,t){return"function"==typeof t?t(e):t}function Vo(e){return Uo(zo(),vo,e)}function Uo(e,t,n){var i=e.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=n;var o=e.baseQueue,a=i.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}t.baseQueue=o=a,i.pending=null}if(a=e.baseState,null===o)e.memoizedState=a;else{var l=s=null,u=null,c=t=o.next,d=!1;do{var h=-536870913&c.lane;if(h!==c.lane?(nu&h)===h:(mo&h)===h){var f=c.revertLane;if(0===f)null!==u&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),h===Di&&(d=!0);else{if((mo&f)===f){c=c.next,f===Di&&(d=!0);continue}h={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=h,s=a):u=u.next=h,yo.lanes|=f,cu|=f}h=c.action,Eo&&n(a,h),a=c.hasEagerState?c.eagerState:n(a,h)}else f={lane:h,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=f,s=a):u=u.next=f,yo.lanes|=h,cu|=h;c=c.next}while(null!==c&&c!==t);if(null===u?s=a:u.next=l,!$n(a,e.memoizedState)&&(Ss=!0,d&&null!==(n=Li)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=u,i.lastRenderedState=a}return null===o&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Wo(e){var t=zo(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);$n(a,t.memoizedState)||(Ss=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Go(e,t,n){var i=yo,o=zo(),a=ni;if(a){if(void 0===n)throw Error(r(407));n=n()}else n=t();var s=!$n((vo||o).memoizedState,n);if(s&&(o.memoizedState=n,Ss=!0),o=o.queue,pa(2048,8,Yo.bind(null,i,o,e),[e]),o.getSnapshot!==t||s||null!==bo&&1&bo.memoizedState.tag){if(i.flags|=2048,da(9,{destroy:void 0,resource:void 0},qo.bind(null,i,o,n,t),null),null===eu)throw Error(r(349));a||124&mo||$o(i,t,n)}return n}function $o(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=yo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},yo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function qo(e,t,n,r){t.value=n,t.getSnapshot=r,Xo(t)&&Ko(e)}function Yo(e,t,n){return n(function(){Xo(t)&&Ko(e)})}function Xo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$n(e,n)}catch(e){return!0}}function Ko(e){var t=Cr(e,2);null!==t&&_u(t,e,2)}function Qo(e){var t=Io();if("function"==typeof e){var n=e;if(e=n(),Eo){ue(!0);try{n()}finally{ue(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:e},t}function Zo(e,t,n,r){return e.baseState=n,Uo(e,vo,"function"==typeof r?r:Ho)}function Jo(e,t,n,i,o){if(ja(e))throw Error(r(485));if(null!==(e=t.action)){var a={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==A.T?n(!0):a.isTransition=!1,i(a),null===(n=t.pending)?(a.next=t.pending=a,ea(t,a)):(a.next=n.next,t.pending=n.next=a)}}function ea(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=A.T,a={};A.T=a;try{var s=n(i,r),l=A.S;null!==l&&l(a,s),ta(e,t,s)}catch(n){ra(e,t,n)}finally{A.T=o}}else try{ta(e,t,o=n(i,r))}catch(n){ra(e,t,n)}}function ta(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){na(e,t,n)},function(n){return ra(e,t,n)}):na(e,t,n)}function na(e,t,n){t.status="fulfilled",t.value=n,ia(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ea(e,n)))}function ra(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,ia(t),t=t.next}while(t!==r)}e.action=null}function ia(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oa(e,t){return t}function aa(e,t){if(ni){var n=eu.formState;if(null!==n){e:{var r=yo;if(ni){if(ti){t:{for(var i=ti,o=ii;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=pd(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){ti=pd(i.nextSibling),r="F!"===i.data;break e}}ai(r)}r=!1}r&&(t=n[0])}}return(n=Io()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:t},n.queue=r,n=Ia.bind(null,yo,r),r.dispatch=n,r=Qo(!1),o=Fa.bind(null,yo,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Io()).queue=i,n=Jo.bind(null,yo,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function sa(e){return la(zo(),vo,e)}function la(e,t,n){if(t=Uo(e,t,oa)[0],e=Vo(Ho)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=Fo(t)}catch(e){if(e===Vi)throw Wi;throw e}else r=t;var i=(t=zo()).queue,o=i.dispatch;return n!==t.memoizedState&&(yo.flags|=2048,da(9,{destroy:void 0,resource:void 0},ua.bind(null,i,n),null)),[r,o,e]}function ua(e,t){e.action=t}function ca(e){var t=zo(),n=vo;if(null!==n)return la(t,n,e);zo(),t=t.memoizedState;var r=(n=zo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function da(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=yo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},yo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ha(){return zo().memoizedState}function fa(e,t,n,r){var i=Io();r=void 0===r?null:r,yo.flags|=e,i.memoizedState=da(1|t,{destroy:void 0,resource:void 0},n,r)}function pa(e,t,n,r){var i=zo();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==vo&&null!==r&&Co(r,vo.memoizedState.deps)?i.memoizedState=da(t,o,n,r):(yo.flags|=e,i.memoizedState=da(1|t,o,n,r))}function ga(e,t){fa(8390656,8,e,t)}function ma(e,t){pa(2048,8,e,t)}function ya(e,t){return pa(4,2,e,t)}function va(e,t){return pa(4,4,e,t)}function ba(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function wa(e,t,n){n=null!=n?n.concat([e]):null,pa(4,4,ba.bind(null,t,e),n)}function xa(){}function Ea(e,t){var n=zo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Co(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ka(e,t){var n=zo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Co(t,r[1]))return r[0];if(r=e(),Eo){ue(!0);try{e()}finally{ue(!1)}}return n.memoizedState=[r,t],r}function Sa(e,t,n){return void 0===n||1073741824&mo?e.memoizedState=t:(e.memoizedState=n,e=Ru(),yo.lanes|=e,cu|=e,n)}function Ma(e,t,n,r){return $n(n,t)?n:null!==co.current?(e=Sa(e,n,r),$n(e,t)||(Ss=!0),e):42&mo?(e=Ru(),yo.lanes|=e,cu|=e,t):(Ss=!0,e.memoizedState=n)}function Ta(e,t,n,r,i){var o=R.p;R.p=0!==o&&8>o?o:8;var a,s,l,u=A.T,c={};A.T=c,Fa(e,!1,t,n);try{var d=i(),h=A.S;if(null!==h&&h(c,d),null!==d&&"object"==typeof d&&"function"==typeof d.then){var f=(a=r,s=[],l={status:"pending",value:null,reason:null,then:function(e){s.push(e)}},d.then(function(){l.status="fulfilled",l.value=a;for(var e=0;e<s.length;e++)(0,s[e])(a)},function(e){for(l.status="rejected",l.reason=e,e=0;e<s.length;e++)(0,s[e])(void 0)}),l);za(e,t,f,Au())}else za(e,t,r,Au())}catch(n){za(e,t,{then:function(){},status:"rejected",reason:n},Au())}finally{R.p=o,A.T=u}}function Oa(){}function Ca(e,t,n,i){if(5!==e.tag)throw Error(r(476));var o=Na(e).queue;Ta(e,o,t,_,null===n?Oa:function(){return Pa(e),n(i)})}function Na(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:_},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Pa(e){za(e,Na(e).next.queue,{},Au())}function Aa(){return ki(Gd)}function Ra(){return zo().memoizedState}function _a(){return zo().memoizedState}function Da(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Au(),r=no(t,e=to(n),n);return null!==r&&(_u(r,t,n),ro(r,t,n)),t={cache:Pi()},void(e.payload=t)}t=t.return}}function La(e,t,n){var r=Au();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ja(e)?Ba(t,n):null!==(n=Or(e,t,n,r))&&(_u(n,e,r),Ha(n,t,r))}function Ia(e,t,n){za(e,t,n,Au())}function za(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ja(e))Ba(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,$n(s,a))return Tr(e,t,i,0),null===eu&&Mr(),!1}catch(e){}if(null!==(n=Or(e,t,i,r)))return _u(n,e,r),Ha(n,t,r),!0}return!1}function Fa(e,t,n,i){if(i={lane:2,revertLane:Tc(),action:i,hasEagerState:!1,eagerState:null,next:null},ja(e)){if(t)throw Error(r(479))}else null!==(t=Or(e,n,i,2))&&_u(t,e,2)}function ja(e){var t=e.alternate;return e===yo||null!==t&&t===yo}function Ba(e,t){xo=wo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ha(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Se(e,n)}}var Va={readContext:ki,use:jo,useCallback:Oo,useContext:Oo,useEffect:Oo,useImperativeHandle:Oo,useLayoutEffect:Oo,useInsertionEffect:Oo,useMemo:Oo,useReducer:Oo,useRef:Oo,useState:Oo,useDebugValue:Oo,useDeferredValue:Oo,useTransition:Oo,useSyncExternalStore:Oo,useId:Oo,useHostTransitionStatus:Oo,useFormState:Oo,useActionState:Oo,useOptimistic:Oo,useMemoCache:Oo,useCacheRefresh:Oo},Ua={readContext:ki,use:jo,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:ki,useEffect:ga,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,fa(4194308,4,ba.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fa(4194308,4,e,t)},useInsertionEffect:function(e,t){fa(4,2,e,t)},useMemo:function(e,t){var n=Io();t=void 0===t?null:t;var r=e();if(Eo){ue(!0);try{e()}finally{ue(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Io();if(void 0!==n){var i=n(t);if(Eo){ue(!0);try{n(t)}finally{ue(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=La.bind(null,yo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:function(e){var t=(e=Qo(e)).queue,n=Ia.bind(null,yo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:xa,useDeferredValue:function(e,t){return Sa(Io(),e,t)},useTransition:function(){var e=Qo(!1);return e=Ta.bind(null,yo,e.queue,!0,!1),Io().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=yo,o=Io();if(ni){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===eu)throw Error(r(349));124&nu||$o(i,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,ga(Yo.bind(null,i,a,e),[e]),i.flags|=2048,da(9,{destroy:void 0,resource:void 0},qo.bind(null,i,a,n,t),null),n},useId:function(){var e=Io(),t=eu.identifierPrefix;if(ni){var n=Xr;t="«"+t+"R"+(n=(Yr&~(1<<32-ce(Yr)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+="»"}else t="«"+t+"r"+(n=To++).toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Aa,useFormState:aa,useActionState:aa,useOptimistic:function(e){var t=Io();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Fa.bind(null,yo,!0,n),n.dispatch=t,[e,t]},useMemoCache:Bo,useCacheRefresh:function(){return Io().memoizedState=Da.bind(null,yo)}},Wa={readContext:ki,use:jo,useCallback:Ea,useContext:ki,useEffect:ma,useImperativeHandle:wa,useInsertionEffect:ya,useLayoutEffect:va,useMemo:ka,useReducer:Vo,useRef:ha,useState:function(){return Vo(Ho)},useDebugValue:xa,useDeferredValue:function(e,t){return Ma(zo(),vo.memoizedState,e,t)},useTransition:function(){var e=Vo(Ho)[0],t=zo().memoizedState;return["boolean"==typeof e?e:Fo(e),t]},useSyncExternalStore:Go,useId:Ra,useHostTransitionStatus:Aa,useFormState:sa,useActionState:sa,useOptimistic:function(e,t){return Zo(zo(),0,e,t)},useMemoCache:Bo,useCacheRefresh:_a},Ga={readContext:ki,use:jo,useCallback:Ea,useContext:ki,useEffect:ma,useImperativeHandle:wa,useInsertionEffect:ya,useLayoutEffect:va,useMemo:ka,useReducer:Wo,useRef:ha,useState:function(){return Wo(Ho)},useDebugValue:xa,useDeferredValue:function(e,t){var n=zo();return null===vo?Sa(n,e,t):Ma(n,vo.memoizedState,e,t)},useTransition:function(){var e=Wo(Ho)[0],t=zo().memoizedState;return["boolean"==typeof e?e:Fo(e),t]},useSyncExternalStore:Go,useId:Ra,useHostTransitionStatus:Aa,useFormState:ca,useActionState:ca,useOptimistic:function(e,t){var n=zo();return null!==vo?Zo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Bo,useCacheRefresh:_a},$a=null,qa=0;function Ya(e){var t=qa;return qa+=1,null===$a&&($a=[]),Yi($a,e,t)}function Xa(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Ka(e,t){if(t.$$typeof===c)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Za(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=Lr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=jr(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===f?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===k&&Qa(i)===t.type)?(Xa(t=o(t,n.props),n),t.return=e,t):(Xa(t=zr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Br(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function p(e,t,n,r,i){return null===t||7!==t.tag?((t=Fr(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function g(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=jr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case d:return Xa(n=zr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case h:return(t=Br(t,e.mode,n)).return=e,t;case k:return g(e,t=(0,t._init)(t._payload),n)}if(P(t)||O(t))return(t=Fr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return g(e,Ya(t),n);if(t.$$typeof===v)return g(e,Si(e,t),n);Ka(e,t)}return null}function m(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case d:return n.key===i?u(e,t,n,r):null;case h:return n.key===i?c(e,t,n,r):null;case k:return m(e,t,n=(i=n._init)(n._payload),r)}if(P(n)||O(n))return null!==i?null:p(e,t,n,r,null);if("function"==typeof n.then)return m(e,t,Ya(n),r);if(n.$$typeof===v)return m(e,t,Si(e,n),r);Ka(e,n)}return null}function y(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case d:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case h:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(P(r)||O(r))return p(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return y(e,t,n,Ya(r),i);if(r.$$typeof===v)return y(e,t,n,Si(t,r),i);Ka(t,r)}return null}function b(l,u,c,p){if("object"==typeof c&&null!==c&&c.type===f&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case d:e:{for(var w=c.key;null!==u;){if(u.key===w){if((w=c.type)===f){if(7===u.tag){n(l,u.sibling),(p=o(u,c.props.children)).return=l,l=p;break e}}else if(u.elementType===w||"object"==typeof w&&null!==w&&w.$$typeof===k&&Qa(w)===u.type){n(l,u.sibling),Xa(p=o(u,c.props),c),p.return=l,l=p;break e}n(l,u);break}t(l,u),u=u.sibling}c.type===f?((p=Fr(c.props.children,l.mode,p,c.key)).return=l,l=p):(Xa(p=zr(c.type,c.key,c.props,null,l.mode,p),c),p.return=l,l=p)}return s(l);case h:e:{for(w=c.key;null!==u;){if(u.key===w){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(p=o(u,c.children||[])).return=l,l=p;break e}n(l,u);break}t(l,u),u=u.sibling}(p=Br(c,l.mode,p)).return=l,l=p}return s(l);case k:return b(l,u,c=(w=c._init)(c._payload),p)}if(P(c))return function(r,o,s,l){for(var u=null,c=null,d=o,h=o=0,f=null;null!==d&&h<s.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var p=m(r,d,s[h],l);if(null===p){null===d&&(d=f);break}e&&d&&null===p.alternate&&t(r,d),o=a(p,o,h),null===c?u=p:c.sibling=p,c=p,d=f}if(h===s.length)return n(r,d),ni&&Kr(r,h),u;if(null===d){for(;h<s.length;h++)null!==(d=g(r,s[h],l))&&(o=a(d,o,h),null===c?u=d:c.sibling=d,c=d);return ni&&Kr(r,h),u}for(d=i(d);h<s.length;h++)null!==(f=y(d,r,h,s[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),o=a(f,o,h),null===c?u=f:c.sibling=f,c=f);return e&&d.forEach(function(e){return t(r,e)}),ni&&Kr(r,h),u}(l,u,c,p);if(O(c)){if("function"!=typeof(w=O(c)))throw Error(r(150));return function(o,s,l,u){if(null==l)throw Error(r(151));for(var c=null,d=null,h=s,f=s=0,p=null,v=l.next();null!==h&&!v.done;f++,v=l.next()){h.index>f?(p=h,h=null):p=h.sibling;var b=m(o,h,v.value,u);if(null===b){null===h&&(h=p);break}e&&h&&null===b.alternate&&t(o,h),s=a(b,s,f),null===d?c=b:d.sibling=b,d=b,h=p}if(v.done)return n(o,h),ni&&Kr(o,f),c;if(null===h){for(;!v.done;f++,v=l.next())null!==(v=g(o,v.value,u))&&(s=a(v,s,f),null===d?c=v:d.sibling=v,d=v);return ni&&Kr(o,f),c}for(h=i(h);!v.done;f++,v=l.next())null!==(v=y(h,o,f,v.value,u))&&(e&&null!==v.alternate&&h.delete(null===v.key?f:v.key),s=a(v,s,f),null===d?c=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(o,e)}),ni&&Kr(o,f),c}(l,u,c=w.call(c),p)}if("function"==typeof c.then)return b(l,u,Ya(c),p);if(c.$$typeof===v)return b(l,u,Si(l,c),p);Ka(l,c)}return"string"==typeof c&&""!==c||"number"==typeof c||"bigint"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(p=o(u,c)).return=l,l=p):(n(l,u),(p=jr(c,l.mode,p)).return=l,l=p),s(l)):n(l,u)}return function(e,t,n,r){try{qa=0;var i=b(e,t,n,r);return $a=null,i}catch(t){if(t===Vi||t===Wi)throw t;var o=_r(29,t,null,e.mode);return o.lanes=r,o.return=e,o}}}var Ja=Za(!0),es=Za(!1),ts=I(null),ns=null;function rs(e){var t=e.alternate;F(ss,1&ss.current),F(ts,e),null===ns&&(null===t||null!==co.current||null!==t.memoizedState)&&(ns=e)}function is(e){if(22===e.tag){if(F(ss,ss.current),F(ts,e),null===ns){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ns=e)}}else os()}function os(){F(ss,ss.current),F(ts,ts.current)}function as(e){z(ts),ns===e&&(ns=null),z(ss)}var ss=I(0);function ls(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||fd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function us(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:u({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var cs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Au(),i=to(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=no(e,i,r))&&(_u(t,e,r),ro(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Au(),i=to(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=no(e,i,r))&&(_u(t,e,r),ro(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Au(),r=to(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=no(e,r,n))&&(_u(t,e,n),ro(t,e,n))}};function ds(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&qn(n,r)&&qn(i,o))}function hs(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&cs.enqueueReplaceState(t,t.state,null)}function fs(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=u({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var ps="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function gs(e){ps(e)}function ms(e){console.error(e)}function ys(e){ps(e)}function vs(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function bs(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function ws(e,t,n){return(n=to(n)).tag=3,n.payload={element:null},n.callback=function(){vs(e,t)},n}function xs(e){return(e=to(e)).tag=3,e}function Es(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){bs(t,n,r)}}var a=n.stateNode;null!==a&&"function"==typeof a.componentDidCatch&&(e.callback=function(){bs(t,n,r),"function"!=typeof i&&(null===xu?xu=new Set([this]):xu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var ks=Error(r(461)),Ss=!1;function Ms(e,t,n,r){t.child=null===e?es(t,null,n,r):Ja(t,e.child,n,r)}function Ts(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return Ei(t),r=No(e,t,n,a,o,i),s=_o(),null===e||Ss?(ni&&s&&Zr(t),t.flags|=1,Ms(e,t,r,i),t.child):(Do(e,t,i),$s(e,t,i))}function Os(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||Dr(o)||void 0!==o.defaultProps||null!==n.compare?((e=zr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Cs(e,t,o,r,i))}if(o=e.child,!qs(e,i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:qn)(a,r)&&e.ref===t.ref)return $s(e,t,i)}return t.flags|=1,(e=Lr(o,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(qn(o,r)&&e.ref===t.ref){if(Ss=!1,t.pendingProps=r=o,!qs(e,i))return t.lanes=e.lanes,$s(e,t,i);131072&e.flags&&(Ss=!0)}}return Rs(e,t,n,r,i)}function Ns(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(128&t.flags){if(r=null!==o?o.baseLanes|n:n,null!==e){for(i=t.child=e.child,o=0;null!==i;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Ps(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Ps(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Bi(0,null!==o?o.cachePool:null),null!==o?fo(t,o):po(),is(t)}else null!==o?(Bi(0,o.cachePool),fo(t,o),os(),t.memoizedState=null):(null!==e&&Bi(0,null),po(),os());return Ms(e,t,i,n),t.child}function Ps(e,t,n,r){var i=ji();return i=null===i?null:{parent:Ni._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Bi(0,null),po(),is(t),null!==e&&wi(e,t,r,!0),null}function As(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Rs(e,t,n,r,i){return Ei(t),n=No(e,t,n,r,void 0,i),r=_o(),null===e||Ss?(ni&&r&&Zr(t),t.flags|=1,Ms(e,t,n,i),t.child):(Do(e,t,i),$s(e,t,i))}function _s(e,t,n,r,i,o){return Ei(t),t.updateQueue=null,n=Ao(t,r,n,i),Po(e),r=_o(),null===e||Ss?(ni&&r&&Zr(t),t.flags|=1,Ms(e,t,n,o),t.child):(Do(e,t,o),$s(e,t,o))}function Ds(e,t,n,r,i){if(Ei(t),null===t.stateNode){var o=Ar,a=n.contextType;"object"==typeof a&&null!==a&&(o=ki(a)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=cs,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},Ji(t),a=n.contextType,o.context="object"==typeof a&&null!==a?ki(a):Ar,o.state=t.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(us(t,n,a,r),o.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(a=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),a!==o.state&&cs.enqueueReplaceState(o,o.state,null),so(t,r,o,i),ao(),o.state=t.memoizedState),"function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var s=t.memoizedProps,l=fs(n,s);o.props=l;var u=o.context,c=n.contextType;a=Ar,"object"==typeof c&&null!==c&&(a=ki(c));var d=n.getDerivedStateFromProps;c="function"==typeof d||"function"==typeof o.getSnapshotBeforeUpdate,s=t.pendingProps!==s,c||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s||u!==a)&&hs(t,o,r,a),Zi=!1;var h=t.memoizedState;o.state=h,so(t,r,o,i),ao(),u=t.memoizedState,s||h!==u||Zi?("function"==typeof d&&(us(t,n,d,r),u=t.memoizedState),(l=Zi||ds(t,n,l,r,h,u,a))?(c||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=a,r=l):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,eo(e,t),c=fs(n,a=t.memoizedProps),o.props=c,d=t.pendingProps,h=o.context,u=n.contextType,l=Ar,"object"==typeof u&&null!==u&&(l=ki(u)),(u="function"==typeof(s=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==d||h!==l)&&hs(t,o,r,l),Zi=!1,h=t.memoizedState,o.state=h,so(t,r,o,i),ao();var f=t.memoizedState;a!==d||h!==f||Zi||null!==e&&null!==e.dependencies&&xi(e.dependencies)?("function"==typeof s&&(us(t,n,s,r),f=t.memoizedState),(c=Zi||ds(t,n,c,r,h,f,l)||null!==e&&null!==e.dependencies&&xi(e.dependencies))?(u||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=c):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,As(e,t),r=!!(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=Ja(t,e.child,null,i),t.child=Ja(t,null,n,i)):Ms(e,t,n,i),t.memoizedState=o.state,e=t.child):e=$s(e,t,i),e}function Ls(e,t,n,r){return ci(),t.flags|=256,Ms(e,t,n,r),t.child}var Is={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zs(e){return{baseLanes:e,cachePool:Hi()}}function Fs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=fu),e}function js(e,t,n){var i,o=t.pendingProps,a=!1,s=!!(128&t.flags);if((i=s)||(i=(null===e||null!==e.memoizedState)&&!!(2&ss.current)),i&&(a=!0,t.flags&=-129),i=!!(32&t.flags),t.flags&=-33,null===e){if(ni){if(a?rs(t):os(),ni){var l,u=ti;if(l=u){e:{for(l=u,u=ii;8!==l.nodeType;){if(!u){u=null;break e}if(null===(l=pd(l.nextSibling))){u=null;break e}}u=l}null!==u?(t.memoizedState={dehydrated:u,treeContext:null!==qr?{id:Yr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},(l=_r(18,null,null,0)).stateNode=u,l.return=t,t.child=l,ei=t,ti=null,l=!0):l=!1}l||ai(t)}if(null!==(u=t.memoizedState)&&null!==(u=u.dehydrated))return fd(u)?t.lanes=32:t.lanes=536870912,null;as(t)}return u=o.children,o=o.fallback,a?(os(),u=Hs({mode:"hidden",children:u},a=t.mode),o=Fr(o,a,n,null),u.return=t,o.return=t,u.sibling=o,t.child=u,(a=t.child).memoizedState=zs(n),a.childLanes=Fs(e,i,n),t.memoizedState=Is,o):(rs(t),Bs(t,u))}if(null!==(l=e.memoizedState)&&null!==(u=l.dehydrated)){if(s)256&t.flags?(rs(t),t.flags&=-257,t=Vs(e,t,n)):null!==t.memoizedState?(os(),t.child=e.child,t.flags|=128,t=null):(os(),a=o.fallback,u=t.mode,o=Hs({mode:"visible",children:o.children},u),(a=Fr(a,u,n,null)).flags|=2,o.return=t,a.return=t,o.sibling=a,t.child=o,Ja(t,e.child,null,n),(o=t.child).memoizedState=zs(n),o.childLanes=Fs(e,i,n),t.memoizedState=Is,t=a);else if(rs(t),fd(u)){if(i=u.nextSibling&&u.nextSibling.dataset)var c=i.dgst;i=c,(o=Error(r(419))).stack="",o.digest=i,hi({value:o,source:null,stack:null}),t=Vs(e,t,n)}else if(Ss||wi(e,t,n,!1),i=0!==(n&e.childLanes),Ss||i){if(null!==(i=eu)&&0!==(o=0!==((o=42&(o=n&-n)?1:Me(o))&(i.suspendedLanes|n))?0:o)&&o!==l.retryLane)throw l.retryLane=o,Cr(e,o),_u(i,e,o),ks;"$?"===u.data||Wu(),t=Vs(e,t,n)}else"$?"===u.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ti=pd(u.nextSibling),ei=t,ni=!0,ri=null,ii=!1,null!==e&&(Gr[$r++]=Yr,Gr[$r++]=Xr,Gr[$r++]=qr,Yr=e.id,Xr=e.overflow,qr=t),(t=Bs(t,o.children)).flags|=4096);return t}return a?(os(),a=o.fallback,u=t.mode,c=(l=e.child).sibling,(o=Lr(l,{mode:"hidden",children:o.children})).subtreeFlags=65011712&l.subtreeFlags,null!==c?a=Lr(c,a):(a=Fr(a,u,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,null===(u=e.child.memoizedState)?u=zs(n):(null!==(l=u.cachePool)?(c=Ni._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=Hi(),u={baseLanes:u.baseLanes|n,cachePool:l}),a.memoizedState=u,a.childLanes=Fs(e,i,n),t.memoizedState=Is,o):(rs(t),e=(n=e.child).sibling,(n=Lr(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function Bs(e,t){return(t=Hs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Hs(e,t){return(e=_r(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Vs(e,t,n){return Ja(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),vi(e.return,t,n)}function Ws(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Gs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ms(e,t,r.children,n),2&(r=ss.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(F(ss,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ls(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ws(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ls(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ws(t,!0,n,null,o);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $s(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),cu|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(wi(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Lr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!xi(e))}function Ys(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ss=!0;else{if(!(qs(e,n)||128&t.flags))return Ss=!1,function(e,t,n){switch(t.tag){case 3:U(t,t.stateNode.containerInfo),mi(0,Ni,e.memoizedState.cache),ci();break;case 27:case 5:G(t);break;case 4:U(t,t.stateNode.containerInfo);break;case 10:mi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(rs(t),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(rs(t),null!==(e=$s(e,t,n))?e.sibling:null);rs(t);break;case 19:var i=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(wi(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Gs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),F(ss,ss.current),r)break;return null;case 22:case 23:return t.lanes=0,Ns(e,t,n);case 24:mi(0,Ni,e.memoizedState.cache)}return $s(e,t,n)}(e,t,n);Ss=!!(131072&e.flags)}else Ss=!1,ni&&1048576&t.flags&&Qr(t,Wr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,o=i._init;if(i=o(i._payload),t.type=i,"function"!=typeof i){if(null!=i){if((o=i.$$typeof)===b){t.tag=11,t=Ts(null,t,i,e,n);break e}if(o===E){t.tag=14,t=Os(null,t,i,e,n);break e}}throw t=N(i)||i,Error(r(306,t,""))}Dr(i)?(e=fs(i,e),t.tag=1,t=Ds(null,t,i,e,n)):(t.tag=0,t=Rs(null,t,i,e,n))}return t;case 0:return Rs(e,t,t.type,t.pendingProps,n);case 1:return Ds(e,t,i=t.type,o=fs(i,t.pendingProps),n);case 3:e:{if(U(t,t.stateNode.containerInfo),null===e)throw Error(r(387));i=t.pendingProps;var a=t.memoizedState;o=a.element,eo(e,t),so(t,i,null,n);var s=t.memoizedState;if(i=s.cache,mi(0,Ni,i),i!==a.cache&&bi(t,[Ni],n,!0),ao(),i=s.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ls(e,t,i,n);break e}if(i!==o){hi(o=xr(Error(r(424)),t)),t=Ls(e,t,i,n);break e}for(e=9===(e=t.stateNode.containerInfo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,ti=pd(e.firstChild),ei=t,ni=!0,ri=null,ii=!0,n=es(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ci(),i===o){t=$s(e,t,n);break e}Ms(e,t,i,n)}t=t.child}return t;case 26:return As(e,t),null===e?(n=Md(t.type,null,t.pendingProps,null))?t.memoizedState=n:ni||(n=t.type,e=t.pendingProps,(i=ed(H.current).createElement(n))[Ne]=t,i[Pe]=e,Qc(i,n,e),Ve(i),t.stateNode=i):t.memoizedState=Md(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&ni&&(i=t.stateNode=yd(t.type,t.pendingProps,H.current),ei=t,ii=!0,o=ti,cd(t.type)?(gd=o,ti=pd(i.firstChild)):ti=o),Ms(e,t,t.pendingProps.children,n),As(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ni&&((o=i=ti)&&(i=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ie])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=pd(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,ii),null!==i?(t.stateNode=i,ei=t,ti=pd(i.firstChild),ii=!1,o=!0):o=!1),o||ai(t)),G(t),o=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,i=a.children,rd(o,a)?i=null:null!==s&&rd(o,s)&&(t.flags|=32),null!==t.memoizedState&&(o=No(e,t,Ro,null,null,n),Gd._currentValue=o),As(e,t),Ms(e,t,i,n),t.child;case 6:return null===e&&ni&&((e=n=ti)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=pd(e.nextSibling)))return null}return e}(n,t.pendingProps,ii))?(t.stateNode=n,ei=t,ti=null,e=!0):e=!1),e||ai(t)),null;case 13:return js(e,t,n);case 4:return U(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Ja(t,null,i,n):Ms(e,t,i,n),t.child;case 11:return Ts(e,t,t.type,t.pendingProps,n);case 7:return Ms(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ms(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,mi(0,t.type,i.value),Ms(e,t,i.children,n),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,Ei(t),i=i(o=ki(o)),t.flags|=1,Ms(e,t,i,n),t.child;case 14:return Os(e,t,t.type,t.pendingProps,n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 19:return Gs(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},null===e?((n=Hs(i,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Lr(e.child,i)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ns(e,t,n);case 24:return Ei(t),i=ki(Ni),null===e?(null===(o=ji())&&(o=eu,a=Pi(),o.pooledCache=a,a.refCount++,null!==a&&(o.pooledCacheLanes|=n),o=a),t.memoizedState={parent:i,cache:o},Ji(t),mi(0,Ni,o)):(0!==(e.lanes&n)&&(eo(e,t),so(t,null,null,n),ao()),o=e.memoizedState,a=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),mi(0,Ni,i)):(i=a.cache,mi(0,Ni,i),i!==o.cache&&bi(t,[Ni],n,!0))),Ms(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Xs(e){e.flags|=4}function Ks(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!Fd(t)){if(null!==(t=ts.current)&&((4194048&nu)===nu?null!==ns:(62914560&nu)!==nu&&!(536870912&nu)||t!==ns))throw Xi=Gi,Ui;e.flags|=8192}}function Qs(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?we():536870912,e.lanes|=t,pu|=t)}function Zs(e,t){if(!ni)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Js(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function el(e,t,n){var i=t.pendingProps;switch(Jr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Js(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),yi(Ni),W(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ui(t)?Xs(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,di())),Js(t),null;case 26:return n=t.memoizedState,null===e?(Xs(t),null!==n?(Js(t),Ks(t,n)):(Js(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xs(t),Js(t),Ks(t,n)):(Js(t),t.flags&=-16777217):(e.memoizedProps!==i&&Xs(t),Js(t),t.flags&=-16777217),null;case 27:$(t),n=H.current;var o=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Xs(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return Js(t),null}e=j.current,ui(t)?si(t):(e=yd(o,i,n),t.stateNode=e,Xs(t))}return Js(t),null;case 5:if($(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Xs(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return Js(t),null}if(e=j.current,ui(t))si(t);else{switch(o=ed(H.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof i.is?o.createElement("select",{is:i.is}):o.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e="string"==typeof i.is?o.createElement(n,{is:i.is}):o.createElement(n)}}e[Ne]=t,e[Pe]=i;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(Qc(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xs(t)}}return Js(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&Xs(t);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));if(e=H.current,ui(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(o=ei))switch(o.tag){case 27:case 5:i=o.memoizedProps}e[Ne]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||qc(e.nodeValue,n)))||ai(t)}else(e=ed(e).createTextNode(i))[Ne]=t,t.stateNode=e}return Js(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=ui(t),null!==i&&null!==i.dehydrated){if(null===e){if(!o)throw Error(r(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(r(317));o[Ne]=t}else ci(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Js(t),o=!1}else o=di(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(as(t),t):(as(t),null)}if(as(t),128&t.flags)return t.lanes=n,t;if(n=null!==i,e=null!==e&&null!==e.memoizedState,n){o=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(o=i.alternate.memoizedState.cachePool.pool);var a=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(a=i.memoizedState.cachePool.pool),a!==o&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Qs(t,t.updateQueue),Js(t),null;case 4:return W(),null===e&&zc(t.stateNode.containerInfo),Js(t),null;case 10:return yi(t.type),Js(t),null;case 19:if(z(ss),null===(o=t.memoizedState))return Js(t),null;if(i=!!(128&t.flags),null===(a=o.rendering))if(i)Zs(o,!1);else{if(0!==uu||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=ls(e))){for(t.flags|=128,Zs(o,!1),e=a.updateQueue,t.updateQueue=e,Qs(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ir(n,e),n=n.sibling;return F(ss,1&ss.current|2),t.child}e=e.sibling}null!==o.tail&&Z()>bu&&(t.flags|=128,i=!0,Zs(o,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=ls(a))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Qs(t,e),Zs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!a.alternate&&!ni)return Js(t),null}else 2*Z()-o.renderingStartTime>bu&&536870912!==n&&(t.flags|=128,i=!0,Zs(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=o.last)?e.sibling=a:t.child=a,o.last=a)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Z(),t.sibling=null,e=ss.current,F(ss,i?1&e|2:1&e),t):(Js(t),null);case 22:case 23:return as(t),go(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?!!(536870912&n)&&!(128&t.flags)&&(Js(t),6&t.subtreeFlags&&(t.flags|=8192)):Js(t),null!==(n=t.updateQueue)&&Qs(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&z(Fi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),yi(Ni),Js(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function tl(e,t){switch(Jr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return yi(Ni),W(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return $(t),null;case 13:if(as(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));ci()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(ss),null;case 4:return W(),null;case 10:return yi(t.type),null;case 22:case 23:return as(t),go(),null!==e&&z(Fi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return yi(Ni),null;default:return null}}function nl(e,t){switch(Jr(t),t.tag){case 3:yi(Ni),W();break;case 26:case 27:case 5:$(t);break;case 4:W();break;case 13:as(t);break;case 19:z(ss);break;case 10:yi(t.type);break;case 22:case 23:as(t),go(),null!==e&&z(Fi);break;case 24:yi(Ni)}}function rl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,a=n.inst;r=o(),a.destroy=r}n=n.next}while(n!==i)}}catch(e){sc(t,t.return,e)}}function il(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,i=t;var l=n,u=s;try{u()}catch(e){sc(i,l,e)}}}r=r.next}while(r!==o)}}catch(e){sc(t,t.return,e)}}function ol(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{uo(t,n)}catch(t){sc(e,e.return,t)}}}function al(e,t,n){n.props=fs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){sc(e,t,n)}}function sl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(n){sc(e,t,n)}}function ll(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(n){sc(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){sc(e,t,n)}else n.current=null}function ul(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){sc(e,e.return,t)}}function cl(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,a=null,s=null,l=null,u=null,c=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":u=h;default:i.hasOwnProperty(p)||Xc(e,t,p,null,i,h)}}for(var f in i){var p=i[f];if(h=n[f],i.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":a=p;break;case"name":o=p;break;case"checked":c=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(r(137,t));break;default:p!==h&&Xc(e,t,f,p,i,h)}}return void ft(e,s,l,u,c,d,a,o);case"select":for(a in p=s=l=f=null,n)if(u=n[a],n.hasOwnProperty(a)&&null!=u)switch(a){case"value":break;case"multiple":p=u;default:i.hasOwnProperty(a)||Xc(e,t,a,null,i,u)}for(o in i)if(a=i[o],u=n[o],i.hasOwnProperty(o)&&(null!=a||null!=u))switch(o){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==u&&Xc(e,t,o,a,i,u)}return t=l,n=s,i=p,void(null!=f?mt(e,!!n,f,!1):!!i!=!!n&&(null!=t?mt(e,!!n,t,!0):mt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(o=n[l],n.hasOwnProperty(l)&&null!=o&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Xc(e,t,l,null,i,o)}for(s in i)if(o=i[s],a=n[s],i.hasOwnProperty(s)&&(null!=o||null!=a))switch(s){case"value":f=o;break;case"defaultValue":p=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(r(91));break;default:o!==a&&Xc(e,t,s,o,i,a)}return void yt(e,f,p);case"option":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!i.hasOwnProperty(g)&&("selected"===g?e.selected=!1:Xc(e,t,g,null,i,f));for(u in i)f=i[u],p=n[u],!i.hasOwnProperty(u)||f===p||null==f&&null==p||("selected"===u?e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f:Xc(e,t,u,f,i,p));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!i.hasOwnProperty(m)&&Xc(e,t,m,null,i,f);for(c in i)if(f=i[c],p=n[c],i.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(r(137,t));break;default:Xc(e,t,c,f,i,p)}return;default:if(kt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!i.hasOwnProperty(y)&&Kc(e,t,y,void 0,i,f);for(d in i)f=i[d],p=n[d],!i.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Kc(e,t,d,f,i,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!i.hasOwnProperty(v)&&Xc(e,t,v,null,i,f);for(h in i)f=i[h],p=n[h],!i.hasOwnProperty(h)||f===p||null==f&&null==p||Xc(e,t,h,f,i,p)}(i,e.type,n,t),i[Pe]=t}catch(t){sc(e,e.return,t)}}function dl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&cd(e.type)||4===e.tag}function hl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||dl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&cd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function fl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Yc));else if(4!==r&&(27===r&&cd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(fl(e,t,n),e=e.sibling;null!==e;)fl(e,t,n),e=e.sibling}function pl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&cd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(pl(e,t,n),e=e.sibling;null!==e;)pl(e,t,n),e=e.sibling}function gl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Qc(t,r,n),t[Ne]=e,t[Pe]=n}catch(t){sc(e,e.return,t)}}var ml=!1,yl=!1,vl=!1,bl="function"==typeof WeakSet?WeakSet:Set,wl=null;function xl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Dl(e,n),4&r&&rl(5,n);break;case 1:if(Dl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){sc(n,n.return,e)}else{var i=fs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){sc(n,n.return,e)}}64&r&&ol(n),512&r&&sl(n,n.return);break;case 3:if(Dl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{uo(e,t)}catch(e){sc(n,n.return,e)}}break;case 27:null===t&&4&r&&gl(n);case 26:case 5:Dl(e,n),null===t&&4&r&&ul(n),512&r&&sl(n,n.return);break;case 12:Dl(e,n);break;case 13:Dl(e,n),4&r&&Ol(e,n),64&r&&null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=dc.bind(null,n));break;case 22:if(!(r=null!==n.memoizedState||ml)){t=null!==t&&null!==t.memoizedState||yl,i=ml;var o=yl;ml=r,(yl=t)&&!o?Il(e,n,!!(8772&n.subtreeFlags)):Dl(e,n),ml=i,yl=o}break;case 30:break;default:Dl(e,n)}}function El(e){var t=e.alternate;null!==t&&(e.alternate=null,El(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&ze(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var kl=null,Sl=!1;function Ml(e,t,n){for(n=n.child;null!==n;)Tl(e,t,n),n=n.sibling}function Tl(e,t,n){if(le&&"function"==typeof le.onCommitFiberUnmount)try{le.onCommitFiberUnmount(se,n)}catch(e){}switch(n.tag){case 26:yl||ll(n,t),Ml(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:yl||ll(n,t);var r=kl,i=Sl;cd(n.type)&&(kl=n.stateNode,Sl=!1),Ml(e,t,n),vd(n.stateNode),kl=r,Sl=i;break;case 5:yl||ll(n,t);case 6:if(r=kl,i=Sl,kl=null,Ml(e,t,n),Sl=i,null!==(kl=r))if(Sl)try{(9===kl.nodeType?kl.body:"HTML"===kl.nodeName?kl.ownerDocument.body:kl).removeChild(n.stateNode)}catch(e){sc(n,t,e)}else try{kl.removeChild(n.stateNode)}catch(e){sc(n,t,e)}break;case 18:null!==kl&&(Sl?(dd(9===(e=kl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Sh(e)):dd(kl,n.stateNode));break;case 4:r=kl,i=Sl,kl=n.stateNode.containerInfo,Sl=!0,Ml(e,t,n),kl=r,Sl=i;break;case 0:case 11:case 14:case 15:yl||il(2,n,t),yl||il(4,n,t),Ml(e,t,n);break;case 1:yl||(ll(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&al(n,t,r)),Ml(e,t,n);break;case 21:Ml(e,t,n);break;case 22:yl=(r=yl)||null!==n.memoizedState,Ml(e,t,n),yl=r;break;default:Ml(e,t,n)}}function Ol(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{Sh(e)}catch(e){sc(t,t.return,e)}}function Cl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new bl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new bl),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){var r=hc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Nl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var o=n[i],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(cd(l.type)){kl=l.stateNode,Sl=!1;break e}break;case 5:kl=l.stateNode,Sl=!1;break e;case 3:case 4:kl=l.stateNode.containerInfo,Sl=!0;break e}l=l.return}if(null===kl)throw Error(r(160));Tl(a,s,o),kl=null,Sl=!1,null!==(a=o.alternate)&&(a.return=null),o.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Al(t,e),t=t.sibling}var Pl=null;function Al(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nl(t,e),Rl(e),4&i&&(il(3,e,e.return),rl(3,e),il(5,e,e.return));break;case 1:Nl(t,e),Rl(e),512&i&&(yl||null===n||ll(n,n.return)),64&i&&ml&&null!==(e=e.updateQueue)&&null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i));break;case 26:var o=Pl;if(Nl(t,e),Rl(e),512&i&&(yl||null===n||ll(n,n.return)),4&i){var a=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":(!(a=o.getElementsByTagName("title")[0])||a[Ie]||a[Ne]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=o.createElement(i),o.head.insertBefore(a,o.querySelector("head > title"))),Qc(a,i,n),a[Ne]=e,Ve(a),i=a;break e;case"link":var s=Id("link","href",o).get(i+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}Qc(a=o.createElement(i),i,n),o.head.appendChild(a);break;case"meta":if(s=Id("meta","content",o).get(i+(n.content||"")))for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}Qc(a=o.createElement(i),i,n),o.head.appendChild(a);break;default:throw Error(r(468,i))}a[Ne]=e,Ve(a),i=a}e.stateNode=i}else zd(o,e.type,e.stateNode);else e.stateNode=Ad(o,i,e.memoizedProps);else a!==i?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===i?zd(o,e.type,e.stateNode):Ad(o,i,e.memoizedProps)):null===i&&null!==e.stateNode&&cl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Nl(t,e),Rl(e),512&i&&(yl||null===n||ll(n,n.return)),null!==n&&4&i&&cl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Nl(t,e),Rl(e),512&i&&(yl||null===n||ll(n,n.return)),32&e.flags){o=e.stateNode;try{bt(o,"")}catch(t){sc(e,e.return,t)}}4&i&&null!=e.stateNode&&cl(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&i&&(vl=!0);break;case 6:if(Nl(t,e),Rl(e),4&i){if(null===e.stateNode)throw Error(r(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(t){sc(e,e.return,t)}}break;case 3:if(Ld=null,o=Pl,Pl=xd(t.containerInfo),Nl(t,e),Pl=o,Rl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Sh(t.containerInfo)}catch(t){sc(e,e.return,t)}vl&&(vl=!1,_l(e));break;case 4:i=Pl,Pl=xd(e.stateNode.containerInfo),Nl(t,e),Rl(e),Pl=i;break;case 12:default:Nl(t,e),Rl(e);break;case 13:Nl(t,e),Rl(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(vu=Z()),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,Cl(e,i));break;case 22:o=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=ml,d=yl;if(ml=c||o,yl=d||u,Nl(t,e),yl=d,ml=c,Rl(e),8192&i)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||u||ml||yl||Ll(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(a=u.stateNode,o)"function"==typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=u.stateNode;var h=u.memoizedProps.style,f=null!=h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(e){sc(u,u.return,e)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=o?"":u.memoizedProps}catch(e){sc(u,u.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&null!==(i=e.updateQueue)&&null!==(n=i.retryQueue)&&(i.retryQueue=null,Cl(e,n));break;case 19:Nl(t,e),Rl(e),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,Cl(e,i));case 30:case 21:}}function Rl(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(dl(i)){n=i;break}i=i.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var o=n.stateNode;pl(e,hl(e),o);break;case 5:var a=n.stateNode;32&n.flags&&(bt(a,""),n.flags&=-33),pl(e,hl(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;fl(e,hl(e),s);break;default:throw Error(r(161))}}catch(t){sc(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _l(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;_l(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Dl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)xl(e,t.alternate,t),t=t.sibling}function Ll(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:il(4,t,t.return),Ll(t);break;case 1:ll(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&al(t,t.return,n),Ll(t);break;case 27:vd(t.stateNode);case 26:case 5:ll(t,t.return),Ll(t);break;case 22:null===t.memoizedState&&Ll(t);break;default:Ll(t)}e=e.sibling}}function Il(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,a=o.flags;switch(o.tag){case 0:case 11:case 15:Il(i,o,n),rl(4,o);break;case 1:if(Il(i,o,n),"function"==typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(e){sc(r,r.return,e)}if(null!==(i=(r=o).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)lo(l[i],s)}catch(e){sc(r,r.return,e)}}n&&64&a&&ol(o),sl(o,o.return);break;case 27:gl(o);case 26:case 5:Il(i,o,n),n&&null===r&&4&a&&ul(o),sl(o,o.return);break;case 12:Il(i,o,n);break;case 13:Il(i,o,n),n&&4&a&&Ol(i,o);break;case 22:null===o.memoizedState&&Il(i,o,n),sl(o,o.return);break;case 30:break;default:Il(i,o,n)}t=t.sibling}}function zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ai(n))}function Fl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ai(e))}function jl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Bl(e,t,n,r),t=t.sibling}function Bl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:jl(e,t,n,r),2048&i&&rl(9,t);break;case 1:case 13:default:jl(e,t,n,r);break;case 3:jl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ai(e)));break;case 12:if(2048&i){jl(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,a=o.id,s=o.onPostCommit;"function"==typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){sc(t,t.return,e)}}else jl(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,a=t.alternate,null!==t.memoizedState?2&o._visibility?jl(e,t,n,r):Vl(e,t):2&o._visibility?jl(e,t,n,r):(o._visibility|=2,Hl(e,t,n,r,!!(10256&t.subtreeFlags))),2048&i&&zl(a,t);break;case 24:jl(e,t,n,r),2048&i&&Fl(t.alternate,t)}}function Hl(e,t,n,r,i){for(i=i&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,a=t,s=n,l=r,u=a.flags;switch(a.tag){case 0:case 11:case 15:Hl(o,a,s,l,i),rl(8,a);break;case 23:break;case 22:var c=a.stateNode;null!==a.memoizedState?2&c._visibility?Hl(o,a,s,l,i):Vl(o,a):(c._visibility|=2,Hl(o,a,s,l,i)),i&&2048&u&&zl(a.alternate,a);break;case 24:Hl(o,a,s,l,i),i&&2048&u&&Fl(a.alternate,a);break;default:Hl(o,a,s,l,i)}t=t.sibling}}function Vl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Vl(n,r),2048&i&&zl(r.alternate,r);break;case 24:Vl(n,r),2048&i&&Fl(r.alternate,r);break;default:Vl(n,r)}t=t.sibling}}var Ul=8192;function Wl(e){if(e.subtreeFlags&Ul)for(e=e.child;null!==e;)Gl(e),e=e.sibling}function Gl(e){switch(e.tag){case 26:Wl(e),e.flags&Ul&&null!==e.memoizedState&&function(e,t,n){if(null===jd)throw Error(r(475));var i=jd;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var o=Td(n.href),a=e.querySelector(Od(o));if(a)return null!==(e=a._p)&&"object"==typeof e&&"function"==typeof e.then&&(i.count++,i=Hd.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=a,void Ve(a);a=e.ownerDocument||e,n=Cd(n),(o=bd.get(o))&&_d(n,o),Ve(a=a.createElement("link"));var s=a;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Qc(a,"link",n),t.instance=a}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(i.count++,t=Hd.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}(Pl,e.memoizedState,e.memoizedProps);break;case 5:default:Wl(e);break;case 3:case 4:var t=Pl;Pl=xd(e.stateNode.containerInfo),Wl(e),Pl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Ul,Ul=16777216,Wl(e),Ul=t):Wl(e))}}function $l(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function ql(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];wl=r,Kl(r,e)}$l(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 0:case 11:case 15:ql(e),2048&e.flags&&il(9,e,e.return);break;case 3:case 12:default:ql(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xl(e)):ql(e)}}function Xl(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];wl=r,Kl(r,e)}$l(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:il(8,t,t.return),Xl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xl(t));break;default:Xl(t)}e=e.sibling}}function Kl(e,t){for(;null!==wl;){var n=wl;switch(n.tag){case 0:case 11:case 15:il(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ai(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,wl=r;else e:for(n=e;null!==wl;){var i=(r=wl).sibling,o=r.return;if(El(r),r===n){wl=null;break e}if(null!==i){i.return=o,wl=i;break e}wl=o}}}var Ql={getCacheForType:function(e){var t=ki(Ni),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},Zl="function"==typeof WeakMap?WeakMap:Map,Jl=0,eu=null,tu=null,nu=0,ru=0,iu=null,ou=!1,au=!1,su=!1,lu=0,uu=0,cu=0,du=0,hu=0,fu=0,pu=0,gu=null,mu=null,yu=!1,vu=0,bu=1/0,wu=null,xu=null,Eu=0,ku=null,Su=null,Mu=0,Tu=0,Ou=null,Cu=null,Nu=0,Pu=null;function Au(){return 2&Jl&&0!==nu?nu&-nu:null!==A.T?0!==Di?Di:Tc():Oe()}function Ru(){0===fu&&(fu=536870912&nu&&!ni?536870912:be());var e=ts.current;return null!==e&&(e.flags|=32),fu}function _u(e,t,n){(e!==eu||2!==ru&&9!==ru)&&null===e.cancelPendingCommit||(Bu(e,0),zu(e,nu,fu,!1)),Ee(e,n),2&Jl&&e===eu||(e===eu&&(!(2&Jl)&&(du|=n),4===uu&&zu(e,nu,fu,!1)),bc(e))}function Du(e,t,n){if(6&Jl)throw Error(r(327));for(var i=!n&&!(124&t)&&0===(t&e.expiredLanes)||ye(e,t),o=i?function(e,t){var n=Jl;Jl|=2;var i=Vu(),o=Uu();eu!==e||nu!==t?(wu=null,bu=Z()+500,Bu(e,t)):au=ye(e,t);e:for(;;)try{if(0!==ru&&null!==tu){t=tu;var a=iu;t:switch(ru){case 1:ru=0,iu=null,Ku(e,t,a,1);break;case 2:case 9:if($i(a)){ru=0,iu=null,Xu(t);break}t=function(){2!==ru&&9!==ru||eu!==e||(ru=7),bc(e)},a.then(t,t);break e;case 3:ru=7;break e;case 4:ru=5;break e;case 7:$i(a)?(ru=0,iu=null,Xu(t)):(ru=0,iu=null,Ku(e,t,a,7));break;case 5:var s=null;switch(tu.tag){case 26:s=tu.memoizedState;case 5:case 27:var l=tu;if(!s||Fd(s)){ru=0,iu=null;var u=l.sibling;if(null!==u)tu=u;else{var c=l.return;null!==c?(tu=c,Qu(c)):tu=null}break t}}ru=0,iu=null,Ku(e,t,a,5);break;case 6:ru=0,iu=null,Ku(e,t,a,6);break;case 8:ju(),uu=6;break e;default:throw Error(r(462))}}qu();break}catch(t){Hu(e,t)}return gi=pi=null,A.H=i,A.A=o,Jl=n,null!==tu?0:(eu=null,nu=0,Mr(),uu)}(e,t):Gu(e,t,!0),a=i;;){if(0===o){au&&!i&&zu(e,t,0,!1);break}if(n=e.current.alternate,!a||Iu(n)){if(2===o){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!=(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;o=gu;var u=l.current.memoizedState.isDehydrated;if(u&&(Bu(l,s).flags|=256),2!==(s=Gu(l,s,!1))){if(su&&!u){l.errorRecoveryDisabledLanes|=a,du|=a,o=4;break e}a=mu,mu=o,null!==a&&(null===mu?mu=a:mu.push.apply(mu,a))}o=s}if(a=!1,2!==o)continue}}if(1===o){Bu(e,0),zu(e,t,0,!0);break}e:{switch(i=e,a=o){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:zu(i,t,fu,!ou);break e;case 2:mu=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(o=vu+300-Z())){if(zu(i,t,fu,!ou),0!==me(i,0,!0))break e;i.timeoutHandle=od(Lu.bind(null,i,n,mu,wu,yu,t,fu,du,pu,ou,a,2,-0,0),o)}else Lu(i,n,mu,wu,yu,t,fu,du,pu,ou,a,0,-0,0)}break}o=Gu(e,t,!1),a=!1}bc(e)}function Lu(e,t,n,i,o,a,s,l,u,c,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||!(16785408&~h))&&(jd={stylesheets:null,count:0,unsuspend:Bd},Gl(t),null!==(h=function(){if(null===jd)throw Error(r(475));var e=jd;return e.stylesheets&&0===e.count&&Ud(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Ud(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(Ju.bind(null,e,t,a,n,i,o,s,l,u,d,1,f,p)),void zu(e,a,s,!c);Ju(e,t,a,n,i,o,s,l,u)}function Iu(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!$n(o(),i))return!1}catch(e){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zu(e,t,n,r){t&=~hu,t&=~du,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-ce(i),a=1<<o;r[o]=-1,i&=~a}0!==n&&ke(e,n,t)}function Fu(){return!!(6&Jl)||(wc(0),!1)}function ju(){if(null!==tu){if(0===ru)var e=tu.return;else gi=pi=null,Lo(e=tu),$a=null,qa=0,e=tu;for(;null!==e;)nl(e.alternate,e),e=e.return;tu=null}}function Bu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ad(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),ju(),eu=e,tu=n=Lr(e.current,null),nu=t,ru=0,iu=null,ou=!1,au=ye(e,t),su=!1,pu=fu=hu=du=cu=uu=0,mu=gu=null,yu=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-ce(r),o=1<<i;t|=e[i],r&=~o}return lu=t,Mr(),n}function Hu(e,t){yo=null,A.H=Va,t===Vi||t===Wi?(t=Ki(),ru=3):t===Ui?(t=Ki(),ru=4):ru=t===ks?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,iu=t,null===tu&&(uu=1,vs(e,xr(t,e.current)))}function Vu(){var e=A.H;return A.H=Va,null===e?Va:e}function Uu(){var e=A.A;return A.A=Ql,e}function Wu(){uu=4,ou||(4194048&nu)!==nu&&null!==ts.current||(au=!0),!(134217727&cu)&&!(134217727&du)||null===eu||zu(eu,nu,fu,!1)}function Gu(e,t,n){var r=Jl;Jl|=2;var i=Vu(),o=Uu();eu===e&&nu===t||(wu=null,Bu(e,t)),t=!1;var a=uu;e:for(;;)try{if(0!==ru&&null!==tu){var s=tu,l=iu;switch(ru){case 8:ju(),a=6;break e;case 3:case 2:case 9:case 6:null===ts.current&&(t=!0);var u=ru;if(ru=0,iu=null,Ku(e,s,l,u),n&&au){a=0;break e}break;default:u=ru,ru=0,iu=null,Ku(e,s,l,u)}}$u(),a=uu;break}catch(t){Hu(e,t)}return t&&e.shellSuspendCounter++,gi=pi=null,Jl=r,A.H=i,A.A=o,null===tu&&(eu=null,nu=0,Mr()),a}function $u(){for(;null!==tu;)Yu(tu)}function qu(){for(;null!==tu&&!K();)Yu(tu)}function Yu(e){var t=Ys(e.alternate,e,lu);e.memoizedProps=e.pendingProps,null===t?Qu(e):tu=t}function Xu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=_s(n,t,t.pendingProps,t.type,void 0,nu);break;case 11:t=_s(n,t,t.pendingProps,t.type.render,t.ref,nu);break;case 5:Lo(t);default:nl(n,t),t=Ys(n,t=tu=Ir(t,lu),lu)}e.memoizedProps=e.pendingProps,null===t?Qu(e):tu=t}function Ku(e,t,n,i){gi=pi=null,Lo(t),$a=null,qa=0;var o=t.return;try{if(function(e,t,n,i,o){if(n.flags|=32768,null!==i&&"object"==typeof i&&"function"==typeof i.then){if(null!==(t=n.alternate)&&wi(t,n,o,!0),null!==(n=ts.current)){switch(n.tag){case 13:return null===ns?Wu():null===n.alternate&&0===uu&&(uu=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===Gi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),lc(e,i,o)),!1;case 22:return n.flags|=65536,i===Gi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),lc(e,i,o)),!1}throw Error(r(435,n.tag))}return lc(e,i,o),Wu(),!1}if(ni)return null!==(t=ts.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==oi&&hi(xr(e=Error(r(422),{cause:i}),n))):(i!==oi&&hi(xr(t=Error(r(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,i=xr(i,n),io(e,o=ws(e.stateNode,i,o)),4!==uu&&(uu=2)),!1;var a=Error(r(520),{cause:i});if(a=xr(a,n),null===gu?gu=[a]:gu.push(a),4!==uu&&(uu=2),null===t)return!0;i=xr(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,io(n,e=ws(n.stateNode,i,e)),!1;case 1:if(t=n.type,a=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===a||"function"!=typeof a.componentDidCatch||null!==xu&&xu.has(a))))return n.flags|=65536,o&=-o,n.lanes|=o,Es(o=xs(o),e,n,i),io(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,nu))return uu=1,vs(e,xr(n,e.current)),void(tu=null)}catch(t){if(null!==o)throw tu=o,t;return uu=1,vs(e,xr(n,e.current)),void(tu=null)}32768&t.flags?(ni||1===i?e=!0:au||536870912&nu?e=!1:(ou=e=!0,(2===i||9===i||3===i||6===i)&&null!==(i=ts.current)&&13===i.tag&&(i.flags|=16384)),Zu(t,e)):Qu(t)}function Qu(e){var t=e;do{if(32768&t.flags)return void Zu(t,ou);e=t.return;var n=el(t.alternate,t,lu);if(null!==n)return void(tu=n);if(null!==(t=t.sibling))return void(tu=t);tu=t=e}while(null!==t);0===uu&&(uu=5)}function Zu(e,t){do{var n=tl(e.alternate,e);if(null!==n)return n.flags&=32767,void(tu=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(tu=e);tu=e=n}while(null!==e);uu=6,tu=null}function Ju(e,t,n,i,o,a,s,l,u){e.cancelPendingCommit=null;do{ic()}while(0!==Eu);if(6&Jl)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,o){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=a&~n;0<n;){var c=31-ce(n),d=1<<c;s[c]=0,l[c]=-1;var h=u[c];if(null!==h)for(u[c]=null,c=0;c<h.length;c++){var f=h[c];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&ke(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(a&~t))}(e,n,a|=Sr,s,l,u),e===eu&&(tu=eu=null,nu=0),Su=t,ku=e,Mu=n,Tu=a,Ou=o,Cu=i,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,Y(ne,function(){return oc(),null})):(e.callbackNode=null,e.callbackPriority=0),i=!!(13878&t.flags),13878&t.subtreeFlags||i){i=A.T,A.T=null,o=R.p,R.p=2,s=Jl,Jl|=4;try{!function(e,t){if(e=e.containerInfo,Zc=Jd,Zn(e=Qn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var o=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==o&&3!==h.nodeType||(l=s+o),h!==a||0!==i&&3!==h.nodeType||(u=s+i),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++c===o&&(l=s),f===a&&++d===i&&(u=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jc={focusedElem:e,selectionRange:n},Jd=!1,wl=t;null!==wl;)if(e=(t=wl).child,1024&t.subtreeFlags&&null!==e)e.return=t,wl=e;else for(;null!==wl;){switch(a=(t=wl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==a){e=void 0,n=t,o=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var g=fs(n.type,o,(n.elementType,n.type));e=i.getSnapshotBeforeUpdate(g,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(e){sc(n,n.return,e)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))hd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,wl=e;break}wl=t.return}}(e,t)}finally{Jl=s,R.p=o,A.T=i}}Eu=1,ec(),tc(),nc()}}function ec(){if(1===Eu){Eu=0;var e=ku,t=Su,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=A.T,A.T=null;var r=R.p;R.p=2;var i=Jl;Jl|=4;try{Al(t,e);var o=Jc,a=Qn(e.containerInfo),s=o.focusedElem,l=o.selectionRange;if(a!==s&&s&&s.ownerDocument&&Kn(s.ownerDocument.documentElement,s)){if(null!==l&&Zn(s)){var u=l.start,c=l.end;if(void 0===c&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=s.textContent.length,g=Math.min(l.start,p),m=void 0===l.end?g:Math.min(l.end,p);!f.extend&&g>m&&(a=m,m=g,g=a);var y=Xn(s,g),v=Xn(s,m);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),g>m?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=s;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof s.focus&&s.focus(),s=0;s<d.length;s++){var w=d[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}Jd=!!Zc,Jc=Zc=null}finally{Jl=i,R.p=r,A.T=n}}e.current=t,Eu=2}}function tc(){if(2===Eu){Eu=0;var e=ku,t=Su,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=A.T,A.T=null;var r=R.p;R.p=2;var i=Jl;Jl|=4;try{xl(e,t.alternate,t)}finally{Jl=i,R.p=r,A.T=n}}Eu=3}}function nc(){if(4===Eu||3===Eu){Eu=0,Q();var e=ku,t=Su,n=Mu,r=Cu;10256&t.subtreeFlags||10256&t.flags?Eu=5:(Eu=0,Su=ku=null,rc(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(xu=null),Te(n),t=t.stateNode,le&&"function"==typeof le.onCommitFiberRoot)try{le.onCommitFiberRoot(se,t,void 0,!(128&~t.current.flags))}catch(e){}if(null!==r){t=A.T,i=R.p,R.p=2,A.T=null;try{for(var o=e.onRecoverableError,a=0;a<r.length;a++){var s=r[a];o(s.value,{componentStack:s.stack})}}finally{A.T=t,R.p=i}}3&Mu&&ic(),bc(e),i=e.pendingLanes,4194090&n&&42&i?e===Pu?Nu++:(Nu=0,Pu=e):Nu=0,wc(0)}}function rc(e,t){0===(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,Ai(t))}function ic(e){return ec(),tc(),nc(),oc()}function oc(){if(5!==Eu)return!1;var e=ku,t=Tu;Tu=0;var n=Te(Mu),i=A.T,o=R.p;try{R.p=32>n?32:n,A.T=null,n=Ou,Ou=null;var a=ku,s=Mu;if(Eu=0,Su=ku=null,Mu=0,6&Jl)throw Error(r(331));var l=Jl;if(Jl|=4,Yl(a.current),Bl(a,a.current,s,n),Jl=l,wc(0,!1),le&&"function"==typeof le.onPostCommitFiberRoot)try{le.onPostCommitFiberRoot(se,a)}catch(e){}return!0}finally{R.p=o,A.T=i,rc(e,t)}}function ac(e,t,n){t=xr(n,t),null!==(e=no(e,t=ws(e.stateNode,t,2),2))&&(Ee(e,2),bc(e))}function sc(e,t,n){if(3===e.tag)ac(e,e,n);else for(;null!==t;){if(3===t.tag){ac(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===xu||!xu.has(r))){e=xr(n,e),null!==(r=no(t,n=xs(2),2))&&(Es(n,r,t,e),Ee(r,2),bc(r));break}}t=t.return}}function lc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Zl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(su=!0,i.add(n),e=uc.bind(null,e,t,n),t.then(e,e))}function uc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,eu===e&&(nu&n)===n&&(4===uu||3===uu&&(62914560&nu)===nu&&300>Z()-vu?!(2&Jl)&&Bu(e,0):hu|=n,pu===nu&&(pu=0)),bc(e)}function cc(e,t){0===t&&(t=we()),null!==(e=Cr(e,t))&&(Ee(e,t),bc(e))}function dc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),cc(e,n)}function hc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==i&&i.delete(t),cc(e,n)}var fc=null,pc=null,gc=!1,mc=!1,yc=!1,vc=0;function bc(e){e!==pc&&null===e.next&&(null===pc?fc=pc=e:pc=pc.next=e),mc=!0,gc||(gc=!0,ld(function(){6&Jl?Y(ee,xc):Ec()}))}function wc(e,t){if(!yc&&mc){yc=!0;do{for(var n=!1,r=fc;null!==r;){if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var a=r.suspendedLanes,s=r.pingedLanes;o=(1<<31-ce(42|e)+1)-1,o=201326741&(o&=i&~(a&~s))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Mc(r,o))}else o=nu,!(3&(o=me(r,r===eu?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||ye(r,o)||(n=!0,Mc(r,o));r=r.next}}while(n);yc=!1}}function xc(){Ec()}function Ec(){mc=gc=!1;var e,t=0;0!==vc&&(((e=window.event)&&"popstate"===e.type?e!==id&&(id=e,!0):(id=null,!1))&&(t=vc),vc=0);for(var n=Z(),r=null,i=fc;null!==i;){var o=i.next,a=kc(i,n);0===a?(i.next=null,null===r?fc=o:r.next=o,null===o&&(pc=r)):(r=i,(0!==t||3&a)&&(mc=!0)),i=o}wc(t)}function kc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var a=31-ce(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ve(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}if(n=nu,n=me(e,e===(t=eu)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ru||9===ru)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&X(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||ye(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&X(r),Te(n)){case 2:case 8:n=te;break;case 32:default:n=ne;break;case 268435456:n=ie}return r=Sc.bind(null,e),n=Y(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&X(r),e.callbackPriority=2,e.callbackNode=null,2}function Sc(e,t){if(0!==Eu&&5!==Eu)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ic()&&e.callbackNode!==n)return null;var r=nu;return 0===(r=me(e,e===eu?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Du(e,r,t),kc(e,Z()),null!=e.callbackNode&&e.callbackNode===n?Sc.bind(null,e):null)}function Mc(e,t){if(ic())return null;Du(e,t,!0)}function Tc(){return 0===vc&&(vc=be()),vc}function Oc(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Tt(""+e)}function Cc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Nc=0;Nc<vr.length;Nc++){var Pc=vr[Nc];br(Pc.toLowerCase(),"on"+(Pc[0].toUpperCase()+Pc.slice(1)))}br(cr,"onAnimationEnd"),br(dr,"onAnimationIteration"),br(hr,"onAnimationStart"),br("dblclick","onDoubleClick"),br("focusin","onFocus"),br("focusout","onBlur"),br(fr,"onTransitionRun"),br(pr,"onTransitionStart"),br(gr,"onTransitionCancel"),br(mr,"onTransitionEnd"),$e("onMouseEnter",["mouseout","mouseover"]),$e("onMouseLeave",["mouseout","mouseover"]),$e("onPointerEnter",["pointerout","pointerover"]),$e("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ac));function _c(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=u;try{o(i)}catch(e){ps(e)}i.currentTarget=null,o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=u;try{o(i)}catch(e){ps(e)}i.currentTarget=null,o=l}}}}function Dc(e,t){var n=t[Re];void 0===n&&(n=t[Re]=new Set);var r=e+"__bubble";n.has(r)||(Fc(t,e,2,!1),n.add(r))}function Lc(e,t,n){var r=0;t&&(r|=4),Fc(n,e,r,t)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function zc(e){if(!e[Ic]){e[Ic]=!0,Ue.forEach(function(t){"selectionchange"!==t&&(Rc.has(t)||Lc(t,!1,e),Lc(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ic]||(t[Ic]=!0,Lc("selectionchange",!1,t))}}function Fc(e,t,n,r){switch(ah(t)){case 2:var i=eh;break;case 8:i=th;break;default:i=nh}n=i.bind(null,t,n,e),i=void 0,!It||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function jc(e,t,n,r,i){var a=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var l=r.stateNode.containerInfo;if(l===i)break;if(4===s)for(s=r.return;null!==s;){var u=s.tag;if((3===u||4===u)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==l;){if(null===(s=Fe(l)))return;if(5===(u=s.tag)||6===u||26===u||27===u){r=a=s;continue e}l=l.parentNode}}r=r.return}_t(function(){var r=a,i=Ct(n),s=[];e:{var l=yr.get(e);if(void 0!==l){var u=Kt,c=e;switch(e){case"keypress":if(0===Vt(n))break e;case"keydown":case"keyup":u=hn;break;case"focusin":c="focus",u=nn;break;case"focusout":c="blur",u=nn;break;case"beforeblur":case"afterblur":u=nn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=en;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=tn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=pn;break;case cr:case dr:case hr:u=rn;break;case mr:u=gn;break;case"scroll":case"scrollend":u=Zt;break;case"wheel":u=mn;break;case"copy":case"cut":case"paste":u=on;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=fn;break;case"toggle":case"beforetoggle":u=yn}var d=!!(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==l?l+"Capture":null:l;d=[];for(var p,g=r;null!==g;){var m=g;if(p=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===p||null===f||null!=(m=Dt(g,f))&&d.push(Bc(g,m,p)),h)break;g=g.return}0<d.length&&(l=new u(l,c,null,n,i),s.push({event:l,listeners:d}))}}if(!(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Ot||!(c=n.relatedTarget||n.fromElement)||!Fe(c)&&!c[Ae])&&(u||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Fe(c):null)&&(h=o(c),d=c.tag,c!==h||5!==d&&27!==d&&6!==d)&&(c=null)):(u=null,c=r),u!==c)){if(d=en,m="onMouseLeave",f="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=fn,m="onPointerLeave",f="onPointerEnter",g="pointer"),h=null==u?l:Be(u),p=null==c?l:Be(c),(l=new d(m,g+"leave",u,n,i)).target=h,l.relatedTarget=p,m=null,Fe(i)===r&&((d=new d(f,g+"enter",c,n,i)).target=p,d.relatedTarget=h,m=d),h=m,u&&c)e:{for(f=c,g=0,p=d=u;p;p=Vc(p))g++;for(p=0,m=f;m;m=Vc(m))p++;for(;0<g-p;)d=Vc(d),g--;for(;0<p-g;)f=Vc(f),p--;for(;g--;){if(d===f||null!==f&&d===f.alternate)break e;d=Vc(d),f=Vc(f)}d=null}else d=null;null!==u&&Uc(s,l,u,d,!1),null!==c&&null!==h&&Uc(s,h,c,d,!0)}if("select"===(u=(l=r?Be(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===u&&"file"===l.type)var y=Ln;else if(Nn(l))if(In)y=Gn;else{y=Un;var v=Vn}else!(u=l.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&kt(r.elementType)&&(y=Ln):y=Wn;switch(y&&(y=y(e,r))?Pn(s,y,n,i):(v&&v(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&gt(l,"number",l.value)),v=r?Be(r):window,e){case"focusin":(Nn(v)||"true"===v.contentEditable)&&(er=v,tr=r,nr=null);break;case"focusout":nr=tr=er=null;break;case"mousedown":rr=!0;break;case"contextmenu":case"mouseup":case"dragend":rr=!1,ir(s,n,i);break;case"selectionchange":if(Jn)break;case"keydown":case"keyup":ir(s,n,i)}var b;if(bn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else On?Mn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(En&&"ko"!==n.locale&&(On||"onCompositionStart"!==w?"onCompositionEnd"===w&&On&&(b=Ht()):(jt="value"in(Ft=i)?Ft.value:Ft.textContent,On=!0)),0<(v=Hc(r,w)).length&&(w=new an(w,e,null,n,i),s.push({event:w,listeners:v}),(b||null!==(b=Tn(n)))&&(w.data=b))),(b=xn?function(e,t){switch(e){case"compositionend":return Tn(t);case"keypress":return 32!==t.which?null:(Sn=!0,kn);case"textInput":return(e=t.data)===kn&&Sn?null:e;default:return null}}(e,n):function(e,t){if(On)return"compositionend"===e||!bn&&Mn(e,t)?(e=Ht(),Bt=jt=Ft=null,On=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(w=Hc(r,"onBeforeInput")).length&&(v=new an("onBeforeInput","beforeinput",null,n,i),s.push({event:v,listeners:w}),v.data=b),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=Oc((i[Pe]||null).action),a=r.submitter;a&&null!==(t=(t=a[Pe]||null)?Oc(t.formAction):a.getAttribute("formAction"))&&(o=t,a=null);var s=new Kt("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==vc){var e=a?Cc(i,a):new FormData(i);Ca(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"==typeof o&&(s.preventDefault(),e=a?Cc(i,a):new FormData(i),Ca(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(s,e,r,n,i)}_c(s,t)})}function Bc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hc(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=Dt(e,n))&&r.unshift(Bc(e,i,o)),null!=(i=Dt(e,t))&&r.push(Bc(e,i,o))),3===e.tag)return r;e=e.return}return[]}function Vc(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Uc(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===u||(l=u,i?null!=(u=Dt(n,o))&&a.unshift(Bc(n,u,l)):i||null!=(u=Dt(n,o))&&a.push(Bc(n,u,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Wc=/\r\n?/g,Gc=/\u0000|\uFFFD/g;function $c(e){return("string"==typeof e?e:""+e).replace(Wc,"\n").replace(Gc,"")}function qc(e,t){return t=$c(t),$c(e)===t}function Yc(){}function Xc(e,t,n,i,o,a){switch(n){case"children":"string"==typeof i?"body"===t||"textarea"===t&&""===i||bt(e,i):("number"==typeof i||"bigint"==typeof i)&&"body"!==t&&bt(e,""+i);break;case"className":Je(e,"class",i);break;case"tabIndex":Je(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Je(e,n,i);break;case"style":Et(e,i,a);break;case"data":if("object"!==t){Je(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"==typeof i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Tt(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"==typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof a&&("formAction"===n?("input"!==t&&Xc(e,t,"name",o.name,o,null),Xc(e,t,"formEncType",o.formEncType,o,null),Xc(e,t,"formMethod",o.formMethod,o,null),Xc(e,t,"formTarget",o.formTarget,o,null)):(Xc(e,t,"encType",o.encType,o,null),Xc(e,t,"method",o.method,o,null),Xc(e,t,"target",o.target,o,null))),null==i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Tt(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=Yc);break;case"onScroll":null!=i&&Dc("scroll",e);break;case"onScrollEnd":null!=i&&Dc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=o.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"muted":e.muted=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"==typeof i||"boolean"==typeof i||"symbol"==typeof i){e.removeAttribute("xlink:href");break}n=Tt(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"==typeof i||"symbol"==typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Dc("beforetoggle",e),Dc("toggle",e),Ze(e,"popover",i);break;case"xlinkActuate":et(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":et(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":et(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":et(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":et(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":et(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":et(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":et(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":et(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Ze(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&Ze(e,n=St.get(n)||n,i)}}function Kc(e,t,n,i,o,a){switch(n){case"style":Et(e,i,a);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=o.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"==typeof i?bt(e,i):("number"==typeof i||"bigint"==typeof i)&&bt(e,""+i);break;case"onScroll":null!=i&&Dc("scroll",e);break;case"onScrollEnd":null!=i&&Dc("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Yc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:We.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"==typeof(a=null!=(a=e[Pe]||null)?a[n]:null)&&e.removeEventListener(t,a,o),"function"!=typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):Ze(e,n,i):("function"!=typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,o)))}}function Qc(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dc("error",e),Dc("load",e);var i,o=!1,a=!1;for(i in n)if(n.hasOwnProperty(i)){var s=n[i];if(null!=s)switch(i){case"src":o=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Xc(e,t,i,s,n,null)}}return a&&Xc(e,t,"srcSet",n.srcSet,n,null),void(o&&Xc(e,t,"src",n.src,n,null));case"input":Dc("invalid",e);var l=i=s=a=null,u=null,c=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":a=d;break;case"type":s=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(r(137,t));break;default:Xc(e,t,o,d,n,null)}}return pt(e,i,l,u,c,s,a,!1),void lt(e);case"select":for(a in Dc("invalid",e),o=s=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"multiple":o=l;default:Xc(e,t,a,l,n,null)}return t=i,n=s,e.multiple=!!o,void(null!=t?mt(e,!!o,t,!1):null!=n&&mt(e,!!o,n,!0));case"textarea":for(s in Dc("invalid",e),i=a=o=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":o=l;break;case"defaultValue":a=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(r(91));break;default:Xc(e,t,s,l,n,null)}return vt(e,o,a,i),void lt(e);case"option":for(u in n)n.hasOwnProperty(u)&&null!=(o=n[u])&&("selected"===u?e.selected=o&&"function"!=typeof o&&"symbol"!=typeof o:Xc(e,t,u,o,n,null));return;case"dialog":Dc("beforetoggle",e),Dc("toggle",e),Dc("cancel",e),Dc("close",e);break;case"iframe":case"object":Dc("load",e);break;case"video":case"audio":for(o=0;o<Ac.length;o++)Dc(Ac[o],e);break;case"image":Dc("error",e),Dc("load",e);break;case"details":Dc("toggle",e);break;case"embed":case"source":case"link":Dc("error",e),Dc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Xc(e,t,c,o,n,null)}return;default:if(kt(t)){for(d in n)n.hasOwnProperty(d)&&void 0!==(o=n[d])&&Kc(e,t,d,o,n,void 0);return}}for(l in n)n.hasOwnProperty(l)&&null!=(o=n[l])&&Xc(e,t,l,o,n,null)}var Zc=null,Jc=null;function ed(e){return 9===e.nodeType?e:e.ownerDocument}function td(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function rd(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var id=null,od="function"==typeof setTimeout?setTimeout:void 0,ad="function"==typeof clearTimeout?clearTimeout:void 0,sd="function"==typeof Promise?Promise:void 0,ld="function"==typeof queueMicrotask?queueMicrotask:void 0!==sd?function(e){return sd.resolve(null).then(e).catch(ud)}:od;function ud(e){setTimeout(function(){throw e})}function cd(e){return"head"===e}function dd(e,t){var n=t,r=0,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&vd(a.documentElement),2&n&&vd(a.body),4&n)for(vd(n=a.head),a=n.firstChild;a;){var s=a.nextSibling,l=a.nodeName;a[Ie]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=s}}if(0===i)return e.removeChild(o),void Sh(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);Sh(t)}function hd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":hd(n),ze(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function fd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function pd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var gd=null;function md(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function yd(e,t,n){switch(t=ed(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function vd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ze(e)}var bd=new Map,wd=new Set;function xd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ed=R.d;R.d={f:function(){var e=Ed.f(),t=Fu();return e||t},r:function(e){var t=je(e);null!==t&&5===t.tag&&"form"===t.type?Pa(t):Ed.r(e)},D:function(e){Ed.D(e),Sd("dns-prefetch",e,null)},C:function(e,t){Ed.C(e,t),Sd("preconnect",e,t)},L:function(e,t,n){Ed.L(e,t,n);var r=kd;if(r&&e&&t){var i='link[rel="preload"][as="'+ht(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+ht(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+ht(n.imageSizes)+'"]')):i+='[href="'+ht(e)+'"]';var o=i;switch(t){case"style":o=Td(e);break;case"script":o=Nd(e)}bd.has(o)||(e=u({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),bd.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Od(o))||"script"===t&&r.querySelector(Pd(o))||(Qc(t=r.createElement("link"),"link",e),Ve(t),r.head.appendChild(t)))}},m:function(e,t){Ed.m(e,t);var n=kd;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+ht(r)+'"][href="'+ht(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Nd(e)}if(!bd.has(o)&&(e=u({rel:"modulepreload",href:e},t),bd.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Pd(o)))return}Qc(r=n.createElement("link"),"link",e),Ve(r),n.head.appendChild(r)}}},X:function(e,t){Ed.X(e,t);var n=kd;if(n&&e){var r=He(n).hoistableScripts,i=Nd(e),o=r.get(i);o||((o=n.querySelector(Pd(i)))||(e=u({src:e,async:!0},t),(t=bd.get(i))&&Dd(e,t),Ve(o=n.createElement("script")),Qc(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){Ed.S(e,t,n);var r=kd;if(r&&e){var i=He(r).hoistableStyles,o=Td(e);t=t||"default";var a=i.get(o);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(Od(o)))s.loading=5;else{e=u({rel:"stylesheet",href:e,"data-precedence":t},n),(n=bd.get(o))&&_d(e,n);var l=a=r.createElement("link");Ve(l),Qc(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Rd(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(o,a)}}},M:function(e,t){Ed.M(e,t);var n=kd;if(n&&e){var r=He(n).hoistableScripts,i=Nd(e),o=r.get(i);o||((o=n.querySelector(Pd(i)))||(e=u({src:e,async:!0,type:"module"},t),(t=bd.get(i))&&Dd(e,t),Ve(o=n.createElement("script")),Qc(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var kd="undefined"==typeof document?null:document;function Sd(e,t,n){var r=kd;if(r&&"string"==typeof t&&t){var i=ht(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),wd.has(i)||(wd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(Qc(t=r.createElement("link"),"link",e),Ve(t),r.head.appendChild(t)))}}function Md(e,t,n,i){var o,a,s,l,u=(u=H.current)?xd(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Td(n.href),(i=(n=He(u).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Td(n.href);var c=He(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(Od(e)))&&!c._p&&(d.instance=c,d.state.loading=5),bd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},bd.set(e,n),c||(o=u,a=e,s=n,l=d.state,o.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=o.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),Qc(a,"link",s),Ve(a),o.head.appendChild(a))))),t&&null===i)throw Error(r(528,""));return d}if(t&&null!==i)throw Error(r(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Nd(n),(i=(n=He(u).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Td(e){return'href="'+ht(e)+'"'}function Od(e){return'link[rel="stylesheet"]['+e+"]"}function Cd(e){return u({},e,{"data-precedence":e.precedence,precedence:null})}function Nd(e){return'[src="'+ht(e)+'"]'}function Pd(e){return"script[async]"+e}function Ad(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+ht(n.href)+'"]');if(i)return t.instance=i,Ve(i),i;var o=u({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ve(i=(e.ownerDocument||e).createElement("style")),Qc(i,"style",o),Rd(i,n.precedence,e),t.instance=i;case"stylesheet":o=Td(n.href);var a=e.querySelector(Od(o));if(a)return t.state.loading|=4,t.instance=a,Ve(a),a;i=Cd(n),(o=bd.get(o))&&_d(i,o),Ve(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Qc(a,"link",i),t.state.loading|=4,Rd(a,n.precedence,e),t.instance=a;case"script":return a=Nd(n.src),(o=e.querySelector(Pd(a)))?(t.instance=o,Ve(o),o):(i=n,(o=bd.get(a))&&Dd(i=u({},n),o),Ve(o=(e=e.ownerDocument||e).createElement("script")),Qc(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,Rd(i,n.precedence,e));return t.instance}function Rd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)o=s;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function _d(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Dd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ld=null;function Id(e,t,n){if(null===Ld){var r=new Map,i=Ld=new Map;i.set(n,r)}else(r=(i=Ld).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Ie]||o[Ne]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var a=o.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(o):r.set(a,[o])}}return r}function zd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Fd(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var jd=null;function Bd(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)Ud(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Vd=null;function Ud(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Vd=new Map,t.forEach(Wd,e),Vd=null,Hd.call(e))}function Wd(e,t){if(!(4&t.state.loading)){var n=Vd.get(e);if(n)var r=n.get(null);else{n=new Map,Vd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(o=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=Hd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Gd={$$typeof:v,Provider:null,Consumer:null,_currentValue:_,_currentValue2:_,_threadCount:0};function $d(e,t,n,r,i,o,a,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xe(0),this.hiddenUpdates=xe(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function qd(e,t,n,r,i,o,a,s,l,u,c,d){return e=new $d(e,t,n,a,s,l,u,d),t=1,!0===o&&(t|=24),o=_r(3,null,null,t),e.current=o,o.stateNode=e,(t=Pi()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},Ji(o),e}function Yd(e){return e?e=Ar:Ar}function Xd(e,t,n,r,i,o){i=Yd(i),null===r.context?r.context=i:r.pendingContext=i,(r=to(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=no(e,r,t))&&(_u(n,0,t),ro(n,e,t))}function Kd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qd(e,t){Kd(e,t),(e=e.alternate)&&Kd(e,t)}function Zd(e){if(13===e.tag){var t=Cr(e,67108864);null!==t&&_u(t,0,67108864),Qd(e,67108864)}}var Jd=!0;function eh(e,t,n,r){var i=A.T;A.T=null;var o=R.p;try{R.p=2,nh(e,t,n,r)}finally{R.p=o,A.T=i}}function th(e,t,n,r){var i=A.T;A.T=null;var o=R.p;try{R.p=8,nh(e,t,n,r)}finally{R.p=o,A.T=i}}function nh(e,t,n,r){if(Jd){var i=rh(r);if(null===i)jc(e,t,r,ih,n),gh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return lh=mh(lh,e,t,n,r,i),!0;case"dragenter":return uh=mh(uh,e,t,n,r,i),!0;case"mouseover":return ch=mh(ch,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return dh.set(o,mh(dh.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,hh.set(o,mh(hh.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(gh(e,r),4&t&&-1<ph.indexOf(e)){for(;null!==i;){var o=je(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var a=ge(o.pendingLanes);if(0!==a){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-ce(a);s.entanglements[1]|=l,a&=~l}bc(o),!(6&Jl)&&(bu=Z()+500,wc(0))}}break;case 13:null!==(s=Cr(o,2))&&_u(s,0,2),Fu(),Qd(o,2)}if(null===(o=rh(r))&&jc(e,t,r,ih,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else jc(e,t,r,null,n)}}function rh(e){return oh(e=Ct(e))}var ih=null;function oh(e){if(ih=null,null!==(e=Fe(e))){var t=o(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=a(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ih=e,null}function ah(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(J()){case ee:return 2;case te:return 8;case ne:case re:return 32;case ie:return 268435456;default:return 32}default:return 32}}var sh=!1,lh=null,uh=null,ch=null,dh=new Map,hh=new Map,fh=[],ph="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gh(e,t){switch(e){case"focusin":case"focusout":lh=null;break;case"dragenter":case"dragleave":uh=null;break;case"mouseover":case"mouseout":ch=null;break;case"pointerover":case"pointerout":dh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hh.delete(t.pointerId)}}function mh(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&null!==(t=je(t))&&Zd(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yh(e){var t=Fe(e.target);if(null!==t){var n=o(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=a(n)))return e.blockedOn=t,void function(e,t){var n=R.p;try{return R.p=e,t()}finally{R.p=n}}(e.priority,function(){if(13===n.tag){var e=Au();e=Me(e);var t=Cr(n,e);null!==t&&_u(t,0,e),Qd(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=rh(e.nativeEvent);if(null!==n)return null!==(t=je(n))&&Zd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ot=r,n.target.dispatchEvent(r),Ot=null,t.shift()}return!0}function bh(e,t,n){vh(e)&&n.delete(t)}function wh(){sh=!1,null!==lh&&vh(lh)&&(lh=null),null!==uh&&vh(uh)&&(uh=null),null!==ch&&vh(ch)&&(ch=null),dh.forEach(bh),hh.forEach(bh)}function xh(t,n){t.blockedOn===n&&(t.blockedOn=null,sh||(sh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wh)))}var Eh=null;function kh(t){Eh!==t&&(Eh=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Eh===t&&(Eh=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if("function"!=typeof r){if(null===oh(r||n))continue;break}var o=je(n);null!==o&&(t.splice(e,3),e-=3,Ca(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Sh(e){function t(t){return xh(t,e)}null!==lh&&xh(lh,e),null!==uh&&xh(uh,e),null!==ch&&xh(ch,e),dh.forEach(t),hh.forEach(t);for(var n=0;n<fh.length;n++){var r=fh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<fh.length&&null===(n=fh[0]).blockedOn;)yh(n),null===n.blockedOn&&fh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],a=i[Pe]||null;if("function"==typeof o)a||kh(n);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[Pe]||null)s=a.formAction;else if(null!==oh(i))continue}else s=a.action;"function"==typeof s?n[r+1]=s:(n.splice(r,3),r-=3),kh(n)}}}function Mh(e){this._internalRoot=e}function Th(e){this._internalRoot=e}Th.prototype.render=Mh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Xd(t.current,Au(),e,t,null,null)},Th.prototype.unmount=Mh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xd(e.current,2,null,e,null,null),Fu(),t[Ae]=null}},Th.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fh.length&&0!==t&&t<fh[n].priority;n++);fh.splice(n,0,e),0===n&&yh(e)}};var Oh=t.version;if("19.1.0"!==Oh)throw Error(r(527,Oh,"19.1.0"));R.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=o(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(null===a)break;var l=a.alternate;if(null===l){if(null!==(i=a.return)){n=i;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return s(a),e;if(l===i)return s(a),t;l=l.sibling}throw Error(r(188))}if(n.return!==i.return)n=a,i=l;else{for(var u=!1,c=a.child;c;){if(c===n){u=!0,n=a,i=l;break}if(c===i){u=!0,i=a,n=l;break}c=c.sibling}if(!u){for(c=l.child;c;){if(c===n){u=!0,n=l,i=a;break}if(c===i){u=!0,i=l,n=a;break}c=c.sibling}if(!u)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),null===(e=null!==e?l(e):null)?null:e.stateNode};var Ch={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.1.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{se=Nh.inject(Ch),le=Nh}catch(e){}}return G$.createRoot=function(e,t){if(!i(e))throw Error(r(299));var n=!1,o="",a=gs,s=ms,l=ys;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(o=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=qd(e,1,!1,null,0,n,o,a,s,l,0,null),e[Ae]=t.current,zc(e),new Mh(t)},G$.hydrateRoot=function(e,t,n){if(!i(e))throw Error(r(299));var o=!1,a="",s=gs,l=ms,u=ys,c=null;return null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(c=n.formState)),(t=qd(e,1,!0,t,0,o,a,s,l,u,0,c)).context=Yd(null),n=t.current,(a=to(o=Me(o=Au()))).callback=null,no(n,a,o),n=o,t.current.lanes=n,Ee(t,n),bc(t),e[Ae]=t.current,zc(e),new Th(t)},G$.version="19.1.0",G$}()):W$.exports=(J$||(J$=1,"production"!==process.env.NODE_ENV&&function(){function e(e,t){for(e=e.memoizedState;null!==e&&0<t;)e=e.next,t--;return e}function t(e,n,r,i){if(r>=n.length)return i;var o=n[r],a=qc(e)?e.slice():Cc({},e);return a[o]=t(e[o],n,r+1,i),a}function n(e,t,n){if(t.length===n.length){for(var i=0;i<n.length-1;i++)if(t[i]!==n[i])return void console.warn("copyWithRename() expects paths to be the same except for the deepest key");return r(e,t,n,0)}console.warn("copyWithRename() expects paths of the same length")}function r(e,t,n,i){var o=t[i],a=qc(e)?e.slice():Cc({},e);return i+1===t.length?(a[n[i]]=a[o],qc(a)?a.splice(o,1):delete a[o]):a[o]=r(e[o],t,n,i+1),a}function i(e,t,n){var r=t[n],o=qc(e)?e.slice():Cc({},e);return n+1===t.length?(qc(o)?o.splice(r,1):delete o[r],o):(o[r]=i(e[r],t,n+1),o)}function o(){return!1}function a(){return null}function s(){}function l(){console.error("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://react.dev/link/rules-of-hooks")}function u(){console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")}function c(){}function d(e){var t=[];return e.forEach(function(e){t.push(e)}),t.sort().join(", ")}function h(e,t,n,r){return new wn(e,t,n,r)}function f(e,t){e.context===up&&(Yu(e.current,2,t,e,null,null),Ts())}function p(e,t){if(null!==cp){var n=t.staleFamilies;t=t.updatedFamilies,Ys(),bn(e.current,t,n),Ts()}}function g(e){cp=e}function m(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function y(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function v(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function b(e){if(y(e)!==e)throw Error("Unable to find node on an unmounted component.")}function w(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=w(e)))return t;e=e.sibling}return null}function x(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Gc&&e[Gc]||e["@@iterator"])?e:null}function E(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===$c?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Rc:return"Fragment";case Dc:return"Profiler";case _c:return"StrictMode";case jc:return"Suspense";case Bc:return"SuspenseList";case Uc:return"Activity"}if("object"==typeof e)switch("number"==typeof e.tag&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),e.$$typeof){case Ac:return"Portal";case zc:return(e.displayName||"Context")+".Provider";case Ic:return(e._context.displayName||"Context")+".Consumer";case Fc:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Hc:return null!==(t=e.displayName||null)?t:E(e.type)||"Memo";case Vc:t=e._payload,e=e._init;try{return E(e(t))}catch(e){}}return null}function k(e){return"number"==typeof e.tag?S(e):"string"==typeof e.name?e.name:null}function S(e){var t=e.type;switch(e.tag){case 31:return"Activity";case 24:return"Cache";case 9:return(t._context.displayName||"Context")+".Consumer";case 10:return(t.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 26:case 27:case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return E(t);case 8:return t===_c?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;break;case 29:if(null!=(t=e._debugInfo))for(var n=t.length-1;0<=n;n--)if("string"==typeof t[n].name)return t[n].name;if(null!==e.return)return S(e.return)}return null}function M(e){return{current:e}}function T(e,t){0>Jc?console.error("Unexpected pop."):(t!==Zc[Jc]&&console.error("Unexpected Fiber popped."),e.current=Qc[Jc],Qc[Jc]=null,Zc[Jc]=null,Jc--)}function O(e,t,n){Jc++,Qc[Jc]=e.current,Zc[Jc]=n,e.current=t}function C(e){return null===e&&console.error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue."),e}function N(e,t){O(nd,t,e),O(td,e,e),O(ed,null,e);var n=t.nodeType;switch(n){case 9:case 11:n=9===n?"#document":"#fragment",t=(t=t.documentElement)&&(t=t.namespaceURI)?Ql(t):Fb;break;default:if(n=t.tagName,t=t.namespaceURI)t=Zl(t=Ql(t),n);else switch(n){case"svg":t=jb;break;case"math":t=Bb;break;default:t=Fb}}n={context:t,ancestorInfo:n=pt(null,n=n.toLowerCase())},T(ed,e),O(ed,n,e)}function P(e){T(ed,e),T(td,e),T(nd,e)}function A(){return C(ed.current)}function R(e){null!==e.memoizedState&&O(rd,e,e);var t=C(ed.current),n=e.type,r=Zl(t.context,n);t!==(r={context:r,ancestorInfo:n=pt(t.ancestorInfo,n)})&&(O(td,e,e),O(ed,r,e))}function _(e){td.current===e&&(T(ed,e),T(td,e)),rd.current===e&&(T(rd,e),ww._currentValue=bw)}function D(e){return"function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object"}function L(e){try{return I(e),!1}catch(e){return!0}}function I(e){return""+e}function z(e,t){if(L(e))return console.error("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before using it here.",t,D(e)),I(e)}function F(e,t){if(L(e))return console.error("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before using it here.",t,D(e)),I(e)}function j(e){if(L(e))return console.error("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before using it here.",D(e)),I(e)}function B(e){if("function"==typeof md&&yd(e),bd&&"function"==typeof bd.setStrictMode)try{bd.setStrictMode(vd,e)}catch(e){xd||(xd=!0,console.error("React instrumentation encountered an error: %s",e))}}function H(e){wd=e}function V(){null!==wd&&"function"==typeof wd.markCommitStopped&&wd.markCommitStopped()}function U(e){null!==wd&&"function"==typeof wd.markComponentRenderStarted&&wd.markComponentRenderStarted(e)}function W(){null!==wd&&"function"==typeof wd.markComponentRenderStopped&&wd.markComponentRenderStopped()}function G(e){null!==wd&&"function"==typeof wd.markRenderStarted&&wd.markRenderStarted(e)}function $(){null!==wd&&"function"==typeof wd.markRenderStopped&&wd.markRenderStopped()}function q(e,t){null!==wd&&"function"==typeof wd.markStateUpdateScheduled&&wd.markStateUpdateScheduled(e,t)}function Y(e){return 1&e?"SyncHydrationLane":2&e?"Sync":4&e?"InputContinuousHydration":8&e?"InputContinuous":16&e?"DefaultHydration":32&e?"Default":128&e?"TransitionHydration":4194048&e?"Transition":62914560&e?"Retry":67108864&e?"SelectiveHydration":134217728&e?"IdleHydration":268435456&e?"Idle":536870912&e?"Offscreen":1073741824&e?"Deferred":void 0}function X(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return console.error("Should have found matching lanes. This is a bug in React."),e}}function K(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~o)?i=X(r):0!==(a&=s)?i=X(a):n||0!==(n=s&~e)&&(i=X(n)):0!==(s=r&~o)?i=X(s):0!==a?i=X(a):n||0!==(n=r&~e)&&(i=X(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&4194048&n)?t:i}function Q(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Z(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return console.error("Should have found matching lanes. This is a bug in React."),-1}}function J(){var e=Td;return!(4194048&(Td<<=1))&&(Td=256),e}function ee(){var e=Od;return!(62914560&(Od<<=1))&&(Od=4194304),e}function te(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ne(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function re(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-kd(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function ie(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-kd(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function oe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ae(e,t,n){if(Ed)for(e=e.pendingUpdatersLaneMap;0<n;){var r=31-kd(n),i=1<<r;e[r].add(t),n&=~i}}function se(e,t){if(Ed)for(var n=e.pendingUpdatersLaneMap,r=e.memoizedUpdaters;0<t;){var i=31-kd(t);e=1<<i,0<(i=n[i]).size&&(i.forEach(function(e){var t=e.alternate;null!==t&&r.has(t)||r.add(e)}),i.clear()),t&=~e}}function le(e){return Cd<(e&=-e)?Nd<e?134217727&e?Pd:Ad:Nd:Cd}function ue(){var e=Xc.p;return 0!==e?e:void 0===(e=window.event)?Pd:oc(e.type)}function ce(e){delete e[_d],delete e[Dd],delete e[Id],delete e[zd],delete e[Fd]}function de(e){var t=e[_d];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ld]||n[_d]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bu(e);null!==e;){if(n=e[_d])return n;e=bu(e)}return t}n=(e=n).parentNode}return null}function he(e){if(e=e[_d]||e[Ld]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function fe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error("getNodeFromInstance: Invalid argument.")}function pe(e){var t=e[jd];return t||(t=e[jd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ge(e){e[Bd]=!0}function me(e,t){ye(e,t),ye(e+"Capture",t)}function ye(e,t){Vd[e]&&console.error("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",e),Vd[e]=t;var n=e.toLowerCase();for(Ud[n]=e,"onDoubleClick"===e&&(Ud.ondblclick=e),e=0;e<t.length;e++)Hd.add(t[e])}function ve(e,t){Wd[t.type]||t.onChange||t.onInput||t.readOnly||t.disabled||null==t.value||("select"===e?console.error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set `onChange`."):console.error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")),t.onChange||t.readOnly||t.disabled||null==t.checked||console.error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function be(e){return!!id.call(qd,e)||!id.call($d,e)&&(Gd.test(e)?qd[e]=!0:($d[e]=!0,console.error("Invalid attribute name: `%s`",e),!1))}function we(e,t,n){if(be(t)){if(!e.hasAttribute(t)){switch(typeof n){case"symbol":case"object":case"function":return n;case"boolean":if(!1===n)return n}return void 0===n?void 0:null}return""===(e=e.getAttribute(t))&&!0===n||(z(n,t),e===""+n?n:e)}}function xe(e,t,n){if(be(t))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}z(n,t),e.setAttribute(t,""+n)}}function Ee(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}z(n,t),e.setAttribute(t,""+n)}}function ke(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}z(r,n),e.setAttributeNS(t,n,""+r)}}function Se(){}function Me(e){if(void 0===Xd)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Xd=t&&t[1]||"",Kd=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Xd+e+Kd}function Te(e,t){if(!e||Qd)return"";var n,r=Zd.get(e);if(void 0!==r)return r;Qd=!0,r=Error.prepareStackTrace,Error.prepareStackTrace=void 0,n=Yc.H,Yc.H=null,function(){if(0===Yd){vc=console.log,bc=console.info,wc=console.warn,xc=console.error,Ec=console.group,kc=console.groupCollapsed,Sc=console.groupEnd;var e={configurable:!0,enumerable:!0,value:Se,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}Yd++}();try{var i={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),s=a[0],l=a[1];if(s&&l){var u=s.split("\n"),c=l.split("\n");for(a=o=0;o<u.length&&!u[o].includes("DetermineComponentFrameRoot");)o++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(o===u.length||a===c.length)for(o=u.length-1,a=c.length-1;1<=o&&0<=a&&u[o]!==c[a];)a--;for(;1<=o&&0<=a;o--,a--)if(u[o]!==c[a]){if(1!==o||1!==a)do{if(o--,0>--a||u[o]!==c[a]){var d="\n"+u[o].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),"function"==typeof e&&Zd.set(e,d),d}}while(1<=o&&0<=a);break}}}finally{Qd=!1,Yc.H=n,function(){if(0===--Yd){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:Cc({},e,{value:vc}),info:Cc({},e,{value:bc}),warn:Cc({},e,{value:wc}),error:Cc({},e,{value:xc}),group:Cc({},e,{value:Ec}),groupCollapsed:Cc({},e,{value:kc}),groupEnd:Cc({},e,{value:Sc})})}0>Yd&&console.error("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=r}return u=(u=e?e.displayName||e.name:"")?Me(u):"","function"==typeof e&&Zd.set(e,u),u}function Oe(e){var t=Error.prepareStackTrace;return Error.prepareStackTrace=void 0,e=e.stack,Error.prepareStackTrace=t,e.startsWith("Error: react-stack-top-frame\n")&&(e=e.slice(29)),-1!==(t=e.indexOf("\n"))&&(e=e.slice(t+1)),-1!==(t=e.indexOf("react-stack-bottom-frame"))&&(t=e.lastIndexOf("\n",t)),-1===t?"":e=e.slice(0,t)}function Ce(e){switch(e.tag){case 26:case 27:case 5:return Me(e.type);case 16:return Me("Lazy");case 13:return Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return Te(e.type,!1);case 11:return Te(e.type.render,!1);case 1:return Te(e.type,!0);case 31:return Me("Activity");default:return""}}function Ne(e){try{var t="";do{t+=Ce(e);var n=e._debugInfo;if(n)for(var r=n.length-1;0<=r;r--){var i=n[r];if("string"==typeof i.name){var o=t,a=i.env;t=o+Me(i.name+(a?" ["+a+"]":""))}}e=e.return}while(e);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function Pe(e){return(e=e?e.displayName||e.name:"")?Me(e):""}function Ae(){if(null===Jd)return null;var e=Jd._debugOwner;return null!=e?k(e):null}function Re(){if(null===Jd)return"";var e=Jd;try{var t="";switch(6===e.tag&&(e=e.return),e.tag){case 26:case 27:case 5:t+=Me(e.type);break;case 13:t+=Me("Suspense");break;case 19:t+=Me("SuspenseList");break;case 31:t+=Me("Activity");break;case 30:case 0:case 15:case 1:e._debugOwner||""!==t||(t+=Pe(e.type));break;case 11:e._debugOwner||""!==t||(t+=Pe(e.type.render))}for(;e;)if("number"==typeof e.tag){var n=e;e=n._debugOwner;var r=n._debugStack;e&&r&&("string"!=typeof r&&(n._debugStack=r=Oe(r)),""!==r&&(t+="\n"+r))}else{if(null==e.debugStack)break;var i=e.debugStack;(e=e.owner)&&i&&(t+="\n"+Oe(i))}var o=t}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return o}function _e(e,t,n,r,i,o,a){var s=Jd;De(e);try{return null!==e&&e._debugTask?e._debugTask.run(t.bind(null,n,r,i,o,a)):t(n,r,i,o,a)}finally{De(s)}throw Error("runWithFiberInDEV should never be called in production. This is a bug in React.")}function De(e){Yc.getCurrentStack=null===e?null:Re,eh=!1,Jd=e}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return j(e),e;default:return""}}function Ie(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ze(e){e._valueTracker||(e._valueTracker=function(e){var t=Ie(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);j(e[t]);var r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){j(e),r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){j(e),r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Fe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ie(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function je(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Be(e){return e.replace(th,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function He(e,t){void 0===t.checked||void 0===t.defaultChecked||rh||(console.error("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",Ae()||"A component",t.type),rh=!0),void 0===t.value||void 0===t.defaultValue||nh||(console.error("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",Ae()||"A component",t.type),nh=!0)}function Ve(e,t,n,r,i,o,a,s){e.name="",null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?(z(a,"type"),e.type=a):e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+Le(t)):e.value!==""+Le(t)&&(e.value=""+Le(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?We(e,a,Le(t)):null!=n?We(e,a,Le(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?(z(s,"name"),e.name=""+Le(s)):e.removeAttribute("name")}function Ue(e,t,n,r,i,o,a,s){if(null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o&&(z(o,"type"),e.type=o),null!=t||null!=n){if(("submit"===o||"reset"===o)&&null==t)return;n=null!=n?""+Le(n):"",t=null!=t?""+Le(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(z(a,"name"),e.name=a)}function We(e,t,n){"number"===t&&je(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ge(e,t){null==t.value&&("object"==typeof t.children&&null!==t.children?Tc.Children.forEach(t.children,function(e){null==e||"string"==typeof e||"number"==typeof e||"bigint"==typeof e||oh||(oh=!0,console.error("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>."))}):null==t.dangerouslySetInnerHTML||ah||(ah=!0,console.error("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected."))),null==t.selected||ih||(console.error("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),ih=!0)}function $e(){var e=Ae();return e?"\n\nCheck the render method of `"+e+"`.":""}function qe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Le(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ye(e,t){for(e=0;e<lh.length;e++){var n=lh[e];if(null!=t[n]){var r=qc(t[n]);t.multiple&&!r?console.error("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",n,$e()):!t.multiple&&r&&console.error("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",n,$e())}}void 0===t.value||void 0===t.defaultValue||sh||(console.error("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://react.dev/link/controlled-components"),sh=!0)}function Xe(e,t){void 0===t.value||void 0===t.defaultValue||uh||(console.error("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://react.dev/link/controlled-components",Ae()||"A component"),uh=!0),null!=t.children&&null==t.value&&console.error("Use the `defaultValue` or `value` props instead of setting children on <textarea>.")}function Ke(e,t,n){null==t||((t=""+Le(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+Le(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Qe(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(qc(r)){if(1<r.length)throw Error("<textarea> can only have at most one child.");r=r[0]}n=r}null==n&&(n=""),t=n}n=Le(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function Ze(e,t){return void 0===e.serverProps&&0===e.serverTail.length&&1===e.children.length&&3<e.distanceFromLeaf&&e.distanceFromLeaf>15-t?Ze(e.children[0],t):e}function Je(e){return"  "+"  ".repeat(e)}function et(e){return"+ "+"  ".repeat(e)}function tt(e){return"- "+"  ".repeat(e)}function nt(e){switch(e.tag){case 26:case 27:case 5:return e.type;case 16:return"Lazy";case 13:return"Suspense";case 19:return"SuspenseList";case 0:case 15:case 1:return(e=e.type).displayName||e.name||null;case 11:return(e=e.type.render).displayName||e.name||null;default:return null}}function rt(e,t){return ch.test(e)?(e=JSON.stringify(e)).length>t-2?8>t?'{"..."}':"{"+e.slice(0,t-7)+'..."}':"{"+e+"}":e.length>t?5>t?'{"..."}':e.slice(0,t-3)+"...":e}function it(e,t,n){var r=120-2*n;if(null===t)return et(n)+rt(e,r)+"\n";if("string"==typeof t){for(var i=0;i<t.length&&i<e.length&&t.charCodeAt(i)===e.charCodeAt(i);i++);return i>r-8&&10<i&&(e="..."+e.slice(i-8),t="..."+t.slice(i-8)),et(n)+rt(e,r)+"\n"+tt(n)+rt(t,r)+"\n"}return Je(n)+rt(e,r)+"\n"}function ot(e){return Object.prototype.toString.call(e).replace(/^\[object (.*)\]$/,function(e,t){return t})}function at(e,t){switch(typeof e){case"string":return(e=JSON.stringify(e)).length>t?5>t?'"..."':e.slice(0,t-4)+'..."':e;case"object":if(null===e)return"null";if(qc(e))return"[...]";if(e.$$typeof===Pc)return(t=E(e.type))?"<"+t+">":"<...>";var n=ot(e);if("Object"===n){for(var r in n="",t-=2,e)if(e.hasOwnProperty(r)){var i=JSON.stringify(r);if(i!=='"'+r+'"'&&(r=i),t-=r.length-2,0>(t-=(i=at(e[r],15>t?t:15)).length)){n+=""===n?"...":", ...";break}n+=(""===n?"":",")+r+":"+i}return"{"+n+"}"}return n;case"function":return(t=e.displayName||e.name)?"function "+t:"function";default:return String(e)}}function st(e,t){return"string"!=typeof e||ch.test(e)?"{"+at(e,t-2)+"}":e.length>t-2?5>t?'"..."':'"'+e.slice(0,t-5)+'..."':'"'+e+'"'}function lt(e,t,n){var r,i=120-n.length-e.length,o=[];for(r in t)if(t.hasOwnProperty(r)&&"children"!==r){var a=st(t[r],120-n.length-r.length-1);i-=r.length+a.length+2,o.push(r+"="+a)}return 0===o.length?n+"<"+e+">\n":0<i?n+"<"+e+" "+o.join(" ")+">\n":n+"<"+e+"\n"+n+"  "+o.join("\n"+n+"  ")+"\n"+n+">\n"}function ut(e,t,n){var r,i="",o=Cc({},t);for(r in e)if(e.hasOwnProperty(r)){delete o[r];var a=120-2*n-r.length-2,s=at(e[r],a);t.hasOwnProperty(r)?(a=at(t[r],a),i+=et(n)+r+": "+s+"\n",i+=tt(n)+r+": "+a+"\n"):i+=et(n)+r+": "+s+"\n"}for(var l in o)o.hasOwnProperty(l)&&(e=at(o[l],120-2*n-l.length-2),i+=tt(n)+l+": "+e+"\n");return i}function ct(e,t){var n=nt(e);if(null===n){for(n="",e=e.child;e;)n+=ct(e,t),e=e.sibling;return n}return Je(t)+"<"+n+">\n"}function dt(e,t){var n=Ze(e,t);if(n!==e&&(1!==e.children.length||e.children[0]!==n))return Je(t)+"...\n"+dt(n,t+1);n="";var r=e.fiber._debugInfo;if(r)for(var i=0;i<r.length;i++){var o=r[i].name;"string"==typeof o&&(n+=Je(t)+"<"+o+">\n",t++)}if(r="",i=e.fiber.pendingProps,6===e.fiber.tag)r=it(i,e.serverProps,t),t++;else if(null!==(o=nt(e.fiber)))if(void 0===e.serverProps){var a=120-2*(r=t)-o.length-2,s="";for(u in i)if(i.hasOwnProperty(u)&&"children"!==u){var l=st(i[u],15);if(0>(a-=u.length+l.length+2)){s+=" ...";break}s+=" "+u+"="+l}r=Je(r)+"<"+o+s+">\n",t++}else null===e.serverProps?(r=lt(o,i,et(t)),t++):"string"==typeof e.serverProps?console.error("Should not have matched a non HostText fiber to a Text node. This is a bug in React."):(r=function(e,t,n,r){var i="",o=new Map;for(u in n)n.hasOwnProperty(u)&&o.set(u.toLowerCase(),u);if(1===o.size&&o.has("children"))i+=lt(e,t,Je(r));else{for(var a in t)if(t.hasOwnProperty(a)&&"children"!==a){var s=120-2*(r+1)-a.length-1,l=o.get(a.toLowerCase());if(void 0!==l){o.delete(a.toLowerCase());var u=t[a];l=n[l];var c=st(u,s);s=st(l,s),"object"==typeof u&&null!==u&&"object"==typeof l&&null!==l&&"Object"===ot(u)&&"Object"===ot(l)&&(2<Object.keys(u).length||2<Object.keys(l).length||-1<c.indexOf("...")||-1<s.indexOf("..."))?i+=Je(r+1)+a+"={{\n"+ut(u,l,r+2)+Je(r+1)+"}}\n":(i+=et(r+1)+a+"="+c+"\n",i+=tt(r+1)+a+"="+s+"\n")}else i+=Je(r+1)+a+"="+st(t[a],s)+"\n"}o.forEach(function(e){if("children"!==e){var t=120-2*(r+1)-e.length-1;i+=tt(r+1)+e+"="+st(n[e],t)+"\n"}}),i=""===i?Je(r)+"<"+e+">\n":Je(r)+"<"+e+"\n"+i+Je(r)+">\n"}return e=n.children,t=t.children,"string"==typeof e||"number"==typeof e||"bigint"==typeof e?(o="","string"!=typeof t&&"number"!=typeof t&&"bigint"!=typeof t||(o=""+t),i+=it(o,""+e,r+1)):"string"!=typeof t&&"number"!=typeof t&&"bigint"!=typeof t||(i=null==e?i+it(""+t,null,r+1):i+it(""+t,void 0,r+1)),i}(o,i,e.serverProps,t),t++);var u="";for(i=e.fiber.child,o=0;i&&o<e.children.length;)(a=e.children[o]).fiber===i?(u+=dt(a,t),o++):u+=ct(i,t),i=i.sibling;for(i&&0<e.children.length&&(u+=Je(t)+"...\n"),i=e.serverTail,null===e.serverProps&&t--,e=0;e<i.length;e++)u="string"==typeof(o=i[e])?u+(tt(t)+rt(o,120-2*t)+"\n"):u+lt(o.type,o.props,tt(t));return n+r+u}function ht(e){try{return"\n\n"+dt(e,0)}catch(e){return""}}function ft(e,t,n){for(var r=t,i=null,o=0;r;)r===e&&(o=0),i={fiber:r,children:null!==i?[i]:[],serverProps:r===t?n:r===e?null:void 0,serverTail:[],distanceFromLeaf:o},o++,r=r.return;return null!==i?ht(i).replaceAll(/^[+-]/gm,">"):""}function pt(e,t){var n=Cc({},e||gh),r={tag:t};return-1!==hh.indexOf(t)&&(n.aTagInScope=null,n.buttonTagInScope=null,n.nobrTagInScope=null),-1!==fh.indexOf(t)&&(n.pTagInButtonScope=null),-1!==dh.indexOf(t)&&"address"!==t&&"div"!==t&&"p"!==t&&(n.listItemTagAutoclosing=null,n.dlItemTagAutoclosing=null),n.current=r,"form"===t&&(n.formTag=r),"a"===t&&(n.aTagInScope=r),"button"===t&&(n.buttonTagInScope=r),"nobr"===t&&(n.nobrTagInScope=r),"p"===t&&(n.pTagInButtonScope=r),"li"===t&&(n.listItemTagAutoclosing=r),"dd"!==t&&"dt"!==t||(n.dlItemTagAutoclosing=r),"#document"===t||"html"===t?n.containerTagInScope=null:n.containerTagInScope||(n.containerTagInScope=r),null!==e||"#document"!==t&&"html"!==t&&"body"!==t?!0===n.implicitRootScope&&(n.implicitRootScope=!1):n.implicitRootScope=!0,n}function gt(e,t,n){switch(t){case"select":return"hr"===e||"option"===e||"optgroup"===e||"script"===e||"template"===e||"#text"===e;case"optgroup":return"option"===e||"#text"===e;case"option":return"#text"===e;case"tr":return"th"===e||"td"===e||"style"===e||"script"===e||"template"===e;case"tbody":case"thead":case"tfoot":return"tr"===e||"style"===e||"script"===e||"template"===e;case"colgroup":return"col"===e||"template"===e;case"table":return"caption"===e||"colgroup"===e||"tbody"===e||"tfoot"===e||"thead"===e||"style"===e||"script"===e||"template"===e;case"head":return"base"===e||"basefont"===e||"bgsound"===e||"link"===e||"meta"===e||"title"===e||"noscript"===e||"noframes"===e||"style"===e||"script"===e||"template"===e;case"html":if(n)break;return"head"===e||"body"===e||"frameset"===e;case"frameset":return"frame"===e;case"#document":if(!n)return"html"===e}switch(e){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t;case"rp":case"rt":return-1===ph.indexOf(t);case"caption":case"col":case"colgroup":case"frameset":case"frame":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return null==t;case"head":return n||null===t;case"html":return n&&"#document"===t||null===t;case"body":return n&&("#document"===t||"html"===t)||null===t}return!0}function mt(e,t){for(;e;){switch(e.tag){case 5:case 26:case 27:if(e.type===t)return e}e=e.return}return null}function yt(e,t){var n=(t=t||gh).current;if(t=(n=gt(e,n&&n.tag,t.implicitRootScope)?null:n)?null:function(e,t){switch(e){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t.pTagInButtonScope;case"form":return t.formTag||t.pTagInButtonScope;case"li":return t.listItemTagAutoclosing;case"dd":case"dt":return t.dlItemTagAutoclosing;case"button":return t.buttonTagInScope;case"a":return t.aTagInScope;case"nobr":return t.nobrTagInScope}return null}(e,t),!(t=n||t))return!0;var r=t.tag;if(t=String(!!n)+"|"+e+"|"+r,mh[t])return!1;mh[t]=!0;var i=(t=Jd)?mt(t.return,r):null,o=null!==t&&null!==i?ft(i,t,null):"",a="<"+e+">";return n?(n="","table"===r&&"tr"===e&&(n+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),console.error("In HTML, %s cannot be a child of <%s>.%s\nThis will cause a hydration error.%s",a,r,n,o)):console.error("In HTML, %s cannot be a descendant of <%s>.\nThis will cause a hydration error.%s",a,r,o),t&&(e=t.return,null===i||null===e||i===e&&e._debugOwner===t._debugOwner||_e(i,function(){console.error("<%s> cannot contain a nested %s.\nSee this log for the ancestor stack trace.",r,a)})),!1}function vt(e,t,n){if(n||gt("#text",t,!1))return!0;if(mh[n="#text|"+t])return!1;mh[n]=!0;var r=(n=Jd)?mt(n,t):null;return n=null!==n&&null!==r?ft(r,n,6!==n.tag?{children:null}:null):"",/\S/.test(e)?console.error("In HTML, text nodes cannot be a child of <%s>.\nThis will cause a hydration error.%s",t,n):console.error("In HTML, whitespace text nodes cannot be a child of <%s>. Make sure you don't have any extra whitespace between tags on each line of your source code.\nThis will cause a hydration error.%s",t,n),!1}function bt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function wt(e,t,n){var r=0===t.indexOf("--");r||(-1<t.indexOf("-")?Sh.hasOwnProperty(t)&&Sh[t]||(Sh[t]=!0,console.error("Unsupported style property %s. Did you mean %s?",t,t.replace(xh,"ms-").replace(Eh,function(e,t){return t.toUpperCase()}))):wh.test(t)?Sh.hasOwnProperty(t)&&Sh[t]||(Sh[t]=!0,console.error("Unsupported vendor-prefixed style property %s. Did you mean %s?",t,t.charAt(0).toUpperCase()+t.slice(1))):!kh.test(n)||Mh.hasOwnProperty(n)&&Mh[n]||(Mh[n]=!0,console.error('Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',t,n.replace(kh,""))),"number"==typeof n&&(isNaN(n)?Th||(Th=!0,console.error("`NaN` is an invalid value for the `%s` css style property.",t)):isFinite(n)||Oh||(Oh=!0,console.error("`Infinity` is an invalid value for the `%s` css style property.",t)))),null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||Ch.has(t)?"float"===t?e.cssFloat=n:(F(n,t),e[t]=(""+n).trim()):e[t]=n+"px"}function xt(e,t,n){if(null!=t&&"object"!=typeof t)throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");if(t&&Object.freeze(t),e=e.style,null!=n){if(t){var r={};if(n)for(var i in n)if(n.hasOwnProperty(i)&&!t.hasOwnProperty(i))for(var o=yh[i]||[i],a=0;a<o.length;a++)r[o[a]]=i;for(var s in t)if(t.hasOwnProperty(s)&&(!n||n[s]!==t[s]))for(i=yh[s]||[s],o=0;o<i.length;o++)r[i[o]]=s;for(var l in s={},t)for(i=yh[l]||[l],o=0;o<i.length;o++)s[i[o]]=l;for(var u in l={},r)if(i=r[u],(o=s[u])&&i!==o&&!l[a=i+","+o]){l[a]=!0,a=console;var c=t[i];a.error.call(a,"%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",null==c||"boolean"==typeof c||""===c?"Removing":"Updating",i,o)}}for(var d in n)!n.hasOwnProperty(d)||null!=t&&t.hasOwnProperty(d)||(0===d.indexOf("--")?e.setProperty(d,""):"float"===d?e.cssFloat="":e[d]="");for(var h in t)u=t[h],t.hasOwnProperty(h)&&n[h]!==u&&wt(e,h,u)}else for(r in t)t.hasOwnProperty(r)&&wt(e,r,t[r])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function kt(e){return Ah.get(e)||e}function St(e,t){if(id.call(Dh,t)&&Dh[t])return!0;if(Ih.test(t)){if(e="aria-"+t.slice(4).toLowerCase(),null==(e=_h.hasOwnProperty(e)?e:null))return console.error("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",t),Dh[t]=!0;if(t!==e)return console.error("Invalid ARIA attribute `%s`. Did you mean `%s`?",t,e),Dh[t]=!0}if(Lh.test(t)){if(e=t.toLowerCase(),null==(e=_h.hasOwnProperty(e)?e:null))return Dh[t]=!0,!1;t!==e&&(console.error("Unknown ARIA attribute `%s`. Did you mean `%s`?",t,e),Dh[t]=!0)}return!0}function Mt(e,t,n,r){if(id.call(Fh,t)&&Fh[t])return!0;var i=t.toLowerCase();if("onfocusin"===i||"onfocusout"===i)return console.error("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),Fh[t]=!0;if("function"==typeof n&&("form"===e&&"action"===t||"input"===e&&"formAction"===t||"button"===e&&"formAction"===t))return!0;if(null!=r){if(e=r.possibleRegistrationNames,r.registrationNameDependencies.hasOwnProperty(t))return!0;if(null!=(r=e.hasOwnProperty(i)?e[i]:null))return console.error("Invalid event handler property `%s`. Did you mean `%s`?",t,r),Fh[t]=!0;if(jh.test(t))return console.error("Unknown event handler property `%s`. It will be ignored.",t),Fh[t]=!0}else if(jh.test(t))return Bh.test(t)&&console.error("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",t),Fh[t]=!0;if(Hh.test(t)||Vh.test(t))return!0;if("innerhtml"===i)return console.error("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),Fh[t]=!0;if("aria"===i)return console.error("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),Fh[t]=!0;if("is"===i&&null!=n&&"string"!=typeof n)return console.error("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof n),Fh[t]=!0;if("number"==typeof n&&isNaN(n))return console.error("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",t),Fh[t]=!0;if(Rh.hasOwnProperty(i)){if((i=Rh[i])!==t)return console.error("Invalid DOM property `%s`. Did you mean `%s`?",t,i),Fh[t]=!0}else if(t!==i)return console.error("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",t,i),Fh[t]=!0;switch(t){case"dangerouslySetInnerHTML":case"children":case"style":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"innerText":case"textContent":return!0}switch(typeof n){case"boolean":switch(t){case"autoFocus":case"checked":case"multiple":case"muted":case"selected":case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"capture":case"download":case"inert":return!0;default:return"data-"===(i=t.toLowerCase().slice(0,5))||"aria-"===i||(n?console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',n,t,t,n,t):console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',n,t,t,n,t,t,t),Fh[t]=!0)}case"function":case"symbol":return Fh[t]=!0,!1;case"string":if("false"===n||"true"===n){switch(t){case"checked":case"selected":case"multiple":case"muted":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"inert":break;default:return!0}console.error("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",n,t,"false"===n?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',t,n),Fh[t]=!0}}return!0}function Tt(e){return Uh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Ct(e){var t=he(e);if(t&&(e=t.stateNode)){var n=e[Dd]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ve(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(z(t,"name"),n=n.querySelectorAll('input[name="'+Be(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Dd]||null;if(!i)throw Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");Ve(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&Fe(r)}break e;case"textarea":Ke(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&qe(e,!!n.multiple,t,!1)}}}function Nt(e,t,n){if(qh)return e(t,n);qh=!0;try{return e(t)}finally{if(qh=!1,(null!==Gh||null!==$h)&&(Ts(),Gh&&(t=Gh,e=$h,$h=Gh=null,Ct(t),e)))for(t=0;t<e.length;t++)Ct(e[t])}}function Pt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Dd]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error("Expected `"+t+"` listener to be a function, instead got a value of `"+typeof n+"` type.");return n}function At(){if(nf)return nf;var e,t,n=tf,r=n.length,i="value"in ef?ef.value:ef.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nf=i.slice(e,1<t?1-t:void 0)}function Rt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function _t(){return!0}function Dt(){return!1}function Lt(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?_t:Dt,this.isPropagationStopped=Dt,this}return Cc(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=_t)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=_t)},persist:function(){},isPersistent:_t}),t}function It(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=vf[e])&&!!t[e]}function zt(){return It}function Ft(e,t){switch(e){case"keyup":return-1!==Mf.indexOf(t.keyCode);case"keydown":return t.keyCode!==Tf;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jt(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}function Bt(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Lf[e.type]:"textarea"===t}function Ht(e,t,n,r){Gh?$h?$h.push(r):$h=[r]:Gh=r,0<(t=Cl(t,"onChange")).length&&(n=new of("onChange","change",null,n,r),e.push({event:n,listeners:t}))}function Vt(e){xl(e,0)}function Ut(e){if(Fe(fe(e)))return e}function Wt(e,t){if("change"===e)return t}function Gt(){If&&(If.detachEvent("onpropertychange",$t),zf=If=null)}function $t(e){if("value"===e.propertyName&&Ut(zf)){var t=[];Ht(t,zf,e,Ot(e)),Nt(Vt,t)}}function qt(e,t,n){"focusin"===e?(Gt(),zf=n,(If=t).attachEvent("onpropertychange",$t)):"focusout"===e&&Gt()}function Yt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ut(zf)}function Xt(e,t){if("click"===e)return Ut(t)}function Kt(e,t){if("input"===e||"change"===e)return Ut(t)}function Qt(e,t){if(jf(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!id.call(t,i)||!jf(e[i],t[i]))return!1}return!0}function Zt(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jt(e,t){var n,r=Zt(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zt(r)}}function en(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?en(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function tn(e){for(var t=je((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=je((e=t.contentWindow).document)}return t}function nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function rn(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Wf||null==Hf||Hf!==je(r)||(r="selectionStart"in(r=Hf)&&nn(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Uf&&Qt(Uf,r)||(Uf=r,0<(r=Cl(Vf,"onSelect")).length&&(t=new of("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Hf)))}function on(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}function an(e){if($f[e])return $f[e];if(!Gf[e])return e;var t,n=Gf[e];for(t in n)if(n.hasOwnProperty(t)&&t in qf)return $f[e]=n[t];return e}function sn(e,t){tp.set(e,t),me(t,[e])}function ln(e,t){if("object"==typeof e&&null!==e){var n=rp.get(e);return void 0!==n?n:(t={value:e,source:t,stack:Ne(t)},rp.set(e,t),t)}return{value:e,source:t,stack:Ne(t)}}function un(){for(var e=sp,t=lp=sp=0;t<e;){var n=ap[t];ap[t++]=null;var r=ap[t];ap[t++]=null;var i=ap[t];ap[t++]=null;var o=ap[t];if(ap[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==o&&fn(n,i,o)}}function cn(e,t,n,r){ap[sp++]=e,ap[sp++]=t,ap[sp++]=n,ap[sp++]=r,lp|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function dn(e,t,n,r){return cn(e,t,n,r),pn(e)}function hn(e,t){return cn(e,null,null,t),pn(e)}function fn(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||e._visibility&ip||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-kd(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function pn(e){if(Gv>Wv)throw Kv=Gv=0,Qv=$v=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");Kv>Xv&&(Kv=0,Qv=null,console.error("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render.")),null===e.alternate&&4098&e.flags&&al(e);for(var t=e,n=t.return;null!==n;)null===t.alternate&&!!(4098&t.flags)&&al(e),n=(t=n).return;return 3===t.tag?t.stateNode:null}function gn(e){if(null===cp)return e;var t=cp(e);return void 0===t?e:t.current}function mn(e){if(null===cp)return e;var t=cp(e);return void 0===t?null!=e&&"function"==typeof e.render&&(t=gn(e.render),e.render!==t)?(t={$$typeof:Fc,render:t},void 0!==e.displayName&&(t.displayName=e.displayName),t):e:t.current}function yn(e,t){if(null===cp)return!1;var n=e.elementType,r=!1,i="object"==typeof(t=t.type)&&null!==t?t.$$typeof:null;switch(e.tag){case 1:"function"==typeof t&&(r=!0);break;case 0:("function"==typeof t||i===Vc)&&(r=!0);break;case 11:(i===Fc||i===Vc)&&(r=!0);break;case 14:case 15:(i===Hc||i===Vc)&&(r=!0);break;default:return!1}return!(!r||(e=cp(n),void 0===e||e!==cp(t)))}function vn(e){null!==cp&&"function"==typeof WeakSet&&(null===dp&&(dp=new WeakSet),dp.add(e))}function bn(e,t,n){var r=e.alternate,i=e.child,o=e.sibling,a=e.tag,s=e.type,l=null;switch(a){case 0:case 15:case 1:l=s;break;case 11:l=s.render}if(null===cp)throw Error("Expected resolveFamily to be set during hot reload.");var u=!1;s=!1,null!==l&&void 0!==(l=cp(l))&&(n.has(l)?s=!0:t.has(l)&&(1===a?s=!0:u=!0)),null!==dp&&(dp.has(e)||null!==r&&dp.has(r))&&(s=!0),s&&(e._debugNeedsRemount=!0),(s||u)&&null!==(r=hn(e,2))&&xs(r,e,2),null===i||s||bn(i,t,n),null!==o&&bn(o,t,n)}function wn(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null,this.actualDuration=-0,this.actualStartTime=-1.1,this.treeBaseDuration=this.selfBaseDuration=-0,this._debugTask=this._debugStack=this._debugOwner=this._debugInfo=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,vp||"function"!=typeof Object.preventExtensions||Object.preventExtensions(this)}function xn(e){return!(!(e=e.prototype)||!e.isReactComponent)}function En(e,t){var n=e.alternate;switch(null===n?((n=h(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n._debugOwner=e._debugOwner,n._debugStack=e._debugStack,n._debugTask=e._debugTask,n._debugHookTypes=e._debugHookTypes,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null,n.actualDuration=-0,n.actualStartTime=-1.1),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext,_debugThenableState:t._debugThenableState},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n.selfBaseDuration=e.selfBaseDuration,n.treeBaseDuration=e.treeBaseDuration,n._debugInfo=e._debugInfo,n._debugNeedsRemount=e._debugNeedsRemount,n.tag){case 0:case 15:case 1:n.type=gn(e.type);break;case 11:n.type=mn(e.type)}return n}function kn(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null,e.selfBaseDuration=0,e.treeBaseDuration=0):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext,_debugThenableState:t._debugThenableState},e.selfBaseDuration=n.selfBaseDuration,e.treeBaseDuration=n.treeBaseDuration),e}function Sn(e,t,n,r,i,o){var a=0,s=e;if("function"==typeof e)xn(e)&&(a=1),s=gn(s);else if("string"==typeof e)a=function(e,t,n){var r=!n.ancestorInfo.containerTagInScope;if(n.context===jb||null!=t.itemProp)return!r||null==t.itemProp||"meta"!==e&&"title"!==e&&"style"!==e&&"link"!==e&&"script"!==e||console.error("Cannot render a <%s> outside the main document if it has an `itemProp` prop. `itemProp` suggests the tag belongs to an `itemScope` which can appear anywhere in the DOM. If you were intending for React to hoist this <%s> remove the `itemProp` prop. Otherwise, try moving this tag into the <head> or <body> of the Document.",e,e),!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href){r&&console.error('Cannot render a <style> outside the main document without knowing its precedence and a unique href key. React can hoist and deduplicate <style> tags if you provide a `precedence` prop along with an `href` prop that does not conflict with the `href` values used in any other hoisted <style> or <link rel="stylesheet" ...> tags.  Note that hoisting <style> tags is considered an advanced feature that most will not use directly. Consider moving the <style> tag to the <head> or consider adding a `precedence="default"` and `href="some unique resource identifier"`.');break}return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError){if("stylesheet"===t.rel&&"string"==typeof t.precedence){e=t.href;var i=t.onError,o=t.disabled;n=[],t.onLoad&&n.push("`onLoad`"),i&&n.push("`onError`"),null!=o&&n.push("`disabled`"),i=function(e,t){switch(e.length){case 0:return"";case 1:return e[0];case 2:return e[0]+" "+t+" "+e[1];default:return e.slice(0,-1).join(", ")+", "+t+" "+e[e.length-1]}}(n,"and"),i+=1===n.length?" prop":" props",o=1===n.length?"an "+i:"the "+i,n.length&&console.error('React encountered a <link rel="stylesheet" href="%s" ... /> with a `precedence` prop that also included %s. The presence of loading and error handlers indicates an intent to manage the stylesheet loading state from your from your Component code and React will not hoist or deduplicate this stylesheet. If your intent was to have React hoist and deduplciate this stylesheet using the `precedence` prop remove the %s, otherwise remove the `precedence` prop.',e,o,i)}r&&("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href?console.error("Cannot render a <link> outside the main document without a `rel` and `href` prop. Try adding a `rel` and/or `href` prop to this <link> or moving the link into the <head> tag"):(t.onError||t.onLoad)&&console.error("Cannot render a <link> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."));break}return"stylesheet"!==t.rel||(e=t.precedence,t=t.disabled,"string"!=typeof e&&r&&console.error('Cannot render a <link rel="stylesheet" /> outside the main document without knowing its precedence. Consider adding precedence="default" or moving it into the root <head> tag.'),"string"==typeof e&&null==t);case"script":if(!(e=t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async)||t.onLoad||t.onError||!t.src||"string"!=typeof t.src){r&&(e?t.onLoad||t.onError?console.error("Cannot render a <script> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."):console.error("Cannot render a <script> outside the main document without `async={true}` and a non-empty `src` prop. Ensure there is a valid `src` and either make the script async or move it into the root <head> tag or somewhere in the <body>."):console.error('Cannot render a sync or defer <script> outside the main document without knowing its order. Try adding async="" or moving it into the root <head> tag.'));break}return!0;case"noscript":case"template":r&&console.error("Cannot render <%s> outside the main document. Try moving it into the root <head> tag.",e)}return!1}(e,n,a=A())?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case Uc:return(t=h(31,n,t,i)).elementType=Uc,t.lanes=o,t;case Rc:return Tn(n.children,i,o,t);case _c:a=8,i|=gp,i|=mp;break;case Dc:return r=i,"string"!=typeof(e=n).id&&console.error('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof e.id),(t=h(12,e,t,r|pp)).elementType=Dc,t.lanes=o,t.stateNode={effectDuration:0,passiveEffectDuration:0},t;case jc:return(t=h(13,n,t,i)).elementType=jc,t.lanes=o,t;case Bc:return(t=h(19,n,t,i)).elementType=Bc,t.lanes=o,t;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Lc:case zc:a=10;break e;case Ic:a=9;break e;case Fc:a=11,s=mn(s);break e;case Hc:a=14;break e;case Vc:a=16,s=null;break e}s="",(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(s+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports."),null===e?n="null":qc(e)?n="array":void 0!==e&&e.$$typeof===Pc?(n="<"+(E(e.type)||"Unknown")+" />",s=" Did you accidentally export a JSX literal instead of a component?"):n=typeof e,(a=r?k(r):null)&&(s+="\n\nCheck the render method of `"+a+"`."),a=29,n=Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+n+"."+s),s=null}return(t=h(a,n,t,i)).elementType=e,t.type=s,t.lanes=o,t._debugOwner=r,t}function Mn(e,t,n){return(t=Sn(e.type,e.key,e.props,e._owner,t,n))._debugOwner=e._owner,t._debugStack=e._debugStack,t._debugTask=e._debugTask,t}function Tn(e,t,n,r){return(e=h(7,e,r,t)).lanes=n,e}function On(e,t,n){return(e=h(6,e,null,t)).lanes=n,e}function Cn(e,t,n){return(t=h(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nn(e,t){_n(),wp[xp++]=kp,wp[xp++]=Ep,Ep=e,kp=t}function Pn(e,t,n){_n(),Sp[Mp++]=Op,Sp[Mp++]=Cp,Sp[Mp++]=Tp,Tp=e;var r=Op;e=Cp;var i=32-kd(r)-1;r&=~(1<<i),n+=1;var o=32-kd(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Op=1<<32-kd(t)+i|n<<i|r,Cp=o+e}else Op=1<<o|n<<i|r,Cp=e}function An(e){_n(),null!==e.return&&(Nn(e,1),Pn(e,1,0))}function Rn(e){for(;e===Ep;)Ep=wp[--xp],wp[xp]=null,kp=wp[--xp],wp[xp]=null;for(;e===Tp;)Tp=Sp[--Mp],Sp[Mp]=null,Cp=Sp[--Mp],Sp[Mp]=null,Op=Sp[--Mp],Sp[Mp]=null}function _n(){Ap||console.error("Expected to be hydrating. This is a bug in React. Please file an issue.")}function Dn(e,t){if(null===e.return){if(null===_p)_p={fiber:e,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:t};else{if(_p.fiber!==e)throw Error("Saw multiple hydration diff roots in a pass. This is a bug in React.");_p.distanceFromLeaf>t&&(_p.distanceFromLeaf=t)}return _p}var n=Dn(e.return,t+1).children;return 0<n.length&&n[n.length-1].fiber===e?((n=n[n.length-1]).distanceFromLeaf>t&&(n.distanceFromLeaf=t),n):(t={fiber:e,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:t},n.push(t),t)}function Ln(e,t){Rp||((e=Dn(e,0)).serverProps=null,null!==t&&(t=mu(t),e.serverTail.push(t)))}function In(e){var t="",n=_p;throw null!==n&&(_p=null,t=ht(n)),Vn(ln(Error("Hydration failed because the server rendered HTML didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used:\n\n- A server/client branch `if (typeof window !== 'undefined')`.\n- Variable input such as `Date.now()` or `Math.random()` which changes each time it's called.\n- Date formatting in a user's locale which doesn't match the server.\n- External changing data without sending a snapshot of it along with the HTML.\n- Invalid HTML tag nesting.\n\nIt can also happen if the client has a browser extension installed which messes with the HTML before React loaded.\n\nhttps://react.dev/link/hydration-mismatch"+t),e)),Ip}function zn(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[_d]=e,t[Dd]=r,Al(n,r),n){case"dialog":El("cancel",t),El("close",t);break;case"iframe":case"object":case"embed":El("load",t);break;case"video":case"audio":for(n=0;n<cb.length;n++)El(cb[n],t);break;case"source":El("error",t);break;case"img":case"image":case"link":El("error",t),El("load",t);break;case"details":El("toggle",t);break;case"input":ve("input",r),El("invalid",t),He(0,r),Ue(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ze(t);break;case"option":Ge(0,r);break;case"select":ve("select",r),El("invalid",t),Ye(t,r);break;case"textarea":ve("textarea",r),El("invalid",t),Xe(0,r),Qe(t,r.value,r.defaultValue,r.children),ze(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Il(t.textContent,n)?(null!=r.popover&&(El("beforetoggle",t),El("toggle",t)),null!=r.onScroll&&El("scroll",t),null!=r.onScrollEnd&&El("scrollend",t),null!=r.onClick&&(t.onclick=zl),t=!0):t=!1,t||In(e)}function Fn(e){for(Np=e.return;Np;)switch(Np.tag){case 5:case 13:return void(Lp=!1);case 27:case 3:return void(Lp=!0);default:Np=Np.return}}function jn(e){if(e!==Np)return!1;if(!Ap)return Fn(e),Ap=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Jl(e.type,e.memoizedProps)),t=!t),t&&Pp){for(t=Pp;t;){var r=Dn(e,0),i=mu(t);r.serverTail.push(i),t="Suspense"===i.type?vu(t):gu(t.nextSibling)}In(e)}if(Fn(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");Pp=vu(e)}else 27===n?(n=Pp,ou(e.type)?(e=Kb,Kb=null,Pp=e):Pp=n):Pp=Np?gu(e.stateNode.nextSibling):null;return!0}function Bn(){Pp=Np=null,Rp=Ap=!1}function Hn(){var e=Dp;return null!==e&&(null===wv?wv=e:wv.push.apply(wv,e),Dp=null),e}function Vn(e){null===Dp?Dp=[e]:Dp.push(e)}function Un(){var e=_p;if(null!==e){_p=null;for(var t=ht(e);0<e.children.length;)e=e.children[0];_e(e.fiber,function(){console.error("A tree hydrated but some attributes of the server rendered HTML didn't match the client properties. This won't be patched up. This can happen if a SSR-ed Client Component used:\n\n- A server/client branch `if (typeof window !== 'undefined')`.\n- Variable input such as `Date.now()` or `Math.random()` which changes each time it's called.\n- Date formatting in a user's locale which doesn't match the server.\n- External changing data without sending a snapshot of it along with the HTML.\n- Invalid HTML tag nesting.\n\nIt can also happen if the client has a browser extension installed which messes with the HTML before React loaded.\n\n%s%s","https://react.dev/link/hydration-mismatch",t)})}}function Wn(){Gp=Wp=null,$p=!1}function Gn(e,t,n){O(Hp,t._currentValue,e),t._currentValue=n,O(Vp,t._currentRenderer,e),void 0!==t._currentRenderer&&null!==t._currentRenderer&&t._currentRenderer!==Up&&console.error("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),t._currentRenderer=Up}function $n(e,t){e._currentValue=Hp.current;var n=Vp.current;T(Vp,t),e._currentRenderer=n,T(Hp,t)}function qn(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}e!==n&&console.error("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function Yn(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var a=i.child;o=o.firstContext;e:for(;null!==o;){var s=o;o=i;for(var l=0;l<t.length;l++)if(s.context===t[l]){o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),qn(o.return,n,e),r||(a=null);break e}o=s.next}}else if(18===i.tag){if(null===(a=i.return))throw Error("We just came from a parent so we must have had a parent. This is a bug in React.");a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),qn(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Xn(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(524288&i.flags)o=!0;else if(262144&i.flags)break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error("Should have a current fiber. This is a bug in React.");if(null!==(a=a.memoizedProps)){var s=i.type;jf(i.pendingProps.value,a.value)||(null!==e?e.push(s):e=[s])}}else if(i===rd.current){if(null===(a=i.alternate))throw Error("Should have a current fiber. This is a bug in React.");a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(ww):e=[ww])}i=i.return}null!==e&&Yn(t,e,n,r),t.flags|=262144}function Kn(e){for(e=e.firstContext;null!==e;){if(!jf(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Qn(e){Wp=e,Gp=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Zn(e){return $p&&console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo()."),er(Wp,e)}function Jn(e,t){return null===Wp&&Qn(e),er(e,t)}function er(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Gp){if(null===e)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");Gp=t,e.dependencies={lanes:0,firstContext:t,_debugThenableState:null},e.flags|=524288}else Gp=Gp.next=t;return n}function tr(){return{controller:new qp,data:new Map,refCount:0}}function nr(e){e.controller.signal.aborted&&console.warn("A cache instance was retained after it was already freed. This likely indicates a bug in React."),e.refCount++}function rr(e){e.refCount--,0>e.refCount&&console.warn("A cache instance was released after it was already freed. This likely indicates a bug in React."),0===e.refCount&&Yp(Xp,function(){e.controller.abort()})}function ir(){var e=tg;return tg=0,e}function or(e){var t=tg;return tg=e,t}function ar(e){var t=tg;return tg+=e,t}function sr(e){eg=Qp(),0>e.actualStartTime&&(e.actualStartTime=eg)}function lr(e){if(0<=eg){var t=Qp()-eg;e.actualDuration+=t,e.selfBaseDuration=t,eg=-1}}function ur(e){if(0<=eg){var t=Qp()-eg;e.actualDuration+=t,eg=-1}}function cr(){if(0<=eg){var e=Qp()-eg;eg=-1,tg+=e}}function dr(){eg=Qp()}function hr(e){for(var t=e.child;t;)e.actualDuration+=t.actualDuration,t=t.sibling}function fr(){if(0===--og&&null!==ig){null!==sg&&(sg.status="fulfilled");var e=ig;ig=null,ag=0,sg=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function pr(){var e=ug.current;return null!==e?e:Yy.pooledCache}function gr(e,t){O(ug,null===t?ug.current:t.pool,e)}function mr(){var e=pr();return null===e?null:{parent:Kp._currentValue,pool:e}}function yr(e){return"fulfilled"===(e=e.status)||"rejected"===e}function vr(){}function br(e,t,n){null!==Yc.actQueue&&(Yc.didUsePromise=!0);var r=e.thenables;switch(void 0===(n=r[n])?r.push(t):n!==t&&(e.didWarnAboutUncachedPromise||(e.didWarnAboutUncachedPromise=!0,console.error("A component was suspended by an uncached promise. Creating promises inside a Client Component or hook is not yet supported, except via a Suspense-compatible library or framework.")),t.then(vr,vr),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw xr(e=t.reason),e;default:if("string"==typeof t.status)t.then(vr,vr);else{if(null!==(e=Yy)&&100<e.shellSuspendCounter)throw Error("An unknown Component is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.");(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw xr(e=t.reason),e}throw Mg=t,Tg=!0,xg}}function wr(){if(null===Mg)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var e=Mg;return Mg=null,Tg=!1,e}function xr(e){if(e===xg||e===kg)throw Error("Hooks are not supported inside an async component. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.")}function Er(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Sr(e){return{lane:e,tag:Rg,payload:null,callback:null,next:null}}function Mr(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,Fg===r&&!zg){var i=S(e);console.error("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback.\n\nPlease update the following component: %s",i),zg=!0}return(qy&Fy)!==zy?(null===(i=r.pending)?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=pn(e),fn(e,null,n),t):(cn(e,r,t,n),pn(e))}function Tr(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,ie(e,n)}}function Or(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cr(){if(jg&&null!==sg)throw sg}function Nr(e,t,n,r){jg=!1;var i=e.updateQueue;Ig=!1,Fg=i.shared;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;null!==c&&(s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l)}if(null!==o){var d=i.baseState;for(a=0,c=u=l=null,s=o;;){var h=-536870913&s.lane,f=h!==s.lane;if(f?(Ky&h)===h:(r&h)===h){0!==h&&h===ag&&(jg=!0),null!==c&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{h=e;var p=s,g=t,m=n;switch(p.tag){case _g:if("function"==typeof(p=p.payload)){$p=!0;var y=p.call(m,d,g);if(h.mode&gp){B(!0);try{p.call(m,d,g)}finally{B(!1)}}$p=!1,d=y;break e}d=p;break e;case Lg:h.flags=-65537&h.flags|128;case Rg:if("function"==typeof(y=p.payload)){if($p=!0,p=y.call(m,d,g),h.mode&gp){B(!0);try{y.call(m,d,g)}finally{B(!1)}}$p=!1}else p=y;if(null==p)break e;d=Cc({},d,p);break e;case Dg:Ig=!0}}null!==(h=s.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[h]:f.push(h))}else f={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null===o&&(i.shared.lanes=0),pv|=a,e.lanes=a,e.memoizedState=d}Fg=null}function Pr(e,t){if("function"!=typeof e)throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+e);e.call(t)}function Ar(e,t){var n=e.shared.hiddenCallbacks;if(null!==n)for(e.shared.hiddenCallbacks=null,e=0;e<n.length;e++)Pr(n[e],t)}function Rr(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Pr(n[e],t)}function _r(e,t){var n=hv;O(Hg,n,e),O(Bg,t,e),hv=n|t.baseLanes}function Dr(e){O(Hg,hv,e),O(Bg,Bg.current,e)}function Lr(e){hv=Hg.current,T(Bg,e),T(Hg,e)}function Ir(){var e=im;null===om?om=[e]:om.push(e)}function zr(){var e=im;if(null!==om&&(am++,om[am]!==e)){var t=S(qg);if(!Vg.has(t)&&(Vg.add(t),null!==om)){for(var n="",r=0;r<=am;r++){var i=om[r],o=r===am?e:i;for(i=r+1+". "+i;30>i.length;)i+=" ";n+=i+=o+"\n"}console.error("React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://react.dev/link/rules-of-hooks\n\n   Previous render            Next render\n   ------------------------------------------------------\n%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n",t,n)}}}function Fr(e){null==e||qc(e)||console.error("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",im,typeof e)}function jr(){var e=S(qg);Gg.has(e)||(Gg.add(e),console.error("ReactDOM.useFormState has been renamed to React.useActionState. Please update %s to use React.useActionState.",e))}function Br(){throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.")}function Hr(e,t){if(sm)return!1;if(null===t)return console.error("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",im),!1;e.length!==t.length&&console.error("The final argument passed to %s changed size between renders. The order and size of this array must remain constant.\n\nPrevious: %s\nIncoming: %s",im,"["+t.join(", ")+"]","["+e.join(", ")+"]");for(var n=0;n<t.length&&n<e.length;n++)if(!jf(e[n],t[n]))return!1;return!0}function Vr(e,t,n,r,i,o){$g=o,qg=t,om=null!==e?e._debugHookTypes:null,am=-1,sm=null!==e&&e.type!==t.type,"[object AsyncFunction]"!==Object.prototype.toString.call(n)&&"[object AsyncGeneratorFunction]"!==Object.prototype.toString.call(n)||(o=S(qg),Wg.has(o)||(Wg.add(o),console.error("%s is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.",null===o?"An unknown Component":"<"+o+">"))),t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yc.H=null!==e&&null!==e.memoizedState?dm:null!==om?cm:um,Zg=o=(t.mode&gp)!==hp;var a=vm(n,r,i);if(Zg=!1,Qg&&(a=Wr(t,n,r,i)),o){B(!0);try{a=Wr(t,n,r,i)}finally{B(!1)}}return Ur(e,t),a}function Ur(e,t){t._debugHookTypes=om,null===t.dependencies?null!==tm&&(t.dependencies={lanes:0,firstContext:null,_debugThenableState:tm}):t.dependencies._debugThenableState=tm,Yc.H=lm;var n=null!==Yg&&null!==Yg.next;if($g=0,om=im=Xg=Yg=qg=null,am=-1,null!==e&&(65011712&e.flags)!=(65011712&t.flags)&&console.error("Internal React error: Expected static flag was missing. Please notify the React team."),Kg=!1,em=0,tm=null,n)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");null===e||dy||null!==(e=e.dependencies)&&Kn(e)&&(dy=!0),Tg?(Tg=!1,e=!0):e=!1,e&&(t=S(t)||"Unknown",Ug.has(t)||Wg.has(t)||(Ug.add(t),console.error("`use` was called from inside a try/catch block. This is not allowed and can lead to unexpected behavior. To handle errors triggered by `use`, wrap your component in a error boundary.")))}function Wr(e,t,n,r){qg=e;var i=0;do{if(Qg&&(tm=null),em=0,Qg=!1,i>=rm)throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");if(i+=1,sm=!1,Xg=Yg=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}am=-1,Yc.H=hm,o=vm(t,n,r)}while(Qg);return o}function Gr(){var e=Yc.H,t=e.useState()[0];return t="function"==typeof t.then?Qr(t):t,e=e.useState()[0],(null!==Yg?Yg.memoizedState:null)!==e&&(qg.flags|=1024),t}function $r(){var e=0!==Jg;return Jg=0,e}function qr(e,t,n){t.updateQueue=e.updateQueue,t.flags=(t.mode&mp)!==hp?-402655237&t.flags:-2053&t.flags,e.lanes&=~n}function Yr(e){if(Kg){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Kg=!1}$g=0,om=Xg=Yg=qg=null,am=-1,im=null,Qg=!1,em=Jg=0,tm=null}function Xr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Xg?qg.memoizedState=Xg=e:Xg=Xg.next=e,Xg}function Kr(){if(null===Yg){var e=qg.alternate;e=null!==e?e.memoizedState:null}else e=Yg.next;var t=null===Xg?qg.memoizedState:Xg.next;if(null!==t)Xg=t,Yg=e;else{if(null===e){if(null===qg.alternate)throw Error("Update hook called on initial render. This is likely a bug in React. Please file an issue.");throw Error("Rendered more hooks than during the previous render.")}e={memoizedState:(Yg=e).memoizedState,baseState:Yg.baseState,baseQueue:Yg.baseQueue,queue:Yg.queue,next:null},null===Xg?qg.memoizedState=Xg=e:Xg=Xg.next=e}return Xg}function Qr(e){var t=em;return em+=1,null===tm&&(tm={didWarnAboutUncachedPromise:!1,thenables:[]}),e=br(tm,e,t),t=qg,null===(null===Xg?t.memoizedState:Xg.next)&&(t=t.alternate,Yc.H=null!==t&&null!==t.memoizedState?dm:um),e}function Zr(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Qr(e);if(e.$$typeof===zc)return Zn(e)}throw Error("An unsupported type was passed to use(): "+String(e))}function Jr(e){var t=null,n=qg.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=qg.alternate;null!==r&&null!==(r=r.updateQueue)&&null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},qg.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index])||sm)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=Wc;else n.length!==e&&console.error("Expected a constant size argument for each invocation of useMemoCache. The previous cache was allocated with size %s but size %s was requested.",n.length,e);return t.index++,n}function ei(e,t){return"function"==typeof t?t(e):t}function ti(e,t,n){var r=Xr();if(void 0!==n){var i=n(t);if(Zg){B(!0);try{n(t)}finally{B(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=oo.bind(null,qg,e),[r.memoizedState,e]}function ni(e){return ri(Kr(),Yg,e)}function ri(e,t,n){var r=e.queue;if(null===r)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}t.baseQueue!==i&&console.error("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var s=a=null,l=null,u=t=i.next,c=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(Ky&d)===d:($g&d)===d){var h=u.revertLane;if(0===h)null!==l&&(l=l.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===ag&&(c=!0);else{if(($g&h)===h){u=u.next,h===ag&&(c=!0);continue}d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===l?(s=l=d,a=o):l=l.next=d,qg.lanes|=h,pv|=h}d=u.action,Zg&&n(o,d),o=u.hasEagerState?u.eagerState:n(o,d)}else h={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===l?(s=l=h,a=o):l=l.next=h,qg.lanes|=d,pv|=d;u=u.next}while(null!==u&&u!==t);if(null===l?a=o:l.next=s,!jf(o,e.memoizedState)&&(dy=!0,c&&null!==(n=sg)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=l,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ii(e){var t=Kr(),n=t.queue;if(null===n)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);jf(o,t.memoizedState)||(dy=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function oi(e,t,n){var r=qg,i=Xr();if(Ap){if(void 0===n)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");var o=n();wg||o===n()||(console.error("The result of getServerSnapshot should be cached to avoid an infinite loop"),wg=!0)}else{if(o=t(),wg||(n=t(),jf(o,n)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),wg=!0)),null===Yy)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");124&Ky||si(r,t,o)}return i.memoizedState=o,n={value:o,getSnapshot:t},i.queue=n,Di(ui.bind(null,r,n,e),[e]),r.flags|=2048,Pi(Cg|Ag,{destroy:void 0,resource:void 0},li.bind(null,r,n,o,t),null),o}function ai(e,t,n){var r=qg,i=Kr(),o=Ap;if(o){if(void 0===n)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");n=n()}else if(n=t(),!wg){var a=t();jf(n,a)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),wg=!0)}(a=!jf((Yg||i).memoizedState,n))&&(i.memoizedState=n,dy=!0),i=i.queue;var s=ui.bind(null,r,i,e);if(_i(2048,Ag,s,[e]),i.getSnapshot!==t||a||null!==Xg&&Xg.memoizedState.tag&Cg){if(r.flags|=2048,Pi(Cg|Ag,{destroy:void 0,resource:void 0},li.bind(null,r,i,n,t),null),null===Yy)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");o||124&$g||si(r,t,n)}return n}function si(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=qg.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},qg.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function li(e,t,n,r){t.value=n,t.getSnapshot=r,ci(t)&&di(e)}function ui(e,t,n){return n(function(){ci(t)&&di(e)})}function ci(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jf(e,n)}catch(e){return!0}}function di(e){var t=hn(e,2);null!==t&&xs(t,e,2)}function hi(e){var t=Xr();if("function"==typeof e){var n=e;if(e=n(),Zg){B(!0);try{n()}finally{B(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:e},t}function fi(e){var t=(e=hi(e)).queue,n=ao.bind(null,qg,t);return t.dispatch=n,[e.memoizedState,n]}function pi(e){var t=Xr();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=lo.bind(null,qg,!0,n),n.dispatch=t,[e,t]}function gi(e,t){return mi(Kr(),Yg,e,t)}function mi(e,t,n,r){return e.baseState=n,ri(e,Yg,"function"==typeof r?r:ei)}function yi(e,t){var n=Kr();return null!==Yg?mi(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])}function vi(e,t,n,r,i){if(uo(e))throw Error("Cannot update form state while rendering.");if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==Yc.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,bi(t,o)):(o.next=n.next,t.pending=n.next=o)}}function bi(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=Yc.T,a={};Yc.T=a,Yc.T._updatedFibers=new Set;try{var s=n(i,r),l=Yc.S;null!==l&&l(a,s),wi(e,t,s)}catch(n){Ei(e,t,n)}finally{Yc.T=o,null===o&&a._updatedFibers&&(e=a._updatedFibers.size,a._updatedFibers.clear(),10<e&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}else try{wi(e,t,a=n(i,r))}catch(n){Ei(e,t,n)}}function wi(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?(n.then(function(n){xi(e,t,n)},function(n){return Ei(e,t,n)}),t.isTransition||console.error("An async function with useActionState was called outside of a transition. This is likely not what you intended (for example, isPending will not update correctly). Either call the returned function inside startTransition, or pass it to an `action` or `formAction` prop.")):xi(e,t,n)}function xi(e,t,n){t.status="fulfilled",t.value=n,ki(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,bi(e,n)))}function Ei(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,ki(t),t=t.next}while(t!==r)}e.action=null}function ki(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Si(e,t){return t}function Mi(e,t){if(Ap){var n=Yy.formState;if(null!==n){e:{var r=qg;if(Ap){if(Pp){t:{for(var i=Pp,o=Lp;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=gu(i.nextSibling))){i=null;break t}}i=(o=i.data)===Db||o===Lb?i:null}if(i){Pp=gu(i.nextSibling),r=i.data===Db;break e}}In(r)}r=!1}r&&(t=n[0])}}return(n=Xr()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:t},n.queue=r,n=ao.bind(null,qg,r),r.dispatch=n,r=hi(!1),o=lo.bind(null,qg,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Xr()).queue=i,n=vi.bind(null,qg,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ti(e){return Oi(Kr(),Yg,e)}function Oi(e,t,n){if(t=ri(e,t,Si)[0],e=ni(ei)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=Qr(t)}catch(e){if(e===xg)throw kg;throw e}else r=t;var i=(t=Kr()).queue,o=i.dispatch;return n!==t.memoizedState&&(qg.flags|=2048,Pi(Cg|Ag,{destroy:void 0,resource:void 0},Ci.bind(null,i,n),null)),[r,o,e]}function Ci(e,t){e.action=t}function Ni(e){var t=Kr(),n=Yg;if(null!==n)return Oi(t,n,e);Kr(),t=t.memoizedState;var r=(n=Kr()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Pi(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=qg.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},qg.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ai(e){return e={current:e},Xr().memoizedState=e}function Ri(e,t,n,r){var i=Xr();r=void 0===r?null:r,qg.flags|=e,i.memoizedState=Pi(Cg|t,{destroy:void 0,resource:void 0},n,r)}function _i(e,t,n,r){var i=Kr();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==Yg&&null!==r&&Hr(r,Yg.memoizedState.deps)?i.memoizedState=Pi(t,o,n,r):(qg.flags|=e,i.memoizedState=Pi(Cg|t,o,n,r))}function Di(e,t){(qg.mode&mp)!==hp&&(qg.mode&yp)===hp?Ri(276826112,Ag,e,t):Ri(8390656,Ag,e,t)}function Li(e,t){var n=4194308;return(qg.mode&mp)!==hp&&(n|=134217728),Ri(n,Pg,e,t)}function Ii(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return t.hasOwnProperty("current")||console.error("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(t).join(", ")+"}"),e=e(),t.current=e,function(){t.current=null}}function zi(e,t,n){"function"!=typeof t&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",null!==t?typeof t:"null"),n=null!=n?n.concat([e]):null;var r=4194308;(qg.mode&mp)!==hp&&(r|=134217728),Ri(r,Pg,Ii.bind(null,t,e),n)}function Fi(e,t,n){"function"!=typeof t&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",null!==t?typeof t:"null"),n=null!=n?n.concat([e]):null,_i(4,Pg,Ii.bind(null,t,e),n)}function ji(e,t){return Xr().memoizedState=[e,void 0===t?null:t],e}function Bi(e,t){var n=Kr();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Hr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hi(e,t){var n=Xr();t=void 0===t?null:t;var r=e();if(Zg){B(!0);try{e()}finally{B(!1)}}return n.memoizedState=[r,t],r}function Vi(e,t){var n=Kr();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Hr(t,r[1]))return r[0];if(r=e(),Zg){B(!0);try{e()}finally{B(!1)}}return n.memoizedState=[r,t],r}function Ui(e,t){return $i(Xr(),e,t)}function Wi(e,t){return qi(Kr(),Yg.memoizedState,e,t)}function Gi(e,t){var n=Kr();return null===Yg?$i(n,e,t):qi(n,Yg.memoizedState,e,t)}function $i(e,t,n){return void 0===n||1073741824&$g?e.memoizedState=t:(e.memoizedState=n,e=ws(),qg.lanes|=e,pv|=e,n)}function qi(e,t,n,r){return jf(n,t)?n:null!==Bg.current?(e=$i(e,n,r),jf(e,t)||(dy=!0),e):42&$g?(e=ws(),qg.lanes|=e,pv|=e,t):(dy=!0,e.memoizedState=n)}function Yi(e,t,n,r,i){var o=Xc.p;Xc.p=0!==o&&o<Nd?o:Nd;var a,s,l,u=Yc.T,c={};Yc.T=c,lo(e,!1,t,n),c._updatedFibers=new Set;try{var d=i(),h=Yc.S;if(null!==h&&h(c,d),null!==d&&"object"==typeof d&&"function"==typeof d.then){var f=(a=r,s=[],l={status:"pending",value:null,reason:null,then:function(e){s.push(e)}},d.then(function(){l.status="fulfilled",l.value=a;for(var e=0;e<s.length;e++)(0,s[e])(a)},function(e){for(l.status="rejected",l.reason=e,e=0;e<s.length;e++)(0,s[e])(void 0)}),l);so(e,t,f,bs(e))}else so(e,t,r,bs(e))}catch(n){so(e,t,{then:function(){},status:"rejected",reason:n},bs(e))}finally{Xc.p=o,Yc.T=u,null===u&&c._updatedFibers&&(e=c._updatedFibers.size,c._updatedFibers.clear(),10<e&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}function Xi(e,t,n,r){if(5!==e.tag)throw Error("Expected the form instance to be a HostComponent. This is a bug in React.");var i=Ki(e).queue;Yi(e,i,t,bw,null===n?c:function(){return Qi(e),n(r)})}function Ki(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:bw,baseState:bw,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:bw},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Qi(e){null===Yc.T&&console.error("requestFormReset was called outside a transition or action. To fix, move to an action, or wrap with startTransition."),so(e,Ki(e).next.queue,{},bs(e))}function Zi(){var e=hi(!1);return e=Yi.bind(null,qg,e.queue,!0,!1),Xr().memoizedState=e,[!1,e]}function Ji(){var e=ni(ei)[0],t=Kr().memoizedState;return["boolean"==typeof e?e:Qr(e),t]}function eo(){var e=ii(ei)[0],t=Kr().memoizedState;return["boolean"==typeof e?e:Qr(e),t]}function to(){return Zn(ww)}function no(){var e=Xr(),t=Yy.identifierPrefix;if(Ap){var n=Cp;t="«"+t+"R"+(n=(Op&~(1<<32-kd(Op)-1)).toString(32)+n),0<(n=Jg++)&&(t+="H"+n.toString(32)),t+="»"}else t="«"+t+"r"+(n=nm++).toString(32)+"»";return e.memoizedState=t}function ro(){return Xr().memoizedState=io.bind(null,qg)}function io(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 24:case 3:var r=bs(n),i=Mr(n,e=Sr(r),r);return null!==i&&(xs(i,n,r),Tr(i,n,r)),n=tr(),null!=t&&null!==i&&console.error("The seed argument is not enabled outside experimental channels."),void(e.payload={cache:n})}n=n.return}}function oo(e,t,n){var r=arguments;"function"==typeof r[3]&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var i={lane:r=bs(e),revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};uo(e)?co(t,i):null!==(i=dn(e,t,i,r))&&(xs(i,e,r),ho(i,t,r)),q(e,r)}function ao(e,t,n){var r=arguments;"function"==typeof r[3]&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect()."),so(e,t,n,r=bs(e)),q(e,r)}function so(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(uo(e))co(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer)){var a=Yc.H;Yc.H=pm;try{var s=t.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,jf(l,s))return cn(e,t,i,0),null===Yy&&un(),!1}catch(e){}finally{Yc.H=a}}if(null!==(n=dn(e,t,i,r)))return xs(n,e,r),ho(n,t,r),!0}return!1}function lo(e,t,n,r){if(null===Yc.T&&0===ag&&console.error("An optimistic state update occurred outside a transition or action. To fix, move the update to an action, or wrap with startTransition."),r={lane:2,revertLane:yl(),action:r,hasEagerState:!1,eagerState:null,next:null},uo(e)){if(t)throw Error("Cannot update optimistic state while rendering.");console.error("Cannot call startTransition while rendering.")}else null!==(t=dn(e,n,r,2))&&xs(t,e,2);q(e,2)}function uo(e){var t=e.alternate;return e===qg||null!==t&&t===qg}function co(e,t){Qg=Kg=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ho(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,ie(e,n)}}function fo(e){var t=zm;return null!=e&&(zm=null===t?e:t.concat(e)),t}function po(e,t,n){for(var r=Object.keys(e.props),i=0;i<r.length;i++){var o=r[i];if("children"!==o&&"key"!==o){null===t&&((t=Mn(e,n.mode,0))._debugInfo=zm,t.return=n),_e(t,function(e){console.error("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",e)},o);break}}}function go(e){var t=Im;return Im+=1,null===Lm&&(Lm={didWarnAboutUncachedPromise:!1,thenables:[]}),br(Lm,e,t)}function mo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function yo(e,t){if(t.$$typeof===Nc)throw Error('A React Element from an older version of React was rendered. This is not supported. It can happen if:\n- Multiple copies of the "react" package is used.\n- A library pre-bundled an old copy of "react" or "react/jsx-runtime".\n- A compiler tries to "inline" JSX instead of using the runtime.');throw e=Object.prototype.toString.call(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}function vo(e,t){var n=S(e)||"Component";Bm[n]||(Bm[n]=!0,t=t.displayName||t.name||"Component",3===e.tag?console.error("Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.\n  root.render(%s)",t,t,t):console.error("Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.\n  <%s>{%s}</%s>",t,t,n,t,n))}function bo(e,t){var n=S(e)||"Component";Hm[n]||(Hm[n]=!0,t=String(t),3===e.tag?console.error("Symbols are not valid as a React child.\n  root.render(%s)",t):console.error("Symbols are not valid as a React child.\n  <%s>%s</%s>",n,t,n))}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=En(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=On(n,e.mode,r)).return=e,t._debugOwner=e,t._debugTask=e._debugTask,t._debugInfo=zm,t):((t=i(t,n)).return=e,t._debugInfo=zm,t)}function u(e,t,n,r){var o=n.type;return o===Rc?(po(n,t=d(e,t,n.props.children,r,n.key),e),t):null!==t&&(t.elementType===o||yn(t,n)||"object"==typeof o&&null!==o&&o.$$typeof===Vc&&Dm(o)===t.type)?(mo(t=i(t,n.props),n),t.return=e,t._debugOwner=n._owner,t._debugInfo=zm,t):(mo(t=Mn(n,e.mode,r),n),t.return=e,t._debugInfo=zm,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Cn(n,e.mode,r)).return=e,t._debugInfo=zm,t):((t=i(t,n.children||[])).return=e,t._debugInfo=zm,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Tn(n,e.mode,r,o)).return=e,t._debugOwner=e,t._debugTask=e._debugTask,t._debugInfo=zm,t):((t=i(t,n)).return=e,t._debugInfo=zm,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=On(""+t,e.mode,n)).return=e,t._debugOwner=e,t._debugTask=e._debugTask,t._debugInfo=zm,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Pc:return mo(n=Mn(t,e.mode,n),t),n.return=e,e=fo(t._debugInfo),n._debugInfo=zm,zm=e,n;case Ac:return(t=Cn(t,e.mode,n)).return=e,t._debugInfo=zm,t;case Vc:var r=fo(t._debugInfo);return e=f(e,t=Dm(t),n),zm=r,e}if(qc(t)||x(t))return(n=Tn(t,e.mode,n,null)).return=e,n._debugOwner=e,n._debugTask=e._debugTask,e=fo(t._debugInfo),n._debugInfo=zm,zm=e,n;if("function"==typeof t.then)return r=fo(t._debugInfo),e=f(e,go(t),n),zm=r,e;if(t.$$typeof===zc)return f(e,Jn(e,t),n);yo(e,t)}return"function"==typeof t&&vo(e,t),"symbol"==typeof t&&bo(e,t),null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Pc:return n.key===i?(i=fo(n._debugInfo),e=u(e,t,n,r),zm=i,e):null;case Ac:return n.key===i?c(e,t,n,r):null;case Vc:return i=fo(n._debugInfo),e=p(e,t,n=Dm(n),r),zm=i,e}if(qc(n)||x(n))return null!==i?null:(i=fo(n._debugInfo),e=d(e,t,n,r,null),zm=i,e);if("function"==typeof n.then)return i=fo(n._debugInfo),e=p(e,t,go(n),r),zm=i,e;if(n.$$typeof===zc)return p(e,t,Jn(e,n),r);yo(e,n)}return"function"==typeof n&&vo(e,n),"symbol"==typeof n&&bo(e,n),null}function g(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Pc:return n=e.get(null===r.key?n:r.key)||null,e=fo(r._debugInfo),t=u(t,n,r,i),zm=e,t;case Ac:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case Vc:var o=fo(r._debugInfo);return t=g(e,t,n,r=Dm(r),i),zm=o,t}if(qc(r)||x(r))return n=e.get(n)||null,e=fo(r._debugInfo),t=d(t,n,r,i,null),zm=e,t;if("function"==typeof r.then)return o=fo(r._debugInfo),t=g(e,t,n,go(r),i),zm=o,t;if(r.$$typeof===zc)return g(e,t,n,Jn(t,r),i);yo(t,r)}return"function"==typeof r&&vo(t,r),"symbol"==typeof r&&bo(t,r),null}function m(e,t,n,r){if("object"!=typeof n||null===n)return r;switch(n.$$typeof){case Pc:case Ac:s(e,t,n);var i=n.key;if("string"!=typeof i)break;if(null===r){(r=new Set).add(i);break}if(!r.has(i)){r.add(i);break}_e(t,function(){console.error("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.",i)});break;case Vc:m(e,t,n=Dm(n),r)}return r}function y(s,l,u,c){if("object"==typeof u&&null!==u&&u.type===Rc&&null===u.key&&(po(u,null,s),u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case Pc:var d=fo(u._debugInfo);e:{for(var h=u.key;null!==l;){if(l.key===h){if((h=u.type)===Rc){if(7===l.tag){n(s,l.sibling),(c=i(l,u.props.children)).return=s,c._debugOwner=u._owner,c._debugInfo=zm,po(u,c,s),s=c;break e}}else if(l.elementType===h||yn(l,u)||"object"==typeof h&&null!==h&&h.$$typeof===Vc&&Dm(h)===l.type){n(s,l.sibling),mo(c=i(l,u.props),u),c.return=s,c._debugOwner=u._owner,c._debugInfo=zm,s=c;break e}n(s,l);break}t(s,l),l=l.sibling}u.type===Rc?((c=Tn(u.props.children,s.mode,c,u.key)).return=s,c._debugOwner=s,c._debugTask=s._debugTask,c._debugInfo=zm,po(u,c,s),s=c):(mo(c=Mn(u,s.mode,c),u),c.return=s,c._debugInfo=zm,s=c)}return s=a(s),zm=d,s;case Ac:e:{for(u=(d=u).key;null!==l;){if(l.key===u){if(4===l.tag&&l.stateNode.containerInfo===d.containerInfo&&l.stateNode.implementation===d.implementation){n(s,l.sibling),(c=i(l,d.children||[])).return=s,s=c;break e}n(s,l);break}t(s,l),l=l.sibling}(c=Cn(d,s.mode,c)).return=s,s=c}return a(s);case Vc:return d=fo(u._debugInfo),s=y(s,l,u=Dm(u),c),zm=d,s}if(qc(u))return d=fo(u._debugInfo),s=function(i,a,s,l){for(var u=null,c=null,d=null,h=a,y=a=0,v=null;null!==h&&y<s.length;y++){h.index>y?(v=h,h=null):v=h.sibling;var b=p(i,h,s[y],l);if(null===b){null===h&&(h=v);break}u=m(i,b,s[y],u),e&&h&&null===b.alternate&&t(i,h),a=o(b,a,y),null===d?c=b:d.sibling=b,d=b,h=v}if(y===s.length)return n(i,h),Ap&&Nn(i,y),c;if(null===h){for(;y<s.length;y++)null!==(h=f(i,s[y],l))&&(u=m(i,h,s[y],u),a=o(h,a,y),null===d?c=h:d.sibling=h,d=h);return Ap&&Nn(i,y),c}for(h=r(h);y<s.length;y++)null!==(v=g(h,i,y,s[y],l))&&(u=m(i,v,s[y],u),e&&null!==v.alternate&&h.delete(null===v.key?y:v.key),a=o(v,a,y),null===d?c=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(i,e)}),Ap&&Nn(i,y),c}(s,l,u,c),zm=d,s;if(x(u)){if(d=fo(u._debugInfo),"function"!=typeof(h=x(u)))throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");var v=h.call(u);return v===u?0===s.tag&&"[object GeneratorFunction]"===Object.prototype.toString.call(s.type)&&"[object Generator]"===Object.prototype.toString.call(v)||(Fm||console.error("Using Iterators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. You can also use an Iterable that can iterate multiple times over the same items."),Fm=!0):u.entries!==h||mm||(console.error("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),mm=!0),s=function(i,a,s,l){if(null==s)throw Error("An iterable object provided no iterator.");for(var u=null,c=null,d=a,h=a=0,y=null,v=null,b=s.next();null!==d&&!b.done;h++,b=s.next()){d.index>h?(y=d,d=null):y=d.sibling;var w=p(i,d,b.value,l);if(null===w){null===d&&(d=y);break}v=m(i,w,b.value,v),e&&d&&null===w.alternate&&t(i,d),a=o(w,a,h),null===c?u=w:c.sibling=w,c=w,d=y}if(b.done)return n(i,d),Ap&&Nn(i,h),u;if(null===d){for(;!b.done;h++,b=s.next())null!==(d=f(i,b.value,l))&&(v=m(i,d,b.value,v),a=o(d,a,h),null===c?u=d:c.sibling=d,c=d);return Ap&&Nn(i,h),u}for(d=r(d);!b.done;h++,b=s.next())null!==(y=g(d,i,h,b.value,l))&&(v=m(i,y,b.value,v),e&&null!==y.alternate&&d.delete(null===y.key?h:y.key),a=o(y,a,h),null===c?u=y:c.sibling=y,c=y);return e&&d.forEach(function(e){return t(i,e)}),Ap&&Nn(i,h),u}(s,l,v,c),zm=d,s}if("function"==typeof u.then)return d=fo(u._debugInfo),s=y(s,l,go(u),c),zm=d,s;if(u.$$typeof===zc)return y(s,l,Jn(s,u),c);yo(s,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(d=""+u,null!==l&&6===l.tag?(n(s,l.sibling),(c=i(l,d)).return=s,s=c):(n(s,l),(c=On(d,s.mode,c)).return=s,c._debugOwner=s,c._debugTask=s._debugTask,c._debugInfo=zm,s=c),a(s)):("function"==typeof u&&vo(s,u),"symbol"==typeof u&&bo(s,u),n(s,l))}return function(e,t,n,r){var i=zm;zm=null;try{Im=0;var o=y(e,t,n,r);return Lm=null,o}catch(t){if(t===xg||t===kg)throw t;var a=h(29,t,null,e.mode);a.lanes=r,a.return=e;var s=a._debugInfo=zm;if(a._debugOwner=e._debugOwner,a._debugTask=e._debugTask,null!=s)for(var l=s.length-1;0<=l;l--)if("string"==typeof s[l].stack){a._debugOwner=s[l],a._debugTask=s[l].debugTask;break}return a}finally{zm=i}}}function xo(e){var t=e.alternate;O(Ym,Ym.current&$m,e),O(Wm,e,e),null===Gm&&(null===t||null!==Bg.current||null!==t.memoizedState)&&(Gm=e)}function Eo(e){if(22===e.tag){if(O(Ym,Ym.current,e),O(Wm,e,e),null===Gm){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Gm=e)}}else ko(e)}function ko(e){O(Ym,Ym.current,e),O(Wm,Wm.current,e)}function So(e){T(Wm,e),Gm===e&&(Gm=null),T(Ym,e)}function Mo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===Nb||pu(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function To(e){if(null!==e&&"function"!=typeof e){var t=String(e);oy.has(t)||(oy.add(t),console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",e))}}function Oo(e,t,n,r){var i=e.memoizedState,o=n(r,i);if(e.mode&gp){B(!0);try{o=n(r,i)}finally{B(!1)}}void 0===o&&(t=E(t)||"Component",ty.has(t)||(ty.add(t),console.error("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",t))),i=null==o?i:Cc({},i,o),e.memoizedState=i,0===e.lanes&&(e.updateQueue.baseState=i)}function Co(e,t,n,r,i,o,a){var s=e.stateNode;if("function"==typeof s.shouldComponentUpdate){if(n=s.shouldComponentUpdate(r,o,a),e.mode&gp){B(!0);try{n=s.shouldComponentUpdate(r,o,a)}finally{B(!1)}}return void 0===n&&console.error("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",E(t)||"Component"),n}return!(t.prototype&&t.prototype.isPureReactComponent&&Qt(n,r)&&Qt(i,o))}function No(e,t,n,r){var i=t.state;"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==i&&(e=S(e)||"Component",Km.has(e)||(Km.add(e),console.error("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",e)),ay.enqueueReplaceState(t,t.state,null))}function Po(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=Cc({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Ao(e){sy(e),console.warn("%s\n\n%s\n",ly?"An error occurred in the <"+ly+"> component.":"An error occurred in one of your React components.","Consider adding an error boundary to your tree to customize error handling behavior.\nVisit https://react.dev/link/error-boundaries to learn more about error boundaries.")}function Ro(e){var t=ly?"The above error occurred in the <"+ly+"> component.":"The above error occurred in one of your React components.",n="React will try to recreate this component tree from scratch using the error boundary you provided, "+(uy||"Anonymous")+".";if("object"==typeof e&&null!==e&&"string"==typeof e.environmentName){var r=e.environmentName;"string"==typeof(e=["%o\n\n%s\n\n%s\n",e,t,n].slice(0))[0]?e.splice(0,1,xw+e[0],Ew,Sw+r+Sw,kw):e.splice(0,0,xw,Ew,Sw+r+Sw,kw),e.unshift(console),(r=Mw.apply(console.error,e))()}else console.error("%o\n\n%s\n\n%s\n",e,t,n)}function _o(e){sy(e)}function Do(e,t){try{ly=t.source?S(t.source):null,uy=null;var n=t.value;null!==Yc.actQueue?Yc.thrownErrors.push(n):(0,e.onUncaughtError)(n,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function Lo(e,t,n){try{ly=n.source?S(n.source):null,uy=S(t),(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function Io(e,t,n){return(n=Sr(n)).tag=Lg,n.payload={element:null},n.callback=function(){_e(t.source,Do,e,t)},n}function zo(e){return(e=Sr(e)).tag=Lg,e}function Fo(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){vn(n),_e(r.source,Lo,t,n,r)}}var a=n.stateNode;null!==a&&"function"==typeof a.componentDidCatch&&(e.callback=function(){vn(n),_e(r.source,Lo,t,n,r),"function"!=typeof i&&(null===Ov?Ov=new Set([this]):Ov.add(this)),Tm(this,r),"function"==typeof i||!(2&n.lanes)&&console.error("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",S(n)||"Unknown")})}function jo(e,t,n,r){t.child=null===e?Um(t,null,n,r):Vm(t,e.child,n,r)}function Bo(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return Qn(t),U(t),r=Vr(e,t,n,a,o,i),s=$r(),W(),null===e||dy?(Ap&&s&&An(t),t.flags|=1,jo(e,t,r,i),t.child):(qr(e,t,i),sa(e,t,i))}function Ho(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||xn(o)||void 0!==o.defaultProps||null!==n.compare?((e=Sn(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(n=gn(o),t.tag=15,t.type=n,Ko(t,o),Vo(e,t,n,r,i))}if(o=e.child,!la(e,i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:Qt)(a,r)&&e.ref===t.ref)return sa(e,t,i)}return t.flags|=1,(e=En(o,r)).ref=t.ref,e.return=t,t.child=e}function Vo(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Qt(o,r)&&e.ref===t.ref&&t.type===e.type){if(dy=!1,t.pendingProps=r=o,!la(e,i))return t.lanes=e.lanes,sa(e,t,i);131072&e.flags&&(dy=!0)}}return $o(e,t,n,r,i)}function Uo(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(128&t.flags){if(r=null!==o?o.baseLanes|n:n,null!==e){for(i=t.child=e.child,o=0;null!==i;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Wo(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Wo(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&gr(t,null!==o?o.cachePool:null),null!==o?_r(t,o):Dr(t),Eo(t)}else null!==o?(gr(t,o.cachePool),_r(t,o),ko(t),t.memoizedState=null):(null!==e&&gr(t,null),Dr(t),ko(t));return jo(e,t,i,n),t.child}function Wo(e,t,n,r){var i=pr();return i=null===i?null:{parent:Kp._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&gr(t,null),Dr(t),Eo(t),null!==e&&Xn(e,t,r,!0),null}function Go(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error("Expected ref to be a function, an object returned by React.createRef(), or undefined/null.");null!==e&&e.ref===n||(t.flags|=4194816)}}function $o(e,t,n,r,i){if(n.prototype&&"function"==typeof n.prototype.render){var o=E(n)||"Unknown";hy[o]||(console.error("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",o,o),hy[o]=!0)}return t.mode&gp&&cg.recordLegacyContextWarning(t,null),null===e&&(Ko(t,t.type),n.contextTypes&&(o=E(n)||"Unknown",py[o]||(py[o]=!0,console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with React.useContext() instead. (https://react.dev/link/legacy-context)",o)))),Qn(t),U(t),n=Vr(e,t,n,r,void 0,i),r=$r(),W(),null===e||dy?(Ap&&r&&An(t),t.flags|=1,jo(e,t,n,i),t.child):(qr(e,t,i),sa(e,t,i))}function qo(e,t,n,r,i,o){return Qn(t),U(t),am=-1,sm=null!==e&&e.type!==t.type,t.updateQueue=null,n=Wr(t,r,n,i),Ur(e,t),r=$r(),W(),null===e||dy?(Ap&&r&&An(t),t.flags|=1,jo(e,t,n,o),t.child):(qr(e,t,o),sa(e,t,o))}function Yo(e,t,n,r,i){switch(a(t)){case!1:var o=t.stateNode,s=new t.type(t.memoizedProps,o.context).state;o.updater.enqueueSetState(o,s,null);break;case!0:t.flags|=128,t.flags|=65536,o=Error("Simulated error coming from DevTools");var l=i&-i;if(t.lanes|=l,null===(s=Yy))throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Fo(l=zo(l),s,t,ln(o,t)),Or(t,l)}if(Qn(t),null===t.stateNode){if(s=up,o=n.contextType,"contextType"in n&&null!==o&&(void 0===o||o.$$typeof!==zc)&&!iy.has(n)&&(iy.add(n),l=void 0===o?" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":"object"!=typeof o?" However, it is set to a "+typeof o+".":o.$$typeof===Ic?" Did you accidentally pass the Context.Consumer instead?":" However, it is set to an object with keys {"+Object.keys(o).join(", ")+"}.",console.error("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",E(n)||"Component",l)),"object"==typeof o&&null!==o&&(s=Zn(o)),o=new n(r,s),t.mode&gp){B(!0);try{o=new n(r,s)}finally{B(!1)}}if(s=t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=ay,t.stateNode=o,o._reactInternals=t,o._reactInternalInstance=Xm,"function"==typeof n.getDerivedStateFromProps&&null===s&&(s=E(n)||"Component",Qm.has(s)||(Qm.add(s),console.error("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",s,null===o.state?"null":"undefined",s))),"function"==typeof n.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate){var u=l=s=null;if("function"==typeof o.componentWillMount&&!0!==o.componentWillMount.__suppressDeprecationWarning?s="componentWillMount":"function"==typeof o.UNSAFE_componentWillMount&&(s="UNSAFE_componentWillMount"),"function"==typeof o.componentWillReceiveProps&&!0!==o.componentWillReceiveProps.__suppressDeprecationWarning?l="componentWillReceiveProps":"function"==typeof o.UNSAFE_componentWillReceiveProps&&(l="UNSAFE_componentWillReceiveProps"),"function"==typeof o.componentWillUpdate&&!0!==o.componentWillUpdate.__suppressDeprecationWarning?u="componentWillUpdate":"function"==typeof o.UNSAFE_componentWillUpdate&&(u="UNSAFE_componentWillUpdate"),null!==s||null!==l||null!==u){o=E(n)||"Component";var c="function"==typeof n.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";Jm.has(o)||(Jm.add(o),console.error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n%s uses %s but also contains the following legacy lifecycles:%s%s%s\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://react.dev/link/unsafe-component-lifecycles",o,c,null!==s?"\n  "+s:"",null!==l?"\n  "+l:"",null!==u?"\n  "+u:""))}}o=t.stateNode,s=E(n)||"Component",o.render||(n.prototype&&"function"==typeof n.prototype.render?console.error("No `render` method found on the %s instance: did you accidentally return an object from the constructor?",s):console.error("No `render` method found on the %s instance: you may have forgotten to define `render`.",s)),!o.getInitialState||o.getInitialState.isReactClassApproved||o.state||console.error("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",s),o.getDefaultProps&&!o.getDefaultProps.isReactClassApproved&&console.error("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",s),o.contextType&&console.error("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",s),n.childContextTypes&&!ry.has(n)&&(ry.add(n),console.error("%s uses the legacy childContextTypes API which was removed in React 19. Use React.createContext() instead. (https://react.dev/link/legacy-context)",s)),n.contextTypes&&!ny.has(n)&&(ny.add(n),console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with static contextType instead. (https://react.dev/link/legacy-context)",s)),"function"==typeof o.componentShouldUpdate&&console.error("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",s),n.prototype&&n.prototype.isPureReactComponent&&void 0!==o.shouldComponentUpdate&&console.error("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",E(n)||"A pure component"),"function"==typeof o.componentDidUnmount&&console.error("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",s),"function"==typeof o.componentDidReceiveProps&&console.error("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",s),"function"==typeof o.componentWillRecieveProps&&console.error("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",s),"function"==typeof o.UNSAFE_componentWillRecieveProps&&console.error("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",s),l=o.props!==r,void 0!==o.props&&l&&console.error("When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",s),o.defaultProps&&console.error("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",s,s),"function"!=typeof o.getSnapshotBeforeUpdate||"function"==typeof o.componentDidUpdate||Zm.has(n)||(Zm.add(n),console.error("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",E(n))),"function"==typeof o.getDerivedStateFromProps&&console.error("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",s),"function"==typeof o.getDerivedStateFromError&&console.error("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",s),"function"==typeof n.getSnapshotBeforeUpdate&&console.error("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",s),(l=o.state)&&("object"!=typeof l||qc(l))&&console.error("%s.state: must be set to an object or null",s),"function"==typeof o.getChildContext&&"object"!=typeof n.childContextTypes&&console.error("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",s),(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},Er(t),s=n.contextType,o.context="object"==typeof s&&null!==s?Zn(s):up,o.state===r&&(s=E(n)||"Component",ey.has(s)||(ey.add(s),console.error("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",s))),t.mode&gp&&cg.recordLegacyContextWarning(t,o),cg.recordUnsafeLifecycleWarnings(t,o),o.state=t.memoizedState,"function"==typeof(s=n.getDerivedStateFromProps)&&(Oo(t,n,s,r),o.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(s=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&(console.error("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",S(t)||"Component"),ay.enqueueReplaceState(o,o.state,null)),Nr(t,r,o,i),Cr(),o.state=t.memoizedState),"function"==typeof o.componentDidMount&&(t.flags|=4194308),(t.mode&mp)!==hp&&(t.flags|=134217728),o=!0}else if(null===e){o=t.stateNode;var d=t.memoizedProps;l=Po(n,d),o.props=l;var h=o.context;u=n.contextType,s=up,"object"==typeof u&&null!==u&&(s=Zn(u)),u="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate,d=t.pendingProps!==d,u||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(d||h!==s)&&No(t,o,r,s),Ig=!1;var f=t.memoizedState;o.state=f,Nr(t,r,o,i),Cr(),h=t.memoizedState,d||f!==h||Ig?("function"==typeof c&&(Oo(t,n,c,r),h=t.memoizedState),(l=Ig||Co(t,n,l,r,f,h,s))?(u||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308),(t.mode&mp)!==hp&&(t.flags|=134217728)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),(t.mode&mp)!==hp&&(t.flags|=134217728),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=s,o=l):("function"==typeof o.componentDidMount&&(t.flags|=4194308),(t.mode&mp)!==hp&&(t.flags|=134217728),o=!1)}else{o=t.stateNode,kr(e,t),u=Po(n,s=t.memoizedProps),o.props=u,c=t.pendingProps,f=o.context,h=n.contextType,l=up,"object"==typeof h&&null!==h&&(l=Zn(h)),(h="function"==typeof(d=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==c||f!==l)&&No(t,o,r,l),Ig=!1,f=t.memoizedState,o.state=f,Nr(t,r,o,i),Cr();var p=t.memoizedState;s!==c||f!==p||Ig||null!==e&&null!==e.dependencies&&Kn(e.dependencies)?("function"==typeof d&&(Oo(t,n,d,r),p=t.memoizedState),(u=Ig||Co(t,n,u,r,f,p,l)||null!==e&&null!==e.dependencies&&Kn(e.dependencies))?(h||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,o=u):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),o=!1)}if(l=o,Go(e,t),s=!!(128&t.flags),l||s){if(l=t.stateNode,De(t),s&&"function"!=typeof n.getDerivedStateFromError)n=null,eg=-1;else{if(U(t),n=wm(l),t.mode&gp){B(!0);try{wm(l)}finally{B(!1)}}W()}t.flags|=1,null!==e&&s?(t.child=Vm(t,e.child,null,i),t.child=Vm(t,null,n,i)):jo(e,t,n,i),t.memoizedState=l.state,e=t.child}else e=sa(e,t,i);return i=t.stateNode,o&&i.props!==r&&(my||console.error("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",S(t)||"a component"),my=!0),e}function Xo(e,t,n,r){return Bn(),t.flags|=256,jo(e,t,n,r),t.child}function Ko(e,t){t&&t.childContextTypes&&console.error("childContextTypes cannot be defined on a function component.\n  %s.childContextTypes = ...",t.displayName||t.name||"Component"),"function"==typeof t.getDerivedStateFromProps&&(e=E(t)||"Unknown",gy[e]||(console.error("%s: Function components do not support getDerivedStateFromProps.",e),gy[e]=!0)),"object"==typeof t.contextType&&null!==t.contextType&&(t=E(t)||"Unknown",fy[t]||(console.error("%s: Function components do not support contextType.",t),fy[t]=!0))}function Qo(e){return{baseLanes:e,cachePool:mr()}}function Zo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=yv),e}function Jo(e,t,n){var r,i=t.pendingProps;o(t)&&(t.flags|=128);var a=!1,s=!!(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(Ym.current&qm)),r&&(a=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(Ap){if(a?xo(t):ko(t),Ap){var l,u=Pp;if(!(l=!u)){e:{var c=u;for(l=Lp;8!==c.nodeType;){if(!l){l=null;break e}if(null===(c=gu(c.nextSibling))){l=null;break e}}l=c}null!==l?(_n(),t.memoizedState={dehydrated:l,treeContext:null!==Tp?{id:Op,overflow:Cp}:null,retryLane:536870912,hydrationErrors:null},(c=h(18,null,null,hp)).stateNode=l,c.return=t,t.child=c,Np=t,Pp=null,l=!0):l=!1,l=!l}l&&(Ln(t,u),In(t))}if(null!==(u=t.memoizedState)&&null!==(u=u.dehydrated))return pu(u)?t.lanes=32:t.lanes=536870912,null;So(t)}return u=i.children,i=i.fallback,a?(ko(t),u=ta({mode:"hidden",children:u},a=t.mode),i=Tn(i,a,n,null),u.return=t,i.return=t,u.sibling=i,t.child=u,(a=t.child).memoizedState=Qo(n),a.childLanes=Zo(e,r,n),t.memoizedState=by,i):(xo(t),ea(t,u))}var d=e.memoizedState;if(null!==d&&null!==(u=d.dehydrated)){if(s)256&t.flags?(xo(t),t.flags&=-257,t=na(e,t,n)):null!==t.memoizedState?(ko(t),t.child=e.child,t.flags|=128,t=null):(ko(t),a=i.fallback,u=t.mode,i=ta({mode:"visible",children:i.children},u),(a=Tn(a,u,n,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,Vm(t,e.child,null,n),(i=t.child).memoizedState=Qo(n),i.childLanes=Zo(e,r,n),t.memoizedState=by,t=a);else if(xo(t),Ap&&console.error("We should not be hydrating here. This is a bug in React. Please file a bug."),pu(u)){if(r=u.nextSibling&&u.nextSibling.dataset){l=r.dgst;var f=r.msg;c=r.stck;var p=r.cstck}r=l,i=c,l=a=p,(a=(u=f)?Error(u):Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering.")).stack=i||"",a.digest=r,i={value:a,source:null,stack:r=void 0===l?null:l},"string"==typeof r&&rp.set(a,i),Vn(i),t=na(e,t,n)}else if(dy||Xn(e,t,n,!1),r=0!==(n&e.childLanes),dy||r){if(null!==(r=Yy)&&0!==(i=0!==((i=42&(i=n&-n)?1:oe(i))&(r.suspendedLanes|n))?0:i)&&i!==d.retryLane)throw d.retryLane=i,hn(e,i),xs(r,e,i),cy;u.data===Nb||Rs(),t=na(e,t,n)}else u.data===Nb?(t.flags|=192,t.child=e.child,t=null):(e=d.treeContext,Pp=gu(u.nextSibling),Np=t,Ap=!0,Dp=null,Rp=!1,_p=null,Lp=!1,null!==e&&(_n(),Sp[Mp++]=Op,Sp[Mp++]=Cp,Sp[Mp++]=Tp,Op=e.id,Cp=e.overflow,Tp=t),(t=ea(t,i.children)).flags|=4096);return t}return a?(ko(t),a=i.fallback,u=t.mode,c=(l=e.child).sibling,(i=En(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==c?a=En(c,a):(a=Tn(a,u,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,null===(u=e.child.memoizedState)?u=Qo(n):(null!==(l=u.cachePool)?(c=Kp._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=mr(),u={baseLanes:u.baseLanes|n,cachePool:l}),a.memoizedState=u,a.childLanes=Zo(e,r,n),t.memoizedState=by,i):(xo(t),e=(n=e.child).sibling,(n=En(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function ea(e,t){return(t=ta({mode:"visible",children:t},e.mode)).return=e,e.child=t}function ta(e,t){return(e=h(22,e,null,t)).lanes=0,e.stateNode={_visibility:ip,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function na(e,t,n){return Vm(t,e.child,null,n),(e=ea(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ra(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),qn(e.return,t,n)}function ia(e,t){var n=qc(e);return e=!n&&"function"==typeof x(e),!n&&!e||(n=n?"array":"iterable",console.error("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",n,t,n),!1)}function oa(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function aa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(r=r.children,void 0!==i&&"forwards"!==i&&"backwards"!==i&&"together"!==i&&!yy[i])if(yy[i]=!0,"string"==typeof i)switch(i.toLowerCase()){case"together":case"forwards":case"backwards":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',i,i.toLowerCase());break;case"forward":case"backward":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',i,i.toLowerCase());break;default:console.error('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',i)}else console.error('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',i);void 0===o||vy[o]||("collapsed"!==o&&"hidden"!==o?(vy[o]=!0,console.error('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',o)):"forwards"!==i&&"backwards"!==i&&(vy[o]=!0,console.error('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',o)));e:if(("forwards"===i||"backwards"===i)&&null!=r&&!1!==r)if(qc(r)){for(var a=0;a<r.length;a++)if(!ia(r[a],a))break e}else if(a=x(r),"function"==typeof a){if(a=a.call(r))for(var s=a.next(),l=0;!s.done;s=a.next()){if(!ia(s.value,l))break e;l++}}else console.error('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',i);if(jo(e,t,r,n),0!==((r=Ym.current)&qm))r=r&$m|qm,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ra(e,n,t);else if(19===e.tag)ra(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=$m}switch(O(Ym,r,t),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Mo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),oa(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Mo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}oa(t,!0,n,null,o);break;case"together":oa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),eg=-1,pv|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Xn(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error("Resuming work not yet implemented.");if(null!==t.child){for(n=En(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=En(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function la(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Kn(e))}function ua(e,t,n){if(t._debugNeedsRemount&&null!==e){(n=Sn(t.type,t.key,t.pendingProps,t._debugOwner||null,t.mode,t.lanes))._debugStack=t._debugStack,n._debugTask=t._debugTask;var r=t.return;if(null===r)throw Error("Cannot swap the root fiber.");if(e.alternate=null,t.alternate=null,n.index=t.index,n.sibling=t.sibling,n.return=t.return,n.ref=t.ref,n._debugInfo=t._debugInfo,t===r.child)r.child=n;else{var i=r.child;if(null===i)throw Error("Expected parent to have a child.");for(;i.sibling!==t;)if(null===(i=i.sibling))throw Error("Expected to find the previous sibling.");i.sibling=n}return null===(t=r.deletions)?(r.deletions=[e],r.flags|=16):t.push(e),n.flags|=2,n}if(null!==e)if(e.memoizedProps!==t.pendingProps||t.type!==e.type)dy=!0;else{if(!(la(e,n)||128&t.flags))return dy=!1,function(e,t,n){switch(t.tag){case 3:N(t,t.stateNode.containerInfo),Gn(t,Kp,e.memoizedState.cache),Bn();break;case 27:case 5:R(t);break;case 4:N(t,t.stateNode.containerInfo);break;case 10:Gn(t,t.type,t.memoizedProps.value);break;case 12:0!==(n&t.childLanes)&&(t.flags|=4),t.flags|=2048;var r=t.stateNode;r.effectDuration=-0,r.passiveEffectDuration=-0;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xo(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Jo(e,t,n):(xo(t),null!==(e=sa(e,t,n))?e.sibling:null);xo(t);break;case 19:var i=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Xn(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return aa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),O(Ym,Ym.current,t),r)break;return null;case 22:case 23:return t.lanes=0,Uo(e,t,n);case 24:Gn(t,Kp,e.memoizedState.cache)}return sa(e,t,n)}(e,t,n);dy=!!(131072&e.flags)}else dy=!1,(r=Ap)&&(_n(),r=!!(1048576&t.flags)),r&&(r=t.index,_n(),Pn(t,kp,r));switch(t.lanes=0,t.tag){case 16:e:{if(r=t.pendingProps,e=Dm(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){if((i=e.$$typeof)===Fc){t.tag=11,t.type=e=mn(e),t=Bo(null,t,e,r,n);break e}if(i===Hc){t.tag=14,t=Ho(null,t,e,r,n);break e}}throw t="",null!==e&&"object"==typeof e&&e.$$typeof===Vc&&(t=" Did you wrap a component in React.lazy() more than once?"),e=E(e)||e,Error("Element type is invalid. Received a promise that resolves to: "+e+". Lazy element type must resolve to a class or function."+t)}xn(e)?(r=Po(e,r),t.tag=1,t.type=e=gn(e),t=Yo(null,t,e,r,n)):(t.tag=0,Ko(t,e),t.type=e=gn(e),t=$o(null,t,e,r,n))}return t;case 0:return $o(e,t,t.type,t.pendingProps,n);case 1:return Yo(e,t,r=t.type,i=Po(r,t.pendingProps),n);case 3:e:{if(N(t,t.stateNode.containerInfo),null===e)throw Error("Should have a current fiber. This is a bug in React.");r=t.pendingProps;var o=t.memoizedState;i=o.element,kr(e,t),Nr(t,r,null,n);var a=t.memoizedState;if(r=a.cache,Gn(t,Kp,r),r!==o.cache&&Yn(t,[Kp],n,!0),Cr(),r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Xo(e,t,r,n);break e}if(r!==i){Vn(i=ln(Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),t)),t=Xo(e,t,r,n);break e}for(e=9===(e=t.stateNode.containerInfo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,Pp=gu(e.firstChild),Np=t,Ap=!0,Dp=null,Rp=!1,_p=null,Lp=!0,e=Um(t,null,r,n),t.child=e;e;)e.flags=-3&e.flags|4096,e=e.sibling}else{if(Bn(),r===i){t=sa(e,t,n);break e}jo(e,t,r,n)}t=t.child}return t;case 26:return Go(e,t),null===e?(e=Ou(t.type,null,t.pendingProps,null))?t.memoizedState=e:Ap||(e=t.type,n=t.pendingProps,(r=Kl(r=C(nd.current)).createElement(e))[_d]=t,r[Dd]=n,Bl(r,e,n),ge(r),t.stateNode=r):t.memoizedState=Ou(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return R(t),null===e&&Ap&&(r=C(nd.current),i=A(),r=t.stateNode=Eu(t.type,t.pendingProps,r,i,!1),Rp||null!==(i=Xl(r,t.type,t.pendingProps,i))&&(Dn(t,0).serverProps=i),Np=t,Lp=!0,i=Pp,ou(t.type)?(Kb=i,Pp=gu(r.firstChild)):Pp=i),jo(e,t,t.pendingProps.children,n),Go(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&Ap&&(o=A(),r=yt(t.type,o.ancestorInfo),(a=!(i=Pp))||(a=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Bd])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;z(i.name,"name");var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=gu(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,Lp),null!==a?(t.stateNode=a,Rp||null!==(o=Xl(a,t.type,t.pendingProps,o))&&(Dn(t,0).serverProps=o),Np=t,Pp=gu(a.firstChild),Lp=!1,o=!0):o=!1,a=!o),a&&(r&&Ln(t,i),In(t))),R(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,r=o.children,Jl(i,o)?r=null:null!==a&&Jl(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=Vr(e,t,Gr,null,null,n),ww._currentValue=i),Go(e,t),jo(e,t,r,n),t.child;case 6:return null===e&&Ap&&(e=t.pendingProps,e=null==(r=(n=A()).ancestorInfo.current)||vt(e,r.tag,n.ancestorInfo.implicitRootScope),(r=!(n=Pp))||(null!==(r=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=gu(e.nextSibling)))return null}return e}(n,t.pendingProps,Lp))?(t.stateNode=r,Np=t,Pp=null,r=!0):r=!1,r=!r),r&&(e&&Ln(t,n),In(t))),null;case 13:return Jo(e,t,n);case 4:return N(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Vm(t,null,r,n):jo(e,t,r,n),t.child;case 11:return Bo(e,t,t.type,t.pendingProps,n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:return jo(e,t,t.pendingProps.children,n),t.child;case 12:return t.flags|=4,t.flags|=2048,(r=t.stateNode).effectDuration=-0,r.passiveEffectDuration=-0,jo(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.type,o=(i=t.pendingProps).value,"value"in i||wy||(wy=!0,console.error("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?")),Gn(t,r,o),jo(e,t,i.children,n),t.child;case 9:return i=t.type._context,"function"!=typeof(r=t.pendingProps.children)&&console.error("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),Qn(t),i=Zn(i),U(t),r=vm(r,i,void 0),W(),t.flags|=1,jo(e,t,r,n),t.child;case 14:return Ho(e,t,t.type,t.pendingProps,n);case 15:return Vo(e,t,t.type,t.pendingProps,n);case 19:return aa(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((e=ta(r,n)).ref=t.ref,t.child=e,e.return=t,t=e):((e=En(e.child,r)).ref=t.ref,t.child=e,e.return=t,t=e),t;case 22:return Uo(e,t,n);case 24:return Qn(t),r=Zn(Kp),null===e?(null===(i=pr())&&(i=Yy,o=tr(),i.pooledCache=o,nr(o),null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},Er(t),Gn(t,Kp,i)):(0!==(e.lanes&n)&&(kr(e,t),Nr(t,null,null,n),Cr()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Gn(t,Kp,r)):(r=o.cache,Gn(t,Kp,r),r!==i.cache&&Yn(t,[Kp],n,!0))),jo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function ca(e){e.flags|=4}function da(e,t){if("stylesheet"!==t.type||(t.state.loading&tw)!==Qb)e.flags&=-16777217;else if(e.flags|=16777216,!Bu(t)){if(null!==(t=Wm.current)&&((4194048&Ky)===Ky?null!==Gm:(62914560&Ky)!==Ky&&!(536870912&Ky)||t!==Gm))throw Mg=Sg,Eg;e.flags|=8192}}function ha(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ee():536870912,e.lanes|=t,vv|=t)}function fa(e,t){if(!Ap)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)if((e.mode&pp)!==hp){for(var i=e.selfBaseDuration,o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,i+=o.treeBaseDuration,o=o.sibling;e.treeBaseDuration=i}else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else if((e.mode&pp)!==hp){i=e.actualDuration,o=e.selfBaseDuration;for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,i+=a.actualDuration,o+=a.treeBaseDuration,a=a.sibling;e.actualDuration=i,e.treeBaseDuration=o}else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ga(e,t,n){var r=t.pendingProps;switch(Rn(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return pa(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),$n(Kp,t),P(t),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(jn(t)?(Un(),ca(t)):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,Hn())),pa(t),null;case 26:return n=t.memoizedState,null===e?(ca(t),null!==n?(pa(t),da(t,n)):(pa(t),t.flags&=-16777217)):n?n!==e.memoizedState?(ca(t),pa(t),da(t,n)):(pa(t),t.flags&=-16777217):(e.memoizedProps!==r&&ca(t),pa(t),t.flags&=-16777217),null;case 27:_(t),n=C(nd.current);var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ca(t);else{if(!r){if(null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return pa(t),null}e=A(),jn(t)?zn(t):(e=Eu(i,r,n,e,!0),t.stateNode=e,ca(t))}return pa(t),null;case 5:if(_(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ca(t);else{if(!r){if(null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return pa(t),null}if(i=A(),jn(t))zn(t);else{switch(e=C(nd.current),yt(n,i.ancestorInfo),i=i.context,e=Kl(e),i){case jb:e=e.createElementNS(Ph,n);break;case Bb:e=e.createElementNS(Nh,n);break;default:switch(n){case"svg":e=e.createElementNS(Ph,n);break;case"math":e=e.createElementNS(Nh,n);break;case"script":(e=e.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof r.is?e.createElement("select",{is:r.is}):e.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"==typeof r.is?e.createElement(n,{is:r.is}):e.createElement(n),-1===n.indexOf("-")&&(n!==n.toLowerCase()&&console.error("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",n),"[object HTMLUnknownElement]"!==Object.prototype.toString.call(e)||id.call(Ub,n)||(Ub[n]=!0,console.error("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",n)))}}e[_d]=t,e[Dd]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Bl(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ca(t)}}return pa(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ca(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");if(e=C(nd.current),n=A(),jn(t)){e=t.stateNode,n=t.memoizedProps,i=!Rp,r=null;var o=Np;if(null!==o)switch(o.tag){case 3:i&&null!==(i=yu(e,n,r))&&(Dn(t,0).serverProps=i);break;case 27:case 5:r=o.memoizedProps,i&&null!==(i=yu(e,n,r))&&(Dn(t,0).serverProps=i)}e[_d]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Il(e.nodeValue,n)))||In(t)}else null!=(i=n.ancestorInfo.current)&&vt(r,i.tag,n.ancestorInfo.implicitRootScope),(e=Kl(e).createTextNode(r))[_d]=t,t.stateNode=e}return pa(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=jn(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");i[_d]=t,pa(t),(t.mode&pp)!==hp&&null!==r&&null!==(i=t.child)&&(t.treeBaseDuration-=i.treeBaseDuration)}else Un(),Bn(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4,pa(t),(t.mode&pp)!==hp&&null!==r&&null!==(i=t.child)&&(t.treeBaseDuration-=i.treeBaseDuration);i=!1}else i=Hn(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(So(t),t):(So(t),null)}return So(t),128&t.flags?(t.lanes=n,(t.mode&pp)!==hp&&hr(t),t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),o=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ha(t,t.updateQueue),pa(t),(t.mode&pp)!==hp&&n&&null!==(e=t.child)&&(t.treeBaseDuration-=e.treeBaseDuration),null);case 4:return P(t),null===e&&Sl(t.stateNode.containerInfo),pa(t),null;case 10:return $n(t.type,t),pa(t),null;case 19:if(T(Ym,t),null===(i=t.memoizedState))return pa(t),null;if(r=!!(128&t.flags),null===(o=i.rendering))if(r)fa(i,!1);else{if(fv!==By||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(o=Mo(e))){for(t.flags|=128,fa(i,!1),e=o.updateQueue,t.updateQueue=e,ha(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)kn(n,e),n=n.sibling;return O(Ym,Ym.current&$m|qm,t),t.child}e=e.sibling}null!==i.tail&&ud()>Sv&&(t.flags|=128,r=!0,fa(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Mo(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,ha(t,e),fa(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!Ap)return pa(t),null}else 2*ud()-i.renderingStartTime>Sv&&536870912!==n&&(t.flags|=128,r=!0,fa(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ud(),e.sibling=null,n=Ym.current,O(Ym,n=r?n&$m|qm:n&$m,t),e):(pa(t),null);case 22:case 23:return So(t),Lr(t),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(pa(t),6&t.subtreeFlags&&(t.flags|=8192)):pa(t),null!==(n=t.updateQueue)&&ha(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&T(ug,t),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),$n(Kp,t),pa(t),null;case 25:case 30:return null}throw Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function ma(e,t){switch(Rn(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,(t.mode&pp)!==hp&&hr(t),t):null;case 3:return $n(Kp,t),P(t),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return _(t),null;case 13:if(So(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");Bn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,(t.mode&pp)!==hp&&hr(t),t):null;case 19:return T(Ym,t),null;case 4:return P(t),null;case 10:return $n(t.type,t),null;case 22:case 23:return So(t),Lr(t),null!==e&&T(ug,t),65536&(e=t.flags)?(t.flags=-65537&e|128,(t.mode&pp)!==hp&&hr(t),t):null;case 24:return $n(Kp,t),null;default:return null}}function ya(e,t){switch(Rn(t),t.tag){case 3:$n(Kp,t),P(t);break;case 26:case 27:case 5:_(t);break;case 4:P(t);break;case 13:So(t);break;case 19:T(Ym,t);break;case 10:$n(t.type,t);break;case 22:case 23:So(t),Lr(t),null!==e&&T(ug,t);break;case 24:$n(Kp,t)}}function va(e){return(e.mode&pp)!==hp}function ba(e,t){va(e)?(dr(),xa(t,e),cr()):xa(t,e)}function wa(e,t,n){va(e)?(dr(),Ea(n,e,t),cr()):Ea(n,e,t)}function xa(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{var o;(n.tag&e)===e&&((e&Ag)!==Og?null!==wd&&"function"==typeof wd.markComponentPassiveEffectMountStarted&&wd.markComponentPassiveEffectMountStarted(t):(e&Pg)!==Og&&null!==wd&&"function"==typeof wd.markComponentLayoutEffectMountStarted&&wd.markComponentLayoutEffectMountStarted(t),r=void 0,(e&Ng)!==Og&&(Zv=!0),r=_e(t,Pm,n),(e&Ng)!==Og&&(Zv=!1),(e&Ag)!==Og?null!==wd&&"function"==typeof wd.markComponentPassiveEffectMountStopped&&wd.markComponentPassiveEffectMountStopped():(e&Pg)!==Og&&null!==wd&&"function"==typeof wd.markComponentLayoutEffectMountStopped&&wd.markComponentLayoutEffectMountStopped(),void 0!==r&&"function"!=typeof r)&&_e(t,function(e,t){console.error("%s must not return anything besides a function, which is used for clean-up.%s",e,t)},o=0!==(n.tag&Pg)?"useLayoutEffect":0!==(n.tag&Ng)?"useInsertionEffect":"useEffect",null===r?" You returned null. If your effect does not require clean up, return undefined (or nothing).":"function"==typeof r.then?"\n\nIt looks like you wrote "+o+"(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:\n\n"+o+"(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://react.dev/link/hooks-data-fetching":" You returned: "+r),n=n.next}while(n!==i)}}catch(e){Qs(t,t.return,e)}}function Ea(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;void 0!==s&&(a.destroy=void 0,(e&Ag)!==Og?null!==wd&&"function"==typeof wd.markComponentPassiveEffectUnmountStarted&&wd.markComponentPassiveEffectUnmountStarted(t):(e&Pg)!==Og&&null!==wd&&"function"==typeof wd.markComponentLayoutEffectUnmountStarted&&wd.markComponentLayoutEffectUnmountStarted(t),(e&Ng)!==Og&&(Zv=!0),_e(i=t,Rm,i,n,s),(e&Ng)!==Og&&(Zv=!1),(e&Ag)!==Og?null!==wd&&"function"==typeof wd.markComponentPassiveEffectUnmountStopped&&wd.markComponentPassiveEffectUnmountStopped():(e&Pg)!==Og&&null!==wd&&"function"==typeof wd.markComponentLayoutEffectUnmountStopped&&wd.markComponentLayoutEffectUnmountStopped())}r=r.next}while(r!==o)}}catch(e){Qs(t,t.return,e)}}function ka(e,t){va(e)?(dr(),xa(t,e),cr()):xa(t,e)}function Sa(e,t,n){va(e)?(dr(),Ea(n,e,t),cr()):Ea(n,e,t)}function Ma(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;e.type.defaultProps||"ref"in e.memoizedProps||my||(n.props!==e.memoizedProps&&console.error("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",S(e)||"instance"),n.state!==e.memoizedState&&console.error("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",S(e)||"instance"));try{_e(e,Rr,t,n)}catch(t){Qs(e,e.return,t)}}}function Ta(e,t,n){return e.getSnapshotBeforeUpdate(t,n)}function Oa(e,t){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e.type.defaultProps||"ref"in e.memoizedProps||my||(t.props!==e.memoizedProps&&console.error("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",S(e)||"instance"),t.state!==e.memoizedState&&console.error("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",S(e)||"instance"));try{var i=Po(e.type,n,(e.elementType,e.type)),o=_e(e,Ta,t,i,r);n=xy,void 0!==o||n.has(e.type)||(n.add(e.type),_e(e,function(){console.error("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",S(e))})),t.__reactInternalSnapshotBeforeUpdate=o}catch(t){Qs(e,e.return,t)}}function Ca(e,t,n){n.props=Po(e.type,e.memoizedProps),n.state=e.memoizedState,va(e)?(dr(),_e(e,Cm,e,t,n),cr()):_e(e,Cm,e,t,n)}function Na(e){var t=e.ref;if(null!==t){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;default:n=e.stateNode}if("function"==typeof t)if(va(e))try{dr(),e.refCleanup=t(n)}finally{cr()}else e.refCleanup=t(n);else"string"==typeof t?console.error("String refs are no longer supported."):t.hasOwnProperty("current")||console.error("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",S(e)),t.current=n}}function Pa(e,t){try{_e(e,Na,e)}catch(n){Qs(e,t,n)}}function Aa(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{if(va(e))try{dr(),_e(e,r)}finally{cr()}else _e(e,r)}catch(n){Qs(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{if(va(e))try{dr(),_e(e,n,null)}finally{cr()}else _e(e,n,null)}catch(n){Qs(e,t,n)}else n.current=null}function Ra(e,t,n,r){var i=e.memoizedProps,o=i.id,a=i.onCommit;i=i.onRender,t=null===t?"mount":"update",ng&&(t="nested-update"),"function"==typeof i&&i(o,t,e.actualDuration,e.treeBaseDuration,e.actualStartTime,n),"function"==typeof a&&a(e.memoizedProps.id,t,r,n)}function _a(e,t,n,r){var i=e.memoizedProps;e=i.id,i=i.onPostCommit,t=null===t?"mount":"update",ng&&(t="nested-update"),"function"==typeof i&&i(e,t,r,n)}function Da(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{_e(e,tu,r,t,n,e)}catch(t){Qs(e,e.return,t)}}function La(e,t,n){try{_e(e,nu,e.stateNode,e.type,n,t,e)}catch(t){Qs(e,e.return,t)}}function Ia(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&ou(e.type)||4===e.tag}function za(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ia(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&ou(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Fa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=zl));else if(4!==r&&(27===r&&ou(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Fa(e,t,n),e=e.sibling;null!==e;)Fa(e,t,n),e=e.sibling}function ja(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&ou(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(ja(e,t,n),e=e.sibling;null!==e;)ja(e,t,n),e=e.sibling}function Ba(e){for(var t,n=e.return;null!==n;){if(Ia(n)){t=n;break}n=n.return}if(null==t)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");switch(t.tag){case 27:t=t.stateNode,ja(e,n=za(e),t);break;case 5:n=t.stateNode,32&t.flags&&(ru(n),t.flags&=-33),ja(e,t=za(e),n);break;case 3:case 4:t=t.stateNode.containerInfo,Fa(e,n=za(e),t);break;default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function Ha(e){var t=e.stateNode,n=e.memoizedProps;try{_e(e,ku,e.type,n,t,e)}catch(t){Qs(e,e.return,t)}}function Va(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Za(e,n),4&r&&ba(n,Pg|Cg);break;case 1:if(Za(e,n),4&r)if(e=n.stateNode,null===t)n.type.defaultProps||"ref"in n.memoizedProps||my||(e.props!==n.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",S(n)||"instance"),e.state!==n.memoizedState&&console.error("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",S(n)||"instance")),va(n)?(dr(),_e(n,Em,n,e),cr()):_e(n,Em,n,e);else{var i=Po(n.type,t.memoizedProps);t=t.memoizedState,n.type.defaultProps||"ref"in n.memoizedProps||my||(e.props!==n.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",S(n)||"instance"),e.state!==n.memoizedState&&console.error("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",S(n)||"instance")),va(n)?(dr(),_e(n,Sm,n,e,i,t,e.__reactInternalSnapshotBeforeUpdate),cr()):_e(n,Sm,n,e,i,t,e.__reactInternalSnapshotBeforeUpdate)}64&r&&Ma(n),512&r&&Pa(n,n.return);break;case 3:if(t=ir(),Za(e,n),64&r&&null!==(r=n.updateQueue)){if(i=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:i=n.child.stateNode}try{_e(n,Rr,r,i)}catch(e){Qs(n,n.return,e)}}e.effectDuration+=or(t);break;case 27:null===t&&4&r&&Ha(n);case 26:case 5:Za(e,n),null===t&&4&r&&Da(n),512&r&&Pa(n,n.return);break;case 12:if(4&r){r=ir(),Za(e,n),(e=n.stateNode).effectDuration+=ar(r);try{_e(n,Ra,n,t,Jp,e.effectDuration)}catch(e){Qs(n,n.return,e)}}else Za(e,n);break;case 13:Za(e,n),4&r&&$a(e,n),64&r&&null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if(e.data!==Nb||n.readyState===Ib)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=tl.bind(null,n));break;case 22:if(!(r=null!==n.memoizedState||Ey)){t=null!==t&&null!==t.memoizedState||ky,i=Ey;var o=ky;Ey=r,(ky=t)&&!o?ns(e,n,!!(8772&n.subtreeFlags)):Za(e,n),Ey=i,ky=o}break;case 30:break;default:Za(e,n)}}function Ua(e){var t=e.alternate;null!==t&&(e.alternate=null,Ua(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&ce(t),e.stateNode=null,e._debugOwner=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wa(e,t,n){for(n=n.child;null!==n;)Ga(e,t,n),n=n.sibling}function Ga(e,t,n){if(bd&&"function"==typeof bd.onCommitFiberUnmount)try{bd.onCommitFiberUnmount(vd,n)}catch(e){xd||(xd=!0,console.error("React instrumentation encountered an error: %s",e))}switch(n.tag){case 26:ky||Aa(n,t),Wa(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:ky||Aa(n,t);var r=Ny,i=Py;ou(n.type)&&(Ny=n.stateNode,Py=!1),Wa(e,t,n),_e(n,Su,n.stateNode),Ny=r,Py=i;break;case 5:ky||Aa(n,t);case 6:if(r=Ny,i=Py,Ny=null,Wa(e,t,n),Py=i,null!==(Ny=r))if(Py)try{_e(n,su,Ny,n.stateNode)}catch(e){Qs(n,t,e)}else try{_e(n,au,Ny,n.stateNode)}catch(e){Qs(n,t,e)}break;case 18:null!==Ny&&(Py?(lu(9===(e=Ny).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),pc(e)):lu(Ny,n.stateNode));break;case 4:r=Ny,i=Py,Ny=n.stateNode.containerInfo,Py=!0,Wa(e,t,n),Ny=r,Py=i;break;case 0:case 11:case 14:case 15:ky||Ea(Ng,n,t),ky||wa(n,t,Pg),Wa(e,t,n);break;case 1:ky||(Aa(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&Ca(n,t,r)),Wa(e,t,n);break;case 21:Wa(e,t,n);break;case 22:ky=(r=ky)||null!==n.memoizedState,Wa(e,t,n),ky=r;break;default:Wa(e,t,n)}}function $a(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{_e(t,xu,e)}catch(e){Qs(t,t.return,e)}}function qa(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new My),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new My),t;default:throw Error("Unexpected Suspense handler tag ("+e.tag+"). This is a bug in React.")}}(e);t.forEach(function(t){var r=nl.bind(null,e,t);if(!n.has(t)){if(n.add(t),Ed){if(null===Oy||null===Cy)throw Error("Expected finished root and lanes to be set. This is a bug in React.");sl(Cy,Oy)}t.then(r,r)}})}function Ya(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=e,o=t,a=n[r],s=o;e:for(;null!==s;){switch(s.tag){case 27:if(ou(s.type)){Ny=s.stateNode,Py=!1;break e}break;case 5:Ny=s.stateNode,Py=!1;break e;case 3:case 4:Ny=s.stateNode.containerInfo,Py=!0;break e}s=s.return}if(null===Ny)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");Ga(i,o,a),Ny=null,Py=!1,null!==(o=(i=a).alternate)&&(o.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Xa(t,e),t=t.sibling}function Xa(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ya(t,e),Ka(e),4&r&&(Ea(Ng|Cg,e,e.return),xa(Ng|Cg,e),wa(e,e.return,Pg|Cg));break;case 1:Ya(t,e),Ka(e),512&r&&(ky||null===n||Aa(n,n.return)),64&r&&Ey&&null!==(e=e.updateQueue)&&null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r));break;case 26:var i=Ay;if(Ya(t,e),Ka(e),512&r&&(ky||null===n||Aa(n,n.return)),4&r)if(t=null!==n?n.memoizedState:null,r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,t=i.ownerDocument||i;t:switch(r){case"title":(!(i=t.getElementsByTagName("title")[0])||i[Bd]||i[_d]||i.namespaceURI===Ph||i.hasAttribute("itemprop"))&&(i=t.createElement(r),t.head.insertBefore(i,t.querySelector("head > title"))),Bl(i,r,n),i[_d]=e,ge(i),r=i;break e;case"link":var o=Fu("link","href",t).get(r+(n.href||""));if(o)for(var a=0;a<o.length;a++)if((i=o[a]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(a,1);break t}Bl(i=t.createElement(r),r,n),t.head.appendChild(i);break;case"meta":if(o=Fu("meta","content",t).get(r+(n.content||"")))for(a=0;a<o.length;a++)if(i=o[a],z(n.content,"content"),i.getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(a,1);break t}Bl(i=t.createElement(r),r,n),t.head.appendChild(i);break;default:throw Error('getNodesForType encountered a type it did not expect: "'+r+'". This is a bug in React.')}i[_d]=e,ge(i),r=i}e.stateNode=r}else ju(i,e.type,e.stateNode);else e.stateNode=Du(i,r,e.memoizedProps);else t!==r?(null===t?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):t.count--,null===r?ju(i,e.type,e.stateNode):Du(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&La(e,e.memoizedProps,n.memoizedProps);break;case 27:Ya(t,e),Ka(e),512&r&&(ky||null===n||Aa(n,n.return)),null!==n&&4&r&&La(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ya(t,e),Ka(e),512&r&&(ky||null===n||Aa(n,n.return)),32&e.flags){t=e.stateNode;try{_e(e,ru,t)}catch(t){Qs(e,e.return,t)}}4&r&&null!=e.stateNode&&La(e,t=e.memoizedProps,null!==n?n.memoizedProps:t),1024&r&&(Sy=!0,"form"!==e.type&&console.error("Unexpected host component type. Expected a form. This is a bug in React."));break;case 6:if(Ya(t,e),Ka(e),4&r){if(null===e.stateNode)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");r=e.memoizedProps,n=null!==n?n.memoizedProps:r,t=e.stateNode;try{_e(e,iu,t,n,r)}catch(t){Qs(e,e.return,t)}}break;case 3:if(i=ir(),gw=null,o=Ay,Ay=Mu(t.containerInfo),Ya(t,e),Ay=o,Ka(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{_e(e,wu,t.containerInfo)}catch(t){Qs(e,e.return,t)}Sy&&(Sy=!1,Qa(e)),t.effectDuration+=or(i);break;case 4:r=Ay,Ay=Mu(e.stateNode.containerInfo),Ya(t,e),Ka(e),Ay=r;break;case 12:r=ir(),Ya(t,e),Ka(e),e.stateNode.effectDuration+=ar(r);break;case 13:Ya(t,e),Ka(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Ev=ud()),4&r&&null!==(r=e.updateQueue)&&(e.updateQueue=null,qa(e,r));break;case 22:i=null!==e.memoizedState;var s=null!==n&&null!==n.memoizedState,l=Ey,u=ky;if(Ey=l||i,ky=u||s,Ya(t,e),ky=u,Ey=l,Ka(e),8192&r)e:for(t=e.stateNode,t._visibility=i?t._visibility&~ip:t._visibility|ip,i&&(null===n||s||Ey||ky||es(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){s=n=t;try{o=s.stateNode,i?_e(s,uu,o):_e(s,du,s.stateNode,s.memoizedProps)}catch(e){Qs(s,s.return,e)}}}else if(6===t.tag){if(null===n){s=t;try{a=s.stateNode,i?_e(s,cu,a):_e(s,hu,a,s.memoizedProps)}catch(e){Qs(s,s.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&null!==(r=e.updateQueue)&&null!==(n=r.retryQueue)&&(r.retryQueue=null,qa(e,n));break;case 19:Ya(t,e),Ka(e),4&r&&null!==(r=e.updateQueue)&&(e.updateQueue=null,qa(e,r));break;case 30:case 21:break;default:Ya(t,e),Ka(e)}}function Ka(e){var t=e.flags;if(2&t){try{_e(e,Ba,e)}catch(t){Qs(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Qa(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Qa(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Za(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Va(e,t.alternate,t),t=t.sibling}function Ja(e){switch(e.tag){case 0:case 11:case 14:case 15:wa(e,e.return,Pg),es(e);break;case 1:Aa(e,e.return);var t=e.stateNode;"function"==typeof t.componentWillUnmount&&Ca(e,e.return,t),es(e);break;case 27:_e(e,Su,e.stateNode);case 26:case 5:Aa(e,e.return),es(e);break;case 22:null===e.memoizedState&&es(e);break;default:es(e)}}function es(e){for(e=e.child;null!==e;)Ja(e),e=e.sibling}function ts(e,t,n,r){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ns(e,n,r),ba(n,Pg);break;case 1:if(ns(e,n,r),"function"==typeof(t=n.stateNode).componentDidMount&&_e(n,Em,n,t),null!==(t=n.updateQueue)){e=n.stateNode;try{_e(n,Ar,t,e)}catch(e){Qs(n,n.return,e)}}r&&64&i&&Ma(n),Pa(n,n.return);break;case 27:Ha(n);case 26:case 5:ns(e,n,r),r&&null===t&&4&i&&Da(n),Pa(n,n.return);break;case 12:if(r&&4&i){i=ir(),ns(e,n,r),(r=n.stateNode).effectDuration+=ar(i);try{_e(n,Ra,n,t,Jp,r.effectDuration)}catch(e){Qs(n,n.return,e)}}else ns(e,n,r);break;case 13:ns(e,n,r),r&&4&i&&$a(e,n);break;case 22:null===n.memoizedState&&ns(e,n,r),Pa(n,n.return);break;case 30:break;default:ns(e,n,r)}}function ns(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;)ts(e,t.alternate,t,n),t=t.sibling}function rs(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&nr(e),null!=n&&rr(n))}function is(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(nr(t),null!=e&&rr(e))}function os(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)as(e,t,n,r),t=t.sibling}function as(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:os(e,t,n,r),2048&i&&ka(t,Ag|Cg);break;case 1:case 13:default:os(e,t,n,r);break;case 3:var o=ir();os(e,t,n,r),2048&i&&(n=null,null!==t.alternate&&(n=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==n&&(nr(t),null!=n&&rr(n))),e.passiveEffectDuration+=or(o);break;case 12:if(2048&i){i=ir(),os(e,t,n,r),(e=t.stateNode).passiveEffectDuration+=ar(i);try{_e(t,_a,t,t.alternate,Jp,e.passiveEffectDuration)}catch(e){Qs(t,t.return,e)}}else os(e,t,n,r);break;case 23:break;case 22:o=t.stateNode;var a=t.alternate;null!==t.memoizedState?o._visibility&op?os(e,t,n,r):us(e,t):o._visibility&op?os(e,t,n,r):(o._visibility|=op,ss(e,t,n,r,!!(10256&t.subtreeFlags))),2048&i&&rs(a,t);break;case 24:os(e,t,n,r),2048&i&&is(t.alternate,t)}}function ss(e,t,n,r,i){for(i=i&&!!(10256&t.subtreeFlags),t=t.child;null!==t;)ls(e,t,n,r,i),t=t.sibling}function ls(e,t,n,r,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:ss(e,t,n,r,i),ka(t,Ag);break;case 23:break;case 22:var a=t.stateNode;null!==t.memoizedState?a._visibility&op?ss(e,t,n,r,i):us(e,t):(a._visibility|=op,ss(e,t,n,r,i)),i&&2048&o&&rs(t.alternate,t);break;case 24:ss(e,t,n,r,i),i&&2048&o&&is(t.alternate,t);break;default:ss(e,t,n,r,i)}}function us(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:us(n,r),2048&i&&rs(r.alternate,r);break;case 24:us(n,r),2048&i&&is(r.alternate,r);break;default:us(n,r)}t=t.sibling}}function cs(e){if(e.subtreeFlags&Ry)for(e=e.child;null!==e;)ds(e),e=e.sibling}function ds(e){switch(e.tag){case 26:cs(e),e.flags&Ry&&null!==e.memoizedState&&function(e,t,n){if(null===mw)throw Error("Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug.");var r=mw;if("stylesheet"===t.type&&("string"!=typeof n.media||!1!==matchMedia(n.media).matches)&&(t.state.loading&tw)===Qb){if(null===t.instance){var i=Nu(n.href),o=e.querySelector(Pu(i));if(o)return null!==(e=o._p)&&"object"==typeof e&&"function"==typeof e.then&&(r.count++,r=Vu.bind(r),e.then(r,r)),t.state.loading|=tw,t.instance=o,void ge(o);o=e.ownerDocument||e,n=Au(n),(i=nw.get(i))&&Iu(n,i),ge(o=o.createElement("link"));var a=o;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),Bl(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&ew)===Qb&&(r.count++,t=Vu.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ay,e.memoizedState,e.memoizedProps);break;case 5:default:cs(e);break;case 3:case 4:var t=Ay;Ay=Mu(e.stateNode.containerInfo),cs(e),Ay=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Ry,Ry=16777216,cs(e),Ry=t):cs(e))}}function hs(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function fs(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ty=r,ys(r,e)}hs(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)ps(e),e=e.sibling}function ps(e){switch(e.tag){case 0:case 11:case 15:fs(e),2048&e.flags&&Sa(e,e.return,Ag|Cg);break;case 3:var t=ir();fs(e),e.stateNode.passiveEffectDuration+=or(t);break;case 12:t=ir(),fs(e),e.stateNode.passiveEffectDuration+=ar(t);break;case 22:t=e.stateNode,null!==e.memoizedState&&t._visibility&op&&(null===e.return||13!==e.return.tag)?(t._visibility&=~op,gs(e)):fs(e);break;default:fs(e)}}function gs(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ty=r,ys(r,e)}hs(e)}for(e=e.child;null!==e;)ms(e),e=e.sibling}function ms(e){switch(e.tag){case 0:case 11:case 15:Sa(e,e.return,Ag),gs(e);break;case 22:var t=e.stateNode;t._visibility&op&&(t._visibility&=~op,gs(e));break;default:gs(e)}}function ys(e,t){for(;null!==Ty;){var n=Ty,r=n;switch(r.tag){case 0:case 11:case 15:Sa(r,t,Ag);break;case 23:case 22:null!==r.memoizedState&&null!==r.memoizedState.cachePool&&null!=(r=r.memoizedState.cachePool.pool)&&nr(r);break;case 24:rr(r.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ty=r;else e:for(n=e;null!==Ty;){var i=(r=Ty).sibling,o=r.return;if(Ua(r),r===n){Ty=null;break e}if(null!==i){i.return=o,Ty=i;break e}Ty=o}}}function vs(){var e="undefined"!=typeof IS_REACT_ACT_ENVIRONMENT?IS_REACT_ACT_ENVIRONMENT:void 0;return e||null===Yc.actQueue||console.error("The current testing environment is not configured to support act(...)"),e}function bs(e){if((qy&Fy)!==zy&&0!==Ky)return Ky&-Ky;var t=Yc.T;return null!==t?(t._updatedFibers||(t._updatedFibers=new Set),t._updatedFibers.add(e),0!==(e=ag)?e:yl()):ue()}function ws(){0===yv&&(yv=536870912&Ky&&!Ap?536870912:J());var e=Wm.current;return null!==e&&(e.flags|=32),yv}function xs(e,t,n){if(Zv&&console.error("useInsertionEffect must not schedule updates."),qv&&(Yv=!0),(e!==Yy||sv!==Jy&&sv!==av)&&null===e.cancelPendingCommit||(Cs(e,0),Ms(e,Ky,yv,!1)),ne(e,n),0!==(qy&Fy)&&e===Yy){if(eh)switch(t.tag){case 0:case 11:case 15:e=Xy&&S(Xy)||"Unknown",tb.has(e)||(tb.add(e),t=S(t)||"Unknown",console.error("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://react.dev/link/setstate-in-render",t,e,e));break;case 1:eb||(console.error("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),eb=!0)}}else Ed&&ae(e,t,n),function(e){vs()&&null===Yc.actQueue&&_e(e,function(){console.error("An update to %s inside a test was not wrapped in act(...).\n\nWhen testing, code that causes React state updates should be wrapped into act(...):\n\nact(() => {\n  /* fire events that update state */\n});\n/* assert on the output */\n\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act",S(e))})}(t),e===Yy&&((qy&Fy)===zy&&(gv|=n),fv===Wy&&Ms(e,Ky,yv,!1)),ll(e)}function Es(e,t,n){if((qy&(Fy|jy))!==zy)throw Error("Should not already be working.");for(var r=!n&&!(124&t)&&0===(t&e.expiredLanes)||Q(e,t),i=r?function(e,t){var n=qy;qy|=Fy;var r=Ps(),i=As();if(Yy!==e||Ky!==t){if(Ed){var o=e.memoizedUpdaters;0<o.size&&(sl(e,Ky),o.clear()),se(e,t)}Tv=null,Sv=ud()+Mv,Cs(e,t)}else cv=Q(e,t);G(t);e:for(;;)try{if(sv!==Qy&&null!==Xy)t:switch(t=Xy,o=lv,sv){case Zy:sv=Qy,lv=null,js(e,t,o,Zy);break;case Jy:case av:if(yr(o)){sv=Qy,lv=null,zs(t);break}t=function(){sv!==Jy&&sv!==av||Yy!==e||(sv=iv),ll(e)},o.then(t,t);break e;case ev:sv=iv;break e;case tv:sv=nv;break e;case iv:yr(o)?(sv=Qy,lv=null,zs(t)):(sv=Qy,lv=null,js(e,t,o,iv));break;case nv:var a=null;switch(Xy.tag){case 26:a=Xy.memoizedState;case 5:case 27:var s=Xy;if(!a||Bu(a)){sv=Qy,lv=null;var l=s.sibling;if(null!==l)Xy=l;else{var u=s.return;null!==u?(Xy=u,Bs(u)):Xy=null}break t}break;default:console.error("Unexpected type of fiber triggered a suspensey commit. This is a bug in React.")}sv=Qy,lv=null,js(e,t,o,nv);break;case rv:sv=Qy,lv=null,js(e,t,o,rv);break;case ov:Os(),fv=Gy;break e;default:throw Error("Unexpected SuspendedReason. This is a bug in React.")}null!==Yc.actQueue?Ds():Ls();break}catch(t){Ns(e,t)}return Wn(),Yc.H=r,Yc.A=i,qy=n,null!==Xy?(null!==wd&&"function"==typeof wd.markRenderYielded&&wd.markRenderYielded(),By):($(),Yy=null,Ky=0,un(),fv)}(e,t):_s(e,t,!0),o=r;;){if(i===By){cv&&!r&&Ms(e,t,0,!1);break}if(n=e.current.alternate,!o||Ss(n)){if(i===Vy){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!=(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var s=a;a=bv;var l=(i=e).current.memoizedState.isDehydrated;if(l&&(Cs(i,s).flags|=256),(s=_s(i,s,!1))!==Vy){if(dv&&!l){i.errorRecoveryDisabledLanes|=o,gv|=o,i=Wy;break e}i=wv,wv=a,null!==i&&(null===wv?wv=i:wv.push.apply(wv,i))}i=s}if(o=!1,i!==Vy)continue}}if(i===Hy){Cs(e,0),Ms(e,t,0,!0);break}e:{switch(r=e,i){case By:case Hy:throw Error("Root did not complete. This is a bug in React.");case Wy:if((4194048&t)!==t)break;case Gy:Ms(r,t,yv,!uv);break e;case Vy:wv=null;break;case Uy:case $y:break;default:throw Error("Unknown root exit status.")}if(null!==Yc.actQueue)Vs(r,n,t,wv,Tv,xv,yv,gv,vv);else{if((62914560&t)===t&&10<(o=Ev+kv-ud())){if(Ms(r,t,yv,!uv),0!==K(r,0,!0))break e;r.timeoutHandle=Gb(ks.bind(null,r,n,wv,Tv,xv,t,yv,gv,vv,uv,i,Pv,Zp,0),o);break e}ks(r,n,wv,Tv,xv,t,yv,gv,vv,uv,i,Cv,Zp,0)}}break}i=_s(e,t,!1),o=!1}ll(e)}function ks(e,t,n,r,i,o,a,s,l,u,c,d,h,f){if(e.timeoutHandle=qb,(8192&(d=t.subtreeFlags)||!(16785408&~d))&&(mw={stylesheets:null,count:0,unsuspend:Hu},ds(t),null!==(d=function(){if(null===mw)throw Error("Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug.");var e=mw;return e.stylesheets&&0===e.count&&Uu(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Uu(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=d(Vs.bind(null,e,t,o,n,r,i,a,s,l,c,Nv,h,f)),void Ms(e,o,a,!u);Vs(e,t,o,n,r,i,a,s,l)}function Ss(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!jf(o(),i))return!1}catch(e){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ms(e,t,n,r){t&=~mv,t&=~gv,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-kd(i),a=1<<o;r[o]=-1,i&=~a}0!==n&&re(e,n,t)}function Ts(){return(qy&(Fy|jy))!==zy||(ul(0),!1)}function Os(){if(null!==Xy){if(sv===Qy)var e=Xy.return;else e=Xy,Wn(),Yr(e),Lm=null,Im=0,e=Xy;for(;null!==e;)ya(e.alternate,e),e=e.return;Xy=null}}function Cs(e,t){var n=e.timeoutHandle;n!==qb&&(e.timeoutHandle=qb,$b(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Os(),Yy=e,Xy=n=En(e.current,null),Ky=t,sv=Qy,lv=null,uv=!1,cv=Q(e,t),dv=!1,fv=By,vv=yv=mv=gv=pv=0,wv=bv=null,xv=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-kd(r),o=1<<i;t|=e[i],r&=~o}return hv=t,un(),1e3<(t=jp())-zp&&(Yc.recentlyCreatedOwnerStacks=0,zp=t),cg.discardPendingWarnings(),n}function Ns(e,t){qg=null,Yc.H=lm,Yc.getCurrentStack=null,eh=!1,Jd=null,t===xg||t===kg?(t=wr(),sv=ev):t===Eg?(t=wr(),sv=tv):sv=t===cy?ov:null!==t&&"object"==typeof t&&"function"==typeof t.then?rv:Zy,lv=t;var n=Xy;if(null===n)fv=Hy,Do(e,ln(t,e.current));else switch(n.mode&pp&&lr(n),W(),sv){case Zy:null!==wd&&"function"==typeof wd.markComponentErrored&&wd.markComponentErrored(n,t,Ky);break;case Jy:case av:case ev:case rv:case iv:null!==wd&&"function"==typeof wd.markComponentSuspended&&wd.markComponentSuspended(n,t,Ky)}}function Ps(){var e=Yc.H;return Yc.H=lm,null===e?lm:e}function As(){var e=Yc.A;return Yc.A=_y,e}function Rs(){fv=Wy,uv||(4194048&Ky)!==Ky&&null!==Wm.current||(cv=!0),!(134217727&pv)&&!(134217727&gv)||null===Yy||Ms(Yy,Ky,yv,!1)}function _s(e,t,n){var r=qy;qy|=Fy;var i=Ps(),o=As();if(Yy!==e||Ky!==t){if(Ed){var a=e.memoizedUpdaters;0<a.size&&(sl(e,Ky),a.clear()),se(e,t)}Tv=null,Cs(e,t)}G(t),t=!1,a=fv;e:for(;;)try{if(sv!==Qy&&null!==Xy){var s=Xy,l=lv;switch(sv){case ov:Os(),a=Gy;break e;case ev:case Jy:case av:case rv:null===Wm.current&&(t=!0);var u=sv;if(sv=Qy,lv=null,js(e,s,l,u),n&&cv){a=By;break e}break;default:u=sv,sv=Qy,lv=null,js(e,s,l,u)}}Ds(),a=fv;break}catch(t){Ns(e,t)}return t&&e.shellSuspendCounter++,Wn(),qy=r,Yc.H=i,Yc.A=o,$(),null===Xy&&(Yy=null,Ky=0,un()),a}function Ds(){for(;null!==Xy;)Is(Xy)}function Ls(){for(;null!==Xy&&!sd();)Is(Xy)}function Is(e){var t=e.alternate;(e.mode&pp)!==hp?(sr(e),t=_e(e,ua,t,e,hv),lr(e)):t=_e(e,ua,t,e,hv),e.memoizedProps=e.pendingProps,null===t?Bs(e):Xy=t}function zs(e){var t=_e(e,Fs,e);e.memoizedProps=e.pendingProps,null===t?Bs(e):Xy=t}function Fs(e){var t=e.alternate,n=(e.mode&pp)!==hp;switch(n&&sr(e),e.tag){case 15:case 0:t=qo(t,e,e.pendingProps,e.type,void 0,Ky);break;case 11:t=qo(t,e,e.pendingProps,e.type.render,e.ref,Ky);break;case 5:Yr(e);default:ya(t,e),t=ua(t,e=Xy=kn(e,hv),hv)}return n&&lr(e),t}function js(e,t,n,r){Wn(),Yr(t),Lm=null,Im=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,Ed&&sl(e,i),null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&Xn(t,n,i,!0),Ap&&(Rp=!0),null!==(n=Wm.current)){switch(n.tag){case 13:return null===Gm?Rs():null===n.alternate&&fv===By&&(fv=Uy),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Sg?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Zs(e,r,i)),!1;case 22:return n.flags|=65536,r===Sg?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Zs(e,r,i)),!1}throw Error("Unexpected Suspense handler tag ("+n.tag+"). This is a bug in React.")}return Zs(e,r,i),Rs(),!1}if(Ap)return Rp=!0,null!==(t=Wm.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==Ip&&Vn(ln(Error("There was an error while hydrating but React was able to recover by instead client rendering from the nearest Suspense boundary.",{cause:r}),n))):(r!==Ip&&Vn(ln(Error("There was an error while hydrating but React was able to recover by instead client rendering the entire root.",{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=ln(r,n),Or(e,i=Io(e.stateNode,r,i)),fv!==Wy&&(fv=Vy)),!1;var o=ln(Error("There was an error during concurrent rendering but React was able to recover by instead synchronously rendering the entire root.",{cause:r}),n);if(null===bv?bv=[o]:bv.push(o),fv!==Wy&&(fv=Vy),null===t)return!0;r=ln(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,Or(n,e=Io(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===o||"function"!=typeof o.componentDidCatch||null!==Ov&&Ov.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,Fo(i=zo(i),e,n,r),Or(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,Ky))return fv=Hy,Do(e,ln(n,e.current)),void(Xy=null)}catch(t){if(null!==i)throw Xy=i,t;return fv=Hy,Do(e,ln(n,e.current)),void(Xy=null)}32768&t.flags?(Ap||r===Zy?e=!0:cv||536870912&Ky?e=!1:(uv=e=!0,(r===Jy||r===av||r===ev||r===rv)&&null!==(r=Wm.current)&&13===r.tag&&(r.flags|=16384)),Hs(t,e)):Bs(t)}function Bs(e){var t=e;do{if(32768&t.flags)return void Hs(t,uv);var n=t.alternate;if(e=t.return,sr(t),n=_e(t,ga,n,t,hv),(t.mode&pp)!==hp&&ur(t),null!==n)return void(Xy=n);if(null!==(t=t.sibling))return void(Xy=t);Xy=t=e}while(null!==t);fv===By&&(fv=$y)}function Hs(e,t){do{var n=ma(e.alternate,e);if(null!==n)return n.flags&=32767,void(Xy=n);if((e.mode&pp)!==hp){ur(e),n=e.actualDuration;for(var r=e.child;null!==r;)n+=r.actualDuration,r=r.sibling;e.actualDuration=n}if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(Xy=e);Xy=e=n}while(null!==e);fv=Gy,Xy=null}function Vs(e,t,n,r,i,o,a,s,l){e.cancelPendingCommit=null;do{Ys()}while(zv!==Av);if(cg.flushLegacyContextWarning(),cg.flushPendingUnsafeLifecycleWarnings(),(qy&(Fy|jy))!==zy)throw Error("Should not already be working.");if(null!==wd&&"function"==typeof wd.markCommitStarted&&wd.markCommitStarted(n),null===t)V();else{if(0===n&&console.error("finishedLanes should not be empty during a commit. This is a bug in React."),t===e.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");if(o=t.lanes|t.childLanes,function(e,t,n,r,i,o){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=a&~n;0<n;){var c=31-kd(n),d=1<<c;s[c]=0,l[c]=-1;var h=u[c];if(null!==h)for(u[c]=null,c=0;c<h.length;c++){var f=h[c];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&re(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(a&~t))}(e,n,o|=lp,a,s,l),e===Yy&&(Xy=Yy=null,Ky=0),jv=t,Fv=e,Bv=n,Hv=o,Vv=i,Uv=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,u=fd,c=function(){return Xs(),null},null!==(d=Yc.actQueue)?d.push(c):od(u,c)):(e.callbackNode=null,e.callbackPriority=0),Jp=Qp(),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=Yc.T,Yc.T=null,i=Xc.p,Xc.p=Cd,a=qy,qy|=jy;try{!function(e,t){if(e=e.containerInfo,Hb=Cw,nn(e=tn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(e){n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var f;d!==n||0!==i&&3!==d.nodeType||(s=a+i),d!==o||0!==r&&3!==d.nodeType||(l=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(f=d.firstChild);)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),null!==(f=d.nextSibling))break;h=(d=h).parentNode}d=f}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vb={focusedElem:e,selectionRange:n},Cw=!1,Ty=t;null!==Ty;)if(e=(t=Ty).child,1024&t.subtreeFlags&&null!==e)e.return=t,Ty=e;else for(;null!==Ty;){switch(n=(e=t=Ty).alternate,i=e.flags,e.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:1024&i&&null!==n&&Oa(e,n);break;case 3:if(1024&i)if(9===(n=(e=e.stateNode.containerInfo).nodeType))fu(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fu(e);break;default:e.textContent=""}break;default:if(1024&i)throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}if(null!==(e=t.sibling)){e.return=t.return,Ty=e;break}Ty=t.return}}(e,t)}finally{qy=a,Xc.p=i,Yc.T=r}}zv=Rv,Us(),Ws(),Gs()}var u,c,d}function Us(){if(zv===Rv){zv=Av;var e=Fv,t=jv,n=Bv,r=!!(13878&t.flags);if(13878&t.subtreeFlags||r){r=Yc.T,Yc.T=null;var i=Xc.p;Xc.p=Cd;var o=qy;qy|=jy;try{Oy=n,Cy=e,Xa(t,e),Cy=Oy=null,n=Vb;var a=tn(e.containerInfo),s=n.focusedElem,l=n.selectionRange;if(a!==s&&s&&s.ownerDocument&&en(s.ownerDocument.documentElement,s)){if(null!==l&&nn(s)){var u=l.start,c=l.end;if(void 0===c&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=s.textContent.length,g=Math.min(l.start,p),m=void 0===l.end?g:Math.min(l.end,p);!f.extend&&g>m&&(a=m,m=g,g=a);var y=Jt(s,g),v=Jt(s,m);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),g>m?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=s;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof s.focus&&s.focus(),s=0;s<d.length;s++){var w=d[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}Cw=!!Hb,Vb=Hb=null}finally{qy=o,Xc.p=i,Yc.T=r}}e.current=t,zv=_v}}function Ws(){if(zv===_v){zv=Av;var e=Fv,t=jv,n=Bv,r=!!(8772&t.flags);if(8772&t.subtreeFlags||r){r=Yc.T,Yc.T=null;var i=Xc.p;Xc.p=Cd;var o=qy;qy|=jy;try{null!==wd&&"function"==typeof wd.markLayoutEffectsStarted&&wd.markLayoutEffectsStarted(n),Oy=n,Cy=e,Va(e,t.alternate,t),Cy=Oy=null,null!==wd&&"function"==typeof wd.markLayoutEffectsStopped&&wd.markLayoutEffectsStopped()}finally{qy=o,Xc.p=i,Yc.T=r}}zv=Dv}}function Gs(){if(zv===Lv||zv===Dv){zv=Av,ld();var e=Fv,t=jv,n=Bv,r=Uv,i=!!(10256&t.subtreeFlags)||!!(10256&t.flags);i?zv=Iv:(zv=Av,jv=Fv=null,qs(e,e.pendingLanes),Kv=0,Qv=null);var o=e.pendingLanes;if(0===o&&(Ov=null),i||ol(e),i=le(n),t=t.stateNode,bd&&"function"==typeof bd.onCommitFiberRoot)try{var a=!(128&~t.current.flags);switch(i){case Cd:var s=dd;break;case Nd:s=hd;break;case Pd:s=fd;break;case Ad:s=gd;break;default:s=fd}bd.onCommitFiberRoot(vd,t,s,a)}catch(e){xd||(xd=!0,console.error("React instrumentation encountered an error: %s",e))}if(Ed&&e.memoizedUpdaters.clear(),Ly.forEach(function(e){return e()}),null!==r){a=Yc.T,s=Xc.p,Xc.p=Cd,Yc.T=null;try{var l=e.onRecoverableError;for(t=0;t<r.length;t++){var u=r[t],c=$s(u.stack);_e(u.source,l,u.value,c)}}finally{Yc.T=a,Xc.p=s}}3&Bv&&Ys(),ll(e),o=e.pendingLanes,4194090&n&&42&o?(rg=!0,e===$v?Gv++:(Gv=0,$v=e)):Gv=0,ul(0),V()}}function $s(e){return e={componentStack:e},Object.defineProperty(e,"digest",{get:function(){console.error('You are accessing "digest" from the errorInfo object passed to onRecoverableError. This property is no longer provided as part of errorInfo but can be accessed as a property of the Error instance itself.')}}),e}function qs(e,t){0===(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,rr(t))}function Ys(e){return Us(),Ws(),Gs(),Xs()}function Xs(){if(zv!==Iv)return!1;var e=Fv,t=Hv;Hv=0;var n=le(Bv),r=Pd>n?Pd:n;n=Yc.T;var i=Xc.p;try{Xc.p=r,Yc.T=null,r=Vv,Vv=null;var o=Fv,a=Bv;if(zv=Av,jv=Fv=null,Bv=0,(qy&(Fy|jy))!==zy)throw Error("Cannot flush passive effects while already rendering.");qv=!0,Yv=!1,null!==wd&&"function"==typeof wd.markPassiveEffectsStarted&&wd.markPassiveEffectsStarted(a);var s=qy;if(qy|=jy,ps(o.current),as(o,o.current,a,r),null!==wd&&"function"==typeof wd.markPassiveEffectsStopped&&wd.markPassiveEffectsStopped(),ol(o),qy=s,ul(0,!1),Yv?o===Qv?Kv++:(Kv=0,Qv=o):Kv=0,Yv=qv=!1,bd&&"function"==typeof bd.onPostCommitFiberRoot)try{bd.onPostCommitFiberRoot(vd,o)}catch(e){xd||(xd=!0,console.error("React instrumentation encountered an error: %s",e))}var l=o.current.stateNode;return l.effectDuration=0,l.passiveEffectDuration=0,!0}finally{Xc.p=i,Yc.T=n,qs(e,t)}}function Ks(e,t,n){t=ln(n,t),null!==(e=Mr(e,t=Io(e.stateNode,t,2),2))&&(ne(e,2),ll(e))}function Qs(e,t,n){if(Zv=!1,3===e.tag)Ks(e,e,n);else{for(;null!==t;){if(3===t.tag)return void Ks(t,e,n);if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ov||!Ov.has(r)))return e=ln(n,e),void(null!==(r=Mr(t,n=zo(2),2))&&(Fo(n,r,t,e),ne(r,2),ll(r)))}t=t.return}console.error("Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Potential causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.\n\nError message:\n\n%s",n)}}function Zs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Iy;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(dv=!0,i.add(n),r=Js.bind(null,e,t,n),Ed&&sl(e,n),t.then(r,r))}function Js(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,vs()&&null===Yc.actQueue&&console.error("A suspended resource finished loading inside a test, but the event was not wrapped in act(...).\n\nWhen testing, code that resolves suspended data should be wrapped into act(...):\n\nact(() => {\n  /* finish loading suspended data */\n});\n/* assert on the output */\n\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act"),Yy===e&&(Ky&n)===n&&(fv===Wy||fv===Uy&&(62914560&Ky)===Ky&&ud()-Ev<kv?(qy&Fy)===zy&&Cs(e,0):mv|=n,vv===Ky&&(vv=0)),ll(e)}function el(e,t){0===t&&(t=ee()),null!==(e=hn(e,t))&&(ne(e,t),ll(e))}function tl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),el(e,n)}function nl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}null!==r&&r.delete(t),el(e,n)}function rl(e,t,n){if(67117056&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,i=t,o=i.type===_c;o=n||o,22!==i.tag?67108864&i.flags?o&&_e(i,il,r,i,(i.mode&yp)===hp):rl(r,i,o):null===i.memoizedState&&(o&&8192&i.flags?_e(i,il,r,i):67108864&i.subtreeFlags&&_e(i,rl,r,i,o)),t=t.sibling}}function il(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];B(!0);try{Ja(t),n&&ms(t),ts(e,t.alternate,t,!1),n&&ls(e,t,0,null,!1)}finally{B(!1)}}function ol(e){var t=!0;e.current.mode&(gp|mp)||(t=!1),rl(e,e.current,t)}function al(e){if((qy&Fy)===zy){var t=e.tag;if(3===t||1===t||0===t||11===t||14===t||15===t){if(t=S(e)||"ReactComponent",null!==Jv){if(Jv.has(t))return;Jv.add(t)}else Jv=new Set([t]);_e(e,function(){console.error("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")})}}}function sl(e,t){Ed&&e.memoizedUpdaters.forEach(function(n){ae(e,n,t)})}function ll(e){e!==rb&&null===e.next&&(null===rb?nb=rb=e:rb=rb.next=e),ab=!0,null!==Yc.actQueue?ob||(ob=!0,ml()):ib||(ib=!0,ml())}function ul(e,t){if(!sb&&ab){sb=!0;do{for(var n=!1,r=nb;null!==r;){if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var a=r.suspendedLanes,s=r.pingedLanes;o=(1<<31-kd(42|e)+1)-1,o=201326741&(o&=i&~(a&~s))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,pl(r,o))}else o=Ky,!(3&(o=K(r,r===Yy?o:0,null!==r.cancelPendingCommit||r.timeoutHandle!==qb)))||Q(r,o)||(n=!0,pl(r,o));r=r.next}}while(n);sb=!1}}function cl(){dl()}function dl(){ab=ob=ib=!1;var e,t=0;0!==lb&&(((e=window.event)&&"popstate"===e.type?e!==Wb&&(Wb=e,!0):(Wb=null,!1))&&(t=lb),lb=0);for(var n=ud(),r=null,i=nb;null!==i;){var o=i.next,a=hl(i,n);0===a?(i.next=null,null===r?nb=o:r.next=o,null===o&&(rb=r)):(r=i,(0!==t||3&a)&&(ab=!0)),i=o}ul(t)}function hl(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var a=31-kd(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=Z(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}if(n=Ky,n=K(e,e===(t=Yy)?n:0,null!==e.cancelPendingCommit||e.timeoutHandle!==qb),r=e.callbackNode,0===n||e===t&&(sv===Jy||sv===av)||null!==e.cancelPendingCommit)return null!==r&&gl(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Q(e,n)){if((t=n&-n)===e.callbackPriority&&(null===Yc.actQueue||r===ub))return t;switch(gl(r),le(n)){case Cd:case Nd:n=hd;break;case Pd:n=fd;break;case Ad:n=gd;break;default:n=fd}return r=fl.bind(null,e),null!==Yc.actQueue?(Yc.actQueue.push(r),n=ub):n=od(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&gl(r),e.callbackPriority=2,e.callbackNode=null,2}function fl(e,t){if(rg=ng=!1,zv!==Av&&zv!==Iv)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ys()&&e.callbackNode!==n)return null;var r=Ky;return 0===(r=K(e,e===Yy?r:0,null!==e.cancelPendingCommit||e.timeoutHandle!==qb))?null:(Es(e,r,t),hl(e,ud()),null!=e.callbackNode&&e.callbackNode===n?fl.bind(null,e):null)}function pl(e,t){if(Ys())return null;ng=rg,rg=!1,Es(e,t,!0)}function gl(e){e!==ub&&null!==e&&ad(e)}function ml(){null!==Yc.actQueue&&Yc.actQueue.push(function(){return dl(),null}),Xb(function(){(qy&(Fy|jy))!==zy?od(dd,cl):dl()})}function yl(){return 0===lb&&(lb=J()),lb}function vl(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:(z(e,"action"),Tt(""+e))}function bl(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function wl(e,t,n){e.currentTarget=n;try{t(e)}catch(e){sy(e)}e.currentTarget=null}function xl(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n];e:{var i=void 0,o=r.event;if(r=r.listeners,t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;null!==l?_e(l,wl,o,s,u):wl(o,s,u),i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;null!==l?_e(l,wl,o,s,u):wl(o,s,u),i=l}}}}function El(e,t){db.has(e)||console.error('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',e);var n=t[Id];void 0===n&&(n=t[Id]=new Set);var r=e+"__bubble";n.has(r)||(Ml(t,e,2,!1),n.add(r))}function kl(e,t,n){db.has(e)&&!t&&console.error('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',e);var r=0;t&&(r|=4),Ml(n,e,r,t)}function Sl(e){if(!e[hb]){e[hb]=!0,Hd.forEach(function(t){"selectionchange"!==t&&(db.has(t)||kl(t,!1,e),kl(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[hb]||(t[hb]=!0,kl("selectionchange",!1,t))}}function Ml(e,t,n,r){switch(oc(t)){case Cd:var i=ec;break;case Nd:i=tc;break;default:i=nc}n=i.bind(null,t,n,e),i=void 0,!Xh||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Tl(e,t,n,r,i){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==s;){if(null===(a=de(s)))return;if(5===(l=a.tag)||6===l||26===l||27===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Nt(function(){var r=o,i=Ot(n),a=[];e:{var s=tp.get(e);if(void 0!==s){var l=of,u=e;switch(e){case"keypress":if(0===Rt(n))break e;case"keydown":case"keyup":l=bf;break;case"focusin":u="focus",l=df;break;case"focusout":u="blur",l=df;break;case"beforeblur":case"afterblur":l=df;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=uf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=cf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=xf;break;case Yf:case Xf:case Kf:l=hf;break;case ep:l=Ef;break;case"scroll":case"scrollend":l=sf;break;case"wheel":l=kf;break;case"copy":case"cut":case"paste":l=ff;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=wf;break;case"toggle":case"beforetoggle":l=Sf}var c=!!(4&t),d=!c&&("scroll"===e||"scrollend"===e),h=c?null!==s?s+"Capture":null:s;c=[];for(var f,p=r;null!==p;){var g=p;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===h||null!=(g=Pt(p,h))&&c.push(Ol(p,g,f)),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Wh||!(u=n.relatedTarget||n.fromElement)||!de(u)&&!u[Ld])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?de(u):null)&&(d=y(u),c=u.tag,u!==d||5!==c&&27!==c&&6!==c)&&(u=null)):(l=null,u=r),l!==u)){if(c=uf,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=wf,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:fe(l),f=null==u?s:fe(u),(s=new c(g,p+"leave",l,n,i)).target=d,s.relatedTarget=f,g=null,de(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=f,c.relatedTarget=d,g=c),d=g,l&&u)e:{for(h=u,p=0,f=c=l;f;f=Nl(f))p++;for(f=0,g=h;g;g=Nl(g))f++;for(;0<p-f;)c=Nl(c),p--;for(;0<f-p;)h=Nl(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Nl(c),h=Nl(h)}c=null}else c=null;null!==l&&Pl(a,s,l,c,!1),null!==u&&null!==d&&Pl(a,d,u,c,!0)}if("select"===(l=(s=r?fe(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Wt;else if(Bt(s))if(Ff)m=Kt;else{m=Yt;var v=qt}else!(l=s.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Et(r.elementType)&&(m=Wt):m=Xt;switch(m&&(m=m(e,r))?Ht(a,m,n,i):(v&&v(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&We(s,"number",s.value)),v=r?fe(r):window,e){case"focusin":(Bt(v)||"true"===v.contentEditable)&&(Hf=v,Vf=r,Uf=null);break;case"focusout":Uf=Vf=Hf=null;break;case"mousedown":Wf=!0;break;case"contextmenu":case"mouseup":case"dragend":Wf=!1,rn(a,n,i);break;case"selectionchange":if(Bf)break;case"keydown":case"keyup":rn(a,n,i)}var b;if(Of)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Df?Ft(e,n)&&(w="onCompositionEnd"):"keydown"===e&&n.keyCode===Tf&&(w="onCompositionStart");w&&(Pf&&"ko"!==n.locale&&(Df||"onCompositionStart"!==w?"onCompositionEnd"===w&&Df&&(b=At()):(tf="value"in(ef=i)?ef.value:ef.textContent,Df=!0)),0<(v=Cl(r,w)).length&&(w=new pf(w,e,null,n,i),a.push({event:w,listeners:v}),(b||null!==(b=jt(n)))&&(w.data=b))),(b=Nf?function(e,t){switch(e){case"compositionend":return jt(t);case"keypress":return t.which!==Af?null:(_f=!0,Rf);case"textInput":return(e=t.data)===Rf&&_f?null:e;default:return null}}(e,n):function(e,t){if(Df)return"compositionend"===e||!Of&&Ft(e,t)?(e=At(),nf=tf=ef=null,Df=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pf&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(w=Cl(r,"onBeforeInput")).length&&(v=new gf("onBeforeInput","beforeinput",null,n,i),a.push({event:v,listeners:w}),v.data=b),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=vl((i[Dd]||null).action),a=r.submitter;a&&null!==(t=(t=a[Dd]||null)?vl(t.formAction):a.getAttribute("formAction"))&&(o=t,a=null);var s=new of("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==lb){var e=a?bl(i,a):new FormData(i),t={pending:!0,data:e,method:i.method,action:o};Object.freeze(t),Xi(n,t,null,e)}}else"function"==typeof o&&(s.preventDefault(),t={pending:!0,data:e=a?bl(i,a):new FormData(i),method:i.method,action:o},Object.freeze(t),Xi(n,t,o,e))},currentTarget:i}]})}}(a,e,r,n,i)}xl(a,t)})}function Ol(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Cl(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=Pt(e,n))&&r.unshift(Ol(e,i,o)),null!=(i=Pt(e,t))&&r.push(Ol(e,i,o))),3===e.tag)return r;e=e.return}return[]}function Nl(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Pl(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===u||(l=u,i?null!=(u=Pt(n,o))&&a.unshift(Ol(n,u,l)):i||null!=(u=Pt(n,o))&&a.push(Ol(n,u,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Al(e,t){!function(e,t){var n,r=[];for(n in t)St(e,n)||r.push(n);t=r.map(function(e){return"`"+e+"`"}).join(", "),1===r.length?console.error("Invalid aria prop %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",t,e):1<r.length&&console.error("Invalid aria props %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",t,e)}(e,t),"input"!==e&&"textarea"!==e&&"select"!==e||null==t||null!==t.value||zh||(zh=!0,"select"===e&&t.multiple?console.error("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",e):console.error("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",e));var n={registrationNameDependencies:Vd,possibleRegistrationNames:Ud};Et(e)||"string"==typeof t.is||function(e,t,n){var r,i=[];for(r in t)Mt(e,r,t[r],n)||i.push(r);t=i.map(function(e){return"`"+e+"`"}).join(", "),1===i.length?console.error("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://react.dev/link/attribute-behavior ",t,e):1<i.length&&console.error("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://react.dev/link/attribute-behavior ",t,e)}(e,t,n),t.contentEditable&&!t.suppressContentEditableWarning&&null!=t.children&&console.error("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional.")}function Rl(e,t,n,r){t!==n&&(n=Ll(n),Ll(t)!==n&&(r[e]=t))}function _l(e,t){!1===t?console.error("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",e,e,e):console.error("Expected `%s` listener to be a function, instead got a value of `%s` type.",e,typeof t)}function Dl(e,t){return(e=e.namespaceURI===Nh||e.namespaceURI===Ph?e.ownerDocument.createElementNS(e.namespaceURI,e.tagName):e.ownerDocument.createElement(e.tagName)).innerHTML=t,e.innerHTML}function Ll(e){return L(e)&&(console.error("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before using it here.",D(e)),I(e)),("string"==typeof e?e:""+e).replace(xb,"\n").replace(Eb,"")}function Il(e,t){return t=Ll(t),Ll(e)===t}function zl(){}function Fl(e,t,n,r,i,o){switch(n){case"children":"string"==typeof r?(vt(r,t,!1),"body"===t||"textarea"===t&&""===r||bt(e,r)):"number"!=typeof r&&"bigint"!=typeof r||(vt(""+r,t,!1),"body"!==t&&bt(e,""+r));break;case"className":Ee(e,"class",r);break;case"tabIndex":Ee(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Ee(e,n,r);break;case"style":xt(e,r,o);break;case"data":if("object"!==t){Ee(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){"src"===n?console.error('An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',n,n):console.error('An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',n,n),e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}z(r,n),r=Tt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(null!=r&&("form"===t?"formAction"===n?console.error("You can only pass the formAction prop to <input> or <button>. Use the action prop on <form>."):"function"==typeof r&&(null==i.encType&&null==i.method||vb||(vb=!0,console.error("Cannot specify a encType or method for a form that specifies a function as the action. React provides those automatically. They will get overridden.")),null==i.target||yb||(yb=!0,console.error("Cannot specify a target for a form that specifies a function as the action. The function will always be executed in the same window."))):"input"===t||"button"===t?"action"===n?console.error("You can only pass the action prop to <form>. Use the formAction prop on <input> or <button>."):"input"!==t||"submit"===i.type||"image"===i.type||gb?"button"!==t||null==i.type||"submit"===i.type||gb?"function"==typeof r&&(null==i.name||mb||(mb=!0,console.error('Cannot specify a "name" prop for a button that specifies a function as a formAction. React needs it to encode which action should be invoked. It will get overridden.')),null==i.formEncType&&null==i.formMethod||vb||(vb=!0,console.error("Cannot specify a formEncType or formMethod for a button that specifies a function as a formAction. React provides those automatically. They will get overridden.")),null==i.formTarget||yb||(yb=!0,console.error("Cannot specify a formTarget for a button that specifies a function as a formAction. The function will always be executed in the same window."))):(gb=!0,console.error('A button can only specify a formAction along with type="submit" or no type.')):(gb=!0,console.error('An input can only specify a formAction along with type="submit" or type="image".')):"action"===n?console.error("You can only pass the action prop to <form>."):console.error("You can only pass the formAction prop to <input> or <button>.")),"function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof o&&("formAction"===n?("input"!==t&&Fl(e,t,"name",i.name,i,null),Fl(e,t,"formEncType",i.formEncType,i,null),Fl(e,t,"formMethod",i.formMethod,i,null),Fl(e,t,"formTarget",i.formTarget,i,null)):(Fl(e,t,"encType",i.encType,i,null),Fl(e,t,"method",i.method,i,null),Fl(e,t,"target",i.target,i,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}z(r,n),r=Tt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&("function"!=typeof r&&_l(n,r),e.onclick=zl);break;case"onScroll":null!=r&&("function"!=typeof r&&_l(n,r),El("scroll",e));break;case"onScrollEnd":null!=r&&("function"!=typeof r&&_l(n,r),El("scrollend",e));break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(null!=(n=r.__html)){if(null!=i.children)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}z(r,n),n=Tt(""+r),e.setAttributeNS(kb,"xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?(z(r,n),e.setAttribute(n,""+r)):e.removeAttribute(n);break;case"inert":""!==r||wb[n]||(wb[n]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",n));case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?(z(r,n),e.setAttribute(n,r)):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?(z(r,n),e.setAttribute(n,r)):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):(z(r,n),e.setAttribute(n,r));break;case"popover":El("beforetoggle",e),El("toggle",e),xe(e,"popover",r);break;case"xlinkActuate":ke(e,kb,"xlink:actuate",r);break;case"xlinkArcrole":ke(e,kb,"xlink:arcrole",r);break;case"xlinkRole":ke(e,kb,"xlink:role",r);break;case"xlinkShow":ke(e,kb,"xlink:show",r);break;case"xlinkTitle":ke(e,kb,"xlink:title",r);break;case"xlinkType":ke(e,kb,"xlink:type",r);break;case"xmlBase":ke(e,Sb,"xml:base",r);break;case"xmlLang":ke(e,Sb,"xml:lang",r);break;case"xmlSpace":ke(e,Sb,"xml:space",r);break;case"is":null!=o&&console.error('Cannot update the "is" prop after it has been initialized.'),xe(e,"is",r);break;case"innerText":case"textContent":break;case"popoverTarget":bb||null==r||"object"!=typeof r||(bb=!0,console.error("The `popoverTarget` prop expects the ID of an Element as a string. Received %s instead.",r));default:!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1]?xe(e,n=kt(n),r):Vd.hasOwnProperty(n)&&null!=r&&"function"!=typeof r&&_l(n,r)}}function jl(e,t,n,r,i,o){switch(n){case"style":xt(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(null!=(n=r.__html)){if(null!=i.children)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");e.innerHTML=n}}break;case"children":"string"==typeof r?bt(e,r):("number"==typeof r||"bigint"==typeof r)&&bt(e,""+r);break;case"onScroll":null!=r&&("function"!=typeof r&&_l(n,r),El("scroll",e));break;case"onScrollEnd":null!=r&&("function"!=typeof r&&_l(n,r),El("scrollend",e));break;case"onClick":null!=r&&("function"!=typeof r&&_l(n,r),e.onclick=zl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Vd.hasOwnProperty(n)?null!=r&&"function"!=typeof r&&_l(n,r):"o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"==typeof(o=null!=(o=e[Dd]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):xe(e,n,r):("function"!=typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i))}}function Bl(e,t,n){switch(Al(t,n),t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":El("error",e),El("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(t+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:Fl(e,t,r,a,n,null)}}return o&&Fl(e,t,"srcSet",n.srcSet,n,null),void(i&&Fl(e,t,"src",n.src,n,null));case"input":ve("input",n),El("invalid",e);var s=r=a=o=null,l=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var c=n[i];if(null!=c)switch(i){case"name":o=c;break;case"type":a=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":r=c;break;case"defaultValue":s=c;break;case"children":case"dangerouslySetInnerHTML":if(null!=c)throw Error(t+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:Fl(e,t,i,c,n,null)}}return He(0,n),Ue(e,r,s,l,u,a,o,!1),void ze(e);case"select":for(o in ve("select",n),El("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(o)&&null!=(s=n[o]))switch(o){case"value":r=s;break;case"defaultValue":a=s;break;case"multiple":i=s;default:Fl(e,t,o,s,n,null)}return Ye(e,n),t=r,n=a,e.multiple=!!i,void(null!=t?qe(e,!!i,t,!1):null!=n&&qe(e,!!i,n,!0));case"textarea":for(a in ve("textarea",n),El("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(a)&&null!=(s=n[a]))switch(a){case"value":i=s;break;case"defaultValue":o=s;break;case"children":r=s;break;case"dangerouslySetInnerHTML":if(null!=s)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:Fl(e,t,a,s,n,null)}return Xe(0,n),Qe(e,i,o,r),void ze(e);case"option":for(l in Ge(0,n),n)n.hasOwnProperty(l)&&null!=(i=n[l])&&("selected"===l?e.selected=i&&"function"!=typeof i&&"symbol"!=typeof i:Fl(e,t,l,i,n,null));return;case"dialog":El("beforetoggle",e),El("toggle",e),El("cancel",e),El("close",e);break;case"iframe":case"object":El("load",e);break;case"video":case"audio":for(i=0;i<cb.length;i++)El(cb[i],e);break;case"image":El("error",e),El("load",e);break;case"details":El("toggle",e);break;case"embed":case"source":case"link":El("error",e),El("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(t+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:Fl(e,t,u,i,n,null)}return;default:if(Et(t)){for(c in n)n.hasOwnProperty(c)&&void 0!==(i=n[c])&&jl(e,t,c,i,n,void 0);return}}for(s in n)n.hasOwnProperty(s)&&null!=(i=n[s])&&Fl(e,t,s,i,n,null)}function Hl(e){switch(e){case"class":return"className";case"for":return"htmlFor";default:return e}}function Vl(e){var t={};e=e.style;for(var n=0;n<e.length;n++){var r=e[n];t[r]=e.getPropertyValue(r)}return t}function Ul(e,t,n){if(null!=t&&"object"!=typeof t)console.error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");else{var r,i,o=r="";for(i in t)if(t.hasOwnProperty(i)){var a=t[i];null!=a&&"boolean"!=typeof a&&""!==a&&(0===i.indexOf("--")?(F(a,i),r+=o+i+":"+(""+a).trim()):"number"!=typeof a||0===a||Ch.has(i)?(F(a,i),r+=o+i.replace(vh,"-$1").toLowerCase().replace(bh,"-ms-")+":"+(""+a).trim()):r+=o+i.replace(vh,"-$1").toLowerCase().replace(bh,"-ms-")+":"+a+"px",o=";")}r=r||null,(t=e.getAttribute("style"))!==r&&(r=Ll(r),Ll(t)!==r&&(n.style=Vl(e)))}}function Wl(e,t,n,r,i,o){if(i.delete(n),null===(e=e.getAttribute(n)))switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return}else if(null!=r)switch(typeof r){case"function":case"symbol":case"boolean":break;default:if(z(r,t),e===""+r)return}Rl(t,e,r,o)}function Gl(e,t,n,r,i,o){if(i.delete(n),null===(e=e.getAttribute(n))){switch(typeof r){case"function":case"symbol":return}if(!r)return}else switch(typeof r){case"function":case"symbol":break;default:if(r)return}Rl(t,e,r,o)}function $l(e,t,n,r,i,o){if(i.delete(n),null===(e=e.getAttribute(n)))switch(typeof r){case"undefined":case"function":case"symbol":return}else if(null!=r)switch(typeof r){case"function":case"symbol":break;default:if(z(r,n),e===""+r)return}Rl(t,e,r,o)}function ql(e,t,n,r,i,o){if(i.delete(n),null===(e=e.getAttribute(n)))switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return;default:if(isNaN(r))return}else if(null!=r)switch(typeof r){case"function":case"symbol":case"boolean":break;default:if(!isNaN(r)&&(z(r,t),e===""+r))return}Rl(t,e,r,o)}function Yl(e,t,n,r,i,o){if(i.delete(n),null===(e=e.getAttribute(n)))switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return}else if(null!=r)switch(typeof r){case"function":case"symbol":case"boolean":break;default:if(z(r,t),e===(n=Tt(""+r)))return}Rl(t,e,r,o)}function Xl(e,t,n,r){for(var i={},o=new Set,a=e.attributes,s=0;s<a.length;s++)switch(a[s].name.toLowerCase()){case"value":case"checked":case"selected":break;default:o.add(a[s].name)}if(Et(t)){for(var l in n)if(n.hasOwnProperty(l)){var u=n[l];if(null!=u)if(Vd.hasOwnProperty(l))"function"!=typeof u&&_l(l,u);else if(!0!==n.suppressHydrationWarning)switch(l){case"children":"string"!=typeof u&&"number"!=typeof u||Rl("children",e.textContent,u,i);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":a=e.innerHTML,null!=(u=u?u.__html:void 0)&&Rl(l,a,u=Dl(e,u),i);continue;case"style":o.delete(l),Ul(e,u,i);continue;case"offsetParent":case"offsetTop":case"offsetLeft":case"offsetWidth":case"offsetHeight":case"isContentEditable":case"outerText":case"outerHTML":o.delete(l.toLowerCase()),console.error("Assignment to read-only property will result in a no-op: `%s`",l);continue;case"className":o.delete("class"),Rl("className",a=we(e,"class",u),u,i);continue;default:r.context===Fb&&"svg"!==t&&"math"!==t?o.delete(l.toLowerCase()):o.delete(l),Rl(l,a=we(e,l,u),u,i)}}}else for(u in n)if(n.hasOwnProperty(u)&&null!=(l=n[u]))if(Vd.hasOwnProperty(u))"function"!=typeof l&&_l(u,l);else if(!0!==n.suppressHydrationWarning)switch(u){case"children":"string"!=typeof l&&"number"!=typeof l||Rl("children",e.textContent,l,i);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"value":case"checked":case"selected":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":a=e.innerHTML,null!=(l=l?l.__html:void 0)&&a!==(l=Dl(e,l))&&(i[u]={__html:a});continue;case"className":Wl(e,u,"class",l,o,i);continue;case"tabIndex":Wl(e,u,"tabindex",l,o,i);continue;case"style":o.delete(u),Ul(e,l,i);continue;case"multiple":o.delete(u),Rl(u,e.multiple,l,i);continue;case"muted":o.delete(u),Rl(u,e.muted,l,i);continue;case"autoFocus":o.delete("autofocus"),Rl(u,e.autofocus,l,i);continue;case"data":if("object"!==t){o.delete(u),Rl(u,a=e.getAttribute("data"),l,i);continue}case"src":case"href":if(!(""!==l||"a"===t&&"href"===u||"object"===t&&"data"===u)){"src"===u?console.error('An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',u,u):console.error('An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',u,u);continue}Yl(e,u,u,l,o,i);continue;case"action":case"formAction":if(a=e.getAttribute(u),"function"==typeof l){o.delete(u.toLowerCase()),"formAction"===u?(o.delete("name"),o.delete("formenctype"),o.delete("formmethod"),o.delete("formtarget")):(o.delete("enctype"),o.delete("method"),o.delete("target"));continue}if(a===Mb){o.delete(u.toLowerCase()),Rl(u,"function",l,i);continue}Yl(e,u,u.toLowerCase(),l,o,i);continue;case"xlinkHref":Yl(e,u,"xlink:href",l,o,i);continue;case"contentEditable":$l(e,u,"contenteditable",l,o,i);continue;case"spellCheck":$l(e,u,"spellcheck",l,o,i);continue;case"draggable":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":$l(e,u,u,l,o,i);continue;case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":Gl(e,u,u.toLowerCase(),l,o,i);continue;case"capture":case"download":e:{s=e;var c=a=u,d=i;if(o.delete(c),null===(s=s.getAttribute(c)))switch(typeof l){case"undefined":case"function":case"symbol":break e;default:if(!1===l)break e}else if(null!=l)switch(typeof l){case"function":case"symbol":break;case"boolean":if(!0===l&&""===s)break e;break;default:if(z(l,a),s===""+l)break e}Rl(a,s,l,d)}continue;case"cols":case"rows":case"size":case"span":e:{if(s=e,c=a=u,d=i,o.delete(c),null===(s=s.getAttribute(c)))switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":break e;default:if(isNaN(l)||1>l)break e}else if(null!=l)switch(typeof l){case"function":case"symbol":case"boolean":break;default:if(!(isNaN(l)||1>l)&&(z(l,a),s===""+l))break e}Rl(a,s,l,d)}continue;case"rowSpan":ql(e,u,"rowspan",l,o,i);continue;case"start":ql(e,u,u,l,o,i);continue;case"xHeight":Wl(e,u,"x-height",l,o,i);continue;case"xlinkActuate":Wl(e,u,"xlink:actuate",l,o,i);continue;case"xlinkArcrole":Wl(e,u,"xlink:arcrole",l,o,i);continue;case"xlinkRole":Wl(e,u,"xlink:role",l,o,i);continue;case"xlinkShow":Wl(e,u,"xlink:show",l,o,i);continue;case"xlinkTitle":Wl(e,u,"xlink:title",l,o,i);continue;case"xlinkType":Wl(e,u,"xlink:type",l,o,i);continue;case"xmlBase":Wl(e,u,"xml:base",l,o,i);continue;case"xmlLang":Wl(e,u,"xml:lang",l,o,i);continue;case"xmlSpace":Wl(e,u,"xml:space",l,o,i);continue;case"inert":""!==l||wb[u]||(wb[u]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",u)),Gl(e,u,u,l,o,i);continue;default:if(!(2<u.length)||"o"!==u[0]&&"O"!==u[0]||"n"!==u[1]&&"N"!==u[1]){s=kt(u),a=!1,r.context===Fb&&"svg"!==t&&"math"!==t?o.delete(s.toLowerCase()):(c=u.toLowerCase(),null!==(c=Rh.hasOwnProperty(c)&&Rh[c]||null)&&c!==u&&(a=!0,o.delete(c)),o.delete(s));e:if(c=e,d=s,s=l,be(d))if(c.hasAttribute(d))c=c.getAttribute(d),z(s,d),s=c===""+s?s:c;else{switch(typeof s){case"function":case"symbol":break e;case"boolean":if("data-"!==(c=d.toLowerCase().slice(0,5))&&"aria-"!==c)break e}s=void 0===s?void 0:null}else s=void 0;a||Rl(u,s,l,i)}}return 0<o.size&&!0!==n.suppressHydrationWarning&&function(e,t,n){t.forEach(function(t){n[Hl(t)]="style"===t?Vl(e):e.getAttribute(t)})}(e,o,i),0===Object.keys(i).length?null:i}function Kl(e){return 9===e.nodeType?e:e.ownerDocument}function Ql(e){switch(e){case Ph:return jb;case Nh:return Bb;default:return Fb}}function Zl(e,t){if(e===Fb)switch(t){case"svg":return jb;case"math":return Bb;default:return Fb}return e===jb&&"foreignObject"===t?Fb:e}function Jl(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}function eu(e){setTimeout(function(){throw e})}function tu(e,t,n){switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&e.focus();break;case"img":n.src?e.src=n.src:n.srcSet&&(e.srcset=n.srcSet)}}function nu(e,t,n,r){!function(e,t,n,r){switch(Al(t,r),t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,s=null,l=null,u=null,c=null;for(f in n){var d=n[f];if(n.hasOwnProperty(f)&&null!=d)switch(f){case"checked":case"value":break;case"defaultValue":l=d;default:r.hasOwnProperty(f)||Fl(e,t,f,null,r,d)}}for(var h in r){var f=r[h];if(d=n[h],r.hasOwnProperty(h)&&(null!=f||null!=d))switch(h){case"type":o=f;break;case"name":i=f;break;case"checked":u=f;break;case"defaultChecked":c=f;break;case"value":a=f;break;case"defaultValue":s=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(t+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:f!==d&&Fl(e,t,h,f,r,d)}}return t="checkbox"===n.type||"radio"===n.type?null!=n.checked:null!=n.value,r="checkbox"===r.type||"radio"===r.type?null!=r.checked:null!=r.value,t||!r||pb||(console.error("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),pb=!0),!t||r||fb||(console.error("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),fb=!0),void Ve(e,a,s,l,u,c,o,i);case"select":for(o in f=a=s=h=null,n)if(l=n[o],n.hasOwnProperty(o)&&null!=l)switch(o){case"value":break;case"multiple":f=l;default:r.hasOwnProperty(o)||Fl(e,t,o,null,r,l)}for(i in r)if(o=r[i],l=n[i],r.hasOwnProperty(i)&&(null!=o||null!=l))switch(i){case"value":h=o;break;case"defaultValue":s=o;break;case"multiple":a=o;default:o!==l&&Fl(e,t,i,o,r,l)}return r=s,t=a,n=f,void(null!=h?qe(e,!!t,h,!1):!!n!=!!t&&(null!=r?qe(e,!!t,r,!0):qe(e,!!t,t?[]:"",!1)));case"textarea":for(s in f=h=null,n)if(i=n[s],n.hasOwnProperty(s)&&null!=i&&!r.hasOwnProperty(s))switch(s){case"value":case"children":break;default:Fl(e,t,s,null,r,i)}for(a in r)if(i=r[a],o=n[a],r.hasOwnProperty(a)&&(null!=i||null!=o))switch(a){case"value":h=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:i!==o&&Fl(e,t,a,i,r,o)}return void Ke(e,h,f);case"option":for(var p in n)h=n[p],n.hasOwnProperty(p)&&null!=h&&!r.hasOwnProperty(p)&&("selected"===p?e.selected=!1:Fl(e,t,p,null,r,h));for(l in r)h=r[l],f=n[l],!r.hasOwnProperty(l)||h===f||null==h&&null==f||("selected"===l?e.selected=h&&"function"!=typeof h&&"symbol"!=typeof h:Fl(e,t,l,h,r,f));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)h=n[g],n.hasOwnProperty(g)&&null!=h&&!r.hasOwnProperty(g)&&Fl(e,t,g,null,r,h);for(u in r)if(h=r[u],f=n[u],r.hasOwnProperty(u)&&h!==f&&(null!=h||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(t+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:Fl(e,t,u,h,r,f)}return;default:if(Et(t)){for(var m in n)h=n[m],n.hasOwnProperty(m)&&void 0!==h&&!r.hasOwnProperty(m)&&jl(e,t,m,void 0,r,h);for(c in r)h=r[c],f=n[c],!r.hasOwnProperty(c)||h===f||void 0===h&&void 0===f||jl(e,t,c,h,r,f);return}}for(var y in n)h=n[y],n.hasOwnProperty(y)&&null!=h&&!r.hasOwnProperty(y)&&Fl(e,t,y,null,r,h);for(d in r)h=r[d],f=n[d],!r.hasOwnProperty(d)||h===f||null==h&&null==f||Fl(e,t,d,h,r,f)}(e,t,n,r),e[Dd]=r}function ru(e){bt(e,"")}function iu(e,t,n){e.nodeValue=n}function ou(e){return"head"===e}function au(e,t){e.removeChild(t)}function su(e,t){(9===e.nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e).removeChild(t)}function lu(e,t){var n=t,r=0,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if((n=o.data)===Cb){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(n&Ab&&Su(a.documentElement),n&Rb&&Su(a.body),n&_b)for(Su(n=a.head),a=n.firstChild;a;){var s=a.nextSibling,l=a.nodeName;a[Bd]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=s}}if(0===i)return e.removeChild(o),void pc(t);i--}else n===Ob||n===Nb||n===Pb?i++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);pc(t)}function uu(e){"function"==typeof(e=e.style).setProperty?e.setProperty("display","none","important"):e.display="none"}function cu(e){e.nodeValue=""}function du(e,t){t=null!=(t=t[zb])&&t.hasOwnProperty("display")?t.display:null,e.style.display=null==t||"boolean"==typeof t?"":(""+t).trim()}function hu(e,t){e.nodeValue=t}function fu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":fu(n),ce(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function pu(e){return e.data===Pb||e.data===Nb&&e.ownerDocument.readyState===Ib}function gu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if((t=e.data)===Ob||t===Pb||t===Nb||t===Db||t===Lb)break;if(t===Cb)return null}}return e}function mu(e){if(1===e.nodeType){for(var t=e.nodeName.toLowerCase(),n={},r=e.attributes,i=0;i<r.length;i++){var o=r[i];n[Hl(o.name)]="style"===o.name.toLowerCase()?Vl(e):o.value}return{type:t,props:n}}return 8===e.nodeType?{type:"Suspense",props:{}}:e.nodeValue}function yu(e,t,n){return null===n||!0!==n[Tb]?(e.nodeValue===t?e=null:(t=Ll(t),e=Ll(e.nodeValue)===t?null:e.nodeValue),e):null}function vu(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Cb){if(0===t)return gu(e.nextSibling);t--}else n!==Ob&&n!==Pb&&n!==Nb||t++}e=e.nextSibling}return null}function bu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Ob||n===Pb||n===Nb){if(0===t)return e;t--}else n===Cb&&t++}e=e.previousSibling}return null}function wu(e){pc(e)}function xu(e){pc(e)}function Eu(e,t,n,r,i){switch(i&&yt(e,r.ancestorInfo),t=Kl(n),e){case"html":if(!(e=t.documentElement))throw Error("React expected an <html> element (document.documentElement) to exist in the Document but one was not found. React never removes the documentElement for any Document it renders into so the cause is likely in some other script running on this page.");return e;case"head":if(!(e=t.head))throw Error("React expected a <head> element (document.head) to exist in the Document but one was not found. React never removes the head for any Document it renders into so the cause is likely in some other script running on this page.");return e;case"body":if(!(e=t.body))throw Error("React expected a <body> element (document.body) to exist in the Document but one was not found. React never removes the body for any Document it renders into so the cause is likely in some other script running on this page.");return e;default:throw Error("resolveSingletonInstance was called with an element type that is not supported. This is a bug in React.")}}function ku(e,t,n,r){if(!n[Ld]&&he(n)){var i=n.tagName.toLowerCase();console.error("You are mounting a new %s component when a previous one has not first unmounted. It is an error to render more than one %s component at a time and attributes and children of these components will likely fail in unpredictable ways. Please only render a single instance of <%s> and if you need to mount a new one, ensure any previous ones have unmounted first.",i,i,i)}switch(e){case"html":case"head":case"body":break;default:console.error("acquireSingletonInstance was called with an element type that is not supported. This is a bug in React.")}for(i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Bl(n,e,t),n[_d]=r,n[Dd]=t}function Su(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ce(e)}function Mu(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}function Tu(e,t,n){var r=pw;if(r&&"string"==typeof t&&t){var i=Be(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),rw.has(i)||(rw.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(Bl(t=r.createElement("link"),"link",e),ge(t),r.head.appendChild(t)))}}function Ou(e,t,n,r){var i=(i=nd.current)?Mu(i):null;if(!i)throw Error('"resourceRoot" was expected to exist. This is a bug in React.');switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(n=Nu(n.href),(r=(t=pe(i).hoistableStyles).get(n))||(r={type:"style",instance:null,count:0,state:null},t.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Nu(n.href);var o=pe(i).hoistableStyles,a=o.get(e);if(!a&&(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:Qb,preload:null}},o.set(e,a),(o=i.querySelector(Pu(e)))&&!o._p&&(a.instance=o,a.state.loading=Zb|tw),!nw.has(e))){var s={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy};nw.set(e,s),o||function(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=Zb:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=Zb}),t.addEventListener("error",function(){return r.loading|=Jb}),Bl(t,"link",n),ge(t),e.head.appendChild(t))}(i,e,s,a.state)}if(t&&null===r)throw n="\n\n  - "+Cu(t)+"\n  + "+Cu(n),Error("Expected <link> not to update to be updated to a stylesheet with precedence. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+n);return a}if(t&&null!==r)throw n="\n\n  - "+Cu(t)+"\n  + "+Cu(n),Error("Expected stylesheet with precedence to not be updated to a different kind of <link>. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+n);return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(n=Ru(n),(r=(t=pe(i).hoistableScripts).get(n))||(r={type:"script",instance:null,count:0,state:null},t.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error('getResource encountered a type it did not expect: "'+e+'". this is a bug in React.')}}function Cu(e){var t=0,n="<link";return"string"==typeof e.rel?(t++,n+=' rel="'+e.rel+'"'):id.call(e,"rel")&&(t++,n+=' rel="'+(null===e.rel?"null":"invalid type "+typeof e.rel)+'"'),"string"==typeof e.href?(t++,n+=' href="'+e.href+'"'):id.call(e,"href")&&(t++,n+=' href="'+(null===e.href?"null":"invalid type "+typeof e.href)+'"'),"string"==typeof e.precedence?(t++,n+=' precedence="'+e.precedence+'"'):id.call(e,"precedence")&&(t++,n+=" precedence={"+(null===e.precedence?"null":"invalid type "+typeof e.precedence)+"}"),Object.getOwnPropertyNames(e).length>t&&(n+=" ..."),n+" />"}function Nu(e){return'href="'+Be(e)+'"'}function Pu(e){return'link[rel="stylesheet"]['+e+"]"}function Au(e){return Cc({},e,{"data-precedence":e.precedence,precedence:null})}function Ru(e){return'[src="'+Be(e)+'"]'}function _u(e){return"script[async]"+e}function Du(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Be(n.href)+'"]');if(r)return t.instance=r,ge(r),r;var i=Cc({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return ge(r=(e.ownerDocument||e).createElement("style")),Bl(r,"style",i),Lu(r,n.precedence,e),t.instance=r;case"stylesheet":i=Nu(n.href);var o=e.querySelector(Pu(i));if(o)return t.state.loading|=tw,t.instance=o,ge(o),o;r=Au(n),(i=nw.get(i))&&Iu(r,i),ge(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),Bl(o,"link",r),t.state.loading|=tw,Lu(o,n.precedence,e),t.instance=o;case"script":return o=Ru(n.src),(i=e.querySelector(_u(o)))?(t.instance=i,ge(i),i):(r=n,(i=nw.get(o))&&zu(r=Cc({},n),i),ge(i=(e=e.ownerDocument||e).createElement("script")),Bl(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error('acquireResource encountered a resource type it did not expect: "'+t.type+'". this is a bug in React.')}else"stylesheet"===t.type&&(t.state.loading&tw)===Qb&&(r=t.instance,t.state.loading|=tw,Lu(r,n.precedence,e));return t.instance}function Lu(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)o=s;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Iu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function zu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}function Fu(e,t,n){if(null===gw){var r=new Map,i=gw=new Map;i.set(n,r)}else(r=(i=gw).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Bd]||o[_d]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&o.namespaceURI!==Ph){var a=o.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(o):r.set(a,[o])}}return r}function ju(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bu(e){return"stylesheet"!==e.type||(e.state.loading&ew)!==Qb}function Hu(){}function Vu(){if(this.count--,0===this.count)if(this.stylesheets)Uu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}function Uu(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,vw=new Map,t.forEach(Wu,e),vw=null,Vu.call(e))}function Wu(e,t){if(!(t.state.loading&tw)){var n=vw.get(e);if(n)var r=n.get(yw);else{n=new Map,vw.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(yw,r)}a=(i=t.instance).getAttribute("data-precedence"),(o=n.get(a)||r)===r&&n.set(yw,i),n.set(a,i),this.count++,r=Vu.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=tw}}function Gu(e,t,n,r,i,o,a,s){for(this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=qb,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=te(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=te(0),this.hiddenUpdates=te(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map,this.passiveEffectDuration=this.effectDuration=-0,this.memoizedUpdaters=new Set,e=this.pendingUpdatersLaneMap=[],t=0;31>t;t++)e.push(new Set);this._debugRootType=n?"hydrateRoot()":"createRoot()"}function $u(e,t,n,r,i,o,a,s,l,u,c,d){return e=new Gu(e,t,n,a,s,l,u,d),t=fp,!0===o&&(t|=gp|mp),Ed&&(t|=pp),o=h(3,null,null,t),e.current=o,o.stateNode=e,nr(t=tr()),e.pooledCache=t,nr(t),o.memoizedState={element:r,isDehydrated:n,cache:t},Er(o),e}function qu(e){return e?e=up:up}function Yu(e,t,n,r,i,o){if(bd&&"function"==typeof bd.onScheduleFiberRoot)try{bd.onScheduleFiberRoot(vd,r,n)}catch(e){xd||(xd=!0,console.error("React instrumentation encountered an error: %s",e))}null!==wd&&"function"==typeof wd.markRenderScheduled&&wd.markRenderScheduled(t),i=qu(i),null===r.context?r.context=i:r.pendingContext=i,eh&&null!==Jd&&!Tw&&(Tw=!0,console.error("Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.\n\nCheck the render method of %s.",S(Jd)||"Unknown")),(r=Sr(t)).payload={element:n},null!==(o=void 0===o?null:o)&&("function"!=typeof o&&console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",o),r.callback=o),null!==(n=Mr(e,r,t))&&(xs(n,e,t),Tr(n,e,t))}function Xu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ku(e,t){Xu(e,t),(e=e.alternate)&&Xu(e,t)}function Qu(e){if(13===e.tag){var t=hn(e,67108864);null!==t&&xs(t,e,67108864),Ku(e,67108864)}}function Zu(){return Jd}function Ju(){for(var e=new Map,t=1,n=0;31>n;n++){var r=Y(t);e.set(t,r),t*=2}return e}function ec(e,t,n,r){var i=Yc.T;Yc.T=null;var o=Xc.p;try{Xc.p=Cd,nc(e,t,n,r)}finally{Xc.p=o,Yc.T=i}}function tc(e,t,n,r){var i=Yc.T;Yc.T=null;var o=Xc.p;try{Xc.p=Nd,nc(e,t,n,r)}finally{Xc.p=o,Yc.T=i}}function nc(e,t,n,r){if(Cw){var i=rc(r);if(null===i)Tl(e,t,r,Nw,n),ac(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Aw=sc(Aw,e,t,n,r,i),!0;case"dragenter":return Rw=sc(Rw,e,t,n,r,i),!0;case"mouseover":return _w=sc(_w,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Dw.set(o,sc(Dw.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Lw.set(o,sc(Lw.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(ac(e,r),4&t&&-1<zw.indexOf(e)){for(;null!==i;){var o=he(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var a=X(o.pendingLanes);if(0!==a){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-kd(a);s.entanglements[1]|=l,a&=~l}ll(o),(qy&(Fy|jy))===zy&&(Sv=ud()+Mv,ul(0))}}break;case 13:null!==(s=hn(o,2))&&xs(s,o,2),Ts(),Ku(o,2)}if(null===(o=rc(r))&&Tl(e,t,r,Nw,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Tl(e,t,r,null,n)}}function rc(e){return ic(e=Ot(e))}function ic(e){if(Nw=null,null!==(e=de(e))){var t=y(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=v(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Nw=e,null}function oc(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return Cd;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return Nd;case"message":switch(cd()){case dd:return Cd;case hd:return Nd;case fd:case pd:return Pd;case gd:return Ad;default:return Pd}default:return Pd}}function ac(e,t){switch(e){case"focusin":case"focusout":Aw=null;break;case"dragenter":case"dragleave":Rw=null;break;case"mouseover":case"mouseout":_w=null;break;case"pointerover":case"pointerout":Dw.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lw.delete(t.pointerId)}}function sc(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&null!==(t=he(t))&&Qu(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function lc(e){var t=de(e.target);if(null!==t){var n=y(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=v(n)))return e.blockedOn=t,void function(e,t){var n=Xc.p;try{return Xc.p=e,t()}finally{Xc.p=n}}(e.priority,function(){if(13===n.tag){var e=bs(n);e=oe(e);var t=hn(n,e);null!==t&&xs(t,n,e),Ku(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function uc(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=rc(e.nativeEvent);if(null!==n)return null!==(t=he(n))&&Qu(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n),i=r;null!==Wh&&console.error("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),Wh=i,n.target.dispatchEvent(r),null===Wh&&console.error("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),Wh=null,t.shift()}return!0}function cc(e,t,n){uc(e)&&n.delete(t)}function dc(){Pw=!1,null!==Aw&&uc(Aw)&&(Aw=null),null!==Rw&&uc(Rw)&&(Rw=null),null!==_w&&uc(_w)&&(_w=null),Dw.forEach(cc),Lw.forEach(cc)}function hc(e,t){e.blockedOn===t&&(e.blockedOn=null,Pw||(Pw=!0,Mc.unstable_scheduleCallback(Mc.unstable_NormalPriority,dc)))}function fc(e){Fw!==e&&(Fw=e,Mc.unstable_scheduleCallback(Mc.unstable_NormalPriority,function(){Fw===e&&(Fw=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!=typeof r){if(null===ic(r||n))continue;break}var o=he(n);null!==o&&(e.splice(t,3),t-=3,n={pending:!0,data:i,method:n.method,action:r},Object.freeze(n),Xi(o,n,r,i))}}))}function pc(e){function t(t){return hc(t,e)}null!==Aw&&hc(Aw,e),null!==Rw&&hc(Rw,e),null!==_w&&hc(_w,e),Dw.forEach(t),Lw.forEach(t);for(var n=0;n<Iw.length;n++){var r=Iw[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Iw.length&&null===(n=Iw[0]).blockedOn;)lc(n),null===n.blockedOn&&Iw.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],a=i[Dd]||null;if("function"==typeof o)a||fc(n);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[Dd]||null)s=a.formAction;else if(null!==ic(i))continue}else s=a.action;"function"==typeof s?n[r+1]=s:(n.splice(r,3),r-=3),fc(n)}}}function gc(e){this._internalRoot=e}function mc(e){this._internalRoot=e}function yc(e){e[Ld]&&(e._reactRootContainer?console.error("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):console.error("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var vc,bc,wc,xc,Ec,kc,Sc,Mc=Z$(),Tc=C$(),Oc=A$,Cc=Object.assign,Nc=Symbol.for("react.element"),Pc=Symbol.for("react.transitional.element"),Ac=Symbol.for("react.portal"),Rc=Symbol.for("react.fragment"),_c=Symbol.for("react.strict_mode"),Dc=Symbol.for("react.profiler"),Lc=Symbol.for("react.provider"),Ic=Symbol.for("react.consumer"),zc=Symbol.for("react.context"),Fc=Symbol.for("react.forward_ref"),jc=Symbol.for("react.suspense"),Bc=Symbol.for("react.suspense_list"),Hc=Symbol.for("react.memo"),Vc=Symbol.for("react.lazy"),Uc=Symbol.for("react.activity"),Wc=Symbol.for("react.memo_cache_sentinel"),Gc=Symbol.iterator,$c=Symbol.for("react.client.reference"),qc=Array.isArray,Yc=Tc.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Xc=Oc.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Kc=Object.freeze({pending:!1,data:null,method:null,action:null}),Qc=[],Zc=[],Jc=-1,ed=M(null),td=M(null),nd=M(null),rd=M(null),id=Object.prototype.hasOwnProperty,od=Mc.unstable_scheduleCallback,ad=Mc.unstable_cancelCallback,sd=Mc.unstable_shouldYield,ld=Mc.unstable_requestPaint,ud=Mc.unstable_now,cd=Mc.unstable_getCurrentPriorityLevel,dd=Mc.unstable_ImmediatePriority,hd=Mc.unstable_UserBlockingPriority,fd=Mc.unstable_NormalPriority,pd=Mc.unstable_LowPriority,gd=Mc.unstable_IdlePriority,md=Mc.log,yd=Mc.unstable_setDisableYieldValue,vd=null,bd=null,wd=null,xd=!1,Ed="undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__,kd=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(Sd(e)/Md|0)|0},Sd=Math.log,Md=Math.LN2,Td=256,Od=4194304,Cd=2,Nd=8,Pd=32,Ad=268435456,Rd=Math.random().toString(36).slice(2),_d="__reactFiber$"+Rd,Dd="__reactProps$"+Rd,Ld="__reactContainer$"+Rd,Id="__reactEvents$"+Rd,zd="__reactListeners$"+Rd,Fd="__reactHandles$"+Rd,jd="__reactResources$"+Rd,Bd="__reactMarker$"+Rd,Hd=new Set,Vd={},Ud={},Wd={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},Gd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$d={},qd={},Yd=0;Se.__reactDisabledLog=!0;var Xd,Kd,Qd=!1,Zd=new("function"==typeof WeakMap?WeakMap:Map),Jd=null,eh=!1,th=/[\n"\\]/g,nh=!1,rh=!1,ih=!1,oh=!1,ah=!1,sh=!1,lh=["value","defaultValue"],uh=!1,ch=/["'&<>\n\t]|^\s|\s$/,dh="address applet area article aside base basefont bgsound blockquote body br button caption center col colgroup dd details dir div dl dt embed fieldset figcaption figure footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html iframe img input isindex li link listing main marquee menu menuitem meta nav noembed noframes noscript object ol p param plaintext pre script section select source style summary table tbody td template textarea tfoot th thead title tr track ul wbr xmp".split(" "),hh="applet caption html table td th marquee object template foreignObject desc title".split(" "),fh=hh.concat(["button"]),ph="dd dt li option optgroup p rp rt".split(" "),gh={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null,containerTagInScope:null,implicitRootScope:!1},mh={},yh={animation:"animationDelay animationDirection animationDuration animationFillMode animationIterationCount animationName animationPlayState animationTimingFunction".split(" "),background:"backgroundAttachment backgroundClip backgroundColor backgroundImage backgroundOrigin backgroundPositionX backgroundPositionY backgroundRepeat backgroundSize".split(" "),backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:"borderBottomColor borderBottomStyle borderBottomWidth borderImageOutset borderImageRepeat borderImageSlice borderImageSource borderImageWidth borderLeftColor borderLeftStyle borderLeftWidth borderRightColor borderRightStyle borderRightWidth borderTopColor borderTopStyle borderTopWidth".split(" "),borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:"fontFamily fontFeatureSettings fontKerning fontLanguageOverride fontSize fontSizeAdjust fontStretch fontStyle fontVariant fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition fontWeight lineHeight".split(" "),fontVariant:"fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition".split(" "),gap:["columnGap","rowGap"],grid:"gridAutoColumns gridAutoFlow gridAutoRows gridTemplateAreas gridTemplateColumns gridTemplateRows".split(" "),gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:"maskClip maskComposite maskImage maskMode maskOrigin maskPositionX maskPositionY maskRepeat maskSize".split(" "),maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},vh=/([A-Z])/g,bh=/^ms-/,wh=/^(?:webkit|moz|o)[A-Z]/,xh=/^-ms-/,Eh=/-(.)/g,kh=/;\s*$/,Sh={},Mh={},Th=!1,Oh=!1,Ch=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),Nh="http://www.w3.org/1998/Math/MathML",Ph="http://www.w3.org/2000/svg",Ah=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rh={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",fetchpriority:"fetchPriority",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",inert:"inert",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",popover:"popover",popovertarget:"popoverTarget",popovertargetaction:"popoverTargetAction",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",transformorigin:"transformOrigin","transform-origin":"transformOrigin",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},_h={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},Dh={},Lh=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ih=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zh=!1,Fh={},jh=/^on./,Bh=/^on[^A-Z]/,Hh=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vh=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i,Wh=null,Gh=null,$h=null,qh=!1,Yh=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Xh=!1;if(Yh)try{var Kh={};Object.defineProperty(Kh,"passive",{get:function(){Xh=!0}}),window.addEventListener("test",Kh,Kh),window.removeEventListener("test",Kh,Kh)}catch(e){Xh=!1}var Qh,Zh,Jh,ef=null,tf=null,nf=null,rf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},of=Lt(rf),af=Cc({},rf,{view:0,detail:0}),sf=Lt(af),lf=Cc({},af,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zt,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jh&&(Jh&&"mousemove"===e.type?(Qh=e.screenX-Jh.screenX,Zh=e.screenY-Jh.screenY):Zh=Qh=0,Jh=e),Qh)},movementY:function(e){return"movementY"in e?e.movementY:Zh}}),uf=Lt(lf),cf=Lt(Cc({},lf,{dataTransfer:0})),df=Lt(Cc({},af,{relatedTarget:0})),hf=Lt(Cc({},rf,{animationName:0,elapsedTime:0,pseudoElement:0})),ff=Lt(Cc({},rf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),pf=Lt(Cc({},rf,{data:0})),gf=pf,mf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},bf=Lt(Cc({},af,{key:function(e){if(e.key){var t=mf[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Rt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?yf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zt,charCode:function(e){return"keypress"===e.type?Rt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Rt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),wf=Lt(Cc({},lf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xf=Lt(Cc({},af,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zt})),Ef=Lt(Cc({},rf,{propertyName:0,elapsedTime:0,pseudoElement:0})),kf=Lt(Cc({},lf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sf=Lt(Cc({},rf,{newState:0,oldState:0})),Mf=[9,13,27,32],Tf=229,Of=Yh&&"CompositionEvent"in window,Cf=null;Yh&&"documentMode"in document&&(Cf=document.documentMode);var Nf=Yh&&"TextEvent"in window&&!Cf,Pf=Yh&&(!Of||Cf&&8<Cf&&11>=Cf),Af=32,Rf=String.fromCharCode(Af),_f=!1,Df=!1,Lf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},If=null,zf=null,Ff=!1;Yh&&(Ff=function(e){if(!Yh)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}("input")&&(!document.documentMode||9<document.documentMode));var jf="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Bf=Yh&&"documentMode"in document&&11>=document.documentMode,Hf=null,Vf=null,Uf=null,Wf=!1,Gf={animationend:on("Animation","AnimationEnd"),animationiteration:on("Animation","AnimationIteration"),animationstart:on("Animation","AnimationStart"),transitionrun:on("Transition","TransitionRun"),transitionstart:on("Transition","TransitionStart"),transitioncancel:on("Transition","TransitionCancel"),transitionend:on("Transition","TransitionEnd")},$f={},qf={};Yh&&(qf=document.createElement("div").style,"AnimationEvent"in window||(delete Gf.animationend.animation,delete Gf.animationiteration.animation,delete Gf.animationstart.animation),"TransitionEvent"in window||delete Gf.transitionend.transition);var Yf=an("animationend"),Xf=an("animationiteration"),Kf=an("animationstart"),Qf=an("transitionrun"),Zf=an("transitionstart"),Jf=an("transitioncancel"),ep=an("transitionend"),tp=new Map,np="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");np.push("scrollEnd");var rp=new WeakMap,ip=1,op=2,ap=[],sp=0,lp=0,up={};Object.freeze(up);var cp=null,dp=null,hp=0,fp=1,pp=2,gp=8,mp=16,yp=64,vp=!1;try{var bp=Object.preventExtensions({});new Map([[bp,null]]),new Set([bp])}catch(e){vp=!0}var wp=[],xp=0,Ep=null,kp=0,Sp=[],Mp=0,Tp=null,Op=1,Cp="",Np=null,Pp=null,Ap=!1,Rp=!1,_p=null,Dp=null,Lp=!1,Ip=Error("Hydration Mismatch Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),zp=0;if("object"==typeof performance&&"function"==typeof performance.now)var Fp=performance,jp=function(){return Fp.now()};else{var Bp=Date;jp=function(){return Bp.now()}}var Hp=M(null),Vp=M(null),Up={},Wp=null,Gp=null,$p=!1,qp="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Yp=Mc.unstable_scheduleCallback,Xp=Mc.unstable_NormalPriority,Kp={$$typeof:zc,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0,_currentRenderer:null,_currentRenderer2:null},Qp=Mc.unstable_now,Zp=-0,Jp=-0,eg=-1.1,tg=-0,ng=!1,rg=!1,ig=null,og=0,ag=0,sg=null,lg=Yc.S;Yc.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===ig){var n=ig=[];og=0,ag=yl(),sg={status:"pending",value:void 0,then:function(e){n.push(e)}}}og++,t.then(fr,fr)}(0,t),null!==lg&&lg(e,t)};var ug=M(null),cg={recordUnsafeLifecycleWarnings:function(){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}},dg=[],hg=[],fg=[],pg=[],gg=[],mg=[],yg=new Set;cg.recordUnsafeLifecycleWarnings=function(e,t){yg.has(e.type)||("function"==typeof t.componentWillMount&&!0!==t.componentWillMount.__suppressDeprecationWarning&&dg.push(e),e.mode&gp&&"function"==typeof t.UNSAFE_componentWillMount&&hg.push(e),"function"==typeof t.componentWillReceiveProps&&!0!==t.componentWillReceiveProps.__suppressDeprecationWarning&&fg.push(e),e.mode&gp&&"function"==typeof t.UNSAFE_componentWillReceiveProps&&pg.push(e),"function"==typeof t.componentWillUpdate&&!0!==t.componentWillUpdate.__suppressDeprecationWarning&&gg.push(e),e.mode&gp&&"function"==typeof t.UNSAFE_componentWillUpdate&&mg.push(e))},cg.flushPendingUnsafeLifecycleWarnings=function(){var e=new Set;0<dg.length&&(dg.forEach(function(t){e.add(S(t)||"Component"),yg.add(t.type)}),dg=[]);var t=new Set;0<hg.length&&(hg.forEach(function(e){t.add(S(e)||"Component"),yg.add(e.type)}),hg=[]);var n=new Set;0<fg.length&&(fg.forEach(function(e){n.add(S(e)||"Component"),yg.add(e.type)}),fg=[]);var r=new Set;0<pg.length&&(pg.forEach(function(e){r.add(S(e)||"Component"),yg.add(e.type)}),pg=[]);var i=new Set;0<gg.length&&(gg.forEach(function(e){i.add(S(e)||"Component"),yg.add(e.type)}),gg=[]);var o=new Set;if(0<mg.length&&(mg.forEach(function(e){o.add(S(e)||"Component"),yg.add(e.type)}),mg=[]),0<t.size){var a=d(t);console.error("Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.\n\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\n\nPlease update the following components: %s",a)}0<r.size&&(a=d(r),console.error("Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state\n\nPlease update the following components: %s",a)),0<o.size&&(a=d(o),console.error("Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n\nPlease update the following components: %s",a)),0<e.size&&(a=d(e),console.warn("componentWillMount has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.\n\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\n* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",a)),0<n.size&&(a=d(n),console.warn("componentWillReceiveProps has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state\n* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",a)),0<i.size&&(a=d(i),console.warn("componentWillUpdate has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",a))};var vg=new Map,bg=new Set;cg.recordLegacyContextWarning=function(e,t){for(var n=null,r=e;null!==r;)r.mode&gp&&(n=r),r=r.return;null===n?console.error("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue."):!bg.has(e.type)&&(r=vg.get(n),null!=e.type.contextTypes||null!=e.type.childContextTypes||null!==t&&"function"==typeof t.getChildContext)&&(void 0===r&&(r=[],vg.set(n,r)),r.push(e))},cg.flushLegacyContextWarning=function(){vg.forEach(function(e){if(0!==e.length){var t=e[0],n=new Set;e.forEach(function(e){n.add(S(e)||"Component"),bg.add(e.type)});var r=d(n);_e(t,function(){console.error("Legacy context API has been detected within a strict-mode tree.\n\nThe old API will be supported in all 16.x releases, but applications using it should migrate to the new version.\n\nPlease update the following components: %s\n\nLearn more about this warning here: https://react.dev/link/legacy-context",r)})}})},cg.discardPendingWarnings=function(){dg=[],hg=[],fg=[],pg=[],gg=[],mg=[],vg=new Map};var wg,xg=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`."),Eg=Error("Suspense Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),kg=Error("Suspense Exception: This is not a real error! It's an implementation detail of `useActionState` to interrupt the current render. You must either rethrow it immediately, or move the `useActionState` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary."),Sg={then:function(){console.error('Internal React error: A listener was unexpectedly attached to a "noop" thenable. This is a bug in React. Please file an issue.')}},Mg=null,Tg=!1,Og=0,Cg=1,Ng=2,Pg=4,Ag=8,Rg=0,_g=1,Dg=2,Lg=3,Ig=!1,zg=!1,Fg=null,jg=!1,Bg=M(null),Hg=M(0),Vg=new Set,Ug=new Set,Wg=new Set,Gg=new Set,$g=0,qg=null,Yg=null,Xg=null,Kg=!1,Qg=!1,Zg=!1,Jg=0,em=0,tm=null,nm=0,rm=25,im=null,om=null,am=-1,sm=!1,lm={readContext:Zn,use:Zr,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useLayoutEffect:Br,useInsertionEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useSyncExternalStore:Br,useId:Br,useHostTransitionStatus:Br,useFormState:Br,useActionState:Br,useOptimistic:Br,useMemoCache:Br,useCacheRefresh:Br},um=null,cm=null,dm=null,hm=null,fm=null,pm=null,gm=null;um={readContext:function(e){return Zn(e)},use:Zr,useCallback:function(e,t){return im="useCallback",Ir(),Fr(t),ji(e,t)},useContext:function(e){return im="useContext",Ir(),Zn(e)},useEffect:function(e,t){return im="useEffect",Ir(),Fr(t),Di(e,t)},useImperativeHandle:function(e,t,n){return im="useImperativeHandle",Ir(),Fr(n),zi(e,t,n)},useInsertionEffect:function(e,t){im="useInsertionEffect",Ir(),Fr(t),Ri(4,Ng,e,t)},useLayoutEffect:function(e,t){return im="useLayoutEffect",Ir(),Fr(t),Li(e,t)},useMemo:function(e,t){im="useMemo",Ir(),Fr(t);var n=Yc.H;Yc.H=fm;try{return Hi(e,t)}finally{Yc.H=n}},useReducer:function(e,t,n){im="useReducer",Ir();var r=Yc.H;Yc.H=fm;try{return ti(e,t,n)}finally{Yc.H=r}},useRef:function(e){return im="useRef",Ir(),Ai(e)},useState:function(e){im="useState",Ir();var t=Yc.H;Yc.H=fm;try{return fi(e)}finally{Yc.H=t}},useDebugValue:function(){im="useDebugValue",Ir()},useDeferredValue:function(e,t){return im="useDeferredValue",Ir(),Ui(e,t)},useTransition:function(){return im="useTransition",Ir(),Zi()},useSyncExternalStore:function(e,t,n){return im="useSyncExternalStore",Ir(),oi(e,t,n)},useId:function(){return im="useId",Ir(),no()},useFormState:function(e,t){return im="useFormState",Ir(),jr(),Mi(e,t)},useActionState:function(e,t){return im="useActionState",Ir(),Mi(e,t)},useOptimistic:function(e){return im="useOptimistic",Ir(),pi(e)},useHostTransitionStatus:to,useMemoCache:Jr,useCacheRefresh:function(){return im="useCacheRefresh",Ir(),ro()}},cm={readContext:function(e){return Zn(e)},use:Zr,useCallback:function(e,t){return im="useCallback",zr(),ji(e,t)},useContext:function(e){return im="useContext",zr(),Zn(e)},useEffect:function(e,t){return im="useEffect",zr(),Di(e,t)},useImperativeHandle:function(e,t,n){return im="useImperativeHandle",zr(),zi(e,t,n)},useInsertionEffect:function(e,t){im="useInsertionEffect",zr(),Ri(4,Ng,e,t)},useLayoutEffect:function(e,t){return im="useLayoutEffect",zr(),Li(e,t)},useMemo:function(e,t){im="useMemo",zr();var n=Yc.H;Yc.H=fm;try{return Hi(e,t)}finally{Yc.H=n}},useReducer:function(e,t,n){im="useReducer",zr();var r=Yc.H;Yc.H=fm;try{return ti(e,t,n)}finally{Yc.H=r}},useRef:function(e){return im="useRef",zr(),Ai(e)},useState:function(e){im="useState",zr();var t=Yc.H;Yc.H=fm;try{return fi(e)}finally{Yc.H=t}},useDebugValue:function(){im="useDebugValue",zr()},useDeferredValue:function(e,t){return im="useDeferredValue",zr(),Ui(e,t)},useTransition:function(){return im="useTransition",zr(),Zi()},useSyncExternalStore:function(e,t,n){return im="useSyncExternalStore",zr(),oi(e,t,n)},useId:function(){return im="useId",zr(),no()},useActionState:function(e,t){return im="useActionState",zr(),Mi(e,t)},useFormState:function(e,t){return im="useFormState",zr(),jr(),Mi(e,t)},useOptimistic:function(e){return im="useOptimistic",zr(),pi(e)},useHostTransitionStatus:to,useMemoCache:Jr,useCacheRefresh:function(){return im="useCacheRefresh",zr(),ro()}},dm={readContext:function(e){return Zn(e)},use:Zr,useCallback:function(e,t){return im="useCallback",zr(),Bi(e,t)},useContext:function(e){return im="useContext",zr(),Zn(e)},useEffect:function(e,t){im="useEffect",zr(),_i(2048,Ag,e,t)},useImperativeHandle:function(e,t,n){return im="useImperativeHandle",zr(),Fi(e,t,n)},useInsertionEffect:function(e,t){return im="useInsertionEffect",zr(),_i(4,Ng,e,t)},useLayoutEffect:function(e,t){return im="useLayoutEffect",zr(),_i(4,Pg,e,t)},useMemo:function(e,t){im="useMemo",zr();var n=Yc.H;Yc.H=pm;try{return Vi(e,t)}finally{Yc.H=n}},useReducer:function(e,t,n){im="useReducer",zr();var r=Yc.H;Yc.H=pm;try{return ni(e)}finally{Yc.H=r}},useRef:function(){return im="useRef",zr(),Kr().memoizedState},useState:function(){im="useState",zr();var e=Yc.H;Yc.H=pm;try{return ni(ei)}finally{Yc.H=e}},useDebugValue:function(){im="useDebugValue",zr()},useDeferredValue:function(e,t){return im="useDeferredValue",zr(),Wi(e,t)},useTransition:function(){return im="useTransition",zr(),Ji()},useSyncExternalStore:function(e,t,n){return im="useSyncExternalStore",zr(),ai(e,t,n)},useId:function(){return im="useId",zr(),Kr().memoizedState},useFormState:function(e){return im="useFormState",zr(),jr(),Ti(e)},useActionState:function(e){return im="useActionState",zr(),Ti(e)},useOptimistic:function(e,t){return im="useOptimistic",zr(),gi(e,t)},useHostTransitionStatus:to,useMemoCache:Jr,useCacheRefresh:function(){return im="useCacheRefresh",zr(),Kr().memoizedState}},hm={readContext:function(e){return Zn(e)},use:Zr,useCallback:function(e,t){return im="useCallback",zr(),Bi(e,t)},useContext:function(e){return im="useContext",zr(),Zn(e)},useEffect:function(e,t){im="useEffect",zr(),_i(2048,Ag,e,t)},useImperativeHandle:function(e,t,n){return im="useImperativeHandle",zr(),Fi(e,t,n)},useInsertionEffect:function(e,t){return im="useInsertionEffect",zr(),_i(4,Ng,e,t)},useLayoutEffect:function(e,t){return im="useLayoutEffect",zr(),_i(4,Pg,e,t)},useMemo:function(e,t){im="useMemo",zr();var n=Yc.H;Yc.H=gm;try{return Vi(e,t)}finally{Yc.H=n}},useReducer:function(e,t,n){im="useReducer",zr();var r=Yc.H;Yc.H=gm;try{return ii(e)}finally{Yc.H=r}},useRef:function(){return im="useRef",zr(),Kr().memoizedState},useState:function(){im="useState",zr();var e=Yc.H;Yc.H=gm;try{return ii(ei)}finally{Yc.H=e}},useDebugValue:function(){im="useDebugValue",zr()},useDeferredValue:function(e,t){return im="useDeferredValue",zr(),Gi(e,t)},useTransition:function(){return im="useTransition",zr(),eo()},useSyncExternalStore:function(e,t,n){return im="useSyncExternalStore",zr(),ai(e,t,n)},useId:function(){return im="useId",zr(),Kr().memoizedState},useFormState:function(e){return im="useFormState",zr(),jr(),Ni(e)},useActionState:function(e){return im="useActionState",zr(),Ni(e)},useOptimistic:function(e,t){return im="useOptimistic",zr(),yi(e,t)},useHostTransitionStatus:to,useMemoCache:Jr,useCacheRefresh:function(){return im="useCacheRefresh",zr(),Kr().memoizedState}},fm={readContext:function(e){return u(),Zn(e)},use:function(e){return l(),Zr(e)},useCallback:function(e,t){return im="useCallback",l(),Ir(),ji(e,t)},useContext:function(e){return im="useContext",l(),Ir(),Zn(e)},useEffect:function(e,t){return im="useEffect",l(),Ir(),Di(e,t)},useImperativeHandle:function(e,t,n){return im="useImperativeHandle",l(),Ir(),zi(e,t,n)},useInsertionEffect:function(e,t){im="useInsertionEffect",l(),Ir(),Ri(4,Ng,e,t)},useLayoutEffect:function(e,t){return im="useLayoutEffect",l(),Ir(),Li(e,t)},useMemo:function(e,t){im="useMemo",l(),Ir();var n=Yc.H;Yc.H=fm;try{return Hi(e,t)}finally{Yc.H=n}},useReducer:function(e,t,n){im="useReducer",l(),Ir();var r=Yc.H;Yc.H=fm;try{return ti(e,t,n)}finally{Yc.H=r}},useRef:function(e){return im="useRef",l(),Ir(),Ai(e)},useState:function(e){im="useState",l(),Ir();var t=Yc.H;Yc.H=fm;try{return fi(e)}finally{Yc.H=t}},useDebugValue:function(){im="useDebugValue",l(),Ir()},useDeferredValue:function(e,t){return im="useDeferredValue",l(),Ir(),Ui(e,t)},useTransition:function(){return im="useTransition",l(),Ir(),Zi()},useSyncExternalStore:function(e,t,n){return im="useSyncExternalStore",l(),Ir(),oi(e,t,n)},useId:function(){return im="useId",l(),Ir(),no()},useFormState:function(e,t){return im="useFormState",l(),Ir(),Mi(e,t)},useActionState:function(e,t){return im="useActionState",l(),Ir(),Mi(e,t)},useOptimistic:function(e){return im="useOptimistic",l(),Ir(),pi(e)},useMemoCache:function(e){return l(),Jr(e)},useHostTransitionStatus:to,useCacheRefresh:function(){return im="useCacheRefresh",Ir(),ro()}},pm={readContext:function(e){return u(),Zn(e)},use:function(e){return l(),Zr(e)},useCallback:function(e,t){return im="useCallback",l(),zr(),Bi(e,t)},useContext:function(e){return im="useContext",l(),zr(),Zn(e)},useEffect:function(e,t){im="useEffect",l(),zr(),_i(2048,Ag,e,t)},useImperativeHandle:function(e,t,n){return im="useImperativeHandle",l(),zr(),Fi(e,t,n)},useInsertionEffect:function(e,t){return im="useInsertionEffect",l(),zr(),_i(4,Ng,e,t)},useLayoutEffect:function(e,t){return im="useLayoutEffect",l(),zr(),_i(4,Pg,e,t)},useMemo:function(e,t){im="useMemo",l(),zr();var n=Yc.H;Yc.H=pm;try{return Vi(e,t)}finally{Yc.H=n}},useReducer:function(e,t,n){im="useReducer",l(),zr();var r=Yc.H;Yc.H=pm;try{return ni(e)}finally{Yc.H=r}},useRef:function(){return im="useRef",l(),zr(),Kr().memoizedState},useState:function(){im="useState",l(),zr();var e=Yc.H;Yc.H=pm;try{return ni(ei)}finally{Yc.H=e}},useDebugValue:function(){im="useDebugValue",l(),zr()},useDeferredValue:function(e,t){return im="useDeferredValue",l(),zr(),Wi(e,t)},useTransition:function(){return im="useTransition",l(),zr(),Ji()},useSyncExternalStore:function(e,t,n){return im="useSyncExternalStore",l(),zr(),ai(e,t,n)},useId:function(){return im="useId",l(),zr(),Kr().memoizedState},useFormState:function(e){return im="useFormState",l(),zr(),Ti(e)},useActionState:function(e){return im="useActionState",l(),zr(),Ti(e)},useOptimistic:function(e,t){return im="useOptimistic",l(),zr(),gi(e,t)},useMemoCache:function(e){return l(),Jr(e)},useHostTransitionStatus:to,useCacheRefresh:function(){return im="useCacheRefresh",zr(),Kr().memoizedState}},gm={readContext:function(e){return u(),Zn(e)},use:function(e){return l(),Zr(e)},useCallback:function(e,t){return im="useCallback",l(),zr(),Bi(e,t)},useContext:function(e){return im="useContext",l(),zr(),Zn(e)},useEffect:function(e,t){im="useEffect",l(),zr(),_i(2048,Ag,e,t)},useImperativeHandle:function(e,t,n){return im="useImperativeHandle",l(),zr(),Fi(e,t,n)},useInsertionEffect:function(e,t){return im="useInsertionEffect",l(),zr(),_i(4,Ng,e,t)},useLayoutEffect:function(e,t){return im="useLayoutEffect",l(),zr(),_i(4,Pg,e,t)},useMemo:function(e,t){im="useMemo",l(),zr();var n=Yc.H;Yc.H=pm;try{return Vi(e,t)}finally{Yc.H=n}},useReducer:function(e,t,n){im="useReducer",l(),zr();var r=Yc.H;Yc.H=pm;try{return ii(e)}finally{Yc.H=r}},useRef:function(){return im="useRef",l(),zr(),Kr().memoizedState},useState:function(){im="useState",l(),zr();var e=Yc.H;Yc.H=pm;try{return ii(ei)}finally{Yc.H=e}},useDebugValue:function(){im="useDebugValue",l(),zr()},useDeferredValue:function(e,t){return im="useDeferredValue",l(),zr(),Gi(e,t)},useTransition:function(){return im="useTransition",l(),zr(),eo()},useSyncExternalStore:function(e,t,n){return im="useSyncExternalStore",l(),zr(),ai(e,t,n)},useId:function(){return im="useId",l(),zr(),Kr().memoizedState},useFormState:function(e){return im="useFormState",l(),zr(),Ni(e)},useActionState:function(e){return im="useActionState",l(),zr(),Ni(e)},useOptimistic:function(e,t){return im="useOptimistic",l(),zr(),yi(e,t)},useMemoCache:function(e){return l(),Jr(e)},useHostTransitionStatus:to,useCacheRefresh:function(){return im="useCacheRefresh",zr(),Kr().memoizedState}};var mm,ym={"react-stack-bottom-frame":function(e,t,n){var r=eh;eh=!0;try{return e(t,n)}finally{eh=r}}},vm=ym["react-stack-bottom-frame"].bind(ym),bm={"react-stack-bottom-frame":function(e){var t=eh;eh=!0;try{return e.render()}finally{eh=t}}},wm=bm["react-stack-bottom-frame"].bind(bm),xm={"react-stack-bottom-frame":function(e,t){try{t.componentDidMount()}catch(t){Qs(e,e.return,t)}}},Em=xm["react-stack-bottom-frame"].bind(xm),km={"react-stack-bottom-frame":function(e,t,n,r,i){try{t.componentDidUpdate(n,r,i)}catch(t){Qs(e,e.return,t)}}},Sm=km["react-stack-bottom-frame"].bind(km),Mm={"react-stack-bottom-frame":function(e,t){var n=t.stack;e.componentDidCatch(t.value,{componentStack:null!==n?n:""})}},Tm=Mm["react-stack-bottom-frame"].bind(Mm),Om={"react-stack-bottom-frame":function(e,t,n){try{n.componentWillUnmount()}catch(n){Qs(e,t,n)}}},Cm=Om["react-stack-bottom-frame"].bind(Om),Nm={"react-stack-bottom-frame":function(e){null!=e.resourceKind&&console.error("Expected only SimpleEffects when enableUseEffectCRUDOverload is disabled, got %s",e.resourceKind);var t=e.create;return e=e.inst,t=t(),e.destroy=t}},Pm=Nm["react-stack-bottom-frame"].bind(Nm),Am={"react-stack-bottom-frame":function(e,t,n){try{n()}catch(n){Qs(e,t,n)}}},Rm=Am["react-stack-bottom-frame"].bind(Am),_m={"react-stack-bottom-frame":function(e){return(0,e._init)(e._payload)}},Dm=_m["react-stack-bottom-frame"].bind(_m),Lm=null,Im=0,zm=null,Fm=mm=!1,jm={},Bm={},Hm={};s=function(e,t,n){if(null!==n&&"object"==typeof n&&n._store&&(!n._store.validated&&null==n.key||2===n._store.validated)){if("object"!=typeof n._store)throw Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");n._store.validated=1;var r=S(e),i=r||"null";if(!jm[i]){jm[i]=!0,n=n._owner,e=e._debugOwner;var o="";e&&"number"==typeof e.tag&&(i=S(e))&&(o="\n\nCheck the render method of `"+i+"`."),o||r&&(o="\n\nCheck the top-level render call using <"+r+">.");var a="";null!=n&&e!==n&&(r=null,"number"==typeof n.tag?r=S(n):"string"==typeof n.name&&(r=n.name),r&&(a=" It was passed a child from "+r+".")),_e(t,function(){console.error('Each child in a list should have a unique "key" prop.%s%s See https://react.dev/link/warning-keys for more information.',o,a)})}}};var Vm=wo(!0),Um=wo(!1),Wm=M(null),Gm=null,$m=1,qm=2,Ym=M(0),Xm={},Km=new Set,Qm=new Set,Zm=new Set,Jm=new Set,ey=new Set,ty=new Set,ny=new Set,ry=new Set,iy=new Set,oy=new Set;Object.freeze(Xm);var ay={enqueueSetState:function(e,t,n){var r=bs(e=e._reactInternals),i=Sr(r);i.payload=t,null!=n&&(To(n),i.callback=n),null!==(t=Mr(e,i,r))&&(xs(t,e,r),Tr(t,e,r)),q(e,r)},enqueueReplaceState:function(e,t,n){var r=bs(e=e._reactInternals),i=Sr(r);i.tag=_g,i.payload=t,null!=n&&(To(n),i.callback=n),null!==(t=Mr(e,i,r))&&(xs(t,e,r),Tr(t,e,r)),q(e,r)},enqueueForceUpdate:function(e,t){var n=bs(e=e._reactInternals),r=Sr(n);r.tag=Dg,null!=t&&(To(t),r.callback=t),null!==(t=Mr(e,r,n))&&(xs(t,e,n),Tr(t,e,n)),null!==wd&&"function"==typeof wd.markForceUpdateScheduled&&wd.markForceUpdateScheduled(e,n)}},sy="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},ly=null,uy=null,cy=Error("This is not a real error. It's an implementation detail of React's selective hydration feature. If this leaks into userspace, it's a bug in React. Please file an issue."),dy=!1,hy={},fy={},py={},gy={},my=!1,yy={},vy={},by={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},wy=!1,xy=null;xy=new Set;var Ey=!1,ky=!1,Sy=!1,My="function"==typeof WeakSet?WeakSet:Set,Ty=null,Oy=null,Cy=null,Ny=null,Py=!1,Ay=null,Ry=8192,_y={getCacheForType:function(e){var t=Zn(Kp),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},getOwner:function(){return Jd}};if("function"==typeof Symbol&&Symbol.for){var Dy=Symbol.for;Dy("selector.component"),Dy("selector.has_pseudo_class"),Dy("selector.role"),Dy("selector.test_id"),Dy("selector.text")}var Ly=[],Iy="function"==typeof WeakMap?WeakMap:Map,zy=0,Fy=2,jy=4,By=0,Hy=1,Vy=2,Uy=3,Wy=4,Gy=6,$y=5,qy=zy,Yy=null,Xy=null,Ky=0,Qy=0,Zy=1,Jy=2,ev=3,tv=4,nv=5,rv=6,iv=7,ov=8,av=9,sv=Qy,lv=null,uv=!1,cv=!1,dv=!1,hv=0,fv=By,pv=0,gv=0,mv=0,yv=0,vv=0,bv=null,wv=null,xv=!1,Ev=0,kv=300,Sv=1/0,Mv=500,Tv=null,Ov=null,Cv=0,Nv=1,Pv=2,Av=0,Rv=1,_v=2,Dv=3,Lv=4,Iv=5,zv=0,Fv=null,jv=null,Bv=0,Hv=0,Vv=null,Uv=null,Wv=50,Gv=0,$v=null,qv=!1,Yv=!1,Xv=50,Kv=0,Qv=null,Zv=!1,Jv=null,eb=!1,tb=new Set,nb=null,rb=null,ib=!1,ob=!1,ab=!1,sb=!1,lb=0,ub={};!function(){for(var e=0;e<np.length;e++){var t=np[e];sn(t.toLowerCase(),"on"+(t=t[0].toUpperCase()+t.slice(1)))}sn(Yf,"onAnimationEnd"),sn(Xf,"onAnimationIteration"),sn(Kf,"onAnimationStart"),sn("dblclick","onDoubleClick"),sn("focusin","onFocus"),sn("focusout","onBlur"),sn(Qf,"onTransitionRun"),sn(Zf,"onTransitionStart"),sn(Jf,"onTransitionCancel"),sn(ep,"onTransitionEnd")}(),ye("onMouseEnter",["mouseout","mouseover"]),ye("onMouseLeave",["mouseout","mouseover"]),ye("onPointerEnter",["pointerout","pointerover"]),ye("onPointerLeave",["pointerout","pointerover"]),me("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),me("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),me("onBeforeInput",["compositionend","keypress","textInput","paste"]),me("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),me("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),me("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),db=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cb)),hb="_reactListening"+Math.random().toString(36).slice(2),fb=!1,pb=!1,gb=!1,mb=!1,yb=!1,vb=!1,bb=!1,wb={},xb=/\r\n?/g,Eb=/\u0000|\uFFFD/g,kb="http://www.w3.org/1999/xlink",Sb="http://www.w3.org/XML/1998/namespace",Mb="javascript:throw new Error('React form unexpectedly submitted.')",Tb="suppressHydrationWarning",Ob="$",Cb="/$",Nb="$?",Pb="$!",Ab=1,Rb=2,_b=4,Db="F!",Lb="F",Ib="complete",zb="style",Fb=0,jb=1,Bb=2,Hb=null,Vb=null,Ub={dialog:!0,webview:!0},Wb=null,Gb="function"==typeof setTimeout?setTimeout:void 0,$b="function"==typeof clearTimeout?clearTimeout:void 0,qb=-1,Yb="function"==typeof Promise?Promise:void 0,Xb="function"==typeof queueMicrotask?queueMicrotask:void 0!==Yb?function(e){return Yb.resolve(null).then(e).catch(eu)}:Gb,Kb=null,Qb=0,Zb=1,Jb=2,ew=3,tw=4,nw=new Map,rw=new Set,iw=Xc.d;Xc.d={f:function(){var e=iw.f(),t=Ts();return e||t},r:function(e){var t=he(e);null!==t&&5===t.tag&&"form"===t.type?Qi(t):iw.r(e)},D:function(e){iw.D(e),Tu("dns-prefetch",e,null)},C:function(e,t){iw.C(e,t),Tu("preconnect",e,t)},L:function(e,t,n){iw.L(e,t,n);var r=pw;if(r&&e&&t){var i='link[rel="preload"][as="'+Be(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Be(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+Be(n.imageSizes)+'"]')):i+='[href="'+Be(e)+'"]';var o=i;switch(t){case"style":o=Nu(e);break;case"script":o=Ru(e)}nw.has(o)||(e=Cc({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),nw.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Pu(o))||"script"===t&&r.querySelector(_u(o))||(Bl(t=r.createElement("link"),"link",e),ge(t),r.head.appendChild(t)))}},m:function(e,t){iw.m(e,t);var n=pw;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+Be(r)+'"][href="'+Be(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Ru(e)}if(!nw.has(o)&&(e=Cc({rel:"modulepreload",href:e},t),nw.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(_u(o)))return}Bl(r=n.createElement("link"),"link",e),ge(r),n.head.appendChild(r)}}},X:function(e,t){iw.X(e,t);var n=pw;if(n&&e){var r=pe(n).hoistableScripts,i=Ru(e),o=r.get(i);o||((o=n.querySelector(_u(i)))||(e=Cc({src:e,async:!0},t),(t=nw.get(i))&&zu(e,t),ge(o=n.createElement("script")),Bl(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){iw.S(e,t,n);var r=pw;if(r&&e){var i=pe(r).hoistableStyles,o=Nu(e);t=t||"default";var a=i.get(o);if(!a){var s={loading:Qb,preload:null};if(a=r.querySelector(Pu(o)))s.loading=Zb|tw;else{e=Cc({rel:"stylesheet",href:e,"data-precedence":t},n),(n=nw.get(o))&&Iu(e,n);var l=a=r.createElement("link");ge(l),Bl(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=Zb}),l.addEventListener("error",function(){s.loading|=Jb}),s.loading|=tw,Lu(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(o,a)}}},M:function(e,t){iw.M(e,t);var n=pw;if(n&&e){var r=pe(n).hoistableScripts,i=Ru(e),o=r.get(i);o||((o=n.querySelector(_u(i)))||(e=Cc({src:e,async:!0,type:"module"},t),(t=nw.get(i))&&zu(e,t),ge(o=n.createElement("script")),Bl(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var ow,aw,sw,lw,uw,cw,dw,hw,fw,pw="undefined"==typeof document?null:document,gw=null,mw=null,yw=null,vw=null,bw=Kc,ww={$$typeof:zc,Provider:null,Consumer:null,_currentValue:bw,_currentValue2:bw,_threadCount:0},xw="%c%s%c ",Ew="background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px",kw="",Sw=" ",Mw=Function.prototype.bind,Tw=!1;ow=function(n,r,i,o){null!==(r=e(n,r))&&(i=t(r.memoizedState,i,0,o),r.memoizedState=i,r.baseState=i,n.memoizedProps=Cc({},n.memoizedProps),null!==(i=hn(n,2))&&xs(i,n,2))},aw=function(t,n,r){null!==(n=e(t,n))&&(r=i(n.memoizedState,r,0),n.memoizedState=r,n.baseState=r,t.memoizedProps=Cc({},t.memoizedProps),null!==(r=hn(t,2))&&xs(r,t,2))},sw=function(t,r,i,o){null!==(r=e(t,r))&&(i=n(r.memoizedState,i,o),r.memoizedState=i,r.baseState=i,t.memoizedProps=Cc({},t.memoizedProps),null!==(i=hn(t,2))&&xs(i,t,2))},lw=function(e,n,r){e.pendingProps=t(e.memoizedProps,n,0,r),e.alternate&&(e.alternate.pendingProps=e.pendingProps),null!==(n=hn(e,2))&&xs(n,e,2)},uw=function(e,t){e.pendingProps=i(e.memoizedProps,t,0),e.alternate&&(e.alternate.pendingProps=e.pendingProps),null!==(t=hn(e,2))&&xs(t,e,2)},cw=function(e,t,r){e.pendingProps=n(e.memoizedProps,t,r),e.alternate&&(e.alternate.pendingProps=e.pendingProps),null!==(t=hn(e,2))&&xs(t,e,2)},dw=function(e){var t=hn(e,2);null!==t&&xs(t,e,2)},hw=function(e){a=e},fw=function(e){o=e};var Ow,Cw=!0,Nw=null,Pw=!1,Aw=null,Rw=null,_w=null,Dw=new Map,Lw=new Map,Iw=[],zw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" "),Fw=null;if(mc.prototype.render=gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error("Cannot update an unmounted root.");var n=arguments;"function"==typeof n[1]?console.error("does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):m(n[1])?console.error("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):void 0!==n[1]&&console.error("You passed a second argument to root.render(...) but it only accepts one argument."),n=e;var r=t.current;Yu(r,bs(r),n,t,null,null)},mc.prototype.unmount=gc.prototype.unmount=function(){var e=arguments;if("function"==typeof e[0]&&console.error("does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."),null!==(e=this._internalRoot)){this._internalRoot=null;var t=e.containerInfo;(qy&(Fy|jy))!==zy&&console.error("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),Yu(e.current,2,null,e,null,null),Ts(),t[Ld]=null}},mc.prototype.unstable_scheduleHydration=function(e){if(e){var t=ue();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Iw.length&&0!==t&&t<Iw[n].priority;n++);Iw.splice(n,0,e),0===n&&lc(e)}},function(){var e=Tc.version;if("19.1.0"!==e)throw Error('Incompatible React versions: The "react" and "react-dom" packages must have the exact same version. Instead got:\n  - react:      '+e+"\n  - react-dom:  19.1.0\nLearn more: https://react.dev/warnings/version-mismatch")}(),"function"==typeof Map&&null!=Map.prototype&&"function"==typeof Map.prototype.forEach&&"function"==typeof Set&&null!=Set.prototype&&"function"==typeof Set.prototype.clear&&"function"==typeof Set.prototype.forEach||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://react.dev/link/react-polyfills"),Xc.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error("Unable to find node on an unmounted component.");throw e=Object.keys(e).join(","),Error("Argument appears to not be a ReactComponent. Keys: "+e)}return e=function(e){var t=e.alternate;if(!t){if(null===(t=y(e)))throw Error("Unable to find node on an unmounted component.");return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return b(i),e;if(o===r)return b(i),t;o=o.sibling}throw Error("Unable to find node on an unmounted component.")}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(n.alternate!==r)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(3!==n.tag)throw Error("Unable to find node on an unmounted component.");return n.stateNode.current===n?e:t}(t),null===(e=null!==e?w(e):null)?null:e.stateNode},(Ow={bundleType:1,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Yc,reconcilerVersion:"19.1.0"}).overrideHookState=ow,Ow.overrideHookStateDeletePath=aw,Ow.overrideHookStateRenamePath=sw,Ow.overrideProps=lw,Ow.overridePropsDeletePath=uw,Ow.overridePropsRenamePath=cw,Ow.scheduleUpdate=dw,Ow.setErrorHandler=hw,Ow.setSuspenseHandler=fw,Ow.scheduleRefresh=p,Ow.scheduleRoot=f,Ow.setRefreshHandler=g,Ow.getCurrentFiber=Zu,Ow.getLaneLabelMap=Ju,Ow.injectProfilingHooks=H,!function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled)return!0;if(!t.supportsFiber)return console.error("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://react.dev/link/react-devtools"),!0;try{vd=t.inject(e),bd=t}catch(e){console.error("React instrumentation encountered an error: %s.",e)}return!!t.checkDCE}(Ow)&&Yh&&window.top===window.self&&(-1<navigator.userAgent.indexOf("Chrome")&&-1===navigator.userAgent.indexOf("Edge")||-1<navigator.userAgent.indexOf("Firefox"))){var jw=window.location.protocol;/^(https?|file):$/.test(jw)&&console.info("%cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools"+("file:"===jw?"\nYou might need to use a local HTTP server (instead of file://): https://react.dev/link/react-devtools-faq":""),"font-weight:bold")}eq.createRoot=function(e,t){if(!m(e))throw Error("Target container is not a DOM element.");yc(e);var n=!1,r="",i=Ao,o=Ro,a=_o;return null!=t&&(t.hydrate?console.warn("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):"object"==typeof t&&null!==t&&t.$$typeof===Pc&&console.error("You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:\n\n  let root = createRoot(domContainer);\n  root.render(<App />);"),!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(a=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=$u(e,1,!1,null,0,n,r,i,o,a,0,null),e[Ld]=t.current,Sl(e),new gc(t)},eq.hydrateRoot=function(e,t,n){if(!m(e))throw Error("Target container is not a DOM element.");yc(e),void 0===t&&console.error("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var r=!1,i="",o=Ao,a=Ro,s=_o,l=null;return null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(a=n.onCaughtError),void 0!==n.onRecoverableError&&(s=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(l=n.formState)),(t=$u(e,1,!0,t,0,r,i,o,a,s,0,l)).context=qu(null),(i=Sr(r=oe(r=bs(n=t.current)))).callback=null,Mr(n,i,r),n=r,t.current.lanes=n,ne(t,n),ll(t),e[Ld]=t.current,Sl(e),new mc(t)},eq.version="19.1.0","undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()),eq);var tq=W$.exports,nq=n({__proto__:null,default:E(tq)},[tq]);e.ReactNode=class extends Gp{getKeyStyle(e){return Object.assign({},super.getKeyStyle(e))}constructor(e){super(e)}update(e){super.update(e)}connectedCallback(){super.connectedCallback();const{component:e}=this.attributes;H$(e,this.getDomElement())}attributeChangedCallback(e,t,n){super.attributeChangedCallback(e,t,n),"component"===e&&t!==n&&H$(this.attributes.component,this.getDomElement())}destroy(){V$(this.getDomElement()),super.destroy()}},e.render=H$,e.unmount=V$});
